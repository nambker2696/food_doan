;(function(a,b){function h(a){var b=g[a]={},c,d;a=a.split(/\s+/);for(c=0,d=a.length;c<d;c++)b[a[c]]=!0;return b}function l(a,c,d){if(d===b&&a.nodeType===1){var e="data-"+c.replace(k,"-$1").toLowerCase();d=a.getAttribute(e);if(typeof d=="string"){try{d=d==="true"?!0:d==="false"?!1:d==="null"?null:f.isNumeric(d)?parseFloat(d):j.test(d)?f.parseJSON(d):d}catch(g){}f.data(a,c,d)}else d=b}return d}function m(a){for(var b in a){if(b==="data"&&f.isEmptyObject(a[b]))continue;if(b!=="toJSON")return!1}return!0}function n(a,b,c){var d=b+"defer",e=b+"queue",g=b+"mark",h=f._data(a,d);h&&(c==="queue"||!f._data(a,e))&&(c==="mark"||!f._data(a,g))&&setTimeout(function(){!f._data(a,e)&&!f._data(a,g)&&(f.removeData(a,d,!0),h.fire())},0)}function J(){return!1}function K(){return!0}function S(a){return!a||!a.parentNode||a.parentNode.nodeType===11}function T(a,b,c){b=b||0;if(f.isFunction(b))return f.grep(a,function(a,d){var e=!!b.call(a,d,a);return e===c});if(b.nodeType)return f.grep(a,function(a,d){return a===b===c});if(typeof b=="string"){var d=f.grep(a,function(a){return a.nodeType===1});if(O.test(b))return f.filter(b,d,!c);b=f.filter(b,d)}return f.grep(a,function(a,d){return f.inArray(a,b)>=0===c})}function U(a){var b=V.split("|"),c=a.createDocumentFragment();if(c.createElement)while(b.length)c.createElement(b.pop());return c}function bi(a,b){return f.nodeName(a,"table")?a.getElementsByTagName("tbody")[0]||a.appendChild(a.ownerDocument.createElement("tbody")):a}function bj(a,b){if(b.nodeType!==1||!f.hasData(a))return;var c,d,e,g=f._data(a),h=f._data(b,g),i=g.events;if(i){delete h.handle,h.events={};for(c in i)for(d=0,e=i[c].length;d<e;d++)f.event.add(b,c+(i[c][d].namespace?".":"")+i[c][d].namespace,i[c][d],i[c][d].data)}h.data&&(h.data=f.extend({},h.data))}function bk(a,b){var c;if(b.nodeType!==1)return;b.clearAttributes&&b.clearAttributes(),b.mergeAttributes&&b.mergeAttributes(a),c=b.nodeName.toLowerCase();if(c==="object")b.outerHTML=a.outerHTML;else if(c!=="input"||a.type!=="checkbox"&&a.type!=="radio"){if(c==="option")b.selected=a.defaultSelected;else if(c==="input"||c==="textarea")b.defaultValue=a.defaultValue}else a.checked&&(b.defaultChecked=b.checked=a.checked),b.value!==a.value&&(b.value=a.value);b.removeAttribute(f.expando)}function bl(a){return typeof a.getElementsByTagName!="undefined"?a.getElementsByTagName("*"):typeof a.querySelectorAll!="undefined"?a.querySelectorAll("*"):[]}function bm(a){if(a.type==="checkbox"||a.type==="radio")a.defaultChecked=a.checked}function bn(a){var b=(a.nodeName||"").toLowerCase();b==="input"?bm(a):b!=="script"&&typeof a.getElementsByTagName!="undefined"&&f.grep(a.getElementsByTagName("input"),bm)}function bo(a){var b=c.createElement("div");return bh.appendChild(b),b.innerHTML=a.outerHTML,b.firstChild}function bp(a,b){b.src?f.ajax({url:b.src,async:!1,dataType:"script"}):f.globalEval((b.text||b.textContent||b.innerHTML||"").replace(bf,"/*$0*/")),b.parentNode&&b.parentNode.removeChild(b)}function bC(a,b,c){var d=b==="width"?a.offsetWidth:a.offsetHeight,e=b==="width"?bx:by,g=0,h=e.length;if(d>0){if(c!=="border")for(;g<h;g++)c||(d-=parseFloat(f.css(a,"padding"+e[g]))||0),c==="margin"?d+=parseFloat(f.css(a,c+e[g]))||0:d-=parseFloat(f.css(a,"border"+e[g]+"Width"))||0;return d+"px"}d=bz(a,b,b);if(d<0||d==null)d=a.style[b]||0;d=parseFloat(d)||0;if(c)for(;g<h;g++)d+=parseFloat(f.css(a,"padding"+e[g]))||0,c!=="padding"&&(d+=parseFloat(f.css(a,"border"+e[g]+"Width"))||0),c==="margin"&&(d+=parseFloat(f.css(a,c+e[g]))||0);return d+"px"}function bZ(a){return function(b,c){typeof b!="string"&&(c=b,b="*");if(f.isFunction(c)){var d=b.toLowerCase().split(bP),e=0,g=d.length,h,i,j;for(;e<g;e++)h=d[e],j=/^\+/.test(h),j&&(h=h.substr(1)||"*"),i=a[h]=a[h]||[],i[j?"unshift":"push"](c)}}}function b$(a,c,d,e,f,g){f=f||c.dataTypes[0],g=g||{},g[f]=!0;var h=a[f],i=0,j=h?h.length:0,k=a===bT,l;for(;i<j&&(k||!l);i++)l=h[i](c,d,e),typeof l=="string"&&(!k||g[l]?l=b:(c.dataTypes.unshift(l),l=b$(a,c,d,e,l,g)));return(k||!l)&&!g["*"]&&(l=b$(a,c,d,e,"*",g)),l}function b_(a,c){var d,e,g=f.ajaxSettings.flatOptions||{};for(d in c)c[d]!==b&&((g[d]?a:e||(e={}))[d]=c[d]);e&&f.extend(!0,a,e)}function ca(a,b,c,d){if(f.isArray(b))f.each(b,function(b,e){c||bE.test(a)?d(a,e):ca(a+"["+(typeof e=="object"||f.isArray(e)?b:"")+"]",e,c,d)});else if(!c&&b!=null&&typeof b=="object")for(var e in b)ca(a+"["+e+"]",b[e],c,d);else d(a,b)}function cb(a,c,d){var e=a.contents,f=a.dataTypes,g=a.responseFields,h,i,j,k;for(i in g)i in d&&(c[g[i]]=d[i]);while(f[0]==="*")f.shift(),h===b&&(h=a.mimeType||c.getResponseHeader("content-type"));if(h)for(i in e)if(e[i]&&e[i].test(h)){f.unshift(i);break}if(f[0]in d)j=f[0];else{for(i in d){if(!f[0]||a.converters[i+" "+f[0]]){j=i;break}k||(k=i)}j=j||k}if(j)return j!==f[0]&&f.unshift(j),d[j]}function cc(a,c){a.dataFilter&&(c=a.dataFilter(c,a.dataType));var d=a.dataTypes,e={},g,h,i=d.length,j,k=d[0],l,m,n,o,p;for(g=1;g<i;g++){if(g===1)for(h in a.converters)typeof h=="string"&&(e[h.toLowerCase()]=a.converters[h]);l=k,k=d[g];if(k==="*")k=l;else if(l!=="*"&&l!==k){m=l+" "+k,n=e[m]||e["* "+k];if(!n){p=b;for(o in e){j=o.split(" ");if(j[0]===l||j[0]==="*"){p=e[j[1]+" "+k];if(p){o=e[o],o===!0?n=p:p===!0&&(n=o);break}}}}!n&&!p&&f.error("No conversion from "+m.replace(" "," to ")),n!==!0&&(c=n?n(c):p(o(c)))}}return c}function ci(){try{return new a.XMLHttpRequest}catch(b){}}function cj(){try{return new a.ActiveXObject("Microsoft.XMLHTTP")}catch(b){}}function cs(){return setTimeout(ct,0),cr=f.now()}function ct(){cr=b}function cu(a,b){var c={};return f.each(cq.concat.apply([],cq.slice(0,b)),function(){c[this]=a}),c}function cv(a){if(!ck[a]){var b=c.body,d=f("<"+a+">").appendTo(b),e=d.css("display");d.remove();if(e==="none"||e===""){cl||(cl=c.createElement("iframe"),cl.frameBorder=cl.width=cl.height=0),b.appendChild(cl);if(!cm||!cl.createElement)cm=(cl.contentWindow||cl.contentDocument).document,cm.write((c.compatMode==="CSS1Compat"?"<!doctype html>":"")+"<html><body>"),cm.close();d=cm.createElement(a),cm.body.appendChild(d),e=f.css(d,"display"),b.removeChild(cl)}ck[a]=e}return ck[a]}function cy(a){return f.isWindow(a)?a:a.nodeType===9?a.defaultView||a.parentWindow:!1}var c=a.document,d=a.navigator,e=a.location,f=function(){function J(){if(e.isReady)return;try{c.documentElement.doScroll("left")}catch(a){setTimeout(J,1);return}e.ready()}var e=function(a,b){return new e.fn.init(a,b,h)},f=a.jQuery,g=a.$,h,i=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,j=/\S/,k=/^\s+/,l=/\s+$/,m=/^<(\w+)\s*\/?>(?:<\/\1>)?$/,n=/^[\],:{}\s]*$/,o=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,p=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,q=/(?:^|:|,)(?:\s*\[)+/g,r=/(webkit)[ \/]([\w.]+)/,s=/(opera)(?:.*version)?[ \/]([\w.]+)/,t=/(msie) ([\w.]+)/,u=/(mozilla)(?:.*? rv:([\w.]+))?/,v=/-([a-z]|[0-9])/ig,w=/^-ms-/,x=function(a,b){return(b+"").toUpperCase()},y=d.userAgent,z,A,B,C=Object.prototype.toString,D=Object.prototype.hasOwnProperty,E=Array.prototype.push,F=Array.prototype.slice,G=String.prototype.trim,H=Array.prototype.indexOf,I={};return e.fn=e.prototype={constructor:e,init:function(a,d,f){var g,h,j,k;if(!a)return this;if(a.nodeType)return this.context=this[0]=a,this.length=1,this;if(a==="body"&&!d&&c.body)return this.context=c,this[0]=c.body,this.selector=a,this.length=1,this;if(typeof a=="string"){a.charAt(0)==="<"&&a.charAt(a.length-1)===">"&&a.length>=3?g=[null,a,null]:g=i.exec(a);if(g&&(g[1]||!d)){if(g[1])return d=d instanceof e?d[0]:d,k=d?d.ownerDocument||d:c,j=m.exec(a),j?e.isPlainObject(d)?(a=[c.createElement(j[1])],e.fn.attr.call(a,d,!0)):a=[k.createElement(j[1])]:(j=e.buildFragment([g[1]],[k]),a=(j.cacheable?e.clone(j.fragment):j.fragment).childNodes),e.merge(this,a);h=c.getElementById(g[2]);if(h&&h.parentNode){if(h.id!==g[2])return f.find(a);this.length=1,this[0]=h}return this.context=c,this.selector=a,this}return!d||d.jquery?(d||f).find(a):this.constructor(d).find(a)}return e.isFunction(a)?f.ready(a):(a.selector!==b&&(this.selector=a.selector,this.context=a.context),e.makeArray(a,this))},selector:"",jquery:"1.7.1",length:0,size:function(){return this.length},toArray:function(){return F.call(this,0)},get:function(a){return a==null?this.toArray():a<0?this[this.length+a]:this[a]},pushStack:function(a,b,c){var d=this.constructor();return e.isArray(a)?E.apply(d,a):e.merge(d,a),d.prevObject=this,d.context=this.context,b==="find"?d.selector=this.selector+(this.selector?" ":"")+c:b&&(d.selector=this.selector+"."+b+"("+c+")"),d},each:function(a,b){return e.each(this,a,b)},ready:function(a){return e.bindReady(),A.add(a),this},eq:function(a){return a=+a,a===-1?this.slice(a):this.slice(a,a+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},slice:function(){return this.pushStack(F.apply(this,arguments),"slice",F.call(arguments).join(","))},map:function(a){return this.pushStack(e.map(this,function(b,c){return a.call(b,c,b)}))},end:function(){return this.prevObject||this.constructor(null)},push:E,sort:[].sort,splice:[].splice},e.fn.init.prototype=e.fn,e.extend=e.fn.extend=function(){var a,c,d,f,g,h,i=arguments[0]||{},j=1,k=arguments.length,l=!1;typeof i=="boolean"&&(l=i,i=arguments[1]||{},j=2),typeof i!="object"&&!e.isFunction(i)&&(i={}),k===j&&(i=this,--j);for(;j<k;j++)if((a=arguments[j])!=null)for(c in a){d=i[c],f=a[c];if(i===f)continue;l&&f&&(e.isPlainObject(f)||(g=e.isArray(f)))?(g?(g=!1,h=d&&e.isArray(d)?d:[]):h=d&&e.isPlainObject(d)?d:{},i[c]=e.extend(l,h,f)):f!==b&&(i[c]=f)}return i},e.extend({noConflict:function(b){return a.$===e&&(a.$=g),b&&a.jQuery===e&&(a.jQuery=f),e},isReady:!1,readyWait:1,holdReady:function(a){a?e.readyWait++:e.ready(!0)},ready:function(a){if(a===!0&&!--e.readyWait||a!==!0&&!e.isReady){if(!c.body)return setTimeout(e.ready,1);e.isReady=!0;if(a!==!0&&--e.readyWait>0)return;A.fireWith(c,[e]),e.fn.trigger&&e(c).trigger("ready").off("ready")}},bindReady:function(){if(A)return;A=e.Callbacks("once memory");if(c.readyState==="complete")return setTimeout(e.ready,1);if(c.addEventListener)c.addEventListener("DOMContentLoaded",B,!1),a.addEventListener("load",e.ready,!1);else if(c.attachEvent){c.attachEvent("onreadystatechange",B),a.attachEvent("onload",e.ready);var b=!1;try{b=a.frameElement==null}catch(d){}c.documentElement.doScroll&&b&&J()}},isFunction:function(a){return e.type(a)==="function"},isArray:Array.isArray||function(a){return e.type(a)==="array"},isWindow:function(a){return a&&typeof a=="object"&&"setInterval"in a},isNumeric:function(a){return!isNaN(parseFloat(a))&&isFinite(a)},type:function(a){return a==null?String(a):I[C.call(a)]||"object"},isPlainObject:function(a){if(!a||e.type(a)!=="object"||a.nodeType||e.isWindow(a))return!1;try{if(a.constructor&&!D.call(a,"constructor")&&!D.call(a.constructor.prototype,"isPrototypeOf"))return!1}catch(c){return!1}var d;for(d in a);return d===b||D.call(a,d)},isEmptyObject:function(a){for(var b in a)return!1;return!0},error:function(a){throw new Error(a)},parseJSON:function(b){if(typeof b!="string"||!b)return null;b=e.trim(b);if(a.JSON&&a.JSON.parse)return a.JSON.parse(b);if(n.test(b.replace(o,"@").replace(p,"]").replace(q,"")))return(new Function("return "+b))();e.error("Invalid JSON: "+b)},parseXML:function(c){var d,f;try{a.DOMParser?(f=new DOMParser,d=f.parseFromString(c,"text/xml")):(d=new ActiveXObject("Microsoft.XMLDOM"),d.async="false",d.loadXML(c))}catch(g){d=b}return(!d||!d.documentElement||d.getElementsByTagName("parsererror").length)&&e.error("Invalid XML: "+c),d},noop:function(){},globalEval:function(b){b&&j.test(b)&&(a.execScript||function(b){a.eval.call(a,b)})(b)},camelCase:function(a){return a.replace(w,"ms-").replace(v,x)},nodeName:function(a,b){return a.nodeName&&a.nodeName.toUpperCase()===b.toUpperCase()},each:function(a,c,d){var f,g=0,h=a.length,i=h===b||e.isFunction(a);if(d){if(i){for(f in a)if(c.apply(a[f],d)===!1)break}else for(;g<h;)if(c.apply(a[g++],d)===!1)break}else if(i){for(f in a)if(c.call(a[f],f,a[f])===!1)break}else for(;g<h;)if(c.call(a[g],g,a[g++])===!1)break;return a},trim:G?function(a){return a==null?"":G.call(a)}:function(a){return a==null?"":a.toString().replace(k,"").replace(l,"")},makeArray:function(a,b){var c=b||[];if(a!=null){var d=e.type(a);a.length==null||d==="string"||d==="function"||d==="regexp"||e.isWindow(a)?E.call(c,a):e.merge(c,a)}return c},inArray:function(a,b,c){var d;if(b){if(H)return H.call(b,a,c);d=b.length,c=c?c<0?Math.max(0,d+c):c:0;for(;c<d;c++)if(c in b&&b[c]===a)return c}return-1},merge:function(a,c){var d=a.length,e=0;if(typeof c.length=="number")for(var f=c.length;e<f;e++)a[d++]=c[e];else while(c[e]!==b)a[d++]=c[e++];return a.length=d,a},grep:function(a,b,c){var d=[],e;c=!!c;for(var f=0,g=a.length;f<g;f++)e=!!b(a[f],f),c!==e&&d.push(a[f]);return d},map:function(a,c,d){var f,g,h=[],i=0,j=a.length,k=a instanceof e||j!==b&&typeof j=="number"&&(j>0&&a[0]&&a[j-1]||j===0||e.isArray(a));if(k)for(;i<j;i++)f=c(a[i],i,d),f!=null&&(h[h.length]=f);else for(g in a)f=c(a[g],g,d),f!=null&&(h[h.length]=f);return h.concat.apply([],h)},guid:1,proxy:function(a,c){if(typeof c=="string"){var d=a[c];c=a,a=d}if(!e.isFunction(a))return b;var f=F.call(arguments,2),g=function(){return a.apply(c,f.concat(F.call(arguments)))};return g.guid=a.guid=a.guid||g.guid||e.guid++,g},access:function(a,c,d,f,g,h){var i=a.length;if(typeof c=="object"){for(var j in c)e.access(a,j,c[j],f,g,d);return a}if(d!==b){f=!h&&f&&e.isFunction(d);for(var k=0;k<i;k++)g(a[k],c,f?d.call(a[k],k,g(a[k],c)):d,h);return a}return i?g(a[0],c):b},now:function(){return(new Date).getTime()},uaMatch:function(a){a=a.toLowerCase();var b=r.exec(a)||s.exec(a)||t.exec(a)||a.indexOf("compatible")<0&&u.exec(a)||[];return{browser:b[1]||"",version:b[2]||"0"}},sub:function(){function a(b,c){return new a.fn.init(b,c)}e.extend(!0,a,this),a.superclass=this,a.fn=a.prototype=this(),a.fn.constructor=a,a.sub=this.sub,a.fn.init=function d(c,d){return d&&d instanceof e&&!(d instanceof a)&&(d=a(d)),e.fn.init.call(this,c,d,b)},a.fn.init.prototype=a.fn;var b=a(c);return a},browser:{}}),e.each("Boolean Number String Function Array Date RegExp Object".split(" "),function(a,b){I["[object "+b+"]"]=b.toLowerCase()}),z=e.uaMatch(y),z.browser&&(e.browser[z.browser]=!0,e.browser.version=z.version),e.browser.webkit&&(e.browser.safari=!0),j.test(" ")&&(k=/^[\s\xA0]+/,l=/[\s\xA0]+$/),h=e(c),c.addEventListener?B=function(){c.removeEventListener("DOMContentLoaded",B,!1),e.ready()}:c.attachEvent&&(B=function(){c.readyState==="complete"&&(c.detachEvent("onreadystatechange",B),e.ready())}),e}(),g={};f.Callbacks=function(a){a=a?g[a]||h(a):{};var c=[],d=[],e,i,j,k,l,m=function(b){var d,e,g,h,i;for(d=0,e=b.length;d<e;d++)g=b[d],h=f.type(g),h==="array"?m(g):h==="function"&&(!a.unique||!o.has(g))&&c.push(g)},n=function(b,f){f=f||[],e=!a.memory||[b,f],i=!0,l=j||0,j=0,k=c.length;for(;c&&l<k;l++)if(c[l].apply(b,f)===!1&&a.stopOnFalse){e=!0;break}i=!1,c&&(a.once?e===!0?o.disable():c=[]:d&&d.length&&(e=d.shift(),o.fireWith(e[0],e[1])))},o={add:function(){if(c){var a=c.length;m(arguments),i?k=c.length:e&&e!==!0&&(j=a,n(e[0],e[1]))}return this},remove:function(){if(c){var b=arguments,d=0,e=b.length;for(;d<e;d++)for(var f=0;f<c.length;f++)if(b[d]===c[f]){i&&f<=k&&(k--,f<=l&&l--),c.splice(f--,1);if(a.unique)break}}return this},has:function(a){if(c){var b=0,d=c.length;for(;b<d;b++)if(a===c[b])return!0}return!1},empty:function(){return c=[],this},disable:function(){return c=d=e=b,this},disabled:function(){return!c},lock:function(){return d=b,(!e||e===!0)&&o.disable(),this},locked:function(){return!d},fireWith:function(b,c){return d&&(i?a.once||d.push([b,c]):(!a.once||!e)&&n(b,c)),this},fire:function(){return o.fireWith(this,arguments),this},fired:function(){return!!e}};return o};var i=[].slice;f.extend({Deferred:function(a){var b=f.Callbacks("once memory"),c=f.Callbacks("once memory"),d=f.Callbacks("memory"),e="pending",g={resolve:b,reject:c,notify:d},h={done:b.add,fail:c.add,progress:d.add,state:function(){return e},isResolved:b.fired,isRejected:c.fired,then:function(a,b,c){return i.done(a).fail(b).progress(c),this},always:function(){return i.done.apply(i,arguments).fail.apply(i,arguments),this},pipe:function(a,b,c){return f.Deferred(function(d){f.each({done:[a,"resolve"],fail:[b,"reject"],progress:[c,"notify"]},function(a,b){var c=b[0],e=b[1],g;f.isFunction(c)?i[a](function(){g=c.apply(this,arguments),g&&f.isFunction(g.promise)?g.promise().then(d.resolve,d.reject,d.notify):d[e+"With"](this===i?d:this,[g])}):i[a](d[e])})}).promise()},promise:function(a){if(a==null)a=h;else for(var b in h)a[b]=h[b];return a}},i=h.promise({}),j;for(j in g)i[j]=g[j].fire,i[j+"With"]=g[j].fireWith;return i.done(function(){e="resolved"},c.disable,d.lock).fail(function(){e="rejected"},b.disable,d.lock),a&&a.call(i,i),i},when:function(a){function l(a){return function(c){b[a]=arguments.length>1?i.call(arguments,0):c,--g||j.resolveWith(j,b)}}function m(a){return function(b){e[a]=arguments.length>1?i.call(arguments,0):b,j.notifyWith(k,e)}}var b=i.call(arguments,0),c=0,d=b.length,e=new Array(d),g=d,h=d,j=d<=1&&a&&f.isFunction(a.promise)?a:f.Deferred(),k=j.promise();if(d>1){for(;c<d;c++)b[c]&&b[c].promise&&f.isFunction(b[c].promise)?b[c].promise().then(l(c),j.reject,m(c)):--g;g||j.resolveWith(j,b)}else j!==a&&j.resolveWith(j,d?[a]:[]);return k}}),f.support=function(){var b,d,e,g,h,i,j,k,l,m,n,o,p,q=c.createElement("div"),r=c.documentElement;q.setAttribute("className","t"),q.innerHTML="   <link/><table></table><a href='/a' style='top:1px;float:left;opacity:.55;'>a</a><input type='checkbox'/>",d=q.getElementsByTagName("*"),e=q.getElementsByTagName("a")[0];if(!d||!d.length||!e)return{};g=c.createElement("select"),h=g.appendChild(c.createElement("option")),i=q.getElementsByTagName("input")[0],b={leadingWhitespace:q.firstChild.nodeType===3,tbody:!q.getElementsByTagName("tbody").length,htmlSerialize:!!q.getElementsByTagName("link").length,style:/top/.test(e.getAttribute("style")),hrefNormalized:e.getAttribute("href")==="/a",opacity:/^0.55/.test(e.style.opacity),cssFloat:!!e.style.cssFloat,checkOn:i.value==="on",optSelected:h.selected,getSetAttribute:q.className!=="t",enctype:!!c.createElement("form").enctype,html5Clone:c.createElement("nav").cloneNode(!0).outerHTML!=="<:nav></:nav>",submitBubbles:!0,changeBubbles:!0,focusinBubbles:!1,deleteExpando:!0,noCloneEvent:!0,inlineBlockNeedsLayout:!1,shrinkWrapBlocks:!1,reliableMarginRight:!0},i.checked=!0,b.noCloneChecked=i.cloneNode(!0).checked,g.disabled=!0,b.optDisabled=!h.disabled;try{delete q.test}catch(s){b.deleteExpando=!1}!q.addEventListener&&q.attachEvent&&q.fireEvent&&(q.attachEvent("onclick",function(){b.noCloneEvent=!1}),q.cloneNode(!0).fireEvent("onclick")),i=c.createElement("input"),i.value="t",i.setAttribute("type","radio"),b.radioValue=i.value==="t",i.setAttribute("checked","checked"),q.appendChild(i),k=c.createDocumentFragment(),k.appendChild(q.lastChild),b.checkClone=k.cloneNode(!0).cloneNode(!0).lastChild.checked,b.appendChecked=i.checked,k.removeChild(i),k.appendChild(q),q.innerHTML="",a.getComputedStyle&&(j=c.createElement("div"),j.style.width="0",j.style.marginRight="0",q.style.width="2px",q.appendChild(j),b.reliableMarginRight=(parseInt((a.getComputedStyle(j,null)||{marginRight:0}).marginRight,10)||0)===0);if(q.attachEvent)for(o in{submit:1,change:1,focusin:1})n="on"+o,p=n in q,p||(q.setAttribute(n,"return;"),p=typeof q[n]=="function"),b[o+"Bubbles"]=p;return k.removeChild(q),k=g=h=j=q=i=null,f(function(){var a,d,e,g,h,i,j,k,m,n,o,r=c.getElementsByTagName("body")[0];if(!r)return;j=1,k="position:absolute;top:0;left:0;width:1px;height:1px;margin:0;",m="visibility:hidden;border:0;",n="style='"+k+"border:5px solid #000;padding:0;'",o="<div "+n+"><div></div></div>"+"<table "+n+" cellpadding='0' cellspacing='0'>"+"<tr><td></td></tr></table>",a=c.createElement("div"),a.style.cssText=m+"width:0;height:0;position:static;top:0;margin-top:"+j+"px",r.insertBefore(a,r.firstChild),q=c.createElement("div"),a.appendChild(q),q.innerHTML="<table><tr><td style='padding:0;border:0;display:none'></td><td>t</td></tr></table>",l=q.getElementsByTagName("td"),p=l[0].offsetHeight===0,l[0].style.display="",l[1].style.display="none",b.reliableHiddenOffsets=p&&l[0].offsetHeight===0,q.innerHTML="",q.style.width=q.style.paddingLeft="1px",f.boxModel=b.boxModel=q.offsetWidth===2,typeof q.style.zoom!="undefined"&&(q.style.display="inline",q.style.zoom=1,b.inlineBlockNeedsLayout=q.offsetWidth===2,q.style.display="",q.innerHTML="<div style='width:4px;'></div>",b.shrinkWrapBlocks=q.offsetWidth!==2),q.style.cssText=k+m,q.innerHTML=o,d=q.firstChild,e=d.firstChild,h=d.nextSibling.firstChild.firstChild,i={doesNotAddBorder:e.offsetTop!==5,doesAddBorderForTableAndCells:h.offsetTop===5},e.style.position="fixed",e.style.top="20px",i.fixedPosition=e.offsetTop===20||e.offsetTop===15,e.style.position=e.style.top="",d.style.overflow="hidden",d.style.position="relative",i.subtractsBorderForOverflowNotVisible=e.offsetTop===-5,i.doesNotIncludeMarginInBodyOffset=r.offsetTop!==j,r.removeChild(a),q=a=null,f.extend(b,i)}),b}();var j=/^(?:\{.*\}|\[.*\])$/,k=/([A-Z])/g;f.extend({cache:{},uuid:0,expando:"jQuery"+(f.fn.jquery+Math.random()).replace(/\D/g,""),noData:{embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:!0},hasData:function(a){return a=a.nodeType?f.cache[a[f.expando]]:a[f.expando],!!a&&!m(a)},data:function(a,c,d,e){if(!f.acceptData(a))return;var g,h,i,j=f.expando,k=typeof c=="string",l=a.nodeType,m=l?f.cache:a,n=l?a[j]:a[j]&&j,o=c==="events";if((!n||!m[n]||!o&&!e&&!m[n].data)&&k&&d===b)return;n||(l?a[j]=n=++f.uuid:n=j),m[n]||(m[n]={},l||(m[n].toJSON=f.noop));if(typeof c=="object"||typeof c=="function")e?m[n]=f.extend(m[n],c):m[n].data=f.extend(m[n].data,c);return g=h=m[n],e||(h.data||(h.data={}),h=h.data),d!==b&&(h[f.camelCase(c)]=d),o&&!h[c]?g.events:(k?(i=h[c],i==null&&(i=h[f.camelCase(c)])):i=h,i)},removeData:function(a,b,c){if(!f.acceptData(a))return;var d,e,g,h=f.expando,i=a.nodeType,j=i?f.cache:a,k=i?a[h]:h;if(!j[k])return;if(b){d=c?j[k]:j[k].data;if(d){f.isArray(b)||(b in d?b=[b]:(b=f.camelCase(b),b in d?b=[b]:b=b.split(" ")));for(e=0,g=b.length;e<g;e++)delete d[b[e]];if(!(c?m:f.isEmptyObject)(d))return}}if(!c){delete j[k].data;if(!m(j[k]))return}f.support.deleteExpando||!j.setInterval?delete j[k]:j[k]=null,i&&(f.support.deleteExpando?delete a[h]:a.removeAttribute?a.removeAttribute(h):a[h]=null)},_data:function(a,b,c){return f.data(a,b,c,!0)},acceptData:function(a){if(a.nodeName){var b=f.noData[a.nodeName.toLowerCase()];if(b)return b!==!0&&a.getAttribute("classid")===b}return!0}}),f.fn.extend({data:function(a,c){var d,e,g,h=null;if(typeof a=="undefined"){if(this.length){h=f.data(this[0]);if(this[0].nodeType===1&&!f._data(this[0],"parsedAttrs")){e=this[0].attributes;for(var i=0,j=e.length;i<j;i++)g=e[i].name,g.indexOf("data-")===0&&(g=f.camelCase(g.substring(5)),l(this[0],g,h[g]));f._data(this[0],"parsedAttrs",!0)}}return h}return typeof a=="object"?this.each(function(){f.data(this,a)}):(d=a.split("."),d[1]=d[1]?"."+d[1]:"",c===b?(h=this.triggerHandler("getData"+d[1]+"!",[d[0]]),h===b&&this.length&&(h=f.data(this[0],a),h=l(this[0],a,h)),h===b&&d[1]?this.data(d[0]):h):this.each(function(){var b=f(this),e=[d[0],c];b.triggerHandler("setData"+d[1]+"!",e),f.data(this,a,c),b.triggerHandler("changeData"+d[1]+"!",e)}))},removeData:function(a){return this.each(function(){f.removeData(this,a)})}}),f.extend({_mark:function(a,b){a&&(b=(b||"fx")+"mark",f._data(a,b,(f._data(a,b)||0)+1))},_unmark:function(a,b,c){a!==!0&&(c=b,b=a,a=!1);if(b){c=c||"fx";var d=c+"mark",e=a?0:(f._data(b,d)||1)-1;e?f._data(b,d,e):(f.removeData(b,d,!0),n(b,c,"mark"))}},queue:function(a,b,c){var d;if(a)return b=(b||"fx")+"queue",d=f._data(a,b),c&&(!d||f.isArray(c)?d=f._data(a,b,f.makeArray(c)):d.push(c)),d||[]},dequeue:function(a,b){b=b||"fx";var c=f.queue(a,b),d=c.shift(),e={};d==="inprogress"&&(d=c.shift()),d&&(b==="fx"&&c.unshift("inprogress"),f._data(a,b+".run",e),d.call(a,function(){f.dequeue(a,b)},e)),c.length||(f.removeData(a,b+"queue "+b+".run",!0),n(a,b,"queue"))}}),f.fn.extend({queue:function(a,c){return typeof a!="string"&&(c=a,a="fx"),c===b?f.queue(this[0],a):this.each(function(){var b=f.queue(this,a,c);a==="fx"&&b[0]!=="inprogress"&&f.dequeue(this,a)})},dequeue:function(a){return this.each(function(){f.dequeue(this,a)})},delay:function(a,b){return a=f.fx?f.fx.speeds[a]||a:a,b=b||"fx",this.queue(b,function(b,c){var d=setTimeout(b,a);c.stop=function(){clearTimeout(d)}})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,c){function m(){--h||d.resolveWith(e,[e])}typeof a!="string"&&(c=a,a=b),a=a||"fx";var d=f.Deferred(),e=this,g=e.length,h=1,i=a+"defer",j=a+"queue",k=a+"mark",l;while(g--)if(l=f.data(e[g],i,b,!0)||(f.data(e[g],j,b,!0)||f.data(e[g],k,b,!0))&&f.data(e[g],i,f.Callbacks("once memory"),!0))h++,l.add(m);return m(),d.promise()}});var o=/[\n\t\r]/g,p=/\s+/,q=/\r/g,r=/^(?:button|input)$/i,s=/^(?:button|input|object|select|textarea)$/i,t=/^a(?:rea)?$/i,u=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,v=f.support.getSetAttribute,w,x,y;f.fn.extend({attr:function(a,b){return f.access(this,a,b,!0,f.attr)},removeAttr:function(a){return this.each(function(){f.removeAttr(this,a)})},prop:function(a,b){return f.access(this,a,b,!0,f.prop)},removeProp:function(a){return a=f.propFix[a]||a,this.each(function(){try{this[a]=b,delete this[a]}catch(c){}})},addClass:function(a){var b,c,d,e,g,h,i;if(f.isFunction(a))return this.each(function(b){f(this).addClass(a.call(this,b,this.className))});if(a&&typeof a=="string"){b=a.split(p);for(c=0,d=this.length;c<d;c++){e=this[c];if(e.nodeType===1)if(!e.className&&b.length===1)e.className=a;else{g=" "+e.className+" ";for(h=0,i=b.length;h<i;h++)~g.indexOf(" "+b[h]+" ")||(g+=b[h]+" ");e.className=f.trim(g)}}}return this},removeClass:function(a){var c,d,e,g,h,i,j;if(f.isFunction(a))return this.each(function(b){f(this).removeClass(a.call(this,b,this.className))});if(a&&typeof a=="string"||a===b){c=(a||"").split(p);for(d=0,e=this.length;d<e;d++){g=this[d];if(g.nodeType===1&&g.className)if(a){h=(" "+g.className+" ").replace(o," ");for(i=0,j=c.length;i<j;i++)h=h.replace(" "+c[i]+" "," ");g.className=f.trim(h)}else g.className=""}}return this},toggleClass:function(a,b){var c=typeof a,d=typeof b=="boolean";return f.isFunction(a)?this.each(function(c){f(this).toggleClass(a.call(this,c,this.className,b),b)}):this.each(function(){if(c==="string"){var e,g=0,h=f(this),i=b,j=a.split(p);while(e=j[g++])i=d?i:!h.hasClass(e),h[i?"addClass":"removeClass"](e)}else if(c==="undefined"||c==="boolean")this.className&&f._data(this,"__className__",this.className),this.className=this.className||a===!1?"":f._data(this,"__className__")||""})},hasClass:function(a){var b=" "+a+" ",c=0,d=this.length;for(;c<d;c++)if(this[c].nodeType===1&&(" "+this[c].className+" ").replace(o," ").indexOf(b)>-1)return!0;return!1},val:function(a){var c,d,e,g=this[0];if(!arguments.length){if(g)return c=f.valHooks[g.nodeName.toLowerCase()]||f.valHooks[g.type],c&&"get"in c&&(d=c.get(g,"value"))!==b?d:(d=g.value,typeof d=="string"?d.replace(q,""):d==null?"":d);return}return e=f.isFunction(a),this.each(function(d){var g=f(this),h;if(this.nodeType!==1)return;e?h=a.call(this,d,g.val()):h=a,h==null?h="":typeof h=="number"?h+="":f.isArray(h)&&(h=f.map(h,function(a){return a==null?"":a+""})),c=f.valHooks[this.nodeName.toLowerCase()]||f.valHooks[this.type];if(!c||!("set"in c)||c.set(this,h,"value")===b)this.value=h})}}),f.extend({valHooks:{option:{get:function(a){var b=a.attributes.value;return!b||b.specified?a.value:a.text}},select:{get:function(a){var b,c,d,e,g=a.selectedIndex,h=[],i=a.options,j=a.type==="select-one";if(g<0)return null;c=j?g:0,d=j?g+1:i.length;for(;c<d;c++){e=i[c];if(e.selected&&(f.support.optDisabled?!e.disabled:e.getAttribute("disabled")===null)&&(!e.parentNode.disabled||!f.nodeName(e.parentNode,"optgroup"))){b=f(e).val();if(j)return b;h.push(b)}}return j&&!h.length&&i.length?f(i[g]).val():h},set:function(a,b){var c=f.makeArray(b);return f(a).find("option").each(function(){this.selected=f.inArray(f(this).val(),c)>=0}),c.length||(a.selectedIndex=-1),c}}},attrFn:{val:!0,css:!0,html:!0,text:!0,data:!0,width:!0,height:!0,offset:!0},attr:function(a,c,d,e){var g,h,i,j=a.nodeType;if(!a||j===3||j===8||j===2)return;if(e&&c in f.attrFn)return f(a)[c](d);if(typeof a.getAttribute=="undefined")return f.prop(a,c,d);i=j!==1||!f.isXMLDoc(a),i&&(c=c.toLowerCase(),h=f.attrHooks[c]||(u.test(c)?x:w));if(d!==b){if(d===null){f.removeAttr(a,c);return}return h&&"set"in h&&i&&(g=h.set(a,d,c))!==b?g:(a.setAttribute(c,""+d),d)}return h&&"get"in h&&i&&(g=h.get(a,c))!==null?g:(g=a.getAttribute(c),g===null?b:g)},removeAttr:function(a,b){var c,d,e,g,h=0;if(b&&a.nodeType===1){d=b.toLowerCase().split(p),g=d.length;for(;h<g;h++)e=d[h],e&&(c=f.propFix[e]||e,f.attr(a,e,""),a.removeAttribute(v?e:c),u.test(e)&&c in a&&(a[c]=!1))}},attrHooks:{type:{set:function(a,b){if(r.test(a.nodeName)&&a.parentNode)f.error("type property can't be changed");else if(!f.support.radioValue&&b==="radio"&&f.nodeName(a,"input")){var c=a.value;return a.setAttribute("type",b),c&&(a.value=c),b}}},value:{get:function(a,b){return w&&f.nodeName(a,"button")?w.get(a,b):b in a?a.value:null},set:function(a,b,c){if(w&&f.nodeName(a,"button"))return w.set(a,b,c);a.value=b}}},propFix:{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(a,c,d){var e,g,h,i=a.nodeType;if(!a||i===3||i===8||i===2)return;return h=i!==1||!f.isXMLDoc(a),h&&(c=f.propFix[c]||c,g=f.propHooks[c]),d!==b?g&&"set"in g&&(e=g.set(a,d,c))!==b?e:a[c]=d:g&&"get"in g&&(e=g.get(a,c))!==null?e:a[c]},propHooks:{tabIndex:{get:function(a){var c=a.getAttributeNode("tabindex");return c&&c.specified?parseInt(c.value,10):s.test(a.nodeName)||t.test(a.nodeName)&&a.href?0:b}}}}),f.attrHooks.tabindex=f.propHooks.tabIndex,x={get:function(a,c){var d,e=f.prop(a,c);return e===!0||typeof e!="boolean"&&(d=a.getAttributeNode(c))&&d.nodeValue!==!1?c.toLowerCase():b},set:function(a,b,c){var d;return b===!1?f.removeAttr(a,c):(d=f.propFix[c]||c,d in a&&(a[d]=!0),a.setAttribute(c,c.toLowerCase())),c}},v||(y={name:!0,id:!0},w=f.valHooks.button={get:function(a,c){var d;return d=a.getAttributeNode(c),d&&(y[c]?d.nodeValue!=="":d.specified)?d.nodeValue:b},set:function(a,b,d){var e=a.getAttributeNode(d);return e||(e=c.createAttribute(d),a.setAttributeNode(e)),e.nodeValue=b+""}},f.attrHooks.tabindex.set=w.set,f.each(["width","height"],function(a,b){f.attrHooks[b]=f.extend(f.attrHooks[b],{set:function(a,c){if(c==="")return a.setAttribute(b,"auto"),c}})}),f.attrHooks.contenteditable={get:w.get,set:function(a,b,c){b===""&&(b="false"),w.set(a,b,c)}}),f.support.hrefNormalized||f.each(["href","src","width","height"],function(a,c){f.attrHooks[c]=f.extend(f.attrHooks[c],{get:function(a){var d=a.getAttribute(c,2);return d===null?b:d}})}),f.support.style||(f.attrHooks.style={get:function(a){return a.style.cssText.toLowerCase()||b},set:function(a,b){return a.style.cssText=""+b}}),f.support.optSelected||(f.propHooks.selected=f.extend(f.propHooks.selected,{get:function(a){var b=a.parentNode;return b&&(b.selectedIndex,b.parentNode&&b.parentNode.selectedIndex),null}})),f.support.enctype||(f.propFix.enctype="encoding"),f.support.checkOn||f.each(["radio","checkbox"],function(){f.valHooks[this]={get:function(a){return a.getAttribute("value")===null?"on":a.value}}}),f.each(["radio","checkbox"],function(){f.valHooks[this]=f.extend(f.valHooks[this],{set:function(a,b){if(f.isArray(b))return a.checked=f.inArray(f(a).val(),b)>=0}})});var z=/^(?:textarea|input|select)$/i,A=/^([^\.]*)?(?:\.(.+))?$/,B=/\bhover(\.\S+)?\b/,C=/^key/,D=/^(?:mouse|contextmenu)|click/,E=/^(?:focusinfocus|focusoutblur)$/,F=/^(\w*)(?:#([\w\-]+))?(?:\.([\w\-]+))?$/,G=function(a){var b=F.exec(a);return b&&(b[1]=(b[1]||"").toLowerCase(),b[3]=b[3]&&new RegExp("(?:^|\\s)"+b[3]+"(?:\\s|$)")),b},H=function(a,b){var c=a.attributes||{};return(!b[1]||a.nodeName.toLowerCase()===b[1])&&(!b[2]||(c.id||{}).value===b[2])&&(!b[3]||b[3].test((c["class"]||{}).value))},I=function(a){return f.event.special.hover?a:a.replace(B,"mouseenter$1 mouseleave$1")};f.event={add:function(a,c,d,e,g){var h,i,j,k,l,m,n,o,p,q,r,s;if(a.nodeType===3||a.nodeType===8||!c||!d||!(h=f._data(a)))return;d.handler&&(p=d,d=p.handler),d.guid||(d.guid=f.guid++),j=h.events,j||(h.events=j={}),i=h.handle,i||(h.handle=i=function(a){return typeof f=="undefined"||!!a&&f.event.triggered===a.type?b:f.event.dispatch.apply(i.elem,arguments)},i.elem=a),c=f.trim(I(c)).split(" ");for(k=0;k<c.length;k++){l=A.exec(c[k])||[],m=l[1],n=(l[2]||"").split(".").sort(),s=f.event.special[m]||{},m=(g?s.delegateType:s.bindType)||m,s=f.event.special[m]||{},o=f.extend({type:m,origType:l[1],data:e,handler:d,guid:d.guid,selector:g,quick:G(g),namespace:n.join(".")},p),r=j[m];if(!r){r=j[m]=[],r.delegateCount=0;if(!s.setup||s.setup.call(a,e,n,i)===!1)a.addEventListener?a.addEventListener(m,i,!1):a.attachEvent&&a.attachEvent("on"+m,i)}s.add&&(s.add.call(a,o),o.handler.guid||(o.handler.guid=d.guid)),g?r.splice(r.delegateCount++,0,o):r.push(o),f.event.global[m]=!0}a=null},global:{},remove:function(a,b,c,d,e){var g=f.hasData(a)&&f._data(a),h,i,j,k,l,m,n,o,p,q,r,s;if(!g||!(o=g.events))return;b=f.trim(I(b||"")).split(" ");for(h=0;h<b.length;h++){i=A.exec(b[h])||[],j=k=i[1],l=i[2];if(!j){for(j in o)f.event.remove(a,j+b[h],c,d,!0);continue}p=f.event.special[j]||{},j=(d?p.delegateType:p.bindType)||j,r=o[j]||[],m=r.length,l=l?new RegExp("(^|\\.)"+l.split(".").sort().join("\\.(?:.*\\.)?")+"(\\.|$)"):null;for(n=0;n<r.length;n++)s=r[n],(e||k===s.origType)&&(!c||c.guid===s.guid)&&(!l||l.test(s.namespace))&&(!d||d===s.selector||d==="**"&&s.selector)&&(r.splice(n--,1),s.selector&&r.delegateCount--,p.remove&&p.remove.call(a,s));r.length===0&&m!==r.length&&((!p.teardown||p.teardown.call(a,l)===!1)&&f.removeEvent(a,j,g.handle),delete o[j])}f.isEmptyObject(o)&&(q=g.handle,q&&(q.elem=null),f.removeData(a,["events","handle"],!0))},customEvent:{getData:!0,setData:!0,changeData:!0},trigger:function(c,d,e,g){if(!e||e.nodeType!==3&&e.nodeType!==8){var h=c.type||c,i=[],j,k,l,m,n,o,p,q,r,s;if(E.test(h+f.event.triggered))return;h.indexOf("!")>=0&&(h=h.slice(0,-1),k=!0),h.indexOf(".")>=0&&(i=h.split("."),h=i.shift(),i.sort());if((!e||f.event.customEvent[h])&&!f.event.global[h])return;c=typeof c=="object"?c[f.expando]?c:new f.Event(h,c):new f.Event(h),c.type=h,c.isTrigger=!0,c.exclusive=k,c.namespace=i.join("."),c.namespace_re=c.namespace?new RegExp("(^|\\.)"+i.join("\\.(?:.*\\.)?")+"(\\.|$)"):null,o=h.indexOf(":")<0?"on"+h:"";if(!e){j=f.cache;for(l in j)j[l].events&&j[l].events[h]&&f.event.trigger(c,d,j[l].handle.elem,!0);return}c.result=b,c.target||(c.target=e),d=d!=null?f.makeArray(d):[],d.unshift(c),p=f.event.special[h]||{};if(p.trigger&&p.trigger.apply(e,d)===!1)return;r=[[e,p.bindType||h]];if(!g&&!p.noBubble&&!f.isWindow(e)){s=p.delegateType||h,m=E.test(s+h)?e:e.parentNode,n=null;for(;m;m=m.parentNode)r.push([m,s]),n=m;n&&n===e.ownerDocument&&r.push([n.defaultView||n.parentWindow||a,s])}for(l=0;l<r.length&&!c.isPropagationStopped();l++)m=r[l][0],c.type=r[l][1],q=(f._data(m,"events")||{})[c.type]&&f._data(m,"handle"),q&&q.apply(m,d),q=o&&m[o],q&&f.acceptData(m)&&q.apply(m,d)===!1&&c.preventDefault();return c.type=h,!g&&!c.isDefaultPrevented()&&(!p._default||p._default.apply(e.ownerDocument,d)===!1)&&(h!=="click"||!f.nodeName(e,"a"))&&f.acceptData(e)&&o&&e[h]&&(h!=="focus"&&h!=="blur"||c.target.offsetWidth!==0)&&!f.isWindow(e)&&(n=e[o],n&&(e[o]=null),f.event.triggered=h,e[h](),f.event.triggered=b,n&&(e[o]=n)),c.result}return},dispatch:function(c){c=f.event.fix(c||a.event);var d=(f._data(this,"events")||{})[c.type]||[],e=d.delegateCount,g=[].slice.call(arguments,0),h=!c.exclusive&&!c.namespace,i=[],j,k,l,m,n,o,p,q,r,s,t;g[0]=c,c.delegateTarget=this;if(e&&!c.target.disabled&&(!c.button||c.type!=="click")){m=f(this),m.context=this.ownerDocument||this;for(l=c.target;l!=this;l=l.parentNode||this){o={},q=[],m[0]=l;for(j=0;j<e;j++)r=d[j],s=r.selector,o[s]===b&&(o[s]=r.quick?H(l,r.quick):m.is(s)),o[s]&&q.push(r);q.length&&i.push({elem:l,matches:q})}}d.length>e&&i.push({elem:this,matches:d.slice(e)});for(j=0;j<i.length&&!c.isPropagationStopped();j++){p=i[j],c.currentTarget=p.elem;for(k=0;k<p.matches.length&&!c.isImmediatePropagationStopped();k++){r=p.matches[k];if(h||!c.namespace&&!r.namespace||c.namespace_re&&c.namespace_re.test(r.namespace))c.data=r.data,c.handleObj=r,n=((f.event.special[r.origType]||{}).handle||r.handler).apply(p.elem,g),n!==b&&(c.result=n,n===!1&&(c.preventDefault(),c.stopPropagation()))}}return c.result},props:"attrChange attrName relatedNode srcElement altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(a,b){return a.which==null&&(a.which=b.charCode!=null?b.charCode:b.keyCode),a}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(a,d){var e,f,g,h=d.button,i=d.fromElement;return a.pageX==null&&d.clientX!=null&&(e=a.target.ownerDocument||c,f=e.documentElement,g=e.body,a.pageX=d.clientX+(f&&f.scrollLeft||g&&g.scrollLeft||0)-(f&&f.clientLeft||g&&g.clientLeft||0),a.pageY=d.clientY+(f&&f.scrollTop||g&&g.scrollTop||0)-(f&&f.clientTop||g&&g.clientTop||0)),!a.relatedTarget&&i&&(a.relatedTarget=i===a.target?d.toElement:i),!a.which&&h!==b&&(a.which=h&1?1:h&2?3:h&4?2:0),a}},fix:function(a){if(a[f.expando])return a;var d,e,g=a,h=f.event.fixHooks[a.type]||{},i=h.props?this.props.concat(h.props):this.props;a=f.Event(g);for(d=i.length;d;)e=i[--d],a[e]=g[e];return a.target||(a.target=g.srcElement||c),a.target.nodeType===3&&(a.target=a.target.parentNode),a.metaKey===b&&(a.metaKey=a.ctrlKey),h.filter?h.filter(a,g):a},special:{ready:{setup:f.bindReady},load:{noBubble:!0},focus:{delegateType:"focusin"},blur:{delegateType:"focusout"},beforeunload:{setup:function(a,b,c){f.isWindow(this)&&(this.onbeforeunload=c)},teardown:function(a,b){this.onbeforeunload===b&&(this.onbeforeunload=null)}}},simulate:function(a,b,c,d){var e=f.extend(new f.Event,c,{type:a,isSimulated:!0,originalEvent:{}});d?f.event.trigger(e,null,b):f.event.dispatch.call(b,e),e.isDefaultPrevented()&&c.preventDefault()}},f.event.handle=f.event.dispatch,f.removeEvent=c.removeEventListener?function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c,!1)}:function(a,b,c){a.detachEvent&&a.detachEvent("on"+b,c)},f.Event=function(a,b){if(this instanceof f.Event)a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||a.returnValue===!1||a.getPreventDefault&&a.getPreventDefault()?K:J):this.type=a,b&&f.extend(this,b),this.timeStamp=a&&a.timeStamp||f.now(),this[f.expando]=!0;else return new f.Event(a,b)},f.Event.prototype={preventDefault:function(){this.isDefaultPrevented=K;var a=this.originalEvent;if(!a)return;a.preventDefault?a.preventDefault():a.returnValue=!1},stopPropagation:function(){this.isPropagationStopped=K;var a=this.originalEvent;if(!a)return;a.stopPropagation&&a.stopPropagation(),a.cancelBubble=!0},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=K,this.stopPropagation()},isDefaultPrevented:J,isPropagationStopped:J,isImmediatePropagationStopped:J},f.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(a,b){f.event.special[a]={delegateType:b,bindType:b,handle:function(a){var c=this,d=a.relatedTarget,e=a.handleObj,g=e.selector,h;if(!d||d!==c&&!f.contains(c,d))a.type=e.origType,h=e.handler.apply(this,arguments),a.type=b;return h}}}),f.support.submitBubbles||(f.event.special.submit={setup:function(){if(f.nodeName(this,"form"))return!1;f.event.add(this,"click._submit keypress._submit",function(a){var c=a.target,d=f.nodeName(c,"input")||f.nodeName(c,"button")?c.form:b;d&&!d._submit_attached&&(f.event.add(d,"submit._submit",function(a){this.parentNode&&!a.isTrigger&&f.event.simulate("submit",this.parentNode,a,!0)}),d._submit_attached=!0)})},teardown:function(){if(f.nodeName(this,"form"))return!1;f.event.remove(this,"._submit")}}),f.support.changeBubbles||(f.event.special.change={setup:function(){if(z.test(this.nodeName)){if(this.type==="checkbox"||this.type==="radio")f.event.add(this,"propertychange._change",function(a){a.originalEvent.propertyName==="checked"&&(this._just_changed=!0)}),f.event.add(this,"click._change",function(a){this._just_changed&&!a.isTrigger&&(this._just_changed=!1,f.event.simulate("change",this,a,!0))});return!1}f.event.add(this,"beforeactivate._change",function(a){var b=a.target;z.test(b.nodeName)&&!b._change_attached&&(f.event.add(b,"change._change",function(a){this.parentNode&&!a.isSimulated&&!a.isTrigger&&f.event.simulate("change",this.parentNode,a,!0)}),b._change_attached=!0)})},handle:function(a){var b=a.target;if(this!==b||a.isSimulated||a.isTrigger||b.type!=="radio"&&b.type!=="checkbox")return a.handleObj.handler.apply(this,arguments)},teardown:function(){return f.event.remove(this,"._change"),z.test(this.nodeName)}}),f.support.focusinBubbles||f.each({focus:"focusin",blur:"focusout"},function(a,b){var d=0,e=function(a){f.event.simulate(b,a.target,f.event.fix(a),!0)};f.event.special[b]={setup:function(){d++===0&&c.addEventListener(a,e,!0)},teardown:function(){--d===0&&c.removeEventListener(a,e,!0)}}}),f.fn.extend({on:function(a,c,d,e,g){var h,i;if(typeof a=="object"){typeof c!="string"&&(d=c,c=b);for(i in a)this.on(i,c,d,a[i],g);return this}d==null&&e==null?(e=c,d=c=b):e==null&&(typeof c=="string"?(e=d,d=b):(e=d,d=c,c=b));if(e===!1)e=J;else if(!e)return this;return g===1&&(h=e,e=function(a){return f().off(a),h.apply(this,arguments)},e.guid=h.guid||(h.guid=f.guid++)),this.each(function(){f.event.add(this,a,e,d,c)})},one:function(a,b,c,d){return this.on.call(this,a,b,c,d,1)},off:function(a,c,d){if(a&&a.preventDefault&&a.handleObj){var e=a.handleObj;return f(a.delegateTarget).off(e.namespace?e.type+"."+e.namespace:e.type,e.selector,e.handler),this}if(typeof a=="object"){for(var g in a)this.off(g,c,a[g]);return this}if(c===!1||typeof c=="function")d=c,c=b;return d===!1&&(d=J),this.each(function(){f.event.remove(this,a,d,c)})},bind:function(a,b,c){return this.on(a,null,b,c)},unbind:function(a,b){return this.off(a,null,b)},live:function(a,b,c){return f(this.context).on(a,this.selector,b,c),this},die:function(a,b){return f(this.context).off(a,this.selector||"**",b),this},delegate:function(a,b,c,d){return this.on(b,a,c,d)},undelegate:function(a,b,c){return arguments.length==1?this.off(a,"**"):this.off(b,a,c)},trigger:function(a,b){return this.each(function(){f.event.trigger(a,b,this)})},triggerHandler:function(a,b){if(this[0])return f.event.trigger(a,b,this[0],!0)},toggle:function(a){var b=arguments,c=a.guid||f.guid++,d=0,e=function(c){var e=(f._data(this,"lastToggle"+a.guid)||0)%d;return f._data(this,"lastToggle"+a.guid,e+1),c.preventDefault(),b[e].apply(this,arguments)||!1};e.guid=c;while(d<b.length)b[d++].guid=c;return this.click(e)},hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)}}),f.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(a,b){f.fn[b]=function(a,c){return c==null&&(c=a,a=null),arguments.length>0?this.on(b,null,a,c):this.trigger(b)},f.attrFn&&(f.attrFn[b]=!0),C.test(b)&&(f.event.fixHooks[b]=f.event.keyHooks),D.test(b)&&(f.event.fixHooks[b]=f.event.mouseHooks)}),function(){function w(a,b,c,e,f,g){for(var h=0,i=e.length;h<i;h++){var j=e[h];if(j){var k=!1;j=j[a];while(j){if(j[d]===c){k=e[j.sizset];break}j.nodeType===1&&!g&&(j[d]=c,j.sizset=h);if(j.nodeName.toLowerCase()===b){k=j;break}j=j[a]}e[h]=k}}}function x(a,b,c,e,f,g){for(var h=0,i=e.length;h<i;h++){var j=e[h];if(j){var k=!1;j=j[a];while(j){if(j[d]===c){k=e[j.sizset];break}if(j.nodeType===1){g||(j[d]=c,j.sizset=h);if(typeof b!="string"){if(j===b){k=!0;break}}else if(m.filter(b,[j]).length>0){k=j;break}}j=j[a]}e[h]=k}}}var a=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,d="sizcache"+(Math.random()+"").replace(".",""),e=0,g=Object.prototype.toString,h=!1,i=!0,j=/\\/g,k=/\r\n/g,l=/\W/;[0,0].sort(function(){return i=!1,0});var m=function(b,d,e,f){e=e||[],d=d||c;var h=d;if(d.nodeType!==1&&d.nodeType!==9)return[];if(!b||typeof b!="string")return e;var i,j,k,l,n,q,r,t,u=!0,v=m.isXML(d),w=[],x=b;do{a.exec(""),i=a.exec(x);if(i){x=i[3],w.push(i[1]);if(i[2]){l=i[3];break}}}while(i);if(w.length>1&&p.exec(b))if(w.length===2&&o.relative[w[0]])j=y(w[0]+w[1],d,f);else{j=o.relative[w[0]]?[d]:m(w.shift(),d);while(w.length)b=w.shift(),o.relative[b]&&(b+=w.shift()),j=y(b,j,f)}else{!f&&w.length>1&&d.nodeType===9&&!v&&o.match.ID.test(w[0])&&!o.match.ID.test(w[w.length-1])&&(n=m.find(w.shift(),d,v),d=n.expr?m.filter(n.expr,n.set)[0]:n.set[0]);if(d){n=f?{expr:w.pop(),set:s(f)}:m.find(w.pop(),w.length!==1||w[0]!=="~"&&w[0]!=="+"||!d.parentNode?d:d.parentNode,v),j=n.expr?m.filter(n.expr,n.set):n.set,w.length>0?k=s(j):u=!1;while(w.length)q=w.pop(),r=q,o.relative[q]?r=w.pop():q="",r==null&&(r=d),o.relative[q](k,r,v)}else k=w=[]}k||(k=j),k||m.error(q||b);if(g.call(k)==="[object Array]")if(!u)e.push.apply(e,k);else if(d&&d.nodeType===1)for(t=0;k[t]!=null;t++)k[t]&&(k[t]===!0||k[t].nodeType===1&&m.contains(d,k[t]))&&e.push(j[t]);else for(t=0;k[t]!=null;t++)k[t]&&k[t].nodeType===1&&e.push(j[t]);else s(k,e);return l&&(m(l,h,e,f),m.uniqueSort(e)),e};m.uniqueSort=function(a){if(u){h=i,a.sort(u);if(h)for(var b=1;b<a.length;b++)a[b]===a[b-1]&&a.splice(b--,1)}return a},m.matches=function(a,b){return m(a,null,null,b)},m.matchesSelector=function(a,b){return m(b,null,null,[a]).length>0},m.find=function(a,b,c){var d,e,f,g,h,i;if(!a)return[];for(e=0,f=o.order.length;e<f;e++){h=o.order[e];if(g=o.leftMatch[h].exec(a)){i=g[1],g.splice(1,1);if(i.substr(i.length-1)!=="\\"){g[1]=(g[1]||"").replace(j,""),d=o.find[h](g,b,c);if(d!=null){a=a.replace(o.match[h],"");break}}}}return d||(d=typeof b.getElementsByTagName!="undefined"?b.getElementsByTagName("*"):[]),{set:d,expr:a}},m.filter=function(a,c,d,e){var f,g,h,i,j,k,l,n,p,q=a,r=[],s=c,t=c&&c[0]&&m.isXML(c[0]);while(a&&c.length){for(h in o.filter)if((f=o.leftMatch[h].exec(a))!=null&&f[2]){k=o.filter[h],l=f[1],g=!1,f.splice(1,1);if(l.substr(l.length-1)==="\\")continue;s===r&&(r=[]);if(o.preFilter[h]){f=o.preFilter[h](f,s,d,r,e,t);if(!f)g=i=!0;else if(f===!0)continue}if(f)for(n=0;(j=s[n])!=null;n++)j&&(i=k(j,f,n,s),p=e^i,d&&i!=null?p?g=!0:s[n]=!1:p&&(r.push(j),g=!0));if(i!==b){d||(s=r),a=a.replace(o.match[h],"");if(!g)return[];break}}if(a===q)if(g==null)m.error(a);else break;q=a}return s},m.error=function(a){throw new Error("Syntax error, unrecognized expression: "+a)};var n=m.getText=function(a){var b,c,d=a.nodeType,e="";if(d){if(d===1||d===9){if(typeof a.textContent=="string")return a.textContent;if(typeof a.innerText=="string")return a.innerText.replace(k,"");for(a=a.firstChild;a;a=a.nextSibling)e+=n(a)}else if(d===3||d===4)return a.nodeValue}else for(b=0;c=a[b];b++)c.nodeType!==8&&(e+=n(c));return e},o=m.selectors={order:["ID","NAME","TAG"],match:{ID:/#((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,CLASS:/\.((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,NAME:/\[name=['"]*((?:[\w\u00c0-\uFFFF\-]|\\.)+)['"]*\]/,ATTR:/\[\s*((?:[\w\u00c0-\uFFFF\-]|\\.)+)\s*(?:(\S?=)\s*(?:(['"])(.*?)\3|(#?(?:[\w\u00c0-\uFFFF\-]|\\.)*)|)|)\s*\]/,TAG:/^((?:[\w\u00c0-\uFFFF\*\-]|\\.)+)/,CHILD:/:(only|nth|last|first)-child(?:\(\s*(even|odd|(?:[+\-]?\d+|(?:[+\-]?\d*)?n\s*(?:[+\-]\s*\d+)?))\s*\))?/,POS:/:(nth|eq|gt|lt|first|last|even|odd)(?:\((\d*)\))?(?=[^\-]|$)/,PSEUDO:/:((?:[\w\u00c0-\uFFFF\-]|\\.)+)(?:\((['"]?)((?:\([^\)]+\)|[^\(\)]*)+)\2\))?/},leftMatch:{},attrMap:{"class":"className","for":"htmlFor"},attrHandle:{href:function(a){return a.getAttribute("href")},type:function(a){return a.getAttribute("type")}},relative:{"+":function(a,b){var c=typeof b=="string",d=c&&!l.test(b),e=c&&!d;d&&(b=b.toLowerCase());for(var f=0,g=a.length,h;f<g;f++)if(h=a[f]){while((h=h.previousSibling)&&h.nodeType!==1);a[f]=e||h&&h.nodeName.toLowerCase()===b?h||!1:h===b}e&&m.filter(b,a,!0)},">":function(a,b){var c,d=typeof b=="string",e=0,f=a.length;if(d&&!l.test(b)){b=b.toLowerCase();for(;e<f;e++){c=a[e];if(c){var g=c.parentNode;a[e]=g.nodeName.toLowerCase()===b?g:!1}}}else{for(;e<f;e++)c=a[e],c&&(a[e]=d?c.parentNode:c.parentNode===b);d&&m.filter(b,a,!0)}},"":function(a,b,c){var d,f=e++,g=x;typeof b=="string"&&!l.test(b)&&(b=b.toLowerCase(),d=b,g=w),g("parentNode",b,f,a,d,c)},"~":function(a,b,c){var d,f=e++,g=x;typeof b=="string"&&!l.test(b)&&(b=b.toLowerCase(),d=b,g=w),g("previousSibling",b,f,a,d,c)}},find:{ID:function(a,b,c){if(typeof b.getElementById!="undefined"&&!c){var d=b.getElementById(a[1]);return d&&d.parentNode?[d]:[]}},NAME:function(a,b){if(typeof b.getElementsByName!="undefined"){var c=[],d=b.getElementsByName(a[1]);for(var e=0,f=d.length;e<f;e++)d[e].getAttribute("name")===a[1]&&c.push(d[e]);return c.length===0?null:c}},TAG:function(a,b){if(typeof b.getElementsByTagName!="undefined")return b.getElementsByTagName(a[1])}},preFilter:{CLASS:function(a,b,c,d,e,f){a=" "+a[1].replace(j,"")+" ";if(f)return a;for(var g=0,h;(h=b[g])!=null;g++)h&&(e^(h.className&&(" "+h.className+" ").replace(/[\t\n\r]/g," ").indexOf(a)>=0)?c||d.push(h):c&&(b[g]=!1));return!1},ID:function(a){return a[1].replace(j,"")},TAG:function(a,b){return a[1].replace(j,"").toLowerCase()},CHILD:function(a){if(a[1]==="nth"){a[2]||m.error(a[0]),a[2]=a[2].replace(/^\+|\s*/g,"");var b=/(-?)(\d*)(?:n([+\-]?\d*))?/.exec(a[2]==="even"&&"2n"||a[2]==="odd"&&"2n+1"||!/\D/.test(a[2])&&"0n+"+a[2]||a[2]);a[2]=b[1]+(b[2]||1)-0,a[3]=b[3]-0}else a[2]&&m.error(a[0]);return a[0]=e++,a},ATTR:function(a,b,c,d,e,f){var g=a[1]=a[1].replace(j,"");return!f&&o.attrMap[g]&&(a[1]=o.attrMap[g]),a[4]=(a[4]||a[5]||"").replace(j,""),a[2]==="~="&&(a[4]=" "+a[4]+" "),a},PSEUDO:function(b,c,d,e,f){if(b[1]==="not")if((a.exec(b[3])||"").length>1||/^\w/.test(b[3]))b[3]=m(b[3],null,null,c);else{var g=m.filter(b[3],c,d,!0^f);return d||e.push.apply(e,g),!1}else if(o.match.POS.test(b[0])||o.match.CHILD.test(b[0]))return!0;return b},POS:function(a){return a.unshift(!0),a}},filters:{enabled:function(a){return a.disabled===!1&&a.type!=="hidden"},disabled:function(a){return a.disabled===!0},checked:function(a){return a.checked===!0},selected:function(a){return a.parentNode&&a.parentNode.selectedIndex,a.selected===!0},parent:function(a){return!!a.firstChild},empty:function(a){return!a.firstChild},has:function(a,b,c){return!!m(c[3],a).length},header:function(a){return/h\d/i.test(a.nodeName)},text:function(a){var b=a.getAttribute("type"),c=a.type;return a.nodeName.toLowerCase()==="input"&&"text"===c&&(b===c||b===null)},radio:function(a){return a.nodeName.toLowerCase()==="input"&&"radio"===a.type},checkbox:function(a){return a.nodeName.toLowerCase()==="input"&&"checkbox"===a.type},file:function(a){return a.nodeName.toLowerCase()==="input"&&"file"===a.type},password:function(a){return a.nodeName.toLowerCase()==="input"&&"password"===a.type},submit:function(a){var b=a.nodeName.toLowerCase();return(b==="input"||b==="button")&&"submit"===a.type},image:function(a){return a.nodeName.toLowerCase()==="input"&&"image"===a.type},reset:function(a){var b=a.nodeName.toLowerCase();return(b==="input"||b==="button")&&"reset"===a.type},button:function(a){var b=a.nodeName.toLowerCase();return b==="input"&&"button"===a.type||b==="button"},input:function(a){return/input|select|textarea|button/i.test(a.nodeName)},focus:function(a){return a===a.ownerDocument.activeElement}},setFilters:{first:function(a,b){return b===0},last:function(a,b,c,d){return b===d.length-1},even:function(a,b){return b%2===0},odd:function(a,b){return b%2===1},lt:function(a,b,c){return b<c[3]-0},gt:function(a,b,c){return b>c[3]-0},nth:function(a,b,c){return c[3]-0===b},eq:function(a,b,c){return c[3]-0===b}},filter:{PSEUDO:function(a,b,c,d){var e=b[1],f=o.filters[e];if(f)return f(a,c,b,d);if(e==="contains")return(a.textContent||a.innerText||n([a])||"").indexOf(b[3])>=0;if(e==="not"){var g=b[3];for(var h=0,i=g.length;h<i;h++)if(g[h]===a)return!1;return!0}m.error(e)},CHILD:function(a,b){var c,e,f,g,h,i,j,k=b[1],l=a;switch(k){case"only":case"first":while(l=l.previousSibling)if(l.nodeType===1)return!1;if(k==="first")return!0;l=a;case"last":while(l=l.nextSibling)if(l.nodeType===1)return!1;return!0;case"nth":c=b[2],e=b[3];if(c===1&&e===0)return!0;f=b[0],g=a.parentNode;if(g&&(g[d]!==f||!a.nodeIndex)){i=0;for(l=g.firstChild;l;l=l.nextSibling)l.nodeType===1&&(l.nodeIndex=++i);g[d]=f}return j=a.nodeIndex-e,c===0?j===0:j%c===0&&j/c>=0}},ID:function(a,b){return a.nodeType===1&&a.getAttribute("id")===b},TAG:function(a,b){return b==="*"&&a.nodeType===1||!!a.nodeName&&a.nodeName.toLowerCase()===b},CLASS:function(a,b){return(" "+(a.className||a.getAttribute("class"))+" ").indexOf(b)>-1},ATTR:function(a,b){var c=b[1],d=m.attr?m.attr(a,c):o.attrHandle[c]?o.attrHandle[c](a):a[c]!=null?a[c]:a.getAttribute(c),e=d+"",f=b[2],g=b[4];return d==null?f==="!=":!f&&m.attr?d!=null:f==="="?e===g:f==="*="?e.indexOf(g)>=0:f==="~="?(" "+e+" ").indexOf(g)>=0:g?f==="!="?e!==g:f==="^="?e.indexOf(g)===0:f==="$="?e.substr(e.length-g.length)===g:f==="|="?e===g||e.substr(0,g.length+1)===g+"-":!1:e&&d!==!1},POS:function(a,b,c,d){var e=b[2],f=o.setFilters[e];if(f)return f(a,c,b,d)}}},p=o.match.POS,q=function(a,b){return"\\"+(b-0+1)};for(var r in o.match)o.match[r]=new RegExp(o.match[r].source+/(?![^\[]*\])(?![^\(]*\))/.source),o.leftMatch[r]=new RegExp(/(^(?:.|\r|\n)*?)/.source+o.match[r].source.replace(/\\(\d+)/g,q));var s=function(a,b){return a=Array.prototype.slice.call(a,0),b?(b.push.apply(b,a),b):a};try{Array.prototype.slice.call(c.documentElement.childNodes,0)[0].nodeType}catch(t){s=function(a,b){var c=0,d=b||[];if(g.call(a)==="[object Array]")Array.prototype.push.apply(d,a);else if(typeof a.length=="number")for(var e=a.length;c<e;c++)d.push(a[c]);else for(;a[c];c++)d.push(a[c]);return d}}var u,v;c.documentElement.compareDocumentPosition?u=function(a,b){return a===b?(h=!0,0):!a.compareDocumentPosition||!b.compareDocumentPosition?a.compareDocumentPosition?-1:1:a.compareDocumentPosition(b)&4?-1:1}:(u=function(a,b){if(a===b)return h=!0,0;if(a.sourceIndex&&b.sourceIndex)return a.sourceIndex-b.sourceIndex;var c,d,e=[],f=[],g=a.parentNode,i=b.parentNode,j=g;if(g===i)return v(a,b);if(!g)return-1;if(!i)return 1;while(j)e.unshift(j),j=j.parentNode;j=i;while(j)f.unshift(j),j=j.parentNode;c=e.length,d=f.length;for(var k=0;k<c&&k<d;k++)if(e[k]!==f[k])return v(e[k],f[k]);return k===c?v(a,f[k],-1):v(e[k],b,1)},v=function(a,b,c){if(a===b)return c;var d=a.nextSibling;while(d){if(d===b)return-1;d=d.nextSibling}return 1}),function(){var a=c.createElement("div"),d="script"+(new Date).getTime(),e=c.documentElement;a.innerHTML="<a name='"+d+"'/>",e.insertBefore(a,e.firstChild),c.getElementById(d)&&(o.find.ID=function(a,c,d){if(typeof c.getElementById!="undefined"&&!d){var e=c.getElementById(a[1]);return e?e.id===a[1]||typeof e.getAttributeNode!="undefined"&&e.getAttributeNode("id").nodeValue===a[1]?[e]:b:[]}},o.filter.ID=function(a,b){var c=typeof a.getAttributeNode!="undefined"&&a.getAttributeNode("id");return a.nodeType===1&&c&&c.nodeValue===b}),e.removeChild(a),e=a=null}(),function(){var a=c.createElement("div");a.appendChild(c.createComment("")),a.getElementsByTagName("*").length>0&&(o.find.TAG=function(a,b){var c=b.getElementsByTagName(a[1]);if(a[1]==="*"){var d=[];for(var e=0;c[e];e++)c[e].nodeType===1&&d.push(c[e]);c=d}return c}),a.innerHTML="<a href='#'></a>",a.firstChild&&typeof a.firstChild.getAttribute!="undefined"&&a.firstChild.getAttribute("href")!=="#"&&(o.attrHandle.href=function(a){return a.getAttribute("href",2)}),a=null}(),c.querySelectorAll&&function(){var a=m,b=c.createElement("div"),d="__sizzle__";b.innerHTML="<p class='TEST'></p>";if(b.querySelectorAll&&b.querySelectorAll(".TEST").length===0)return;m=function(b,e,f,g){e=e||c;if(!g&&!m.isXML(e)){var h=/^(\w+$)|^\.([\w\-]+$)|^#([\w\-]+$)/.exec(b);if(h&&(e.nodeType===1||e.nodeType===9)){if(h[1])return s(e.getElementsByTagName(b),f);if(h[2]&&o.find.CLASS&&e.getElementsByClassName)return s(e.getElementsByClassName(h[2]),f)}if(e.nodeType===9){if(b==="body"&&e.body)return s([e.body],f);if(h&&h[3]){var i=e.getElementById(h[3]);if(!i||!i.parentNode)return s([],f);if(i.id===h[3])return s([i],f)}try{return s(e.querySelectorAll(b),f)}catch(j){}}else if(e.nodeType===1&&e.nodeName.toLowerCase()!=="object"){var k=e,l=e.getAttribute("id"),n=l||d,p=e.parentNode,q=/^\s*[+~]/.test(b);l?n=n.replace(/'/g,"\\$&"):e.setAttribute("id",n),q&&p&&(e=e.parentNode);try{if(!q||p)return s(e.querySelectorAll("[id='"+n+"'] "+b),f)}catch(r){}finally{l||k.removeAttribute("id")}}}return a(b,e,f,g)};for(var e in a)m[e]=a[e];b=null}(),function(){var a=c.documentElement,b=a.matchesSelector||a.mozMatchesSelector||a.webkitMatchesSelector||a.msMatchesSelector;if(b){var d=!b.call(c.createElement("div"),"div"),e=!1;try{b.call(c.documentElement,"[test!='']:sizzle")}catch(f){e=!0}m.matchesSelector=function(a,c){c=c.replace(/\=\s*([^'"\]]*)\s*\]/g,"='$1']");if(!m.isXML(a))try{if(e||!o.match.PSEUDO.test(c)&&!/!=/.test(c)){var f=b.call(a,c);if(f||!d||a.document&&a.document.nodeType!==11)return f}}catch(g){}return m(c,null,null,[a]).length>0}}}(),function(){var a=c.createElement("div");a.innerHTML="<div class='test e'></div><div class='test'></div>";if(!a.getElementsByClassName||a.getElementsByClassName("e").length===0)return;a.lastChild.className="e";if(a.getElementsByClassName("e").length===1)return;o.order.splice(1,0,"CLASS"),o.find.CLASS=function(a,b,c){if(typeof b.getElementsByClassName!="undefined"&&!c)return b.getElementsByClassName(a[1])},a=null}(),c.documentElement.contains?m.contains=function(a,b){return a!==b&&(a.contains?a.contains(b):!0)}:c.documentElement.compareDocumentPosition?m.contains=function(a,b){return!!(a.compareDocumentPosition(b)&16)}:m.contains=function(){return!1},m.isXML=function(a){var b=(a?a.ownerDocument||a:0).documentElement;return b?b.nodeName!=="HTML":!1};var y=function(a,b,c){var d,e=[],f="",g=b.nodeType?[b]:b;while(d=o.match.PSEUDO.exec(a))f+=d[0],a=a.replace(o.match.PSEUDO,"");a=o.relative[a]?a+"*":a;for(var h=0,i=g.length;h<i;h++)m(a,g[h],e,c);return m.filter(f,e)};m.attr=f.attr,m.selectors.attrMap={},f.find=m,f.expr=m.selectors,f.expr[":"]=f.expr.filters,f.unique=m.uniqueSort,f.text=m.getText,f.isXMLDoc=m.isXML,f.contains=m.contains}();var L=/Until$/,M=/^(?:parents|prevUntil|prevAll)/,N=/,/,O=/^.[^:#\[\.,]*$/,P=Array.prototype.slice,Q=f.expr.match.POS,R={children:!0,contents:!0,next:!0,prev:!0};f.fn.extend({find:function(a){var b=this,c,d;if(typeof a!="string")return f(a).filter(function(){for(c=0,d=b.length;c<d;c++)if(f.contains(b[c],this))return!0});var e=this.pushStack("","find",a),g,h,i;for(c=0,d=this.length;c<d;c++){g=e.length,f.find(a,this[c],e);if(c>0)for(h=g;h<e.length;h++)for(i=0;i<g;i++)if(e[i]===e[h]){e.splice(h--,1);break}}return e},has:function(a){var b=f(a);return this.filter(function(){for(var a=0,c=b.length;a<c;a++)if(f.contains(this,b[a]))return!0})},not:function(a){return this.pushStack(T(this,a,!1),"not",a)},filter:function(a){return this.pushStack(T(this,a,!0),"filter",a)},is:function(a){return!!a&&(typeof a=="string"?Q.test(a)?f(a,this.context).index(this[0])>=0:f.filter(a,this).length>0:this.filter(a).length>0)},closest:function(a,b){var c=[],d,e,g=this[0];if(f.isArray(a)){var h=1;while(g&&g.ownerDocument&&g!==b){for(d=0;d<a.length;d++)f(g).is(a[d])&&c.push({selector:a[d],elem:g,level:h});g=g.parentNode,h++}return c}var i=Q.test(a)||typeof a!="string"?f(a,b||this.context):0;for(d=0,e=this.length;d<e;d++){g=this[d];while(g){if(i?i.index(g)>-1:f.find.matchesSelector(g,a)){c.push(g);break}g=g.parentNode;if(!g||!g.ownerDocument||g===b||g.nodeType===11)break}}return c=c.length>1?f.unique(c):c,this.pushStack(c,"closest",a)},index:function(a){return a?typeof a=="string"?f.inArray(this[0],f(a)):f.inArray(a.jquery?a[0]:a,this):this[0]&&this[0].parentNode?this.prevAll().length:-1},add:function(a,b){var c=typeof a=="string"?f(a,b):f.makeArray(a&&a.nodeType?[a]:a),d=f.merge(this.get(),c);return this.pushStack(S(c[0])||S(d[0])?d:f.unique(d))},andSelf:function(){return this.add(this.prevObject)}}),f.each({parent:function(a){var b=a.parentNode;return b&&b.nodeType!==11?b:null},parents:function(a){return f.dir(a,"parentNode")},parentsUntil:function(a,b,c){return f.dir(a,"parentNode",c)},next:function(a){return f.nth(a,2,"nextSibling")},prev:function(a){return f.nth(a,2,"previousSibling")},nextAll:function(a){return f.dir(a,"nextSibling")},prevAll:function(a){return f.dir(a,"previousSibling")},nextUntil:function(a,b,c){return f.dir(a,"nextSibling",c)},prevUntil:function(a,b,c){return f.dir(a,"previousSibling",c)},siblings:function(a){return f.sibling(a.parentNode.firstChild,a)},children:function(a){return f.sibling(a.firstChild)},contents:function(a){return f.nodeName(a,"iframe")?a.contentDocument||a.contentWindow.document:f.makeArray(a.childNodes)}},function(a,b){f.fn[a]=function(c,d){var e=f.map(this,b,c);return L.test(a)||(d=c),d&&typeof d=="string"&&(e=f.filter(d,e)),e=this.length>1&&!R[a]?f.unique(e):e,(this.length>1||N.test(d))&&M.test(a)&&(e=e.reverse()),this.pushStack(e,a,P.call(arguments).join(","))}}),f.extend({filter:function(a,b,c){return c&&(a=":not("+a+")"),b.length===1?f.find.matchesSelector(b[0],a)?[b[0]]:[]:f.find.matches(a,b)},dir:function(a,c,d){var e=[],g=a[c];while(g&&g.nodeType!==9&&(d===b||g.nodeType!==1||!f(g).is(d)))g.nodeType===1&&e.push(g),g=g[c];return e},nth:function(a,b,c,d){b=b||1;var e=0;for(;a;a=a[c])if(a.nodeType===1&&++e===b)break;return a},sibling:function(a,b){var c=[];for(;a;a=a.nextSibling)a.nodeType===1&&a!==b&&c.push(a);return c}});var V="abbr|article|aside|audio|canvas|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",W=/ jQuery\d+="(?:\d+|null)"/g,X=/^\s+/,Y=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/ig,Z=/<([\w:]+)/,$=/<tbody/i,_=/<|&#?\w+;/,ba=/<(?:script|style)/i,bb=/<(?:script|object|embed|option|style)/i,bc=new RegExp("<(?:"+V+")","i"),bd=/checked\s*(?:[^=]|=\s*.checked.)/i,be=/\/(java|ecma)script/i,bf=/^\s*<!(?:\[CDATA\[|\-\-)/,bg={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]},bh=U(c);bg.optgroup=bg.option,bg.tbody=bg.tfoot=bg.colgroup=bg.caption=bg.thead,bg.th=bg.td,f.support.htmlSerialize||(bg._default=[1,"div<div>","</div>"]),f.fn.extend({text:function(a){return f.isFunction(a)?this.each(function(b){var c=f(this);c.text(a.call(this,b,c.text()))}):typeof a!="object"&&a!==b?this.empty().append((this[0]&&this[0].ownerDocument||c).createTextNode(a)):f.text(this)},wrapAll:function(a){if(f.isFunction(a))return this.each(function(b){f(this).wrapAll(a.call(this,b))});if(this[0]){var b=f(a,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&b.insertBefore(this[0]),b.map(function(){var a=this;while(a.firstChild&&a.firstChild.nodeType===1)a=a.firstChild;return a}).append(this)}return this},wrapInner:function(a){return f.isFunction(a)?this.each(function(b){f(this).wrapInner(a.call(this,b))}):this.each(function(){var b=f(this),c=b.contents();c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){var b=f.isFunction(a);return this.each(function(c){f(this).wrapAll(b?a.call(this,c):a)})},unwrap:function(){return this.parent().each(function(){f.nodeName(this,"body")||f(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,!0,function(a){this.nodeType===1&&this.appendChild(a)})},prepend:function(){return this.domManip(arguments,!0,function(a){this.nodeType===1&&this.insertBefore(a,this.firstChild)})},before:function(){if(this[0]&&this[0].parentNode)return this.domManip(arguments,!1,function(a){this.parentNode.insertBefore(a,this)});if(arguments.length){var a=f.clean(arguments);return a.push.apply(a,this.toArray()),this.pushStack(a,"before",arguments)}},after:function(){if(this[0]&&this[0].parentNode)return this.domManip(arguments,!1,function(a){this.parentNode.insertBefore(a,this.nextSibling)});if(arguments.length){var a=this.pushStack(this,"after",arguments);return a.push.apply(a,f.clean(arguments)),a}},remove:function(a,b){for(var c=0,d;(d=this[c])!=null;c++)if(!a||f.filter(a,[d]).length)!b&&d.nodeType===1&&(f.cleanData(d.getElementsByTagName("*")),f.cleanData([d])),d.parentNode&&d.parentNode.removeChild(d);return this},empty:function(){for(var a=0,b;(b=this[a])!=null;a++){b.nodeType===1&&f.cleanData(b.getElementsByTagName("*"));while(b.firstChild)b.removeChild(b.firstChild)}return this},clone:function(a,b){return a=a==null?!1:a,b=b==null?a:b,this.map(function(){return f.clone(this,a,b)})},html:function(a){if(a===b)return this[0]&&this[0].nodeType===1?this[0].innerHTML.replace(W,""):null;if(typeof a=="string"&&!ba.test(a)&&(f.support.leadingWhitespace||!X.test(a))&&!bg[(Z.exec(a)||["",""])[1].toLowerCase()]){a=a.replace(Y,"<$1></$2>");try{for(var c=0,d=this.length;c<d;c++)this[c].nodeType===1&&(f.cleanData(this[c].getElementsByTagName("*")),this[c].innerHTML=a)}catch(e){this.empty().append(a)}}else f.isFunction(a)?this.each(function(b){var c=f(this);c.html(a.call(this,b,c.html()))}):this.empty().append(a);return this},replaceWith:function(a){return this[0]&&this[0].parentNode?f.isFunction(a)?this.each(function(b){var c=f(this),d=c.html();c.replaceWith(a.call(this,b,d))}):(typeof a!="string"&&(a=f(a).detach()),this.each(function(){var b=this.nextSibling,c=this.parentNode;f(this).remove(),b?f(b).before(a):f(c).append(a)})):this.length?this.pushStack(f(f.isFunction(a)?a():a),"replaceWith",a):this},detach:function(a){return this.remove(a,!0)},domManip:function(a,c,d){var e,g,h,i,j=a[0],k=[];if(!f.support.checkClone&&arguments.length===3&&typeof j=="string"&&bd.test(j))return this.each(function(){f(this).domManip(a,c,d,!0)});if(f.isFunction(j))return this.each(function(e){var g=f(this);a[0]=j.call(this,e,c?g.html():b),g.domManip(a,c,d)});if(this[0]){i=j&&j.parentNode,f.support.parentNode&&i&&i.nodeType===11&&i.childNodes.length===this.length?e={fragment:i}:e=f.buildFragment(a,this,k),h=e.fragment,h.childNodes.length===1?g=h=h.firstChild:g=h.firstChild;if(g){c=c&&f.nodeName(g,"tr");for(var l=0,m=this.length,n=m-1;l<m;l++)d.call(c?bi(this[l],g):this[l],e.cacheable||m>1&&l<n?f.clone(h,!0,!0):h)}k.length&&f.each(k,bp)}return this}}),f.buildFragment=function(a,b,d){var e,g,h,i,j=a[0];return b&&b[0]&&(i=b[0].ownerDocument||b[0]),i.createDocumentFragment||(i=c),a.length===1&&typeof j=="string"&&j.length<512&&i===c&&j.charAt(0)==="<"&&!bb.test(j)&&(f.support.checkClone||!bd.test(j))&&(f.support.html5Clone||!bc.test(j))&&(g=!0,h=f.fragments[j],h&&h!==1&&(e=h)),e||(e=i.createDocumentFragment(),f.clean(a,i,e,d)),g&&(f.fragments[j]=h?e:1),{fragment:e,cacheable:g}},f.fragments={},f.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){f.fn[a]=function(c){var d=[],e=f(c),g=this.length===1&&this[0].parentNode;if(g&&g.nodeType===11&&g.childNodes.length===1&&e.length===1)return e[b](this[0]),this;for(var h=0,i=e.length;h<i;h++){var j=(h>0?this.clone(!0):this).get();f(e[h])[b](j),d=d.concat(j)}return this.pushStack(d,a,e.selector)}}),f.extend({clone:function(a,b,c){var d,e,g,h=f.support.html5Clone||!bc.test("<"+a.nodeName)?a.cloneNode(!0):bo(a);if((!f.support.noCloneEvent||!f.support.noCloneChecked)&&(a.nodeType===1||a.nodeType===11)&&!f.isXMLDoc(a)){bk(a,h),d=bl(a),e=bl(h);for(g=0;d[g];++g)e[g]&&bk(d[g],e[g])}if(b){bj(a,h);if(c){d=bl(a),e=bl(h);for(g=0;d[g];++g)bj(d[g],e[g])}}return d=e=null,h},clean:function(a,b,d,e){var g;b=b||c,typeof b.createElement=="undefined"&&(b=b.ownerDocument||b[0]&&b[0].ownerDocument||c);var h=[],i;for(var j=0,k;(k=a[j])!=null;j++){typeof k=="number"&&(k+="");if(!k)continue;if(typeof k=="string")if(!_.test(k))k=b.createTextNode(k);else{k=k.replace(Y,"<$1></$2>");var l=(Z.exec(k)||["",""])[1].toLowerCase(),m=bg[l]||bg._default,n=m[0],o=b.createElement("div");b===c?bh.appendChild(o):U(b).appendChild(o),o.innerHTML=m[1]+k+m[2];while(n--)o=o.lastChild;if(!f.support.tbody){var p=$.test(k),q=l==="table"&&!p?o.firstChild&&o.firstChild.childNodes:m[1]==="<table>"&&!p?o.childNodes:[];for(i=q.length-1;i>=0;--i)f.nodeName(q[i],"tbody")&&!q[i].childNodes.length&&q[i].parentNode.removeChild(q[i])}!f.support.leadingWhitespace&&X.test(k)&&o.insertBefore(b.createTextNode(X.exec(k)[0]),o.firstChild),k=o.childNodes}var r;if(!f.support.appendChecked)if(k[0]&&typeof (r=k.length)=="number")for(i=0;i<r;i++)bn(k[i]);else bn(k);k.nodeType?h.push(k):h=f.merge(h,k)}if(d){g=function(a){return!a.type||be.test(a.type)};for(j=0;h[j];j++)if(e&&f.nodeName(h[j],"script")&&(!h[j].type||h[j].type.toLowerCase()==="text/javascript"))e.push(h[j].parentNode?h[j].parentNode.removeChild(h[j]):h[j]);else{if(h[j].nodeType===1){var s=f.grep(h[j].getElementsByTagName("script"),g);h.splice.apply(h,[j+1,0].concat(s))}d.appendChild(h[j])}}return h},cleanData:function(a){var b,c,d=f.cache,e=f.event.special,g=f.support.deleteExpando;for(var h=0,i;(i=a[h])!=null;h++){if(i.nodeName&&f.noData[i.nodeName.toLowerCase()])continue;c=i[f.expando];if(c){b=d[c];if(b&&b.events){for(var j in b.events)e[j]?f.event.remove(i,j):f.removeEvent(i,j,b.handle);b.handle&&(b.handle.elem=null)}g?delete i[f.expando]:i.removeAttribute&&i.removeAttribute(f.expando),delete d[c]}}}});var bq=/alpha\([^)]*\)/i,br=/opacity=([^)]*)/,bs=/([A-Z]|^ms)/g,bt=/^-?\d+(?:px)?$/i,bu=/^-?\d/,bv=/^([\-+])=([\-+.\de]+)/,bw={position:"absolute",visibility:"hidden",display:"block"},bx=["Left","Right"],by=["Top","Bottom"],bz,bA,bB;f.fn.css=function(a,c){return arguments.length===2&&c===b?this:f.access(this,a,c,!0,function(a,c,d){return d!==b?f.style(a,c,d):f.css(a,c)})},f.extend({cssHooks:{opacity:{get:function(a,b){if(b){var c=bz(a,"opacity","opacity");return c===""?"1":c}return a.style.opacity}}},cssNumber:{fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":f.support.cssFloat?"cssFloat":"styleFloat"},style:function(a,c,d,e){if(!a||a.nodeType===3||a.nodeType===8||!a.style)return;var g,h,i=f.camelCase(c),j=a.style,k=f.cssHooks[i];c=f.cssProps[i]||i;if(d===b)return k&&"get"in k&&(g=k.get(a,!1,e))!==b?g:j[c];h=typeof d,h==="string"&&(g=bv.exec(d))&&(d=+(g[1]+1)*+g[2]+parseFloat(f.css(a,c)),h="number");if(d==null||h==="number"&&isNaN(d))return;h==="number"&&!f.cssNumber[i]&&(d+="px");if(!k||!("set"in k)||(d=k.set(a,d))!==b)try{j[c]=d}catch(l){}},css:function(a,c,d){var e,g;c=f.camelCase(c),g=f.cssHooks[c],c=f.cssProps[c]||c,c==="cssFloat"&&(c="float");if(g&&"get"in g&&(e=g.get(a,!0,d))!==b)return e;if(bz)return bz(a,c)},swap:function(a,b,c){var d={};for(var e in b)d[e]=a.style[e],a.style[e]=b[e];c.call(a);for(e in b)a.style[e]=d[e]}}),f.curCSS=f.css,f.each(["height","width"],function(a,b){f.cssHooks[b]={get:function(a,c,d){var e;if(c)return a.offsetWidth!==0?bC(a,b,d):(f.swap(a,bw,function(){e=bC(a,b,d)}),e)},set:function(a,b){if(!bt.test(b))return b;b=parseFloat(b);if(b>=0)return b+"px"}}}),f.support.opacity||(f.cssHooks.opacity={get:function(a,b){return br.test((b&&a.currentStyle?a.currentStyle.filter:a.style.filter)||"")?parseFloat(RegExp.$1)/100+"":b?"1":""},set:function(a,b){var c=a.style,d=a.currentStyle,e=f.isNumeric(b)?"alpha(opacity="+b*100+")":"",g=d&&d.filter||c.filter||"";c.zoom=1;if(b>=1&&f.trim(g.replace(bq,""))===""){c.removeAttribute("filter");if(d&&!d.filter)return}c.filter=bq.test(g)?g.replace(bq,e):g+" "+e}}),f(function(){f.support.reliableMarginRight||(f.cssHooks.marginRight={get:function(a,b){var c;return f.swap(a,{display:"inline-block"},function(){b?c=bz(a,"margin-right","marginRight"):c=a.style.marginRight}),c}})}),c.defaultView&&c.defaultView.getComputedStyle&&(bA=function(a,b){var c,d,e;return b=b.replace(bs,"-$1").toLowerCase(),(d=a.ownerDocument.defaultView)&&(e=d.getComputedStyle(a,null))&&(c=e.getPropertyValue(b),c===""&&!f.contains(a.ownerDocument.documentElement,a)&&(c=f.style(a,b))),c}),c.documentElement.currentStyle&&(bB=function(a,b){var c,d,e,f=a.currentStyle&&a.currentStyle[b],g=a.style;return f===null&&g&&(e=g[b])&&(f=e),!bt.test(f)&&bu.test(f)&&(c=g.left,d=a.runtimeStyle&&a.runtimeStyle.left,d&&(a.runtimeStyle.left=a.currentStyle.left),g.left=b==="fontSize"?"1em":f||0,f=g.pixelLeft+"px",g.left=c,d&&(a.runtimeStyle.left=d)),f===""?"auto":f}),bz=bA||bB,f.expr&&f.expr.filters&&(f.expr.filters.hidden=function(a){var b=a.offsetWidth,c=a.offsetHeight;return b===0&&c===0||!f.support.reliableHiddenOffsets&&(a.style&&a.style.display||f.css(a,"display"))==="none"},f.expr.filters.visible=function(a){return!f.expr.filters.hidden(a)});var bD=/%20/g,bE=/\[\]$/,bF=/\r?\n/g,bG=/#.*$/,bH=/^(.*?):[ \t]*([^\r\n]*)\r?$/mg,bI=/^(?:color|date|datetime|datetime-local|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i,bJ=/^(?:about|app|app\-storage|.+\-extension|file|res|widget):$/,bK=/^(?:GET|HEAD)$/,bL=/^\/\//,bM=/\?/,bN=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,bO=/^(?:select|textarea)/i,bP=/\s+/,bQ=/([?&])_=[^&]*/,bR=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+))?)?/,bS=f.fn.load,bT={},bU={},bV,bW,bX=["*/"]+["*"];try{bV=e.href}catch(bY){bV=c.createElement("a"),bV.href="",bV=bV.href}bW=bR.exec(bV.toLowerCase())||[],f.fn.extend({load:function(a,c,d){if(typeof a!="string"&&bS)return bS.apply(this,arguments);if(!this.length)return this;var e=a.indexOf(" ");if(e>=0){var g=a.slice(e,a.length);a=a.slice(0,e)}var h="GET";c&&(f.isFunction(c)?(d=c,c=b):typeof c=="object"&&(c=f.param(c,f.ajaxSettings.traditional),h="POST"));var i=this;return f.ajax({url:a,type:h,dataType:"html",data:c,complete:function(a,b,c){c=a.responseText,a.isResolved()&&(a.done(function(a){c=a}),i.html(g?f("<div>").append(c.replace(bN,"")).find(g):c)),d&&i.each(d,[c,b,a])}}),this},serialize:function(){return f.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?f.makeArray(this.elements):this}).filter(function(){return this.name&&!this.disabled&&(this.checked||bO.test(this.nodeName)||bI.test(this.type))}).map(function(a,b){var c=f(this).val();return c==null?null:f.isArray(c)?f.map(c,function(a,c){return{name:b.name,value:a.replace(bF,"\r\n")}}):{name:b.name,value:c.replace(bF,"\r\n")}}).get()}}),f.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(a,b){f.fn[b]=function(a){return this.on(b,a)}}),f.each(["get","post"],function(a,c){f[c]=function(a,d,e,g){return f.isFunction(d)&&(g=g||e,e=d,d=b),f.ajax({type:c,url:a,data:d,success:e,dataType:g})}}),f.extend({getScript:function(a,c){return f.get(a,b,c,"script")},getJSON:function(a,b,c){return f.get(a,b,c,"json")},ajaxSetup:function(a,b){return b?b_(a,f.ajaxSettings):(b=a,a=f.ajaxSettings),b_(a,b),a},ajaxSettings:{url:bV,isLocal:bJ.test(bW[1]),global:!0,type:"GET",contentType:"application/x-www-form-urlencoded",processData:!0,async:!0,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript","*":bX},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":a.String,"text html":!0,"text json":f.parseJSON,"text xml":f.parseXML},flatOptions:{context:!0,url:!0}},ajaxPrefilter:bZ(bT),ajaxTransport:bZ(bU),ajax:function(a,c){function w(a,c,l,m){if(s===2)return;s=2,q&&clearTimeout(q),p=b,n=m||"",v.readyState=a>0?4:0;var o,r,u,w=c,x=l?cb(d,v,l):b,y,z;if(a>=200&&a<300||a===304){if(d.ifModified){if(y=v.getResponseHeader("Last-Modified"))f.lastModified[k]=y;if(z=v.getResponseHeader("Etag"))f.etag[k]=z}if(a===304)w="notmodified",o=!0;else try{r=cc(d,x),w="success",o=!0}catch(A){w="parsererror",u=A}}else{u=w;if(!w||a)w="error",a<0&&(a=0)}v.status=a,v.statusText=""+(c||w),o?h.resolveWith(e,[r,w,v]):h.rejectWith(e,[v,w,u]),v.statusCode(j),j=b,t&&g.trigger("ajax"+(o?"Success":"Error"),[v,d,o?r:u]),i.fireWith(e,[v,w]),t&&(g.trigger("ajaxComplete",[v,d]),--f.active||f.event.trigger("ajaxStop"))}typeof a=="object"&&(c=a,a=b),c=c||{};var d=f.ajaxSetup({},c),e=d.context||d,g=e!==d&&(e.nodeType||e instanceof f)?f(e):f.event,h=f.Deferred(),i=f.Callbacks("once memory"),j=d.statusCode||{},k,l={},m={},n,o,p,q,r,s=0,t,u,v={readyState:0,setRequestHeader:function(a,b){if(!s){var c=a.toLowerCase();a=m[c]=m[c]||a,l[a]=b}return this},getAllResponseHeaders:function(){return s===2?n:null},getResponseHeader:function(a){var c;if(s===2){if(!o){o={};while(c=bH.exec(n))o[c[1].toLowerCase()]=c[2]}c=o[a.toLowerCase()]}return c===b?null:c},overrideMimeType:function(a){return s||(d.mimeType=a),this},abort:function(a){return a=a||"abort",p&&p.abort(a),w(0,a),this}};h.promise(v),v.success=v.done,v.error=v.fail,v.complete=i.add,v.statusCode=function(a){if(a){var b;if(s<2)for(b in a)j[b]=[j[b],a[b]];else b=a[v.status],v.then(b,b)}return this},d.url=((a||d.url)+"").replace(bG,"").replace(bL,bW[1]+"//"),d.dataTypes=f.trim(d.dataType||"*").toLowerCase().split(bP),d.crossDomain==null&&(r=bR.exec(d.url.toLowerCase()),d.crossDomain=!(!r||r[1]==bW[1]&&r[2]==bW[2]&&(r[3]||(r[1]==="http:"?80:443))==(bW[3]||(bW[1]==="http:"?80:443)))),d.data&&d.processData&&typeof d.data!="string"&&(d.data=f.param(d.data,d.traditional)),b$(bT,d,c,v);if(s===2)return!1;t=d.global,d.type=d.type.toUpperCase(),d.hasContent=!bK.test(d.type),t&&f.active++===0&&f.event.trigger("ajaxStart");if(!d.hasContent){d.data&&(d.url+=(bM.test(d.url)?"&":"?")+d.data,delete d.data),k=d.url;if(d.cache===!1){var x=f.now(),y=d.url.replace(bQ,"$1_="+x);d.url=y+(y===d.url?(bM.test(d.url)?"&":"?")+"_="+x:"")}}(d.data&&d.hasContent&&d.contentType!==!1||c.contentType)&&v.setRequestHeader("Content-Type",d.contentType),d.ifModified&&(k=k||d.url,f.lastModified[k]&&v.setRequestHeader("If-Modified-Since",f.lastModified[k]),f.etag[k]&&v.setRequestHeader("If-None-Match",f.etag[k])),v.setRequestHeader("Accept",d.dataTypes[0]&&d.accepts[d.dataTypes[0]]?d.accepts[d.dataTypes[0]]+(d.dataTypes[0]!=="*"?", "+bX+"; q=0.01":""):d.accepts["*"]);for(u in d.headers)v.setRequestHeader(u,d.headers[u]);if(!d.beforeSend||d.beforeSend.call(e,v,d)!==!1&&s!==2){for(u in{success:1,error:1,complete:1})v[u](d[u]);p=b$(bU,d,c,v);if(!p)w(-1,"No Transport");else{v.readyState=1,t&&g.trigger("ajaxSend",[v,d]),d.async&&d.timeout>0&&(q=setTimeout(function(){v.abort("timeout")},d.timeout));try{s=1,p.send(l,w)}catch(z){if(s<2)w(-1,z);else throw z}}return v}return v.abort(),!1},param:function(a,c){var d=[],e=function(a,b){b=f.isFunction(b)?b():b,d[d.length]=encodeURIComponent(a)+"="+encodeURIComponent(b)};c===b&&(c=f.ajaxSettings.traditional);if(f.isArray(a)||a.jquery&&!f.isPlainObject(a))f.each(a,function(){e(this.name,this.value)});else for(var g in a)ca(g,a[g],c,e);return d.join("&").replace(bD,"+")}}),f.extend({active:0,lastModified:{},etag:{}});var cd=f.now(),ce=/(\=)\?(&|$)|\?\?/i;f.ajaxSetup({jsonp:"callback",jsonpCallback:function(){return f.expando+"_"+cd++}}),f.ajaxPrefilter("json jsonp",function(b,c,d){var e=b.contentType==="application/x-www-form-urlencoded"&&typeof b.data=="string";if(b.dataTypes[0]==="jsonp"||b.jsonp!==!1&&(ce.test(b.url)||e&&ce.test(b.data))){var g,h=b.jsonpCallback=f.isFunction(b.jsonpCallback)?b.jsonpCallback():b.jsonpCallback,i=a[h],j=b.url,k=b.data,l="$1"+h+"$2";return b.jsonp!==!1&&(j=j.replace(ce,l),b.url===j&&(e&&(k=k.replace(ce,l)),b.data===k&&(j+=(/\?/.test(j)?"&":"?")+b.jsonp+"="+h))),b.url=j,b.data=k,a[h]=function(a){g=[a]},d.always(function(){a[h]=i,g&&f.isFunction(i)&&a[h](g[0])}),b.converters["script json"]=function(){return g||f.error(h+" was not called"),g[0]},b.dataTypes[0]="json","script"}}),f.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/javascript|ecmascript/},converters:{"text script":function(a){return f.globalEval(a),a}}}),f.ajaxPrefilter("script",function(a){a.cache===b&&(a.cache=!1),a.crossDomain&&(a.type="GET",a.global=!1)}),f.ajaxTransport("script",function(a){if(a.crossDomain){var d,e=c.head||c.getElementsByTagName("head")[0]||c.documentElement;return{send:function(f,g){d=c.createElement("script"),d.async="async",a.scriptCharset&&(d.charset=a.scriptCharset),d.src=a.url,d.onload=d.onreadystatechange=function(a,c){if(c||!d.readyState||/loaded|complete/.test(d.readyState))d.onload=d.onreadystatechange=null,e&&d.parentNode&&e.removeChild(d),d=b,c||g(200,"success")},e.insertBefore(d,e.firstChild)},abort:function(){d&&d.onload(0,1)}}}});var cf=a.ActiveXObject?function(){for(var a in ch)ch[a](0,1)}:!1,cg=0,ch;f.ajaxSettings.xhr=a.ActiveXObject?function(){return!this.isLocal&&ci()||cj()}:ci,function(a){f.extend(f.support,{ajax:!!a,cors:!!a&&"withCredentials"in a})}(f.ajaxSettings.xhr()),f.support.ajax&&f.ajaxTransport(function(c){if(!c.crossDomain||f.support.cors){var d;return{send:function(e,g){var h=c.xhr(),i,j;c.username?h.open(c.type,c.url,c.async,c.username,c.password):h.open(c.type,c.url,c.async);if(c.xhrFields)for(j in c.xhrFields)h[j]=c.xhrFields[j];c.mimeType&&h.overrideMimeType&&h.overrideMimeType(c.mimeType),!c.crossDomain&&!e["X-Requested-With"]&&(e["X-Requested-With"]="XMLHttpRequest");try{for(j in e)h.setRequestHeader(j,e[j])}catch(k){}h.send(c.hasContent&&c.data||null),d=function(a,e){var j,k,l,m,n;try{if(d&&(e||h.readyState===4)){d=b,i&&(h.onreadystatechange=f.noop,cf&&delete ch[i]);if(e)h.readyState!==4&&h.abort();else{j=h.status,l=h.getAllResponseHeaders(),m={},n=h.responseXML,n&&n.documentElement&&(m.xml=n),m.text=h.responseText;try{k=h.statusText}catch(o){k=""}!j&&c.isLocal&&!c.crossDomain?j=m.text?200:404:j===1223&&(j=204)}}}catch(p){e||g(-1,p)}m&&g(j,k,m,l)},!c.async||h.readyState===4?d():(i=++cg,cf&&(ch||(ch={},f(a).unload(cf)),ch[i]=d),h.onreadystatechange=d)},abort:function(){d&&d(0,1)}}}});var ck={},cl,cm,cn=/^(?:toggle|show|hide)$/,co=/^([+\-]=)?([\d+.\-]+)([a-z%]*)$/i,cp,cq=[["height","marginTop","marginBottom","paddingTop","paddingBottom"],["width","marginLeft","marginRight","paddingLeft","paddingRight"],["opacity"]],cr;f.fn.extend({show:function(a,b,c){var d,e;if(a||a===0)return this.animate(cu("show",3),a,b,c);for(var g=0,h=this.length;g<h;g++)d=this[g],d.style&&(e=d.style.display,!f._data(d,"olddisplay")&&e==="none"&&(e=d.style.display=""),e===""&&f.css(d,"display")==="none"&&f._data(d,"olddisplay",cv(d.nodeName)));for(g=0;g<h;g++){d=this[g];if(d.style){e=d.style.display;if(e===""||e==="none")d.style.display=f._data(d,"olddisplay")||""}}return this},hide:function(a,b,c){if(a||a===0)return this.animate(cu("hide",3),a,b,c);var d,e,g=0,h=this.length;for(;g<h;g++)d=this[g],d.style&&(e=f.css(d,"display"),e!=="none"&&!f._data(d,"olddisplay")&&f._data(d,"olddisplay",e));for(g=0;g<h;g++)this[g].style&&(this[g].style.display="none");return this},_toggle:f.fn.toggle,toggle:function(a,b,c){var d=typeof a=="boolean";return f.isFunction(a)&&f.isFunction(b)?this._toggle.apply(this,arguments):a==null||d?this.each(function(){var b=d?a:f(this).is(":hidden");f(this)[b?"show":"hide"]()}):this.animate(cu("toggle",3),a,b,c),this},fadeTo:function(a,b,c,d){return this.filter(":hidden").css("opacity",0).show().end().animate({opacity:b},a,c,d)},animate:function(a,b,c,d){function g(){e.queue===!1&&f._mark(this);var b=f.extend({},e),c=this.nodeType===1,d=c&&f(this).is(":hidden"),g,h,i,j,k,l,m,n,o;b.animatedProperties={};for(i in a){g=f.camelCase(i),i!==g&&(a[g]=a[i],delete a[i]),h=a[g],f.isArray(h)?(b.animatedProperties[g]=h[1],h=a[g]=h[0]):b.animatedProperties[g]=b.specialEasing&&b.specialEasing[g]||b.easing||"swing";if(h==="hide"&&d||h==="show"&&!d)return b.complete.call(this);c&&(g==="height"||g==="width")&&(b.overflow=[this.style.overflow,this.style.overflowX,this.style.overflowY],f.css(this,"display")==="inline"&&f.css(this,"float")==="none"&&(!f.support.inlineBlockNeedsLayout||cv(this.nodeName)==="inline"?this.style.display="inline-block":this.style.zoom=1))}b.overflow!=null&&(this.style.overflow="hidden");for(i in a)j=new f.fx(this,b,i),h=a[i],cn.test(h)?(o=f._data(this,"toggle"+i)||(h==="toggle"?d?"show":"hide":0),o?(f._data(this,"toggle"+i,o==="show"?"hide":"show"),j[o]()):j[h]()):(k=co.exec(h),l=j.cur(),k?(m=parseFloat(k[2]),n=k[3]||(f.cssNumber[i]?"":"px"),n!=="px"&&(f.style(this,i,(m||1)+n),l=(m||1)/j.cur()*l,f.style(this,i,l+n)),k[1]&&(m=(k[1]==="-="?-1:1)*m+l),j.custom(l,m,n)):j.custom(l,h,""));return!0}var e=f.speed(b,c,d);return f.isEmptyObject(a)?this.each(e.complete,[!1]):(a=f.extend({},a),e.queue===!1?this.each(g):this.queue(e.queue,g))},stop:function(a,c,d){return typeof a!="string"&&(d=c,c=a,a=b),c&&a!==!1&&this.queue(a||"fx",[]),this.each(function(){function h(a,b,c){var e=b[c];f.removeData(a,c,!0),e.stop(d)}var b,c=!1,e=f.timers,g=f._data(this);d||f._unmark(!0,this);if(a==null)for(b in g)g[b]&&g[b].stop&&b.indexOf(".run")===b.length-4&&h(this,g,b);else g[b=a+".run"]&&g[b].stop&&h(this,g,b);for(b=e.length;b--;)e[b].elem===this&&(a==null||e[b].queue===a)&&(d?e[b](!0):e[b].saveState(),c=!0,e.splice(b,1));(!d||!c)&&f.dequeue(this,a)})}}),f.each({slideDown:cu("show",1),slideUp:cu("hide",1),slideToggle:cu("toggle",1),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){f.fn[a]=function(a,c,d){return this.animate(b,a,c,d)}}),f.extend({speed:function(a,b,c){var d=a&&typeof a=="object"?f.extend({},a):{complete:c||!c&&b||f.isFunction(a)&&a,duration:a,easing:c&&b||b&&!f.isFunction(b)&&b};d.duration=f.fx.off?0:typeof d.duration=="number"?d.duration:d.duration in f.fx.speeds?f.fx.speeds[d.duration]:f.fx.speeds._default;if(d.queue==null||d.queue===!0)d.queue="fx";return d.old=d.complete,d.complete=function(a){f.isFunction(d.old)&&d.old.call(this),d.queue?f.dequeue(this,d.queue):a!==!1&&f._unmark(this)},d},easing:{linear:function(a,b,c,d){return c+d*a},swing:function(a,b,c,d){return(-Math.cos(a*Math.PI)/2+.5)*d+c}},timers:[],fx:function(a,b,c){this.options=b,this.elem=a,this.prop=c,b.orig=b.orig||{}}}),f.fx.prototype={update:function(){this.options.step&&this.options.step.call(this.elem,this.now,this),(f.fx.step[this.prop]||f.fx.step._default)(this)},cur:function(){if(this.elem[this.prop]==null||!!this.elem.style&&this.elem.style[this.prop]!=null){var a,b=f.css(this.elem,this.prop);return isNaN(a=parseFloat(b))?!b||b==="auto"?0:b:a}return this.elem[this.prop]},custom:function(a,c,d){function h(a){return e.step(a)}var e=this,g=f.fx;this.startTime=cr||cs(),this.end=c,this.now=this.start=a,this.pos=this.state=0,this.unit=d||this.unit||(f.cssNumber[this.prop]?"":"px"),h.queue=this.options.queue,h.elem=this.elem,h.saveState=function(){e.options.hide&&f._data(e.elem,"fxshow"+e.prop)===b&&f._data(e.elem,"fxshow"+e.prop,e.start)},h()&&f.timers.push(h)&&!cp&&(cp=setInterval(g.tick,g.interval))},show:function(){var a=f._data(this.elem,"fxshow"+this.prop);this.options.orig[this.prop]=a||f.style(this.elem,this.prop),this.options.show=!0,a!==b?this.custom(this.cur(),a):this.custom(this.prop==="width"||this.prop==="height"?1:0,this.cur()),f(this.elem).show()},hide:function(){this.options.orig[this.prop]=f._data(this.elem,"fxshow"+this.prop)||f.style(this.elem,this.prop),this.options.hide=!0,this.custom(this.cur(),0)},step:function(a){var b,c,d,e=cr||cs(),g=!0,h=this.elem,i=this.options;if(a||e>=i.duration+this.startTime){this.now=this.end,this.pos=this.state=1,this.update(),i.animatedProperties[this.prop]=!0;for(b in i.animatedProperties)i.animatedProperties[b]!==!0&&(g=!1);if(g){i.overflow!=null&&!f.support.shrinkWrapBlocks&&f.each(["","X","Y"],function(a,b){h.style["overflow"+b]=i.overflow[a]}),i.hide&&f(h).hide();if(i.hide||i.show)for(b in i.animatedProperties)f.style(h,b,i.orig[b]),f.removeData(h,"fxshow"+b,!0),f.removeData(h,"toggle"+b,!0);d=i.complete,d&&(i.complete=!1,d.call(h))}return!1}return i.duration==Infinity?this.now=e:(c=e-this.startTime,this.state=c/i.duration,this.pos=f.easing[i.animatedProperties[this.prop]](this.state,c,0,1,i.duration),this.now=this.start+(this.end-this.start)*this.pos),this.update(),!0}},f.extend(f.fx,{tick:function(){var a,b=f.timers,c=0;for(;c<b.length;c++)a=b[c],!a()&&b[c]===a&&b.splice(c--,1);b.length||f.fx.stop()},interval:13,stop:function(){clearInterval(cp),cp=null},speeds:{slow:600,fast:200,_default:400},step:{opacity:function(a){f.style(a.elem,"opacity",a.now)},_default:function(a){a.elem.style&&a.elem.style[a.prop]!=null?a.elem.style[a.prop]=a.now+a.unit:a.elem[a.prop]=a.now}}}),f.each(["width","height"],function(a,b){f.fx.step[b]=function(a){f.style(a.elem,b,Math.max(0,a.now)+a.unit)}}),f.expr&&f.expr.filters&&(f.expr.filters.animated=function(a){return f.grep(f.timers,function(b){return a===b.elem}).length});var cw=/^t(?:able|d|h)$/i,cx=/^(?:body|html)$/i;"getBoundingClientRect"in c.documentElement?f.fn.offset=function(a){var b=this[0],c;if(a)return this.each(function(b){f.offset.setOffset(this,a,b)});if(!b||!b.ownerDocument)return null;if(b===b.ownerDocument.body)return f.offset.bodyOffset(b);try{c=b.getBoundingClientRect()}catch(d){}var e=b.ownerDocument,g=e.documentElement;if(!c||!f.contains(g,b))return c?{top:c.top,left:c.left}:{top:0,left:0};var h=e.body,i=cy(e),j=g.clientTop||h.clientTop||0,k=g.clientLeft||h.clientLeft||0,l=i.pageYOffset||f.support.boxModel&&g.scrollTop||h.scrollTop,m=i.pageXOffset||f.support.boxModel&&g.scrollLeft||h.scrollLeft,n=c.top+l-j,o=c.left+m-k;return{top:n,left:o}}:f.fn.offset=function(a){var b=this[0];if(a)return this.each(function(b){f.offset.setOffset(this,a,b)});if(!b||!b.ownerDocument)return null;if(b===b.ownerDocument.body)return f.offset.bodyOffset(b);var c,d=b.offsetParent,e=b,g=b.ownerDocument,h=g.documentElement,i=g.body,j=g.defaultView,k=j?j.getComputedStyle(b,null):b.currentStyle,l=b.offsetTop,m=b.offsetLeft;while((b=b.parentNode)&&b!==i&&b!==h){if(f.support.fixedPosition&&k.position==="fixed")break;c=j?j.getComputedStyle(b,null):b.currentStyle,l-=b.scrollTop,m-=b.scrollLeft,b===d&&(l+=b.offsetTop,m+=b.offsetLeft,f.support.doesNotAddBorder&&(!f.support.doesAddBorderForTableAndCells||!cw.test(b.nodeName))&&(l+=parseFloat(c.borderTopWidth)||0,m+=parseFloat(c.borderLeftWidth)||0),e=d,d=b.offsetParent),f.support.subtractsBorderForOverflowNotVisible&&c.overflow!=="visible"&&(l+=parseFloat(c.borderTopWidth)||0,m+=parseFloat(c.borderLeftWidth)||0),k=c}if(k.position==="relative"||k.position==="static")l+=i.offsetTop,m+=i.offsetLeft;return f.support.fixedPosition&&k.position==="fixed"&&(l+=Math.max(h.scrollTop,i.scrollTop),m+=Math.max(h.scrollLeft,i.scrollLeft)),{top:l,left:m}},f.offset={bodyOffset:function(a){var b=a.offsetTop,c=a.offsetLeft;return f.support.doesNotIncludeMarginInBodyOffset&&(b+=parseFloat(f.css(a,"marginTop"))||0,c+=parseFloat(f.css(a,"marginLeft"))||0),{top:b,left:c}},setOffset:function(a,b,c){var d=f.css(a,"position");d==="static"&&(a.style.position="relative");var e=f(a),g=e.offset(),h=f.css(a,"top"),i=f.css(a,"left"),j=(d==="absolute"||d==="fixed")&&f.inArray("auto",[h,i])>-1,k={},l={},m,n;j?(l=e.position(),m=l.top,n=l.left):(m=parseFloat(h)||0,n=parseFloat(i)||0),f.isFunction(b)&&(b=b.call(a,c,g)),b.top!=null&&(k.top=b.top-g.top+m),b.left!=null&&(k.left=b.left-g.left+n),"using"in b?b.using.call(a,k):e.css(k)}},f.fn.extend({position:function(){if(!this[0])return null;var a=this[0],b=this.offsetParent(),c=this.offset(),d=cx.test(b[0].nodeName)?{top:0,left:0}:b.offset();return c.top-=parseFloat(f.css(a,"marginTop"))||0,c.left-=parseFloat(f.css(a,"marginLeft"))||0,d.top+=parseFloat(f.css(b[0],"borderTopWidth"))||0,d.left+=parseFloat(f.css(b[0],"borderLeftWidth"))||0,{top:c.top-d.top,left:c.left-d.left}},offsetParent:function(){return this.map(function(){var a=this.offsetParent||c.body;while(a&&!cx.test(a.nodeName)&&f.css(a,"position")==="static")a=a.offsetParent;return a})}}),f.each(["Left","Top"],function(a,c){var d="scroll"+c;f.fn[d]=function(c){var e,g;return c===b?(e=this[0],e?(g=cy(e),g?"pageXOffset"in g?g[a?"pageYOffset":"pageXOffset"]:f.support.boxModel&&g.document.documentElement[d]||g.document.body[d]:e[d]):null):this.each(function(){g=cy(this),g?g.scrollTo(a?f(g).scrollLeft():c,a?c:f(g).scrollTop()):this[d]=c})}}),f.each(["Height","Width"],function(a,c){var d=c.toLowerCase();f.fn["inner"+c]=function(){var a=this[0];return a?a.style?parseFloat(f.css(a,d,"padding")):this[d]():null},f.fn["outer"+c]=function(a){var b=this[0];return b?b.style?parseFloat(f.css(b,d,a?"margin":"border")):this[d]():null},f.fn[d]=function(a){var e=this[0];if(!e)return a==null?null:this;if(f.isFunction(a))return this.each(function(b){var c=f(this);c[d](a.call(this,b,c[d]()))});if(f.isWindow(e)){var g=e.document.documentElement["client"+c],h=e.document.body;return e.document.compatMode==="CSS1Compat"&&g||h&&h["client"+c]||g}if(e.nodeType===9)return Math.max(e.documentElement["client"+c],e.body["scroll"+c],e.documentElement["scroll"+c],e.body["offset"+c],e.documentElement["offset"+c]);if(a===b){var i=f.css(e,d),j=parseFloat(i);return f.isNumeric(j)?j:i}return this.css(d,typeof a=="string"?a:a+"px")}}),a.jQuery=a.$=f,typeof define=="function"&&define.amd&&define.amd.jQuery&&define("jquery",[],function(){return f})})(window)
;(function(a,b){function c(b,c){var e=b.nodeName.toLowerCase();if("area"===e){var f=b.parentNode,g=f.name,h;return!b.href||!g||f.nodeName.toLowerCase()!=="map"?!1:(h=a("img[usemap=#"+g+"]")[0],!!h&&d(h))}return(/input|select|textarea|button|object/.test(e)?!b.disabled:"a"==e?b.href||c:c)&&d(b)}function d(b){return!a(b).parents().andSelf().filter(function(){return a.curCSS(this,"visibility")==="hidden"||a.expr.filters.hidden(this)}).length}a.ui=a.ui||{};if(a.ui.version)return;a.extend(a.ui,{version:"1.8.17",keyCode:{ALT:18,BACKSPACE:8,CAPS_LOCK:20,COMMA:188,COMMAND:91,COMMAND_LEFT:91,COMMAND_RIGHT:93,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,MENU:93,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,WINDOWS:91}}),a.fn.extend({propAttr:a.fn.prop||a.fn.attr,_focus:a.fn.focus,focus:function(b,c){return typeof b=="number"?this.each(function(){var d=this;setTimeout(function(){a(d).focus(),c&&c.call(d)},b)}):this._focus.apply(this,arguments)},scrollParent:function(){var b;return a.browser.msie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?b=this.parents().filter(function(){return/(relative|absolute|fixed)/.test(a.curCSS(this,"position",1))&&/(auto|scroll)/.test(a.curCSS(this,"overflow",1)+a.curCSS(this,"overflow-y",1)+a.curCSS(this,"overflow-x",1))}).eq(0):b=this.parents().filter(function(){return/(auto|scroll)/.test(a.curCSS(this,"overflow",1)+a.curCSS(this,"overflow-y",1)+a.curCSS(this,"overflow-x",1))}).eq(0),/fixed/.test(this.css("position"))||!b.length?a(document):b},zIndex:function(c){if(c!==b)return this.css("zIndex",c);if(this.length){var d=a(this[0]),e,f;while(d.length&&d[0]!==document){e=d.css("position");if(e==="absolute"||e==="relative"||e==="fixed"){f=parseInt(d.css("zIndex"),10);if(!isNaN(f)&&f!==0)return f}d=d.parent()}}return 0},disableSelection:function(){return this.bind((a.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(a){a.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}}),a.each(["Width","Height"],function(c,d){function h(b,c,d,f){return a.each(e,function(){c-=parseFloat(a.curCSS(b,"padding"+this,!0))||0,d&&(c-=parseFloat(a.curCSS(b,"border"+this+"Width",!0))||0),f&&(c-=parseFloat(a.curCSS(b,"margin"+this,!0))||0)}),c}var e=d==="Width"?["Left","Right"]:["Top","Bottom"],f=d.toLowerCase(),g={innerWidth:a.fn.innerWidth,innerHeight:a.fn.innerHeight,outerWidth:a.fn.outerWidth,outerHeight:a.fn.outerHeight};a.fn["inner"+d]=function(c){return c===b?g["inner"+d].call(this):this.each(function(){a(this).css(f,h(this,c)+"px")})},a.fn["outer"+d]=function(b,c){return typeof b!="number"?g["outer"+d].call(this,b):this.each(function(){a(this).css(f,h(this,b,!0,c)+"px")})}}),a.extend(a.expr[":"],{data:function(b,c,d){return!!a.data(b,d[3])},focusable:function(b){return c(b,!isNaN(a.attr(b,"tabindex")))},tabbable:function(b){var d=a.attr(b,"tabindex"),e=isNaN(d);return(e||d>=0)&&c(b,!e)}}),a(function(){var b=document.body,c=b.appendChild(c=document.createElement("div"));a.extend(c.style,{minHeight:"100px",height:"auto",padding:0,borderWidth:0}),a.support.minHeight=c.offsetHeight===100,a.support.selectstart="onselectstart"in c,b.removeChild(c).style.display="none"}),a.extend(a.ui,{plugin:{add:function(b,c,d){var e=a.ui[b].prototype;for(var f in d)e.plugins[f]=e.plugins[f]||[],e.plugins[f].push([c,d[f]])},call:function(a,b,c){var d=a.plugins[b];if(!d||!a.element[0].parentNode)return;for(var e=0;e<d.length;e++)a.options[d[e][0]]&&d[e][1].apply(a.element,c)}},contains:function(a,b){return document.compareDocumentPosition?a.compareDocumentPosition(b)&16:a!==b&&a.contains(b)},hasScroll:function(b,c){if(a(b).css("overflow")==="hidden")return!1;var d=c&&c==="left"?"scrollLeft":"scrollTop",e=!1;return b[d]>0?!0:(b[d]=1,e=b[d]>0,b[d]=0,e)},isOverAxis:function(a,b,c){return a>b&&a<b+c},isOver:function(b,c,d,e,f,g){return a.ui.isOverAxis(b,d,f)&&a.ui.isOverAxis(c,e,g)}})})(jQuery),function(a,b){if(a.cleanData){var c=a.cleanData;a.cleanData=function(b){for(var d=0,e;(e=b[d])!=null;d++)try{a(e).triggerHandler("remove")}catch(f){}c(b)}}else{var d=a.fn.remove;a.fn.remove=function(b,c){return this.each(function(){return c||(!b||a.filter(b,[this]).length)&&a("*",this).add([this]).each(function(){try{a(this).triggerHandler("remove")}catch(b){}}),d.call(a(this),b,c)})}}a.widget=function(b,c,d){var e=b.split(".")[0],f;b=b.split(".")[1],f=e+"-"+b,d||(d=c,c=a.Widget),a.expr[":"][f]=function(c){return!!a.data(c,b)},a[e]=a[e]||{},a[e][b]=function(a,b){arguments.length&&this._createWidget(a,b)};var g=new c;g.options=a.extend(!0,{},g.options),a[e][b].prototype=a.extend(!0,g,{namespace:e,widgetName:b,widgetEventPrefix:a[e][b].prototype.widgetEventPrefix||b,widgetBaseClass:f},d),a.widget.bridge(b,a[e][b])},a.widget.bridge=function(c,d){a.fn[c]=function(e){var f=typeof e=="string",g=Array.prototype.slice.call(arguments,1),h=this;return e=!f&&g.length?a.extend.apply(null,[!0,e].concat(g)):e,f&&e.charAt(0)==="_"?h:(f?this.each(function(){var d=a.data(this,c),f=d&&a.isFunction(d[e])?d[e].apply(d,g):d;if(f!==d&&f!==b)return h=f,!1}):this.each(function(){var b=a.data(this,c);b?b.option(e||{})._init():a.data(this,c,new d(e,this))}),h)}},a.Widget=function(a,b){arguments.length&&this._createWidget(a,b)},a.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",options:{disabled:!1},_createWidget:function(b,c){a.data(c,this.widgetName,this),this.element=a(c),this.options=a.extend(!0,{},this.options,this._getCreateOptions(),b);var d=this;this.element.bind("remove."+this.widgetName,function(){d.destroy()}),this._create(),this._trigger("create"),this._init()},_getCreateOptions:function(){return a.metadata&&a.metadata.get(this.element[0])[this.widgetName]},_create:function(){},_init:function(){},destroy:function(){this.element.unbind("."+this.widgetName).removeData(this.widgetName),this.widget().unbind("."+this.widgetName).removeAttr("aria-disabled").removeClass(this.widgetBaseClass+"-disabled "+"ui-state-disabled")},widget:function(){return this.element},option:function(c,d){var e=c;if(arguments.length===0)return a.extend({},this.options);if(typeof c=="string"){if(d===b)return this.options[c];e={},e[c]=d}return this._setOptions(e),this},_setOptions:function(b){var c=this;return a.each(b,function(a,b){c._setOption(a,b)}),this},_setOption:function(a,b){return this.options[a]=b,a==="disabled"&&this.widget()[b?"addClass":"removeClass"](this.widgetBaseClass+"-disabled"+" "+"ui-state-disabled").attr("aria-disabled",b),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_trigger:function(b,c,d){var e,f,g=this.options[b];d=d||{},c=a.Event(c),c.type=(b===this.widgetEventPrefix?b:this.widgetEventPrefix+b).toLowerCase(),c.target=this.element[0],f=c.originalEvent;if(f)for(e in f)e in c||(c[e]=f[e]);return this.element.trigger(c,d),!(a.isFunction(g)&&g.call(this.element[0],c,d)===!1||c.isDefaultPrevented())}}}(jQuery),function(a,b){var c=!1;a(document).mouseup(function(a){c=!1}),a.widget("ui.mouse",{options:{cancel:":input,option",distance:1,delay:0},_mouseInit:function(){var b=this;this.element.bind("mousedown."+this.widgetName,function(a){return b._mouseDown(a)}).bind("click."+this.widgetName,function(c){if(!0===a.data(c.target,b.widgetName+".preventClickEvent"))return a.removeData(c.target,b.widgetName+".preventClickEvent"),c.stopImmediatePropagation(),!1}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName)},_mouseDown:function(b){if(c)return;this._mouseStarted&&this._mouseUp(b),this._mouseDownEvent=b;var d=this,e=b.which==1,f=typeof this.options.cancel=="string"&&b.target.nodeName?a(b.target).closest(this.options.cancel).length:!1;if(!e||f||!this._mouseCapture(b))return!0;this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){d.mouseDelayMet=!0},this.options.delay));if(this._mouseDistanceMet(b)&&this._mouseDelayMet(b)){this._mouseStarted=this._mouseStart(b)!==!1;if(!this._mouseStarted)return b.preventDefault(),!0}return!0===a.data(b.target,this.widgetName+".preventClickEvent")&&a.removeData(b.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(a){return d._mouseMove(a)},this._mouseUpDelegate=function(a){return d._mouseUp(a)},a(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),b.preventDefault(),c=!0,!0},_mouseMove:function(b){return!a.browser.msie||document.documentMode>=9||!!b.button?this._mouseStarted?(this._mouseDrag(b),b.preventDefault()):(this._mouseDistanceMet(b)&&this._mouseDelayMet(b)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,b)!==!1,this._mouseStarted?this._mouseDrag(b):this._mouseUp(b)),!this._mouseStarted):this._mouseUp(b)},_mouseUp:function(b){return a(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,b.target==this._mouseDownEvent.target&&a.data(b.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(b)),!1},_mouseDistanceMet:function(a){return Math.max(Math.abs(this._mouseDownEvent.pageX-a.pageX),Math.abs(this._mouseDownEvent.pageY-a.pageY))>=this.options.distance},_mouseDelayMet:function(a){return this.mouseDelayMet},_mouseStart:function(a){},_mouseDrag:function(a){},_mouseStop:function(a){},_mouseCapture:function(a){return!0}})}(jQuery),function(a,b){a.widget("ui.draggable",a.ui.mouse,{widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1},_create:function(){this.options.helper=="original"&&!/^(?:r|a|f)/.test(this.element.css("position"))&&(this.element[0].style.position="relative"),this.options.addClasses&&this.element.addClass("ui-draggable"),this.options.disabled&&this.element.addClass("ui-draggable-disabled"),this._mouseInit()},destroy:function(){if(!this.element.data("draggable"))return;return this.element.removeData("draggable").unbind(".draggable").removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._mouseDestroy(),this},_mouseCapture:function(b){var c=this.options;return this.helper||c.disabled||a(b.target).is(".ui-resizable-handle")?!1:(this.handle=this._getHandle(b),this.handle?(c.iframeFix&&a(c.iframeFix===!0?"iframe":c.iframeFix).each(function(){a('<div class="ui-draggable-iframeFix" style="background: #fff;"></div>').css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1e3}).css(a(this).offset()).appendTo("body")}),!0):!1)},_mouseStart:function(b){var c=this.options;return this.helper=this._createHelper(b),this._cacheHelperProportions(),a.ui.ddmanager&&(a.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(),this.offset=this.positionAbs=this.element.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},a.extend(this.offset,{click:{left:b.pageX-this.offset.left,top:b.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.originalPosition=this.position=this._generatePosition(b),this.originalPageX=b.pageX,this.originalPageY=b.pageY,c.cursorAt&&this._adjustOffsetFromHelper(c.cursorAt),c.containment&&this._setContainment(),this._trigger("start",b)===!1?(this._clear(),!1):(this._cacheHelperProportions(),a.ui.ddmanager&&!c.dropBehaviour&&a.ui.ddmanager.prepareOffsets(this,b),this.helper.addClass("ui-draggable-dragging"),this._mouseDrag(b,!0),a.ui.ddmanager&&a.ui.ddmanager.dragStart(this,b),!0)},_mouseDrag:function(b,c){this.position=this._generatePosition(b),this.positionAbs=this._convertPositionTo("absolute");if(!c){var d=this._uiHash();if(this._trigger("drag",b,d)===!1)return this._mouseUp({}),!1;this.position=d.position}if(!this.options.axis||this.options.axis!="y")this.helper[0].style.left=this.position.left+"px";if(!this.options.axis||this.options.axis!="x")this.helper[0].style.top=this.position.top+"px";return a.ui.ddmanager&&a.ui.ddmanager.drag(this,b),!1},_mouseStop:function(b){var c=!1;a.ui.ddmanager&&!this.options.dropBehaviour&&(c=a.ui.ddmanager.drop(this,b)),this.dropped&&(c=this.dropped,this.dropped=!1);if((!this.element[0]||!this.element[0].parentNode)&&this.options.helper=="original")return!1;if(this.options.revert=="invalid"&&!c||this.options.revert=="valid"&&c||this.options.revert===!0||a.isFunction(this.options.revert)&&this.options.revert.call(this.element,c)){var d=this;a(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){d._trigger("stop",b)!==!1&&d._clear()})}else this._trigger("stop",b)!==!1&&this._clear();return!1},_mouseUp:function(b){return this.options.iframeFix===!0&&a("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this)}),a.ui.ddmanager&&a.ui.ddmanager.dragStop(this,b),a.ui.mouse.prototype._mouseUp.call(this,b)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(b){var c=!this.options.handle||!a(this.options.handle,this.element).length?!0:!1;return a(this.options.handle,this.element).find("*").andSelf().each(function(){this==b.target&&(c=!0)}),c},_createHelper:function(b){var c=this.options,d=a.isFunction(c.helper)?a(c.helper.apply(this.element[0],[b])):c.helper=="clone"?this.element.clone().removeAttr("id"):this.element;return d.parents("body").length||d.appendTo(c.appendTo=="parent"?this.element[0].parentNode:c.appendTo),d[0]!=this.element[0]&&!/(fixed|absolute)/.test(d.css("position"))&&d.css("position","absolute"),d},_adjustOffsetFromHelper:function(b){typeof b=="string"&&(b=b.split(" ")),a.isArray(b)&&(b={left:+b[0],top:+b[1]||0}),"left"in b&&(this.offset.click.left=b.left+this.margins.left),"right"in b&&(this.offset.click.left=this.helperProportions.width-b.right+this.margins.left),"top"in b&&(this.offset.click.top=b.top+this.margins.top),"bottom"in b&&(this.offset.click.top=this.helperProportions.height-b.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var b=this.offsetParent.offset();this.cssPosition=="absolute"&&this.scrollParent[0]!=document&&a.ui.contains(this.scrollParent[0],this.offsetParent[0])&&(b.left+=this.scrollParent.scrollLeft(),b.top+=this.scrollParent.scrollTop());if(this.offsetParent[0]==document.body||this.offsetParent[0].tagName&&this.offsetParent[0].tagName.toLowerCase()=="html"&&a.browser.msie)b={top:0,left:0};return{top:b.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:b.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if(this.cssPosition=="relative"){var a=this.element.position();return{top:a.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:a.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var b=this.options;b.containment=="parent"&&(b.containment=this.helper[0].parentNode);if(b.containment=="document"||b.containment=="window")this.containment=[b.containment=="document"?0:a(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,b.containment=="document"?0:a(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,(b.containment=="document"?0:a(window).scrollLeft())+a(b.containment=="document"?document:window).width()-this.helperProportions.width-this.margins.left,(b.containment=="document"?0:a(window).scrollTop())+(a(b.containment=="document"?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top];if(!/^(document|window|parent)$/.test(b.containment)&&b.containment.constructor!=Array){var c=a(b.containment),d=c[0];if(!d)return;var e=c.offset(),f=a(d).css("overflow")!="hidden";this.containment=[(parseInt(a(d).css("borderLeftWidth"),10)||0)+(parseInt(a(d).css("paddingLeft"),10)||0),(parseInt(a(d).css("borderTopWidth"),10)||0)+(parseInt(a(d).css("paddingTop"),10)||0),(f?Math.max(d.scrollWidth,d.offsetWidth):d.offsetWidth)-(parseInt(a(d).css("borderLeftWidth"),10)||0)-(parseInt(a(d).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(f?Math.max(d.scrollHeight,d.offsetHeight):d.offsetHeight)-(parseInt(a(d).css("borderTopWidth"),10)||0)-(parseInt(a(d).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relative_container=c}else b.containment.constructor==Array&&(this.containment=b.containment)},_convertPositionTo:function(b,c){c||(c=this.position);var d=b=="absolute"?1:-1,e=this.options,f=this.cssPosition!="absolute"||this.scrollParent[0]!=document&&!!a.ui.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,g=/(html|body)/i.test(f[0].tagName);return{top:c.top+this.offset.relative.top*d+this.offset.parent.top*d-(a.browser.safari&&a.browser.version<526&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollTop():g?0:f.scrollTop())*d),left:c.left+this.offset.relative.left*d+this.offset.parent.left*d-(a.browser.safari&&a.browser.version<526&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():g?0:f.scrollLeft())*d)}},_generatePosition:function(b){var c=this.options,d=this.cssPosition!="absolute"||this.scrollParent[0]!=document&&!!a.ui.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,e=/(html|body)/i.test(d[0].tagName),f=b.pageX,g=b.pageY;if(this.originalPosition){var h;if(this.containment){if(this.relative_container){var i=this.relative_container.offset();h=[this.containment[0]+i.left,this.containment[1]+i.top,this.containment[2]+i.left,this.containment[3]+i.top]}else h=this.containment;b.pageX-this.offset.click.left<h[0]&&(f=h[0]+this.offset.click.left),b.pageY-this.offset.click.top<h[1]&&(g=h[1]+this.offset.click.top),b.pageX-this.offset.click.left>h[2]&&(f=h[2]+this.offset.click.left),b.pageY-this.offset.click.top>h[3]&&(g=h[3]+this.offset.click.top)}if(c.grid){var j=c.grid[1]?this.originalPageY+Math.round((g-this.originalPageY)/c.grid[1])*c.grid[1]:this.originalPageY;g=h?j-this.offset.click.top<h[1]||j-this.offset.click.top>h[3]?j-this.offset.click.top<h[1]?j+c.grid[1]:j-c.grid[1]:j:j;var k=c.grid[0]?this.originalPageX+Math.round((f-this.originalPageX)/c.grid[0])*c.grid[0]:this.originalPageX;f=h?k-this.offset.click.left<h[0]||k-this.offset.click.left>h[2]?k-this.offset.click.left<h[0]?k+c.grid[0]:k-c.grid[0]:k:k}}return{top:g-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(a.browser.safari&&a.browser.version<526&&this.cssPosition=="fixed"?0:this.cssPosition=="fixed"?-this.scrollParent.scrollTop():e?0:d.scrollTop()),left:f-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(a.browser.safari&&a.browser.version<526&&this.cssPosition=="fixed"?0:this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():e?0:d.scrollLeft())}},_clear:function(){this.helper.removeClass("ui-draggable-dragging"),this.helper[0]!=this.element[0]&&!this.cancelHelperRemoval&&this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1},_trigger:function(b,c,d){return d=d||this._uiHash(),a.ui.plugin.call(this,b,[c,d]),b=="drag"&&(this.positionAbs=this._convertPositionTo("absolute")),a.Widget.prototype._trigger.call(this,b,c,d)},plugins:{},_uiHash:function(a){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),a.extend(a.ui.draggable,{version:"1.8.17"}),a.ui.plugin.add("draggable","connectToSortable",{start:function(b,c){var d=a(this).data("draggable"),e=d.options,f=a.extend({},c,{item:d.element});d.sortables=[],a(e.connectToSortable).each(function(){var c=a.data(this,"sortable");c&&!c.options.disabled&&(d.sortables.push({instance:c,shouldRevert:c.options.revert}),c.refreshPositions(),c._trigger("activate",b,f))})},stop:function(b,c){var d=a(this).data("draggable"),e=a.extend({},c,{item:d.element});a.each(d.sortables,function(){this.instance.isOver?(this.instance.isOver=0,d.cancelHelperRemoval=!0,this.instance.cancelHelperRemoval=!1,this.shouldRevert&&(this.instance.options.revert=!0),this.instance._mouseStop(b),this.instance.options.helper=this.instance.options._helper,d.options.helper=="original"&&this.instance.currentItem.css({top:"auto",left:"auto"})):(this.instance.cancelHelperRemoval=!1,this.instance._trigger("deactivate",b,e))})},drag:function(b,c){var d=a(this).data("draggable"),e=this,f=function(b){var c=this.offset.click.top,d=this.offset.click.left,e=this.positionAbs.top,f=this.positionAbs.left,g=b.height,h=b.width,i=b.top,j=b.left;return a.ui.isOver(e+c,f+d,i,j,g,h)};a.each(d.sortables,function(f){this.instance.positionAbs=d.positionAbs,this.instance.helperProportions=d.helperProportions,this.instance.offset.click=d.offset.click,this.instance._intersectsWith(this.instance.containerCache)?(this.instance.isOver||(this.instance.isOver=1,this.instance.currentItem=a(e).clone().removeAttr("id").appendTo(this.instance.element).data("sortable-item",!0),this.instance.options._helper=this.instance.options.helper,this.instance.options.helper=function(){return c.helper[0]},b.target=this.instance.currentItem[0],this.instance._mouseCapture(b,!0),this.instance._mouseStart(b,!0,!0),this.instance.offset.click.top=d.offset.click.top,this.instance.offset.click.left=d.offset.click.left,this.instance.offset.parent.left-=d.offset.parent.left-this.instance.offset.parent.left,this.instance.offset.parent.top-=d.offset.parent.top-this.instance.offset.parent.top,d._trigger("toSortable",b),d.dropped=this.instance.element,d.currentItem=d.element,this.instance.fromOutside=d),this.instance.currentItem&&this.instance._mouseDrag(b)):this.instance.isOver&&(this.instance.isOver=0,this.instance.cancelHelperRemoval=!0,this.instance.options.revert=!1,this.instance._trigger("out",b,this.instance._uiHash(this.instance)),this.instance._mouseStop(b,!0),this.instance.options.helper=this.instance.options._helper,this.instance.currentItem.remove(),this.instance.placeholder&&this.instance.placeholder.remove(),d._trigger("fromSortable",b),d.dropped=!1)})}}),a.ui.plugin.add("draggable","cursor",{start:function(b,c){var d=a("body"),e=a(this).data("draggable").options;d.css("cursor")&&(e._cursor=d.css("cursor")),d.css("cursor",e.cursor)},stop:function(b,c){var d=a(this).data("draggable").options;d._cursor&&a("body").css("cursor",d._cursor)}}),a.ui.plugin.add("draggable","opacity",{start:function(b,c){var d=a(c.helper),e=a(this).data("draggable").options;d.css("opacity")&&(e._opacity=d.css("opacity")),d.css("opacity",e.opacity)},stop:function(b,c){var d=a(this).data("draggable").options;d._opacity&&a(c.helper).css("opacity",d._opacity)}}),a.ui.plugin.add("draggable","scroll",{start:function(b,c){var d=a(this).data("draggable");d.scrollParent[0]!=document&&d.scrollParent[0].tagName!="HTML"&&(d.overflowOffset=d.scrollParent.offset())},drag:function(b,c){var d=a(this).data("draggable"),e=d.options,f=!1;if(d.scrollParent[0]!=document&&d.scrollParent[0].tagName!="HTML"){if(!e.axis||e.axis!="x")d.overflowOffset.top+d.scrollParent[0].offsetHeight-b.pageY<e.scrollSensitivity?d.scrollParent[0].scrollTop=f=d.scrollParent[0].scrollTop+e.scrollSpeed:b.pageY-d.overflowOffset.top<e.scrollSensitivity&&(d.scrollParent[0].scrollTop=f=d.scrollParent[0].scrollTop-e.scrollSpeed);if(!e.axis||e.axis!="y")d.overflowOffset.left+d.scrollParent[0].offsetWidth-b.pageX<e.scrollSensitivity?d.scrollParent[0].scrollLeft=f=d.scrollParent[0].scrollLeft+e.scrollSpeed:b.pageX-d.overflowOffset.left<e.scrollSensitivity&&(d.scrollParent[0].scrollLeft=f=d.scrollParent[0].scrollLeft-e.scrollSpeed)}else{if(!e.axis||e.axis!="x")b.pageY-a(document).scrollTop()<e.scrollSensitivity?f=a(document).scrollTop(a(document).scrollTop()-e.scrollSpeed):a(window).height()-(b.pageY-a(document).scrollTop())<e.scrollSensitivity&&(f=a(document).scrollTop(a(document).scrollTop()+e.scrollSpeed));if(!e.axis||e.axis!="y")b.pageX-a(document).scrollLeft()<e.scrollSensitivity?f=a(document).scrollLeft(a(document).scrollLeft()-e.scrollSpeed):a(window).width()-(b.pageX-a(document).scrollLeft())<e.scrollSensitivity&&(f=a(document).scrollLeft(a(document).scrollLeft()+e.scrollSpeed))}f!==!1&&a.ui.ddmanager&&!e.dropBehaviour&&a.ui.ddmanager.prepareOffsets(d,b)}}),a.ui.plugin.add("draggable","snap",{start:function(b,c){var d=a(this).data("draggable"),e=d.options;d.snapElements=[],a(e.snap.constructor!=String?e.snap.items||":data(draggable)":e.snap).each(function(){var b=a(this),c=b.offset();this!=d.element[0]&&d.snapElements.push({item:this,width:b.outerWidth(),height:b.outerHeight(),top:c.top,left:c.left})})},drag:function(b,c){var d=a(this).data("draggable"),e=d.options,f=e.snapTolerance,g=c.offset.left,h=g+d.helperProportions.width,i=c.offset.top,j=i+d.helperProportions.height;for(var k=d.snapElements.length-1;k>=0;k--){var l=d.snapElements[k].left,m=l+d.snapElements[k].width,n=d.snapElements[k].top,o=n+d.snapElements[k].height;if(!(l-f<g&&g<m+f&&n-f<i&&i<o+f||l-f<g&&g<m+f&&n-f<j&&j<o+f||l-f<h&&h<m+f&&n-f<i&&i<o+f||l-f<h&&h<m+f&&n-f<j&&j<o+f)){d.snapElements[k].snapping&&d.options.snap.release&&d.options.snap.release.call(d.element,b,a.extend(d._uiHash(),{snapItem:d.snapElements[k].item})),d.snapElements[k].snapping=!1;continue}if(e.snapMode!="inner"){var p=Math.abs(n-j)<=f,q=Math.abs(o-i)<=f,r=Math.abs(l-h)<=f,s=Math.abs(m-g)<=f;p&&(c.position.top=d._convertPositionTo("relative",{top:n-d.helperProportions.height,left:0}).top-d.margins.top),q&&(c.position.top=d._convertPositionTo("relative",{top:o,left:0}).top-d.margins.top),r&&(c.position.left=d._convertPositionTo("relative",{top:0,left:l-d.helperProportions.width}).left-d.margins.left),s&&(c.position.left=d._convertPositionTo("relative",{top:0,left:m}).left-d.margins.left)}var t=p||q||r||s;if(e.snapMode!="outer"){var p=Math.abs(n-i)<=f,q=Math.abs(o-j)<=f,r=Math.abs(l-g)<=f,s=Math.abs(m-h)<=f;p&&(c.position.top=d._convertPositionTo("relative",{top:n,left:0}).top-d.margins.top),q&&(c.position.top=d._convertPositionTo("relative",{top:o-d.helperProportions.height,left:0}).top-d.margins.top),r&&(c.position.left=d._convertPositionTo("relative",{top:0,left:l}).left-d.margins.left),s&&(c.position.left=d._convertPositionTo("relative",{top:0,left:m-d.helperProportions.width}).left-d.margins.left)}!d.snapElements[k].snapping&&(p||q||r||s||t)&&d.options.snap.snap&&d.options.snap.snap.call(d.element,b,a.extend(d._uiHash(),{snapItem:d.snapElements[k].item})),d.snapElements[k].snapping=p||q||r||s||t}}}),a.ui.plugin.add("draggable","stack",{start:function(b,c){var d=a(this).data("draggable").options,e=a.makeArray(a(d.stack)).sort(function(b,c){return(parseInt(a(b).css("zIndex"),10)||0)-(parseInt(a(c).css("zIndex"),10)||0)});if(!e.length)return;var f=parseInt(e[0].style.zIndex)||0;a(e).each(function(a){this.style.zIndex=f+a}),this[0].style.zIndex=f+e.length}}),a.ui.plugin.add("draggable","zIndex",{start:function(b,c){var d=a(c.helper),e=a(this).data("draggable").options;d.css("zIndex")&&(e._zIndex=d.css("zIndex")),d.css("zIndex",e.zIndex)},stop:function(b,c){var d=a(this).data("draggable").options;d._zIndex&&a(c.helper).css("zIndex",d._zIndex)}})}(jQuery),function(a,b){a.widget("ui.droppable",{widgetEventPrefix:"drop",options:{accept:"*",activeClass:!1,addClasses:!0,greedy:!1,hoverClass:!1,scope:"default",tolerance:"intersect"},_create:function(){var b=this.options,c=b.accept;this.isover=0,this.isout=1,this.accept=a.isFunction(c)?c:function(a){return a.is(c)},this.proportions={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight},a.ui.ddmanager.droppables[b.scope]=a.ui.ddmanager.droppables[b.scope]||[],a.ui.ddmanager.droppables[b.scope].push(this),b.addClasses&&this.element.addClass("ui-droppable")},destroy:function(){var b=a.ui.ddmanager.droppables[this.options.scope];for(var c=0;c<b.length;c++)b[c]==this&&b.splice(c,1);return this.element.removeClass("ui-droppable ui-droppable-disabled").removeData("droppable").unbind(".droppable"),this},_setOption:function(b,c){b=="accept"&&(this.accept=a.isFunction(c)?c:function(a){return a.is(c)}),a.Widget.prototype._setOption.apply(this,arguments)},_activate:function(b){var c=a.ui.ddmanager.current;this.options.activeClass&&this.element.addClass(this.options.activeClass),c&&this._trigger("activate",b,this.ui(c))},_deactivate:function(b){var c=a.ui.ddmanager.current;this.options.activeClass&&this.element.removeClass(this.options.activeClass),c&&this._trigger("deactivate",b,this.ui(c))},_over:function(b){var c=a.ui.ddmanager.current;if(!c||(c.currentItem||c.element)[0]==this.element[0])return;this.accept.call(this.element[0],c.currentItem||c.element)&&(this.options.hoverClass&&this.element.addClass(this.options.hoverClass),this._trigger("over",b,this.ui(c)))},_out:function(b){var c=a.ui.ddmanager.current;if(!c||(c.currentItem||c.element)[0]==this.element[0])return;this.accept.call(this.element[0],c.currentItem||c.element)&&(this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("out",b,this.ui(c)))},_drop:function(b,c){var d=c||a.ui.ddmanager.current;if(!d||(d.currentItem||d.element)[0]==this.element[0])return!1;var e=!1;return this.element.find(":data(droppable)").not(".ui-draggable-dragging").each(function(){var b=a.data(this,"droppable");if(b.options.greedy&&!b.options.disabled&&b.options.scope==d.options.scope&&b.accept.call(b.element[0],d.currentItem||d.element)&&a.ui.intersect(d,a.extend(b,{offset:b.element.offset()}),b.options.tolerance))return e=!0,!1}),e?!1:this.accept.call(this.element[0],d.currentItem||d.element)?(this.options.activeClass&&this.element.removeClass(this.options.activeClass),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("drop",b,this.ui(d)),this.element):!1},ui:function(a){return{draggable:a.currentItem||a.element,helper:a.helper,position:a.position,offset:a.positionAbs}}}),a.extend(a.ui.droppable,{version:"1.8.17"}),a.ui.intersect=function(b,c,d){if(!c.offset)return!1;var e=(b.positionAbs||b.position.absolute).left,f=e+b.helperProportions.width,g=(b.positionAbs||b.position.absolute).top,h=g+b.helperProportions.height,i=c.offset.left,j=i+c.proportions.width,k=c.offset.top,l=k+c.proportions.height;switch(d){case"fit":return i<=e&&f<=j&&k<=g&&h<=l;case"intersect":return i<e+b.helperProportions.width/2&&f-b.helperProportions.width/2<j&&k<g+b.helperProportions.height/2&&h-b.helperProportions.height/2<l;case"pointer":var m=(b.positionAbs||b.position.absolute).left+(b.clickOffset||b.offset.click).left,n=(b.positionAbs||b.position.absolute).top+(b.clickOffset||b.offset.click).top,o=a.ui.isOver(n,m,k,i,c.proportions.height,c.proportions.width);return o;case"touch":return(g>=k&&g<=l||h>=k&&h<=l||g<k&&h>l)&&(e>=i&&e<=j||f>=i&&f<=j||e<i&&f>j);default:return!1}},a.ui.ddmanager={current:null,droppables:{"default":[]},prepareOffsets:function(b,c){var d=a.ui.ddmanager.droppables[b.options.scope]||[],e=c?c.type:null,f=(b.currentItem||b.element).find(":data(droppable)").andSelf();g:for(var h=0;h<d.length;h++){if(d[h].options.disabled||b&&!d[h].accept.call(d[h].element[0],b.currentItem||b.element))continue;for(var i=0;i<f.length;i++)if(f[i]==d[h].element[0]){d[h].proportions.height=0;continue g}d[h].visible=d[h].element.css("display")!="none";if(!d[h].visible)continue;e=="mousedown"&&d[h]._activate.call(d[h],c),d[h].offset=d[h].element.offset(),d[h].proportions={width:d[h].element[0].offsetWidth,height:d[h].element[0].offsetHeight}}},drop:function(b,c){var d=!1;return a.each(a.ui.ddmanager.droppables[b.options.scope]||[],function(){if(!this.options)return;!this.options.disabled&&this.visible&&a.ui.intersect(b,this,this.options.tolerance)&&(d=this._drop.call(this,c)||d),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],b.currentItem||b.element)&&(this.isout=1,this.isover=0,this._deactivate.call(this,c))}),d},dragStart:function(b,c){b.element.parents(":not(body,html)").bind("scroll.droppable",function(){b.options.refreshPositions||a.ui.ddmanager.prepareOffsets(b,c)})},drag:function(b,c){b.options.refreshPositions&&a.ui.ddmanager.prepareOffsets(b,c),a.each(a.ui.ddmanager.droppables[b.options.scope]||[],function(){if(this.options.disabled||this.greedyChild||!this.visible)return;var d=a.ui.intersect(b,this,this.options.tolerance),e=!d&&this.isover==1?"isout":d&&this.isover==0?"isover":null;if(!e)return;var f;if(this.options.greedy){var g=this.element.parents(":data(droppable):eq(0)");g.length&&(f=a.data(g[0],"droppable"),f.greedyChild=e=="isover"?1:0)}f&&e=="isover"&&(f.isover=0,f.isout=1,f._out.call(f,c)),this[e]=1,this[e=="isout"?"isover":"isout"]=0,this[e=="isover"?"_over":"_out"].call(this,c),f&&e=="isout"&&(f.isout=0,f.isover=1,f._over.call(f,c))})},dragStop:function(b,c){b.element.parents(":not(body,html)").unbind("scroll.droppable"),b.options.refreshPositions||a.ui.ddmanager.prepareOffsets(b,c)}}}(jQuery),function(a,b){a.widget("ui.resizable",a.ui.mouse,{widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:1e3},_create:function(){var b=this,c=this.options;this.element.addClass("ui-resizable"),a.extend(this,{_aspectRatio:!!c.aspectRatio,aspectRatio:c.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:c.helper||c.ghost||c.animate?c.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/canvas|textarea|input|select|button|img/i)&&(/relative/.test(this.element.css("position"))&&a.browser.opera&&this.element.css({position:"relative",top:"auto",left:"auto"}),this.element.wrap(a('<div class="ui-wrapper" style="overflow: hidden;"></div>').css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("resizable",this.element.data("resizable")),this.elementIsWrapper=!0,this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css({margin:this.originalElement.css("margin")}),this._proportionallyResize()),this.handles=c.handles||(a(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se");if(this.handles.constructor==String){this.handles=="all"&&(this.handles="n,e,s,w,se,sw,ne,nw");var d=this.handles.split(",");this.handles={};for(var e=0;e<d.length;e++){var f=a.trim(d[e]),g="ui-resizable-"+f,h=a('<div class="ui-resizable-handle '+g+'"></div>');/sw|se|ne|nw/.test(f)&&h.css({zIndex:++c.zIndex}),"se"==f&&h.addClass("ui-icon ui-icon-gripsmall-diagonal-se"),this.handles[f]=".ui-resizable-"+f,this.element.append(h)}}this._renderAxis=function(b){b=b||this.element;for(var c in this.handles){this.handles[c].constructor==String&&(this.handles[c]=a(this.handles[c],this.element).show());if(this.elementIsWrapper&&this.originalElement[0].nodeName.match(/textarea|input|select|button/i)){var d=a(this.handles[c],this.element),e=0;e=/sw|ne|nw|se|n|s/.test(c)?d.outerHeight():d.outerWidth();var f=["padding",/ne|nw|n/.test(c)?"Top":/se|sw|s/.test(c)?"Bottom":/^e$/.test(c)?"Right":"Left"].join("");b.css(f,e),this._proportionallyResize()}if(!a(this.handles[c]).length)continue}},this._renderAxis(this.element),this._handles=a(".ui-resizable-handle",this.element).disableSelection(),this._handles.mouseover(function(){if(!b.resizing){if(this.className)var a=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i);b.axis=a&&a[1]?a[1]:"se"}}),c.autoHide&&(this._handles.hide(),a(this.element).addClass("ui-resizable-autohide").hover(function(){if(c.disabled)return;a(this).removeClass("ui-resizable-autohide"),b._handles.show()},function(){if(c.disabled)return;b.resizing||(a(this).addClass("ui-resizable-autohide"),b._handles.hide())})),this._mouseInit()},destroy:function(){this._mouseDestroy();var b=function(b){a(b).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};if(this.elementIsWrapper){b(this.element);var c=this.element;c.after(this.originalElement.css({position:c.css("position"),width:c.outerWidth(),height:c.outerHeight(),top:c.css("top"),left:c.css("left")})).remove()}return this.originalElement.css("resize",this.originalResizeStyle),b(this.originalElement),this},_mouseCapture:function(b){var c=!1;for(var d in this.handles)a(this.handles[d])[0]==b.target&&(c=!0);return!this.options.disabled&&c},_mouseStart:function(b){var d=this.options,e=this.element.position(),f=this.element;this.resizing=!0,this.documentScroll={top:a(document).scrollTop(),left:a(document).scrollLeft()},(f.is(".ui-draggable")||/absolute/.test(f.css("position")))&&f.css({position:"absolute",top:e.top,left:e.left}),a.browser.opera&&/relative/.test(f.css("position"))&&f.css({position:"relative",top:"auto",left:"auto"}),this._renderProxy();var g=c(this.helper.css("left")),h=c(this.helper.css("top"));d.containment&&(g+=a(d.containment).scrollLeft()||0,h+=a(d.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:g,top:h},this.size=this._helper?{width:f.outerWidth(),height:f.outerHeight()}:{width:f.width(),height:f.height()},this.originalSize=this._helper?{width:f.outerWidth(),height:f.outerHeight()}:{width:f.width(),height:f.height()},this.originalPosition={left:g,top:h},this.sizeDiff={width:f.outerWidth()-f.width(),height:f.outerHeight()-f.height()},this.originalMousePosition={left:b.pageX,top:b.pageY},this.aspectRatio=typeof d.aspectRatio=="number"?d.aspectRatio:this.originalSize.width/this.originalSize.height||1;var i=a(".ui-resizable-"+this.axis).css("cursor");return a("body").css("cursor",i=="auto"?this.axis+"-resize":i),f.addClass("ui-resizable-resizing"),this._propagate("start",b),!0},_mouseDrag:function(b){var c=this.helper,d=this.options,e={},f=this,g=this.originalMousePosition,h=this.axis,i=b.pageX-g.left||0,j=b.pageY-g.top||0,k=this._change[h];if(!k)return!1;var l=k.apply(this,[b,i,j]),m=a.browser.msie&&a.browser.version<7,n=this.sizeDiff;this._updateVirtualBoundaries(b.shiftKey);if(this._aspectRatio||b.shiftKey)l=this._updateRatio(l,b);return l=this._respectSize(l,b),this._propagate("resize",b),c.css({top:this.position.top+"px",left:this.position.left+"px",width:this.size.width+"px",height:this.size.height+"px"}),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),this._updateCache(l),this._trigger("resize",b,this.ui()),!1},_mouseStop:function(b){this.resizing=!1;var c=this.options,d=this;if(this._helper){var e=this._proportionallyResizeElements,f=e.length&&/textarea/i.test(e[0].nodeName),g=f&&a.ui.hasScroll(e[0],"left")?0:d.sizeDiff.height,h=f?0:d.sizeDiff.width,i={width:d.helper.width()-h,height:d.helper.height()-g},j=parseInt(d.element.css("left"),10)+(d.position.left-d.originalPosition.left)||null,k=parseInt(d.element.css("top"),10)+(d.position.top-d.originalPosition.top)||null;c.animate||this.element.css(a.extend(i,{top:k,left:j})),d.helper.height(d.size.height),d.helper.width(d.size.width),this._helper&&!c.animate&&this._proportionallyResize()}return a("body").css("cursor","auto"),this.element.removeClass("ui-resizable-resizing"),this._propagate("stop",b),this._helper&&this.helper.remove(),!1},_updateVirtualBoundaries:function(a){var b=this.options,c,e,f,g,h;h={minWidth:d(b.minWidth)?b.minWidth:0,maxWidth:d(b.maxWidth)?b.maxWidth:Infinity,minHeight:d(b.minHeight)?b.minHeight:0,maxHeight:d(b.maxHeight)?b.maxHeight:Infinity};if(this._aspectRatio||a)c=h.minHeight*this.aspectRatio,f=h.minWidth/this.aspectRatio,e=h.maxHeight*this.aspectRatio,g=h.maxWidth/this.aspectRatio,c>h.minWidth&&(h.minWidth=c),f>h.minHeight&&(h.minHeight=f),e<h.maxWidth&&(h.maxWidth=e),g<h.maxHeight&&(h.maxHeight=g);this._vBoundaries=h},_updateCache:function(a){var b=this.options;this.offset=this.helper.offset(),d(a.left)&&(this.position.left=a.left),d(a.top)&&(this.position.top=a.top),d(a.height)&&(this.size.height=a.height),d(a.width)&&(this.size.width=a.width)},_updateRatio:function(a,b){var c=this.options,e=this.position,f=this.size,g=this.axis;return d(a.height)?a.width=a.height*this.aspectRatio:d(a.width)&&(a.height=a.width/this.aspectRatio),g=="sw"&&(a.left=e.left+(f.width-a.width),a.top=null),g=="nw"&&(a.top=e.top+(f.height-a.height),a.left=e.left+(f.width-a.width)),a},_respectSize:function(a,b){var c=this.helper,e=this._vBoundaries,f=this._aspectRatio||b.shiftKey,g=this.axis,h=d(a.width)&&e.maxWidth&&e.maxWidth<a.width,i=d(a.height)&&e.maxHeight&&e.maxHeight<a.height,j=d(a.width)&&e.minWidth&&e.minWidth>a.width,k=d(a.height)&&e.minHeight&&e.minHeight>a.height;j&&(a.width=e.minWidth),k&&(a.height=e.minHeight),h&&(a.width=e.maxWidth),i&&(a.height=e.maxHeight);var l=this.originalPosition.left+this.originalSize.width,m=this.position.top+this.size.height,n=/sw|nw|w/.test(g),o=/nw|ne|n/.test(g);j&&n&&(a.left=l-e.minWidth),h&&n&&(a.left=l-e.maxWidth),k&&o&&(a.top=m-e.minHeight),i&&o&&(a.top=m-e.maxHeight);var p=!a.width&&!a.height;return p&&!a.left&&a.top?a.top=null:p&&!a.top&&a.left&&(a.left=null),a},_proportionallyResize:function(){var b=this.options;if(!this._proportionallyResizeElements.length)return;var c=this.helper||this.element;for(var d=0;d<this._proportionallyResizeElements.length;d++){var e=this._proportionallyResizeElements[d];if(!this.borderDif){var f=[e.css("borderTopWidth"),e.css("borderRightWidth"),e.css("borderBottomWidth"),e.css("borderLeftWidth")],g=[e.css("paddingTop"),e.css("paddingRight"),e.css("paddingBottom"),e.css("paddingLeft")];this.borderDif=a.map(f,function(a,b){var c=parseInt(a,10)||0,d=parseInt(g[b],10)||0;return c+d})}if(!a.browser.msie||!a(c).is(":hidden")&&!a(c).parents(":hidden").length)e.css({height:c.height()-this.borderDif[0]-this.borderDif[2]||0,width:c.width()-this.borderDif[1]-this.borderDif[3]||0});else continue}},_renderProxy:function(){var b=this.element,c=this.options;this.elementOffset=b.offset();if(this._helper){this.helper=this.helper||a('<div style="overflow:hidden;"></div>');var d=a.browser.msie&&a.browser.version<7,e=d?1:0,f=d?2:-1;this.helper.addClass(this._helper).css({width:this.element.outerWidth()+f,height:this.element.outerHeight()+f,position:"absolute",left:this.elementOffset.left-e+"px",top:this.elementOffset.top-e+"px",zIndex:++c.zIndex}),this.helper.appendTo("body").disableSelection()}else this.helper=this.element},_change:{e:function(a,b,c){return{width:this.originalSize.width+b}},w:function(a,b,c){var d=this.options,e=this.originalSize,f=this.originalPosition;return{left:f.left+b,width:e.width-b}},n:function(a,b,c){var d=this.options,e=this.originalSize,f=this.originalPosition;return{top:f.top+c,height:e.height-c}},s:function(a,b,c){return{height:this.originalSize.height+c}},se:function(b,c,d){return a.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[b,c,d]))},sw:function(b,c,d){return a.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[b,c,d]))},ne:function(b,c,d){return a.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[b,c,d]))},nw:function(b,c,d){return a.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[b,c,d]))}},_propagate:function(b,c){a.ui.plugin.call(this,b,[c,this.ui()]),b!="resize"&&this._trigger(b,c,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),a.extend(a.ui.resizable,{version:"1.8.17"}),a.ui.plugin.add("resizable","alsoResize",{start:function(b,c){var d=a(this).data("resizable"),e=d.options,f=function(b){a(b).each(function(){var b=a(this);b.data("resizable-alsoresize",{width:parseInt(b.width(),10),height:parseInt(b.height(),10),left:parseInt(b.css("left"),10),top:parseInt(b.css("top"),10),position:b.css("position")})})};typeof e.alsoResize=="object"&&!e.alsoResize.parentNode?e.alsoResize.length?(e.alsoResize=e.alsoResize[0],f(e.alsoResize)):a.each(e.alsoResize,function(a){f(a)}):f(e.alsoResize)},resize:function(b,c){var d=a(this).data("resizable"),e=d.options,f=d.originalSize,g=d.originalPosition,h={height:d.size.height-f.height||0,width:d.size.width-f.width||0,top:d.position.top-g.top||0,left:d.position.left-g.left||0},i=function(b,e){a(b).each(function(){var b=a(this),f=a(this).data("resizable-alsoresize"),g={},i=e&&e.length?e:b.parents(c.originalElement[0]).length?["width","height"]:["width","height","top","left"];a.each(i,function(a,b){var c=(f[b]||0)+(h[b]||0);c&&c>=0&&(g[b]=c||null)}),a.browser.opera&&/relative/.test(b.css("position"))&&(d._revertToRelativePosition=!0,b.css({position:"absolute",top:"auto",left:"auto"})),b.css(g)})};typeof e.alsoResize=="object"&&!e.alsoResize.nodeType?a.each(e.alsoResize,function(a,b){i(a,b)}):i(e.alsoResize)},stop:function(b,c){var d=a(this).data("resizable"),e=d.options,f=function(b){a(b).each(function(){var b=a(this);b.css({position:b.data("resizable-alsoresize").position})})};d._revertToRelativePosition&&(d._revertToRelativePosition=!1,typeof e.alsoResize=="object"&&!e.alsoResize.nodeType?a.each(e.alsoResize,function(a){f(a)}):f(e.alsoResize)),a(this).removeData("resizable-alsoresize")}}),a.ui.plugin.add("resizable","animate",{stop:function(b,c){var d=a(this).data("resizable"),e=d.options,f=d._proportionallyResizeElements,g=f.length&&/textarea/i.test(f[0].nodeName),h=g&&a.ui.hasScroll(f[0],"left")?0:d.sizeDiff.height,i=g?0:d.sizeDiff.width,j={width:d.size.width-i,height:d.size.height-h},k=parseInt(d.element.css("left"),10)+(d.position.left-d.originalPosition.left)||null,l=parseInt(d.element.css("top"),10)+(d.position.top-d.originalPosition.top)||null;d.element.animate(a.extend(j,l&&k?{top:l,left:k}:{}),{duration:e.animateDuration,easing:e.animateEasing,step:function(){var c={width:parseInt(d.element.css("width"),10),height:parseInt(d.element.css("height"),10),top:parseInt(d.element.css("top"),10),left:parseInt(d.element.css("left"),10)};f&&f.length&&a(f[0]).css({width:c.width,height:c.height}),d._updateCache(c),d._propagate("resize",b)}})}}),a.ui.plugin.add("resizable","containment",{start:function(b,d){var e=a(this).data("resizable"),f=e.options,g=e.element,h=f.containment,i=h instanceof a?h.get(0):/parent/.test(h)?g.parent().get(0):h;if(!i)return;e.containerElement=a(i);if(/document/.test(h)||h==document)e.containerOffset={left:0,top:0},e.containerPosition={left:0,top:0},e.parentData={element:a(document),left:0,top:0,width:a(document).width(),height:a(document).height()||document.body.parentNode.scrollHeight};else{var j=a(i),k=[];a(["Top","Right","Left","Bottom"]).each(function(a,b){k[a]=c(j.css("padding"+b))}),e.containerOffset=j.offset(),e.containerPosition=j.position(),e.containerSize={height:j.innerHeight()-k[3],width:j.innerWidth()-k[1]};var l=e.containerOffset,m=e.containerSize.height,n=e.containerSize.width,o=a.ui.hasScroll(i,"left")?i.scrollWidth:n,p=a.ui.hasScroll(i)?i.scrollHeight:m;e.parentData={element:i,left:l.left,top:l.top,width:o,height:p}}},resize:function(b,c){var d=a(this).data("resizable"),e=d.options,f=d.containerSize,g=d.containerOffset,h=d.size,i=d.position,j=d._aspectRatio||b.shiftKey,k={top:0,left:0},l=d.containerElement;l[0]!=document&&/static/.test(l.css("position"))&&(k=g),i.left<(d._helper?g.left:0)&&(d.size.width=d.size.width+(d._helper?d.position.left-g.left:d.position.left-k.left),j&&(d.size.height=d.size.width/e.aspectRatio),d.position.left=e.helper?g.left:0),i.top<(d._helper?g.top:0)&&(d.size.height=d.size.height+(d._helper?d.position.top-g.top:d.position.top),j&&(d.size.width=d.size.height*e.aspectRatio),d.position.top=d._helper?g.top:0),d.offset.left=d.parentData.left+d.position.left,d.offset.top=d.parentData.top+d.position.top;var m=Math.abs((d._helper?d.offset.left-k.left:d.offset.left-k.left)+d.sizeDiff.width),n=Math.abs((d._helper?d.offset.top-k.top:d.offset.top-g.top)+d.sizeDiff.height),o=d.containerElement.get(0)==d.element.parent().get(0),p=/relative|absolute/.test(d.containerElement.css("position"));o&&p&&(m-=d.parentData.left),m+d.size.width>=d.parentData.width&&(d.size.width=d.parentData.width-m,j&&(d.size.height=d.size.width/d.aspectRatio)),n+d.size.height>=d.parentData.height&&(d.size.height=d.parentData.height-n,j&&(d.size.width=d.size.height*d.aspectRatio))},stop:function(b,c){var d=a(this).data("resizable"),e=d.options,f=d.position,g=d.containerOffset,h=d.containerPosition,i=d.containerElement,j=a(d.helper),k=j.offset(),l=j.outerWidth()-d.sizeDiff.width,m=j.outerHeight()-d.sizeDiff.height;d._helper&&!e.animate&&/relative/.test(i.css("position"))&&a(this).css({left:k.left-h.left-g.left,width:l,height:m}),d._helper&&!e.animate&&/static/.test(i.css("position"))&&a(this).css({left:k.left-h.left-g.left,width:l,height:m})}}),a.ui.plugin.add("resizable","ghost",{start:function(b,c){var d=a(this).data("resizable"),e=d.options,f=d.size;d.ghost=d.originalElement.clone(),d.ghost.css({opacity:.25,display:"block",position:"relative",height:f.height,width:f.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass(typeof e.ghost=="string"?e.ghost:""),d.ghost.appendTo(d.helper)},resize:function(b,c){var d=a(this).data("resizable"),e=d.options;d.ghost&&d.ghost.css({position:"relative",height:d.size.height,width:d.size.width})},stop:function(b,c){var d=a(this).data("resizable"),e=d.options;d.ghost&&d.helper&&d.helper.get(0).removeChild(d.ghost.get(0))}}),a.ui.plugin.add("resizable","grid",{resize:function(b,c){var d=a(this).data("resizable"),e=d.options,f=d.size,g=d.originalSize,h=d.originalPosition,i=d.axis,j=e._aspectRatio||b.shiftKey;e.grid=typeof e.grid=="number"?[e.grid,e.grid]:e.grid;var k=Math.round((f.width-g.width)/(e.grid[0]||1))*(e.grid[0]||1),l=Math.round((f.height-g.height)/(e.grid[1]||1))*(e.grid[1]||1);/^(se|s|e)$/.test(i)?(d.size.width=g.width+k,d.size.height=g.height+l):/^(ne)$/.test(i)?(d.size.width=g.width+k,d.size.height=g.height+l,d.position.top=h.top-l):/^(sw)$/.test(i)?(d.size.width=g.width+k,d.size.height=g.height+l,d.position.left=h.left-k):(d.size.width=g.width+k,d.size.height=g.height+l,d.position.top=h.top-l,d.position.left=h.left-k)}});var c=function(a){return parseInt(a,10)||0},d=function(a){return!isNaN(parseInt(a,10))}}(jQuery),function(a,b){a.widget("ui.selectable",a.ui.mouse,{options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch"},_create:function(){var b=this;this.element.addClass("ui-selectable"),this.dragged=!1;var c;this.refresh=function(){c=a(b.options.filter,b.element[0]),c.addClass("ui-selectee"),c.each(function(){var b=a(this),c=b.offset();a.data(this,"selectable-item",{element:this,$element:b,left:c.left,top:c.top,right:c.left+b.outerWidth(),bottom:c.top+b.outerHeight(),startselected:!1,selected:b.hasClass("ui-selected"),selecting:b.hasClass("ui-selecting"),unselecting:b.hasClass("ui-unselecting")})})},this.refresh(),this.selectees=c.addClass("ui-selectee"),this._mouseInit(),this.helper=a("<div class='ui-selectable-helper'></div>")},destroy:function(){return this.selectees.removeClass("ui-selectee").removeData("selectable-item"),this.element.removeClass("ui-selectable ui-selectable-disabled").removeData("selectable").unbind(".selectable"),this._mouseDestroy(),this},_mouseStart:function(b){var c=this;this.opos=[b.pageX,b.pageY];if(this.options.disabled)return;var d=this.options;this.selectees=a(d.filter,this.element[0]),this._trigger("start",b),a(d.appendTo).append(this.helper),this.helper.css({left:b.clientX,top:b.clientY,width:0,height:0}),d.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each(function(){var d=a.data(this,"selectable-item");d.startselected=!0,!b.metaKey&&!b.ctrlKey&&(d.$element.removeClass("ui-selected"),d.selected=!1,d.$element.addClass("ui-unselecting"),d.unselecting=!0,c._trigger("unselecting",b,{unselecting:d.element}))}),a(b.target).parents().andSelf().each(function(){var d=a.data(this,"selectable-item");if(d){var e=!b.metaKey&&!b.ctrlKey||!d.$element.hasClass("ui-selected");return d.$element.removeClass(e?"ui-unselecting":"ui-selected").addClass(e?"ui-selecting":"ui-unselecting"),d.unselecting=!e,d.selecting=e,d.selected=e,e?c._trigger("selecting",b,{selecting:d.element}):c._trigger("unselecting",b,{unselecting:d.element}),!1}})},_mouseDrag:function(b){var c=this;this.dragged=!0;if(this.options.disabled)return;var d=this.options,e=this.opos[0],f=this.opos[1],g=b.pageX,h=b.pageY;if(e>g){var i=g;g=e,e=i}if(f>h){var i=h;h=f,f=i}return this.helper.css({left:e,top:f,width:g-e,height:h-f}),this.selectees.each(function(){var i=a.data(this,"selectable-item");if(!i||i.element==c.element[0])return;var j=!1;d.tolerance=="touch"?j=!(i.left>g||i.right<e||i.top>h||i.bottom<f):d.tolerance=="fit"&&(j=i.left>e&&i.right<g&&i.top>f&&i.bottom<h),j?(i.selected&&(i.$element.removeClass("ui-selected"),i.selected=!1),i.unselecting&&(i.$element.removeClass("ui-unselecting"),i.unselecting=!1),i.selecting||(i.$element.addClass("ui-selecting"),i.selecting=!0,c._trigger("selecting",b,{selecting:i.element}))):(i.selecting&&((b.metaKey||b.ctrlKey)&&i.startselected?(i.$element.removeClass("ui-selecting"),i.selecting=!1,i.$element.addClass("ui-selected"),i.selected=!0):(i.$element.removeClass("ui-selecting"),i.selecting=!1,i.startselected&&(i.$element.addClass("ui-unselecting"),i.unselecting=!0),c._trigger("unselecting",b,{unselecting:i.element}))),i.selected&&!b.metaKey&&!b.ctrlKey&&!i.startselected&&(i.$element.removeClass("ui-selected"),i.selected=!1,i.$element.addClass("ui-unselecting"),i.unselecting=!0,c._trigger("unselecting",b,{unselecting:i.element})))}),!1},_mouseStop:function(b){var c=this;this.dragged=!1;var d=this.options;return a(".ui-unselecting",this.element[0]).each(function(){var d=a.data(this,"selectable-item");d.$element.removeClass("ui-unselecting"),d.unselecting=!1,d.startselected=!1,c._trigger("unselected",b,{unselected:d.element})}),a(".ui-selecting",this.element[0]).each(function(){var d=a.data(this,"selectable-item");d.$element.removeClass("ui-selecting").addClass("ui-selected"),d.selecting=!1,d.selected=!0,d.startselected=!0,c._trigger("selected",b,{selected:d.element})}),this._trigger("stop",b),this.helper.remove(),!1}}),a.extend(a.ui.selectable,{version:"1.8.17"})}(jQuery),function(a,b){a.widget("ui.sortable",a.ui.mouse,{widgetEventPrefix:"sort",options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3},_create:function(){var a=this.options;this.containerCache={},this.element.addClass("ui-sortable"),this.refresh(),this.floating=this.items.length?a.axis==="x"||/left|right/.test(this.items[0].item.css("float"))||/inline|table-cell/.test(this.items[0].item.css("display")):!1,this.offset=this.element.offset(),this._mouseInit()},destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled"),this._mouseDestroy();for(var a=this.items.length-1;a>=0;a--)this.items[a].item.removeData(this.widgetName+"-item");return this},_setOption:function(b,c){b==="disabled"?(this.options[b]=c,this.widget()[c?"addClass":"removeClass"]("ui-sortable-disabled")):a.Widget.prototype._setOption.apply(this,arguments)},_mouseCapture:function(b,c){var d=this;if(this.reverting)return!1;if(this.options.disabled||this.options.type=="static")return!1;this._refreshItems(b);var e=null,f=this,g=a(b.target).parents().each(function(){if(a.data(this,d.widgetName+"-item")==f)return e=a(this),!1});a.data(b.target,d.widgetName+"-item")==f&&(e=a(b.target));if(!e)return!1;if(this.options.handle&&!c){var h=!1;a(this.options.handle,e).find("*").andSelf().each(function(){this==b.target&&(h=!0)});if(!h)return!1}return this.currentItem=e,this._removeCurrentsFromItems(),!0},_mouseStart:function(b,c,d){var e=this.options,f=this;this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(b),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),a.extend(this.offset,{click:{left:b.pageX-this.offset.left,top:b.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.originalPosition=this._generatePosition(b),this.originalPageX=b.pageX,this.originalPageY=b.pageY,e.cursorAt&&this._adjustOffsetFromHelper(e.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!=this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),e.containment&&this._setContainment(),e.cursor&&(a("body").css("cursor")&&(this._storedCursor=a("body").css("cursor")),a("body").css("cursor",e.cursor)),e.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",e.opacity)),e.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",e.zIndex)),this.scrollParent[0]!=document&&this.scrollParent[0].tagName!="HTML"&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",b,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions();if(!d)for(var g=this.containers.length-1;g>=0;g--)this.containers[g]._trigger("activate",b,f._uiHash(this));return a.ui.ddmanager&&(a.ui.ddmanager.current=this),a.ui.ddmanager&&!e.dropBehaviour&&a.ui.ddmanager.prepareOffsets(this,b),this.dragging=!0,this.helper.addClass("ui-sortable-helper"),this._mouseDrag(b),!0},_mouseDrag:function(b){this.position=this._generatePosition(b),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs);if(this.options.scroll){var c=this.options,d=!1;this.scrollParent[0]!=document&&this.scrollParent[0].tagName!="HTML"?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-b.pageY<c.scrollSensitivity?this.scrollParent[0].scrollTop=d=this.scrollParent[0].scrollTop+c.scrollSpeed:b.pageY-this.overflowOffset.top<c.scrollSensitivity&&(this.scrollParent[0].scrollTop=d=this.scrollParent[0].scrollTop-c.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-b.pageX<c.scrollSensitivity?this.scrollParent[0].scrollLeft=d=this.scrollParent[0].scrollLeft+c.scrollSpeed:b.pageX-this.overflowOffset.left<c.scrollSensitivity&&(this.scrollParent[0].scrollLeft=d=this.scrollParent[0].scrollLeft-c.scrollSpeed)):(b.pageY-a(document).scrollTop()<c.scrollSensitivity?d=a(document).scrollTop(a(document).scrollTop()-c.scrollSpeed):a(window).height()-(b.pageY-a(document).scrollTop())<c.scrollSensitivity&&(d=a(document).scrollTop(a(document).scrollTop()+c.scrollSpeed)),b.pageX-a(document).scrollLeft()<c.scrollSensitivity?d=a(document).scrollLeft(a(document).scrollLeft()-c.scrollSpeed):a(window).width()-(b.pageX-a(document).scrollLeft())<c.scrollSensitivity&&(d=a(document).scrollLeft(a(document).scrollLeft()+c.scrollSpeed))),d!==!1&&a.ui.ddmanager&&!c.dropBehaviour&&a.ui.ddmanager.prepareOffsets(this,b)}this.positionAbs=this._convertPositionTo("absolute");if(!this.options.axis||this.options.axis!="y")this.helper[0].style.left=this.position.left+"px";if(!this.options.axis||this.options.axis!="x")this.helper[0].style.top=this.position.top+"px";for(var e=this.items.length-1;e>=0;e--){var f=this.items[e],g=f.item[0],h=this._intersectsWithPointer(f);if(!h)continue;if(g!=this.currentItem[0]&&this.placeholder[h==1?"next":"prev"]()[0]!=g&&!a.ui.contains(this.placeholder[0],g)&&(this.options.type=="semi-dynamic"?!a.ui.contains(this.element[0],g):!0)){this.direction=h==1?"down":"up";if(this.options.tolerance=="pointer"||this._intersectsWithSides(f))this._rearrange(b,f);else break;this._trigger("change",b,this._uiHash());break}}return this._contactContainers(b),a.ui.ddmanager&&a.ui.ddmanager.drag(this,b),this._trigger("sort",b,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(b,c){if(!b)return;a.ui.ddmanager&&!this.options.dropBehaviour&&a.ui.ddmanager.drop(this,b);if(this.options.revert){var d=this,e=d.placeholder.offset();d.reverting=!0,a(this.helper).animate({left:e.left-this.offset.parent.left-d.margins.left+(this.offsetParent[0]==document.body?0:this.offsetParent[0].scrollLeft),top:e.top-this.offset.parent.top-d.margins.top+(this.offsetParent[0]==document.body?0:this.offsetParent[0].scrollTop)},parseInt(this.options.revert,10)||500,function(){d._clear(b)})}else this._clear(b,c);return!1},cancel:function(){var b=this;if(this.dragging){this._mouseUp({target:null}),this.options.helper=="original"?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var c=this.containers.length-1;c>=0;c--)this.containers[c]._trigger("deactivate",null,b._uiHash(this)),this.containers[c].containerCache.over&&(this.containers[c]._trigger("out",null,b._uiHash(this)),this.containers[c].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.options.helper!="original"&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),a.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?a(this.domPosition.prev).after(this.currentItem):a(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(b){var c=this._getItemsAsjQuery(b&&b.connected),d=[];return b=b||{},a(c).each(function(){var c=(a(b.item||this).attr(b.attribute||"id")||"").match(b.expression||/(.+)[-=_](.+)/);c&&d.push((b.key||c[1]+"[]")+"="+(b.key&&b.expression?c[1]:c[2]))}),!d.length&&b.key&&d.push(b.key+"="),d.join("&")},toArray:function(b){var c=this._getItemsAsjQuery(b&&b.connected),d=[];return b=b||{},c.each(function(){d.push(a(b.item||this).attr(b.attribute||"id")||"")}),d},_intersectsWith:function(a){var b=this.positionAbs.left,c=b+this.helperProportions.width,d=this.positionAbs.top,e=d+this.helperProportions.height,f=a.left,g=f+a.width,h=a.top,i=h+a.height,j=this.offset.click.top,k=this.offset.click.left,l=d+j>h&&d+j<i&&b+k>f&&b+k<g;return this.options.tolerance=="pointer"||this.options.forcePointerForContainers||this.options.tolerance!="pointer"&&this.helperProportions[this.floating?"width":"height"]>a[this.floating?"width":"height"]?l:f<b+this.helperProportions.width/2&&c-this.helperProportions.width/2<g&&h<d+this.helperProportions.height/2&&e-this.helperProportions.height/2<i},_intersectsWithPointer:function(b){var c=a.ui.isOverAxis(this.positionAbs.top+this.offset.click.top,b.top,b.height),d=a.ui.isOverAxis(this.positionAbs.left+this.offset.click.left,b.left,b.width),e=c&&d,f=this._getDragVerticalDirection(),g=this._getDragHorizontalDirection();return e?this.floating?g&&g=="right"||f=="down"?2:1:f&&(f=="down"?2:1):!1},_intersectsWithSides:function(b){var c=a.ui.isOverAxis(this.positionAbs.top+this.offset.click.top,b.top+b.height/2,b.height),d=a.ui.isOverAxis(this.positionAbs.left+this.offset.click.left,b.left+b.width/2,b.width),e=this._getDragVerticalDirection(),f=this._getDragHorizontalDirection();return this.floating&&f?f=="right"&&d||f=="left"&&!d:e&&(e=="down"&&c||e=="up"&&!c)},_getDragVerticalDirection:function(){var a=this.positionAbs.top-this.lastPositionAbs.top;return a!=0&&(a>0?"down":"up")},_getDragHorizontalDirection:function(){var a=this.positionAbs.left-this.lastPositionAbs.left;return a!=0&&(a>0?"right":"left")},refresh:function(a){return this._refreshItems(a),this.refreshPositions(),this},_connectWith:function(){var a=this.options;return a.connectWith.constructor==String?[a.connectWith]:a.connectWith},_getItemsAsjQuery:function(b){var c=this,d=[],e=[],f=this._connectWith();if(f&&b)for(var g=f.length-1;g>=0;g--){var h=a(f[g]);for(var i=h.length-1;i>=0;i--){var j=a.data(h[i],this.widgetName);j&&j!=this&&!j.options.disabled&&e.push([a.isFunction(j.options.items)?j.options.items.call(j.element):a(j.options.items,j.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),j])}}e.push([a.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):a(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]);for(var g=e.length-1;g>=0;g--)e[g][0].each(function(){d.push(this)});return a(d)},_removeCurrentsFromItems:function(){var a=this.currentItem.find(":data("+this.widgetName+"-item)");for(var b=0;b<this.items.length;b++)for(var c=0;c<a.length;c++)a[c]==this.items[b].item[0]&&this.items.splice(b,1)},_refreshItems:function(b){this.items=[],this.containers=[this];var c=this.items,d=this,e=[[a.isFunction(this.options.items)?this.options.items.call(this.element[0],b,{item:this.currentItem}):a(this.options.items,this.element),this]],f=this._connectWith();if(f)for(var g=f.length-1;g>=0;g--){var h=a(f[g]);for(var i=h.length-1;i>=0;i--){var j=a.data(h[i],this.widgetName);j&&j!=this&&!j.options.disabled&&(e.push([a.isFunction(j.options.items)?j.options.items.call(j.element[0],b,{item:this.currentItem}):a(j.options.items,j.element),j]),this.containers.push(j))}}for(var g=e.length-1;g>=0;g--){var k=e[g][1],l=e[g][0];for(var i=0,m=l.length;i<m;i++){var n=a(l[i]);n.data(this.widgetName+"-item",k),c.push({item:n,instance:k,width:0,height:0,left:0,top:0})}}},refreshPositions:function(b){this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());for(var c=this.items.length-1;c>=0;c--){var d=this.items[c];if(d.instance!=this.currentContainer&&this.currentContainer&&d.item[0]!=this.currentItem[0])continue;var e=this.options.toleranceElement?a(this.options.toleranceElement,d.item):d.item;b||(d.width=e.outerWidth(),d.height=e.outerHeight());var f=e.offset();d.left=f.left,d.top=f.top}if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(var c=this.containers.length-1;c>=0;c--){var f=this.containers[c].element.offset();this.containers[c].containerCache.left=f.left,this.containers[c].containerCache.top=f.top,this.containers[c].containerCache.width=this.containers[c].element.outerWidth(),this.containers[c].containerCache.height=this.containers[c].element.outerHeight()}return this},_createPlaceholder:function(b){var c=b||this,d=c.options;if(!d.placeholder||d.placeholder.constructor==String){var e=d.placeholder;d.placeholder={element:function(){var b=a(document.createElement(c.currentItem[0].nodeName)).addClass(e||c.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper")[0];return e||(b.style.visibility="hidden"),b},update:function(a,b){if(e&&!d.forcePlaceholderSize)return;b.height()||b.height(c.currentItem.innerHeight()-parseInt(c.currentItem.css("paddingTop")||0,10)-parseInt(c.currentItem.css("paddingBottom")||0,10)),b.width()||b.width(c.currentItem.innerWidth()-parseInt(c.currentItem.css("paddingLeft")||0,10)-parseInt(c.currentItem.css("paddingRight")||0,10))}}}c.placeholder=a(d.placeholder.element.call(c.element,c.currentItem)),c.currentItem.after(c.placeholder),d.placeholder.update(c,c.placeholder)},_contactContainers:function(b){var c=null,d=null;for(var e=this.containers.length-1;e>=0;e--){if(a.ui.contains(this.currentItem[0],this.containers[e].element[0]))continue;if(this._intersectsWith(this.containers[e].containerCache)){if(c&&a.ui.contains(this.containers[e].element[0],c.element[0]))continue;c=this.containers[e],d=e}else this.containers[e].containerCache.over&&(this.containers[e]._trigger("out",b,this._uiHash(this)),this.containers[e].containerCache.over=0)}if(!c)return;if(this.containers.length===1)this.containers[d]._trigger("over",b,this._uiHash(this)),this.containers[d].containerCache.over=1;else if(this.currentContainer!=this.containers[d]){var f=1e4,g=null,h=this.positionAbs[this.containers[d].floating?"left":"top"];for(var i=this.items.length-1;i>=0;i--){if(!a.ui.contains(this.containers[d].element[0],this.items[i].item[0]))continue;var j=this.items[i][this.containers[d].floating?"left":"top"];Math.abs(j-h)<f&&(f=Math.abs(j-h),g=this.items[i])}if(!g&&!this.options.dropOnEmpty)return;this.currentContainer=this.containers[d],g?this._rearrange(b,g,null,!0):this._rearrange(b,null,this.containers[d].element,!0),this._trigger("change",b,this._uiHash()),this.containers[d]._trigger("change",b,this._uiHash(this)),this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[d]._trigger("over",b,this._uiHash(this)),this.containers[d].containerCache.over=1}},_createHelper:function(b){var c=this.options,d=a.isFunction(c.helper)?a(c.helper.apply(this.element[0],[b,this.currentItem])):c.helper=="clone"?this.currentItem.clone():this.currentItem;return d.parents("body").length||a(c.appendTo!="parent"?c.appendTo:this.currentItem[0].parentNode)[0].appendChild(d[0]),d[0]==this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),(d[0].style.width==""||c.forceHelperSize)&&d.width(this.currentItem.width()),(d[0].style.height==""||c.forceHelperSize)&&d.height(this.currentItem.height()),d},_adjustOffsetFromHelper:function(b){typeof b=="string"&&(b=b.split(" ")),a.isArray(b)&&(b={left:+b[0],top:+b[1]||0}),"left"in b&&(this.offset.click.left=b.left+this.margins.left),"right"in b&&(this.offset.click.left=this.helperProportions.width-b.right+this.margins.left),"top"in b&&(this.offset.click.top=b.top+this.margins.top),"bottom"in b&&(this.offset.click.top=this.helperProportions.height-b.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var b=this.offsetParent.offset();this.cssPosition=="absolute"&&this.scrollParent[0]!=document&&a.ui.contains(this.scrollParent[0],this.offsetParent[0])&&(b.left+=this.scrollParent.scrollLeft(),b.top+=this.scrollParent.scrollTop());if(this.offsetParent[0]==document.body||this.offsetParent[0].tagName&&this.offsetParent[0].tagName.toLowerCase()=="html"&&a.browser.msie)b={top:0,left:0};return{top:b.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:b.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if(this.cssPosition=="relative"){var a=this.currentItem.position();return{top:a.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:a.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var b=this.options;b.containment=="parent"&&(b.containment=this.helper[0].parentNode);if(b.containment=="document"||b.containment=="window")this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,a(b.containment=="document"?document:window).width()-this.helperProportions.width-this.margins.left,(a(b.containment=="document"?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top];if(!/^(document|window|parent)$/.test(b.containment)){var c=a(b.containment)[0],d=a(b.containment).offset(),e=a(c).css("overflow")!="hidden";this.containment=[d.left+(parseInt(a(c).css("borderLeftWidth"),10)||0)+(parseInt(a(c).css("paddingLeft"),10)||0)-this.margins.left,d.top+(parseInt(a(c).css("borderTopWidth"),10)||0)+(parseInt(a(c).css("paddingTop"),10)||0)-this.margins.top,d.left+(e?Math.max(c.scrollWidth,c.offsetWidth):c.offsetWidth)-(parseInt(a(c).css("borderLeftWidth"),10)||0)-(parseInt(a(c).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,d.top+(e?Math.max(c.scrollHeight,c.offsetHeight):c.offsetHeight)-(parseInt(a(c).css("borderTopWidth"),10)||0)-(parseInt(a(c).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top]}},_convertPositionTo:function(b,c){c||(c=this.position);var d=b=="absolute"?1:-1,e=this.options,f=this.cssPosition!="absolute"||this.scrollParent[0]!=document&&!!a.ui.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,g=/(html|body)/i.test(f[0].tagName);return{top:c.top+this.offset.relative.top*d+this.offset.parent.top*d-(a.browser.safari&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollTop():g?0:f.scrollTop())*d),left:c.left+this.offset.relative.left*d+this.offset.parent.left*d-(a.browser.safari&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():g?0:f.scrollLeft())*d)}},_generatePosition:function(b){var c=this.options,d=this.cssPosition!="absolute"||this.scrollParent[0]!=document&&!!a.ui.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,e=/(html|body)/i.test(d[0].tagName);this.cssPosition=="relative"&&(this.scrollParent[0]==document||this.scrollParent[0]==this.offsetParent[0])&&(this.offset.relative=this._getRelativeOffset());var f=b.pageX,g=b.pageY;if(this.originalPosition){this.containment&&(b.pageX-this.offset.click.left<this.containment[0]&&(f=this.containment[0]+this.offset.click.left),b.pageY-this.offset.click.top<this.containment[1]&&(g=this.containment[1]+this.offset.click.top),b.pageX-this.offset.click.left>this.containment[2]&&(f=this.containment[2]+this.offset.click.left),b.pageY-this.offset.click.top>this.containment[3]&&(g=this.containment[3]+this.offset.click.top));if(c.grid){var h=this.originalPageY+Math.round((g-this.originalPageY)/c.grid[1])*c.grid[1];g=this.containment?h-this.offset.click.top<this.containment[1]||h-this.offset.click.top>this.containment[3]?h-this.offset.click.top<this.containment[1]?h+c.grid[1]:h-c.grid[1]:h:h;var i=this.originalPageX+Math.round((f-this.originalPageX)/c.grid[0])*c.grid[0];f=this.containment?i-this.offset.click.left<this.containment[0]||i-this.offset.click.left>this.containment[2]?i-this.offset.click.left<this.containment[0]?i+c.grid[0]:i-c.grid[0]:i:i}}return{top:g-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(a.browser.safari&&this.cssPosition=="fixed"?0:this.cssPosition=="fixed"?-this.scrollParent.scrollTop():e?0:d.scrollTop()),left:f-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(a.browser.safari&&this.cssPosition=="fixed"?0:this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():e?0:d.scrollLeft())}},_rearrange:function(a,b,c,d){c?c[0].appendChild(this.placeholder[0]):b.item[0].parentNode.insertBefore(this.placeholder[0],this.direction=="down"?b.item[0]:b.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var e=this,f=this.counter;window.setTimeout(function(){f==e.counter&&e.refreshPositions(!d)},0)},_clear:function(b,c){this.reverting=!1;var d=[],e=this;!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null;if(this.helper[0]==this.currentItem[0]){for(var f in this._storedCSS)if(this._storedCSS[f]=="auto"||this._storedCSS[f]=="static")this._storedCSS[f]="";this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();this.fromOutside&&!c&&d.push(function(a){this._trigger("receive",a,this._uiHash(this.fromOutside))}),(this.fromOutside||this.domPosition.prev!=this.currentItem.prev().not(".ui-sortable-helper")[0]||this.domPosition.parent!=this.currentItem.parent()[0])&&!c&&d.push(function(a){this._trigger("update",a,this._uiHash())});if(!a.ui.contains(this.element[0],this.currentItem[0])){c||d.push(function(a){this._trigger("remove",a,this._uiHash())});for(var f=this.containers.length-1;f>=0;f--)a.ui.contains(this.containers[f].element[0],this.currentItem[0])&&!c&&(d.push(function(a){return function(b){a._trigger("receive",b,this._uiHash(this))}}.call(this,this.containers[f])),d.push(function(a){return function(b){a._trigger("update",b,this._uiHash(this))}}.call(this,this.containers[f])))}for(var f=this.containers.length-1;f>=0;f--)c||d.push(function(a){return function(b){a._trigger("deactivate",b,this._uiHash(this))}}.call(this,this.containers[f])),this.containers[f].containerCache.over&&(d.push(function(a){return function(b){a._trigger("out",b,this._uiHash(this))}}.call(this,this.containers[f])),this.containers[f].containerCache.over=0);this._storedCursor&&a("body").css("cursor",this._storedCursor),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex",this._storedZIndex=="auto"?"":this._storedZIndex),this.dragging=!1;if(this.cancelHelperRemoval){if(!c){this._trigger("beforeStop",b,this._uiHash());for(var f=0;f<d.length;f++)d[f].call(this,b);this._trigger("stop",b,this._uiHash())}return!1}c||this._trigger("beforeStop",b,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.helper[0]!=this.currentItem[0]&&this.helper.remove(),this.helper=null;if(!c){for(var f=0;f<d.length;f++)d[f].call(this,b);this._trigger("stop",b,this._uiHash())}return this.fromOutside=!1,!0},_trigger:function(){a.Widget.prototype._trigger.apply(this,arguments)===!1&&this.cancel()},_uiHash:function(b){var c=b||this;return{helper:c.helper,placeholder:c.placeholder||a([]),position:c.position,originalPosition:c.originalPosition,offset:c.positionAbs,item:c.currentItem,sender:b?b.element:null}}}),a.extend(a.ui.sortable,{version:"1.8.17"})}(jQuery),jQuery.effects||function(a,b){function c(b){var c;return b&&b.constructor==Array&&b.length==3?b:(c=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(b))?[parseInt(c[1],10),parseInt(c[2],10),parseInt(c[3],10)]:(c=/rgb\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*\)/.exec(b))?[parseFloat(c[1])*2.55,parseFloat(c[2])*2.55,parseFloat(c[3])*2.55]:(c=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(b))?[parseInt(c[1],16),parseInt(c[2],16),parseInt(c[3],16)]:(c=/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(b))?[parseInt(c[1]+c[1],16),parseInt(c[2]+c[2],16),parseInt(c[3]+c[3],16)]:(c=/rgba\(0, 0, 0, 0\)/.exec(b))?e.transparent:e[a.trim(b).toLowerCase()]}function d(b,d){var e;do{e=a.curCSS(b,d);if(e!=""&&e!="transparent"||a.nodeName(b,"body"))break;d="backgroundColor"}while(b=b.parentNode);return c(e)}function h(){var a=document.defaultView?document.defaultView.getComputedStyle(this,null):this.currentStyle,b={},c,d;if(a&&a.length&&a[0]&&a[a[0]]){var e=a.length;while(e--)c=a[e],typeof a[c]=="string"&&(d=c.replace(/\-(\w)/g,function(a,b){return b.toUpperCase()}),b[d]=a[c])}else for(c in a)typeof a[c]=="string"&&(b[c]=a[c]);return b}function i(b){var c,d;for(c in b)d=b[c],(d==null||a.isFunction(d)||c in g||/scrollbar/.test(c)||!/color/i.test(c)&&isNaN(parseFloat(d)))&&delete b[c];return b}function j(a,b){var c={_:0},d;for(d in b)a[d]!=b[d]&&(c[d]=b[d]);return c}function k(b,c,d,e){typeof b=="object"&&(e=c,d=null,c=b,b=c.effect),a.isFunction(c)&&(e=c,d=null,c={});if(typeof c=="number"||a.fx.speeds[c])e=d,d=c,c={};return a.isFunction(d)&&(e=d,d=null),c=c||{},d=d||c.duration,d=a.fx.off?0:typeof d=="number"?d:d in a.fx.speeds?a.fx.speeds[d]:a.fx.speeds._default,e=e||c.complete,[b,c,d,e]}function l(b){return!b||typeof b=="number"||a.fx.speeds[b]?!0:typeof b=="string"&&!a.effects[b]?!0:!1}a.effects={},a.each(["backgroundColor","borderBottomColor","borderLeftColor","borderRightColor","borderTopColor","borderColor","color","outlineColor"],function(b,e){a.fx.step[e]=function(a){a.colorInit||(a.start=d(a.elem,e),a.end=c(a.end),a.colorInit=!0),a.elem.style[e]="rgb("+Math.max(Math.min(parseInt(a.pos*(a.end[0]-a.start[0])+a.start[0],10),255),0)+","+Math.max(Math.min(parseInt(a.pos*(a.end[1]-a.start[1])+a.start[1],10),255),0)+","+Math.max(Math.min(parseInt(a.pos*(a.end[2]-a.start[2])+a.start[2],10),255),0)+")"}});var e={aqua:[0,255,255],azure:[240,255,255],beige:[245,245,220],black:[0,0,0],blue:[0,0,255],brown:[165,42,42],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgrey:[169,169,169],darkgreen:[0,100,0],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkviolet:[148,0,211],fuchsia:[255,0,255],gold:[255,215,0],green:[0,128,0],indigo:[75,0,130],khaki:[240,230,140],lightblue:[173,216,230],lightcyan:[224,255,255],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightyellow:[255,255,224],lime:[0,255,0],magenta:[255,0,255],maroon:[128,0,0],navy:[0,0,128],olive:[128,128,0],orange:[255,165,0],pink:[255,192,203],purple:[128,0,128],violet:[128,0,128],red:[255,0,0],silver:[192,192,192],white:[255,255,255],yellow:[255,255,0],transparent:[255,255,255]},f=["add","remove","toggle"],g={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};a.effects.animateClass=function(b,c,d,e){return a.isFunction(d)&&(e=d,d=null),this.queue(function(){var g=a(this),k=g.attr("style")||" ",l=i(h.call(this)),m,n=g.attr("class");a.each(f,function(a,c){b[c]&&g[c+"Class"](b[c])}),m=i(h.call(this)),g.attr("class",n),g.animate(j(l,m),{queue:!1,duration:c,easing:d,complete:function(){a.each(f,function(a,c){b[c]&&g[c+"Class"](b[c])}),typeof g.attr("style")=="object"?(g.attr("style").cssText="",g.attr("style").cssText=k):g.attr("style",k),e&&e.apply(this,arguments),a.dequeue(this)}})})},a.fn.extend({_addClass:a.fn.addClass,addClass:function(b,c,d,e){return c?a.effects.animateClass.apply(this,[{add:b},c,d,e]):this._addClass(b)},_removeClass:a.fn.removeClass,removeClass:function(b,c,d,e){return c?a.effects.animateClass.apply(this,[{remove:b},c,d,e]):this._removeClass(b)},_toggleClass:a.fn.toggleClass,toggleClass:function(c,d,e,f,g){return typeof d=="boolean"||d===b?e?a.effects.animateClass.apply(this,[d?{add:c}:{remove:c},e,f,g]):this._toggleClass(c,d):a.effects.animateClass.apply(this,[{toggle:c},d,e,f])},switchClass:function(b,c,d,e,f){return a.effects.animateClass.apply(this,[{add:c,remove:b},d,e,f])}}),a.extend(a.effects,{version:"1.8.17",save:function(a,b){for(var c=0;c<b.length;c++)b[c]!==null&&a.data("ec.storage."+b[c],a[0].style[b[c]])},restore:function(a,b){for(var c=0;c<b.length;c++)b[c]!==null&&a.css(b[c],a.data("ec.storage."+b[c]))},setMode:function(a,b){return b=="toggle"&&(b=a.is(":hidden")?"show":"hide"),b},getBaseline:function(a,b){var c,d;switch(a[0]){case"top":c=0;break;case"middle":c=.5;break;case"bottom":c=1;break;default:c=a[0]/b.height}switch(a[1]){case"left":d=0;break;case"center":d=.5;break;case"right":d=1;break;default:d=a[1]/b.width}return{x:d,y:c}},createWrapper:function(b){if(b.parent().is(".ui-effects-wrapper"))return b.parent();var c={width:b.outerWidth(!0),height:b.outerHeight(!0),"float":b.css("float")},d=a("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),e=document.activeElement;return b.wrap(d),(b[0]===e||a.contains(b[0],e))&&a(e).focus(),d=b.parent(),b.css("position")=="static"?(d.css({position:"relative"}),b.css({position:"relative"})):(a.extend(c,{position:b.css("position"),zIndex:b.css("z-index")}),a.each(["top","left","bottom","right"],function(a,d){c[d]=b.css(d),isNaN(parseInt(c[d],10))&&(c[d]="auto")}),b.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),d.css(c).show()},removeWrapper:function(b){var c,d=document.activeElement;return b.parent().is(".ui-effects-wrapper")?(c=b.parent().replaceWith(b),(b[0]===d||a.contains(b[0],d))&&a(d).focus(),c):b},setTransition:function(b,c,d,e){return e=e||{},a.each(c,function(a,c){unit=b.cssUnit(c),unit[0]>0&&(e[c]=unit[0]*d+unit[1])}),e}}),a.fn.extend({effect:function(b,c,d,e){var f=k.apply(this,arguments),g={options:f[1],duration:f[2],callback:f[3]},h=g.options.mode,i=a.effects[b];return a.fx.off||!i?h?this[h](g.duration,g.callback):this.each(function(){g.callback&&g.callback.call(this)}):i.call(this,g)},_show:a.fn.show,show:function(a){if(l(a))return this._show.apply(this,arguments);var b=k.apply(this,arguments);return b[1].mode="show",this.effect.apply(this,b)},_hide:a.fn.hide,hide:function(a){if(l(a))return this._hide.apply(this,arguments);var b=k.apply(this,arguments);return b[1].mode="hide",this.effect.apply(this,b)},__toggle:a.fn.toggle,toggle:function(b){if(l(b)||typeof b=="boolean"||a.isFunction(b))return this.__toggle.apply(this,arguments);var c=k.apply(this,arguments);return c[1].mode="toggle",this.effect.apply(this,c)},cssUnit:function(b){var c=this.css(b),d=[];return a.each(["em","px","%","pt"],function(a,b){c.indexOf(b)>0&&(d=[parseFloat(c),b])}),d}}),a.easing.jswing=a.easing.swing,a.extend(a.easing,{def:"easeOutQuad",swing:function(b,c,d,e,f){return a.easing[a.easing.def](b,c,d,e,f)},easeInQuad:function(a,b,c,d,e){return d*(b/=e)*b+c},easeOutQuad:function(a,b,c,d,e){return-d*(b/=e)*(b-2)+c},easeInOutQuad:function(a,b,c,d,e){return(b/=e/2)<1?d/2*b*b+c:-d/2*(--b*(b-2)-1)+c},easeInCubic:function(a,b,c,d,e){return d*(b/=e)*b*b+c},easeOutCubic:function(a,b,c,d,e){return d*((b=b/e-1)*b*b+1)+c},easeInOutCubic:function(a,b,c,d,e){return(b/=e/2)<1?d/2*b*b*b+c:d/2*((b-=2)*b*b+2)+c},easeInQuart:function(a,b,c,d,e){return d*(b/=e)*b*b*b+c},easeOutQuart:function(a,b,c,d,e){return-d*((b=b/e-1)*b*b*b-1)+c},easeInOutQuart:function(a,b,c,d,e){return(b/=e/2)<1?d/2*b*b*b*b+c:-d/2*((b-=2)*b*b*b-2)+c},easeInQuint:function(a,b,c,d,e){return d*(b/=e)*b*b*b*b+c},easeOutQuint:function(a,b,c,d,e){return d*((b=b/e-1)*b*b*b*b+1)+c},easeInOutQuint:function(a,b,c,d,e){return(b/=e/2)<1?d/2*b*b*b*b*b+c:d/2*((b-=2)*b*b*b*b+2)+c},easeInSine:function(a,b,c,d,e){return-d*Math.cos(b/e*(Math.PI/2))+d+c},easeOutSine:function(a,b,c,d,e){return d*Math.sin(b/e*(Math.PI/2))+c},easeInOutSine:function(a,b,c,d,e){return-d/2*(Math.cos(Math.PI*b/e)-1)+c},easeInExpo:function(a,b,c,d,e){return b==0?c:d*Math.pow(2,10*(b/e-1))+c},easeOutExpo:function(a,b,c,d,e){return b==e?c+d:d*(-Math.pow(2,-10*b/e)+1)+c},easeInOutExpo:function(a,b,c,d,e){return b==0?c:b==e?c+d:(b/=e/2)<1?d/2*Math.pow(2,10*(b-1))+c:d/2*(-Math.pow(2,-10*--b)+2)+c},easeInCirc:function(a,b,c,d,e){return-d*(Math.sqrt(1-(b/=e)*b)-1)+c},easeOutCirc:function(a,b,c,d,e){return d*Math.sqrt(1-(b=b/e-1)*b)+c},easeInOutCirc:function(a,b,c,d,e){return(b/=e/2)<1?-d/2*(Math.sqrt(1-b*b)-1)+c:d/2*(Math.sqrt(1-(b-=2)*b)+1)+c},easeInElastic:function(a,b,c,d,e){var f=1.70158,g=0,h=d;if(b==0)return c;if((b/=e)==1)return c+d;g||(g=e*.3);if(h<Math.abs(d)){h=d;var f=g/4}else var f=g/(2*Math.PI)*Math.asin(d/h);return-(h*Math.pow(2,10*(b-=1))*Math.sin((b*e-f)*2*Math.PI/g))+c},easeOutElastic:function(a,b,c,d,e){var f=1.70158,g=0,h=d;if(b==0)return c;if((b/=e)==1)return c+d;g||(g=e*.3);if(h<Math.abs(d)){h=d;var f=g/4}else var f=g/(2*Math.PI)*Math.asin(d/h);return h*Math.pow(2,-10*b)*Math.sin((b*e-f)*2*Math.PI/g)+d+c},easeInOutElastic:function(a,b,c,d,e){var f=1.70158,g=0,h=d;if(b==0)return c;if((b/=e/2)==2)return c+d;g||(g=e*.3*1.5);if(h<Math.abs(d)){h=d;var f=g/4}else var f=g/(2*Math.PI)*Math.asin(d/h);return b<1?-0.5*h*Math.pow(2,10*(b-=1))*Math.sin((b*e-f)*2*Math.PI/g)+c:h*Math.pow(2,-10*(b-=1))*Math.sin((b*e-f)*2*Math.PI/g)*.5+d+c},easeInBack:function(a,c,d,e,f,g){return g==b&&(g=1.70158),e*(c/=f)*c*((g+1)*c-g)+d},easeOutBack:function(a,c,d,e,f,g){return g==b&&(g=1.70158),e*((c=c/f-1)*c*((g+1)*c+g)+1)+d},easeInOutBack:function(a,c,d,e,f,g){return g==b&&(g=1.70158),(c/=f/2)<1?e/2*c*c*(((g*=1.525)+1)*c-g)+d:e/2*((c-=2)*c*(((g*=1.525)+1)*c+g)+2)+d},easeInBounce:function(b,c,d,e,f){return e-a.easing.easeOutBounce(b,f-c,0,e,f)+d},easeOutBounce:function(a,b,c,d,e){return(b/=e)<1/2.75?d*7.5625*b*b+c:b<2/2.75?d*(7.5625*(b-=1.5/2.75)*b+.75)+c:b<2.5/2.75?d*(7.5625*(b-=2.25/2.75)*b+.9375)+c:d*(7.5625*(b-=2.625/2.75)*b+.984375)+c},easeInOutBounce:function(b,c,d,e,f){return c<f/2?a.easing.easeInBounce(b,c*2,0,e,f)*.5+d:a.easing.easeOutBounce(b,c*2-f,0,e,f)*.5+e*.5+d}})}(jQuery),function(a,b){a.effects.blind=function(b){return this.queue(function(){var c=a(this),d=["position","top","bottom","left","right"],e=a.effects.setMode(c,b.options.mode||"hide"),f=b.options.direction||"vertical";a.effects.save(c,d),c.show();var g=a.effects.createWrapper(c).css({overflow:"hidden"}),h=f=="vertical"?"height":"width",i=f=="vertical"?g.height():g.width();e=="show"&&g.css(h,0);var j={};j[h]=e=="show"?i:0,g.animate(j,b.duration,b.options.easing,function(){e=="hide"&&c.hide(),a.effects.restore(c,d),a.effects.removeWrapper(c),b.callback&&b.callback.apply(c[0],arguments),c.dequeue()})})}}(jQuery),function(a,b){a.effects.bounce=function(b){return this.queue(function(){var c=a(this),d=["position","top","bottom","left","right"],e=a.effects.setMode(c,b.options.mode||"effect"),f=b.options.direction||"up",g=b.options.distance||20,h=b.options.times||5,i=b.duration||250;/show|hide/.test(e)&&d.push("opacity"),a.effects.save(c,d),c.show(),a.effects.createWrapper(c);var j=f=="up"||f=="down"?"top":"left",k=f=="up"||f=="left"?"pos":"neg",g=b.options.distance||(j=="top"?c.outerHeight({margin:!0})/3:c.outerWidth({margin:!0})/3);e=="show"&&c.css("opacity",0).css(j,k=="pos"?-g:g),e=="hide"&&(g/=h*2),e!="hide"&&h--;if(e=="show"){var l={opacity:1};l[j]=(k=="pos"?"+=":"-=")+g,c.animate(l,i/2,b.options.easing),g/=2,h--}for(var m=0;m<h;m++){var n={},p={};n[j]=(k=="pos"?"-=":"+=")+g,p[j]=(k=="pos"?"+=":"-=")+g,c.animate(n,i/2,b.options.easing).animate(p,i/2,b.options.easing),g=e=="hide"?g*2:g/2}if(e=="hide"){var l={opacity:0};l[j]=(k=="pos"?"-=":"+=")+g,c.animate(l,i/2,b.options.easing,function(){c.hide(),a.effects.restore(c,d),a.effects.removeWrapper(c),b.callback&&b.callback.apply(this,arguments)})}else{var n={},p={};n[j]=(k=="pos"?"-=":"+=")+g,p[j]=(k=="pos"?"+=":"-=")+g,c.animate(n,i/2,b.options.easing).animate(p,i/2,b.options.easing,function(){a.effects.restore(c,d),a.effects.removeWrapper(c),b.callback&&b.callback.apply(this,arguments)})}c.queue("fx",function(){c.dequeue()}),c.dequeue()})}}(jQuery),function(a,b){a.effects.clip=function(b){return this.queue(function(){var c=a(this),d=["position","top","bottom","left","right","height","width"],e=a.effects.setMode(c,b.options.mode||"hide"),f=b.options.direction||"vertical";a.effects.save(c,d),c.show();var g=a.effects.createWrapper(c).css({overflow:"hidden"}),h=c[0].tagName=="IMG"?g:c,i={size:f=="vertical"?"height":"width",position:f=="vertical"?"top":"left"},j=f=="vertical"?h.height():h.width();e=="show"&&(h.css(i.size,0),h.css(i.position,j/2));var k={};k[i.size]=e=="show"?j:0,k[i.position]=e=="show"?0:j/2,h.animate(k,{queue:!1,duration:b.duration,easing:b.options.easing,complete:function(){e=="hide"&&c.hide(),a.effects.restore(c,d),a.effects.removeWrapper(c),b.callback&&b.callback.apply(c[0],arguments),c.dequeue()}})})}}(jQuery),function(a,b){a.effects.drop=function(b){return this.queue(function(){var c=a(this),d=["position","top","bottom","left","right","opacity"],e=a.effects.setMode(c,b.options.mode||"hide"),f=b.options.direction||"left";a.effects.save(c,d),c.show(),a.effects.createWrapper(c);var g=f=="up"||f=="down"?"top":"left",h=f=="up"||f=="left"?"pos":"neg",i=b.options.distance||(g=="top"?c.outerHeight({margin:!0})/2:c.outerWidth({margin:!0})/2);e=="show"&&c.css("opacity",0).css(g,h=="pos"?-i:i);var j={opacity:e=="show"?1:0};j[g]=(e=="show"?h=="pos"?"+=":"-=":h=="pos"?"-=":"+=")+i,c.animate(j,{queue:!1,duration:b.duration,easing:b.options.easing,complete:function(){e=="hide"&&c.hide(),a.effects.restore(c,d),a.effects.removeWrapper(c),b.callback&&b.callback.apply(this,arguments),c.dequeue()}})})}}(jQuery),function(a,b){a.effects.explode=function(b){return this.queue(function(){var c=b.options.pieces?Math.round(Math.sqrt(b.options.pieces)):3,d=b.options.pieces?Math.round(Math.sqrt(b.options.pieces)):3;b.options.mode=b.options.mode=="toggle"?a(this).is(":visible")?"hide":"show":b.options.mode;var e=a(this).show().css("visibility","hidden"),f=e.offset();f.top-=parseInt(e.css("marginTop"),10)||0,f.left-=parseInt(e.css("marginLeft"),10)||0;var g=e.outerWidth(!0),h=e.outerHeight(!0);for(var i=0;i<c;i++)for(var j=0;j<d;j++)e.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:-j*(g/d),top:-i*(h/c)}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:g/d,height:h/c,left:f.left+j*(g/d)+(b.options.mode=="show"?(j-Math.floor(d/2))*(g/d):0),top:f.top+i*(h/c)+(b.options.mode=="show"?(i-Math.floor(c/2))*(h/c):0),opacity:b.options.mode=="show"?0:1}).animate({left:f.left+j*(g/d)+(b.options.mode=="show"?0:(j-Math.floor(d/2))*(g/d)),top:f.top+i*(h/c)+(b.options.mode=="show"?0:(i-Math.floor(c/2))*(h/c)),opacity:b.options.mode=="show"?1:0},b.duration||500);setTimeout(function(){b.options.mode=="show"?e.css({visibility:"visible"}):e.css({visibility:"visible"}).hide(),b.callback&&b.callback.apply(e[0]),e.dequeue(),a("div.ui-effects-explode").remove()},b.duration||500)})}}(jQuery),function(a,b){a.effects.fade=function(b){return this.queue(function(){var c=a(this),d=a.effects.setMode(c,b.options.mode||"hide");c.animate({opacity:d},{queue:!1,duration:b.duration,easing:b.options.easing,complete:function(){b.callback&&b.callback.apply(this,arguments),c.dequeue()}})})}}(jQuery),function(a,b){a.effects.fold=function(b){return this.queue(function(){var c=a(this),d=["position","top","bottom","left","right"],e=a.effects.setMode(c,b.options.mode||"hide"),f=b.options.size||15,g=!!b.options.horizFirst,h=b.duration?b.duration/2:a.fx.speeds._default/2;a.effects.save(c,d),c.show();var i=a.effects.createWrapper(c).css({overflow:"hidden"}),j=e=="show"!=g,k=j?["width","height"]:["height","width"],l=j?[i.width(),i.height()]:[i.height(),i.width()],m=/([0-9]+)%/.exec(f);m&&(f=parseInt(m[1],10)/100*l[e=="hide"?0:1]),e=="show"&&i.css(g?{height:0,width:f}:{height:f,width:0});var n={},p={};n[k[0]]=e=="show"?l[0]:f,p[k[1]]=e=="show"?l[1]:0,i.animate(n,h,b.options.easing).animate(p,h,b.options.easing,function(){e=="hide"&&c.hide(),a.effects.restore(c,d),a.effects.removeWrapper(c),b.callback&&b.callback.apply(c[0],arguments),c.dequeue()})})}}(jQuery),function(a,b){a.effects.highlight=function(b){return this.queue(function(){var c=a(this),d=["backgroundImage","backgroundColor","opacity"],e=a.effects.setMode(c,b.options.mode||"show"),f={backgroundColor:c.css("backgroundColor")};e=="hide"&&(f.opacity=0),a.effects.save(c,d),c.show().css({backgroundImage:"none",backgroundColor:b.options.color||"#ffff99"}).animate(f,{queue:!1,duration:b.duration,easing:b.options.easing,complete:function(){e=="hide"&&c.hide(),a.effects.restore(c,d),e=="show"&&!a.support.opacity&&this.style.removeAttribute("filter"),b.callback&&b.callback.apply(this,arguments),c.dequeue()}})})}}(jQuery),function(a,b){a.effects.pulsate=function(b){return this.queue(function(){var c=a(this),d=a.effects.setMode(c,b.options.mode||"show");times=(b.options.times||5)*2-1,duration=b.duration?b.duration/2:a.fx.speeds._default/2,isVisible=c.is(":visible"),animateTo=0,isVisible||(c.css("opacity",0).show(),animateTo=1),(d=="hide"&&isVisible||d=="show"&&!isVisible)&&times--;for(var e=0;e<times;e++)c.animate({opacity:animateTo},duration,b.options.easing),animateTo=(animateTo+1)%2;c.animate({opacity:animateTo},duration,b.options.easing,function(){animateTo==0&&c.hide(),b.callback&&b.callback.apply(this,arguments)}),c.queue("fx",function(){c.dequeue()}).dequeue()})}}(jQuery),function(a,b){a.effects.puff=function(b){return this.queue(function(){var c=a(this),d=a.effects.setMode(c,b.options.mode||"hide"),e=parseInt(b.options.percent,10)||150,f=e/100,g={height:c.height(),width:c.width()};a.extend(b.options,{fade:!0,mode:d,percent:d=="hide"?e:100,from:d=="hide"?g:{height:g.height*f,width:g.width*f}}),c.effect("scale",b.options,b.duration,b.callback),c.dequeue()})},a.effects.scale=function(b){return this.queue(function(){var c=a(this),d=a.extend(!0,{},b.options),e=a.effects.setMode(c,b.options.mode||"effect"),f=parseInt(b.options.percent,10)||(parseInt(b.options.percent,10)==0?0:e=="hide"?0:100),g=b.options.direction||"both",h=b.options.origin;e!="effect"&&(d.origin=h||["middle","center"],d.restore=!0);var i={height:c.height(),width:c.width()};c.from=b.options.from||(e=="show"?{height:0,width:0}:i);var j={y:g!="horizontal"?f/100:1,x:g!="vertical"?f/100:1};c.to={height:i.height*j.y,width:i.width*j.x},b.options.fade&&(e=="show"&&(c.from.opacity=0,c.to.opacity=1),e=="hide"&&(c.from.opacity=1,c.to.opacity=0)),d.from=c.from,d.to=c.to,d.mode=e,c.effect("size",d,b.duration,b.callback),c.dequeue()})},a.effects.size=function(b){return this.queue(function(){var c=a(this),d=["position","top","bottom","left","right","width","height","overflow","opacity"],e=["position","top","bottom","left","right","overflow","opacity"],f=["width","height","overflow"],g=["fontSize"],h=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],i=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],j=a.effects.setMode(c,b.options.mode||"effect"),k=b.options.restore||!1,l=b.options.scale||"both",m=b.options.origin,n={height:c.height(),width:c.width()};c.from=b.options.from||n,c.to=b.options.to||n;if(m){var p=a.effects.getBaseline(m,n);c.from.top=(n.height-c.from.height)*p.y,c.from.left=(n.width-c.from.width)*p.x,c.to.top=(n.height-c.to.height)*p.y,c.to.left=(n.width-c.to.width)*p.x}var q={from:{y:c.from.height/n.height,x:c.from.width/n.width},to:{y:c.to.height/n.height,x:c.to.width/n.width}};if(l=="box"||l=="both")q.from.y!=q.to.y&&(d=d.concat(h),c.from=a.effects.setTransition(c,h,q.from.y,c.from),c.to=a.effects.setTransition(c,h,q.to.y,c.to)),q.from.x!=q.to.x&&(d=d.concat(i),c.from=a.effects.setTransition(c,i,q.from.x,c.from),c.to=a.effects.setTransition(c,i,q.to.x,c.to));(l=="content"||l=="both")&&q.from.y!=q.to.y&&(d=d.concat(g),c.from=a.effects.setTransition(c,g,q.from.y,c.from),c.to=a.effects.setTransition(c,g,q.to.y,c.to)),a.effects.save(c,k?d:e),c.show(),a.effects.createWrapper(c),c.css("overflow","hidden").css(c.from);if(l=="content"||l=="both")h=h.concat(["marginTop","marginBottom"]).concat(g),i=i.concat(["marginLeft","marginRight"]),f=d.concat(h).concat(i),c.find("*[width]").each(function(){child=a(this),k&&a.effects.save(child,f);var c={height:child.height(),width:child.width()};child.from={height:c.height*q.from.y,width:c.width*q.from.x},child.to={height:c.height*q.to.y,width:c.width*q.to.x},q.from.y!=q.to.y&&(child.from=a.effects.setTransition(child,h,q.from.y,child.from),child.to=a.effects.setTransition(child,h,q.to.y,child.to)),q.from.x!=q.to.x&&(child.from=a.effects.setTransition(child,i,q.from.x,child.from),child.to=a.effects.setTransition(child,i,q.to.x,child.to)),child.css(child.from),child.animate(child.to,b.duration,b.options.easing,function(){k&&a.effects.restore(child,f)})});c.animate(c.to,{queue:!1,duration:b.duration,easing:b.options.easing,complete:function(){c.to.opacity===0&&c.css("opacity",c.from.opacity),j=="hide"&&c.hide(),a.effects.restore(c,k?d:e),a.effects.removeWrapper(c),b.callback&&b.callback.apply(this,arguments),c.dequeue()}})})}}(jQuery),function(a,b){a.effects.shake=function(b){return this.queue(function(){var c=a(this),d=["position","top","bottom","left","right"],e=a.effects.setMode(c,b.options.mode||"effect"),f=b.options.direction||"left",g=b.options.distance||20,h=b.options.times||3,i=b.duration||b.options.duration||140;a.effects.save(c,d),c.show(),a.effects.createWrapper(c);var j=f=="up"||f=="down"?"top":"left",k=f=="up"||f=="left"?"pos":"neg",l={},m={},n={};l[j]=(k=="pos"?"-=":"+=")+g,m[j]=(k=="pos"?"+=":"-=")+g*2,n[j]=(k=="pos"?"-=":"+=")+g*2,c.animate(l,i,b.options.easing);for(var p=1;p<h;p++)c.animate(m,i,b.options.easing).animate(n,i,b.options.easing);c.animate(m,i,b.options.easing).animate(l,i/2,b.options.easing,function(){a.effects.restore(c,d),a.effects.removeWrapper(c),b.callback&&b.callback.apply(this,arguments)}),c.queue("fx",function(){c.dequeue()}),c.dequeue()})}}(jQuery),function(a,b){a.effects.slide=function(b){return this.queue(function(){var c=a(this),d=["position","top","bottom","left","right"],e=a.effects.setMode(c,b.options.mode||"show"),f=b.options.direction||"left";a.effects.save(c,d),c.show(),a.effects.createWrapper(c).css({overflow:"hidden"});var g=f=="up"||f=="down"?"top":"left",h=f=="up"||f=="left"?"pos":"neg",i=b.options.distance||(g=="top"?c.outerHeight({margin:!0}):c.outerWidth({margin:!0}));e=="show"&&c.css(g,h=="pos"?isNaN(i)?"-"+i:-i:i);var j={};j[g]=(e=="show"?h=="pos"?"+=":"-=":h=="pos"?"-=":"+=")+i,c.animate(j,{queue:!1,duration:b.duration,easing:b.options.easing,complete:function(){e=="hide"&&c.hide(),a.effects.restore(c,d),a.effects.removeWrapper(c),b.callback&&b.callback.apply(this,arguments),c.dequeue()}})})}}(jQuery),function(a,b){a.effects.transfer=function(b){return this.queue(function(){var c=a(this),d=a(b.options.to),e=d.offset(),f={top:e.top,left:e.left,height:d.innerHeight(),width:d.innerWidth()},g=c.offset(),h=a('<div class="ui-effects-transfer"></div>').appendTo(document.body).addClass(b.options.className).css({top:g.top,left:g.left,height:c.innerHeight(),width:c.innerWidth(),position:"absolute"}).animate(f,b.duration,b.options.easing,function(){h.remove(),b.callback&&b.callback.apply(c[0],arguments),c.dequeue()})})}}(jQuery),function(a,b){a.widget("ui.accordion",{options:{active:0,animated:"slide",autoHeight:!0,clearStyle:!1,collapsible:!1,event:"click",fillSpace:!1,header:"> li > :first-child,> :not(li):even",icons:{header:"ui-icon-triangle-1-e",headerSelected:"ui-icon-triangle-1-s"},navigation:!1,navigationFilter:function(){return this.href.toLowerCase()===location.href.toLowerCase()}},_create:function(){var b=this,c=b.options;b.running=0,b.element.addClass("ui-accordion ui-widget ui-helper-reset").children("li").addClass("ui-accordion-li-fix"),b.headers=b.element.find(c.header).addClass("ui-accordion-header ui-helper-reset ui-state-default ui-corner-all").bind("mouseenter.accordion",function(){if(c.disabled)return;a(this).addClass("ui-state-hover")}).bind("mouseleave.accordion",function(){if(c.disabled)return;a(this).removeClass("ui-state-hover")}).bind("focus.accordion",function(){if(c.disabled)return;a(this).addClass("ui-state-focus")}).bind("blur.accordion",function(){if(c.disabled)return;a(this).removeClass("ui-state-focus")}),b.headers.next().addClass("ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom");if(c.navigation){var d=b.element.find("a").filter(c.navigationFilter).eq(0);if(d.length){var e=d.closest(".ui-accordion-header");e.length?b.active=e:b.active=d.closest(".ui-accordion-content").prev()}}b.active=b._findActive(b.active||c.active).addClass("ui-state-default ui-state-active").toggleClass("ui-corner-all").toggleClass("ui-corner-top"),b.active.next().addClass("ui-accordion-content-active"),b._createIcons(),b.resize(),b.element.attr("role","tablist"),b.headers.attr("role","tab").bind("keydown.accordion",function(a){return b._keydown(a)}).next().attr("role","tabpanel"),b.headers.not(b.active||"").attr({"aria-expanded":"false","aria-selected":"false",tabIndex:-1}).next().hide(),b.active.length?b.active.attr({"aria-expanded":"true","aria-selected":"true",tabIndex:0}):b.headers.eq(0).attr("tabIndex",0),a.browser.safari||b.headers.find("a").attr("tabIndex",-1),c.event&&b.headers.bind(c.event.split(" ").join(".accordion ")+".accordion",function(a){b._clickHandler.call(b,a,this),a.preventDefault()})},_createIcons:function(){var b=this.options;b.icons&&(a("<span></span>").addClass("ui-icon "+b.icons.header).prependTo(this.headers),this.active.children(".ui-icon").toggleClass(b.icons.header).toggleClass(b.icons.headerSelected),this.element.addClass("ui-accordion-icons"))},_destroyIcons:function(){this.headers.children(".ui-icon").remove(),this.element.removeClass("ui-accordion-icons")},destroy:function(){var b=this.options;this.element.removeClass("ui-accordion ui-widget ui-helper-reset").removeAttr("role"),this.headers.unbind(".accordion").removeClass("ui-accordion-header ui-accordion-disabled ui-helper-reset ui-state-default ui-corner-all ui-state-active ui-state-disabled ui-corner-top").removeAttr("role").removeAttr("aria-expanded").removeAttr("aria-selected").removeAttr("tabIndex"),this.headers.find("a").removeAttr("tabIndex"),this._destroyIcons();var c=this.headers.next().css("display","").removeAttr("role").removeClass("ui-helper-reset ui-widget-content ui-corner-bottom ui-accordion-content ui-accordion-content-active ui-accordion-disabled ui-state-disabled");return(b.autoHeight||b.fillHeight)&&c.css("height",""),a.Widget.prototype.destroy.call(this)},_setOption:function(b,c){a.Widget.prototype._setOption.apply(this,arguments),b=="active"&&this.activate(c),b=="icons"&&(this._destroyIcons(),c&&this._createIcons()),b=="disabled"&&this.headers.add(this.headers.next())[c?"addClass":"removeClass"]("ui-accordion-disabled ui-state-disabled")},_keydown:function(b){if(this.options.disabled||b.altKey||b.ctrlKey)return;var c=a.ui.keyCode,d=this.headers.length,e=this.headers.index(b.target),f=!1;switch(b.keyCode){case c.RIGHT:case c.DOWN:f=this.headers[(e+1)%d];break;case c.LEFT:case c.UP:f=this.headers[(e-1+d)%d];break;case c.SPACE:case c.ENTER:this._clickHandler({target:b.target},b.target),b.preventDefault()}return f?(a(b.target).attr("tabIndex",-1),a(f).attr("tabIndex",0),f.focus(),!1):!0},resize:function(){var b=this.options,c;if(b.fillSpace){if(a.browser.msie){var d=this.element.parent().css("overflow");this.element.parent().css("overflow","hidden")}c=this.element.parent().height(),a.browser.msie&&this.element.parent().css("overflow",d),this.headers.each(function(){c-=a(this).outerHeight(!0)}),this.headers.next().each(function(){a(this).height(Math.max(0,c-a(this).innerHeight()+a(this).height()))}).css("overflow","auto")}else b.autoHeight&&(c=0,this.headers.next().each(function(){c=Math.max(c,a(this).height("").height())}).height(c));return this},activate:function(a){this.options.active=a;var b=this._findActive(a)[0];return this._clickHandler({target:b},b),this},_findActive:function(b){return b?typeof b=="number"?this.headers.filter(":eq("+b+")"):this.headers.not(this.headers.not(b)):b===!1?a([]):this.headers.filter(":eq(0)")},_clickHandler:function(b,c){var d=this.options;if(d.disabled)return;if(!b.target){if(!d.collapsible)return;this.active.removeClass("ui-state-active ui-corner-top").addClass("ui-state-default ui-corner-all").children(".ui-icon").removeClass(d.icons.headerSelected).addClass(d.icons.header),this.active.next().addClass("ui-accordion-content-active");var e=this.active.next(),f={options:d,newHeader:a([]),oldHeader:d.active,newContent:a([]),oldContent:e},g=this.active=a([]);this._toggle(g,e,f);return}var h=a(b.currentTarget||c),i=h[0]===this.active[0];d.active=d.collapsible&&i?!1:this.headers.index(h);if(this.running||!d.collapsible&&i)return;var j=this.active,g=h.next(),e=this.active.next(),f={options:d,newHeader:i&&d.collapsible?a([]):h,oldHeader:this.active,newContent:i&&d.collapsible?a([]):g,oldContent:e},k=this.headers.index(this.active[0])>this.headers.index(h[0]);this.active=i?a([]):h,this._toggle(g,e,f,i,k),j.removeClass("ui-state-active ui-corner-top").addClass("ui-state-default ui-corner-all").children(".ui-icon").removeClass(d.icons.headerSelected).addClass(d.icons.header),i||(h.removeClass("ui-state-default ui-corner-all").addClass("ui-state-active ui-corner-top").children(".ui-icon").removeClass(d.icons.header).addClass(d.icons.headerSelected),h.next().addClass("ui-accordion-content-active"));return},_toggle:function(b,c,d,e,f){var g=this,h=g.options;g.toShow=b,g.toHide=c,g.data=d;var i=function(){if(!g)return;return g._completed.apply(g,arguments)};g._trigger("changestart",null,g.data),g.running=c.size()===0?b.size():c.size();if(h.animated){var j={};h.collapsible&&e?j={toShow:a([]),toHide:c,complete:i,down:f,autoHeight:h.autoHeight||h.fillSpace}:j={toShow:b,toHide:c,complete:i,down:f,autoHeight:h.autoHeight||h.fillSpace},h.proxied||(h.proxied=h.animated),h.proxiedDuration||(h.proxiedDuration=h.duration),h.animated=a.isFunction(h.proxied)?h.proxied(j):h.proxied,h.duration=a.isFunction(h.proxiedDuration)?h.proxiedDuration(j):h.proxiedDuration;var k=a.ui.accordion.animations,l=h.duration,m=h.animated;m&&!k[m]&&!a.easing[m]&&(m="slide"),k[m]||(k[m]=function(a){this.slide(a,{easing:m,duration:l||700})}),k[m](j)}else h.collapsible&&e?b.toggle():(c.hide(),b.show()),i(!0);c.prev().attr({"aria-expanded":"false","aria-selected":"false",tabIndex:-1}).blur(),b.prev().attr({"aria-expanded":"true","aria-selected":"true",tabIndex:0}).focus()},_completed:function(a){this.running=a?0:--this.running;if(this.running)return;this.options.clearStyle&&this.toShow.add(this.toHide).css({height:"",overflow:""}),this.toHide.removeClass("ui-accordion-content-active"),this.toHide.length&&(this.toHide.parent()[0].className=this.toHide.parent()[0].className),this._trigger("change",null,this.data)}}),a.extend(a.ui.accordion,{version:"1.8.17",animations:{slide:function(b,c){b=a.extend({easing:"swing",duration:300},b,c);if(!b.toHide.size()){b.toShow.animate({height:"show",paddingTop:"show",paddingBottom:"show"},b);return}if(!b.toShow.size()){b.toHide.animate({height:"hide",paddingTop:"hide",paddingBottom:"hide"},b);return}var d=b.toShow.css("overflow"),e=0,f={},g={},h=["height","paddingTop","paddingBottom"],i,j=b.toShow;i=j[0].style.width,j.width(j.parent().width()-parseFloat(j.css("paddingLeft"))-parseFloat(j.css("paddingRight"))-(parseFloat(j.css("borderLeftWidth"))||0)-(parseFloat(j.css("borderRightWidth"))||0)),a.each(h,function(c,d){g[d]="hide";var e=(""+a.css(b.toShow[0],d)).match(/^([\d+-.]+)(.*)$/);f[d]={value:e[1],unit:e[2]||"px"}}),b.toShow.css({height:0,overflow:"hidden"}).show(),b.toHide.filter(":hidden").each(b.complete).end().filter(":visible").animate(g,{step:function(a,c){c.prop=="height"&&(e=c.end-c.start===0?0:(c.now-c.start)/(c.end-c.start)),b.toShow[0].style[c.prop]=e*f[c.prop].value+f[c.prop].unit},duration:b.duration,easing:b.easing,complete:function(){b.autoHeight||b.toShow.css("height",""),b.toShow.css({width:i,overflow:d}),b.complete()}})},bounceslide:function(a){this.slide(a,{easing:a.down?"easeOutBounce":"swing",duration:a.down?1e3:200})}}})}(jQuery),function(a,b){var c=0;a.widget("ui.autocomplete",{options:{appendTo:"body",autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null},pending:0,_create:function(){var b=this,c=this.element[0].ownerDocument,d;this.element.addClass("ui-autocomplete-input").attr("autocomplete","off").attr({role:"textbox","aria-autocomplete":"list","aria-haspopup":"true"}).bind("keydown.autocomplete",function(c){if(b.options.disabled||b.element.propAttr("readOnly"))return;d=!1;var e=a.ui.keyCode;switch(c.keyCode){case e.PAGE_UP:b._move("previousPage",c);break;case e.PAGE_DOWN:b._move("nextPage",c);break;case e.UP:b._move("previous",c),c.preventDefault();break;case e.DOWN:b._move("next",c),c.preventDefault();break;case e.ENTER:case e.NUMPAD_ENTER:b.menu.active&&(d=!0,c.preventDefault());case e.TAB:if(!b.menu.active)return;b.menu.select(c);break;case e.ESCAPE:b.element.val(b.term),b.close(c);break;default:clearTimeout(b.searching),b.searching=setTimeout(function(){b.term!=b.element.val()&&(b.selectedItem=null,b.search(null,c))},b.options.delay)}}).bind("keypress.autocomplete",function(a){d&&(d=!1,a.preventDefault())}).bind("focus.autocomplete",function(){if(b.options.disabled)return;b.selectedItem=null,b.previous=b.element.val()}).bind("blur.autocomplete",function(a){if(b.options.disabled)return;clearTimeout(b.searching),b.closing=setTimeout(function(){b.close(a),b._change(a)},150)}),this._initSource(),this.response=function(){return b._response.apply(b,arguments)},this.menu=a("<ul></ul>").addClass("ui-autocomplete").appendTo(a(this.options.appendTo||"body",c)[0]).mousedown(function(c){var d=b.menu.element[0];a(c.target).closest(".ui-menu-item").length||setTimeout(function(){a(document).one("mousedown",function(c){c.target!==b.element[0]&&c.target!==d&&!a.ui.contains(d,c.target)&&b.close()})},1),setTimeout(function(){clearTimeout(b.closing)},13)}).menu({focus:function(a,c){var d=c.item.data("item.autocomplete");!1!==b._trigger("focus",a,{item:d})&&/^key/.test(a.originalEvent.type)&&b.element.val(d.value)},selected:function(a,d){var e=d.item.data("item.autocomplete"),f=b.previous;b.element[0]!==c.activeElement&&(b.element.focus(),b.previous=f,setTimeout(function(){b.previous=f,b.selectedItem=e},1)),!1!==b._trigger("select",a,{item:e})&&b.element.val(e.value),b.term=b.element.val(),b.close(a),b.selectedItem=e},blur:function(a,c){b.menu.element.is(":visible")&&b.element.val()!==b.term&&b.element.val(b.term)}}).zIndex(this.element.zIndex()+1).css({top:0,left:0}).hide().data("menu"),a.fn.bgiframe&&this.menu.element.bgiframe(),b.beforeunloadHandler=function(){b.element.removeAttr("autocomplete")},a(window).bind("beforeunload",b.beforeunloadHandler)},destroy:function(){this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete").removeAttr("role").removeAttr("aria-autocomplete").removeAttr("aria-haspopup"),this.menu.element.remove(),a(window).unbind("beforeunload",this.beforeunloadHandler),a.Widget.prototype.destroy.call(this)},_setOption:function(b,c){a.Widget.prototype._setOption.apply(this,arguments),b==="source"&&this._initSource(),b==="appendTo"&&this.menu.element.appendTo(a(c||"body",this.element[0].ownerDocument)[0]),b==="disabled"&&c&&this.xhr&&this.xhr.abort()},_initSource:function(){var b=this,d,e;a.isArray(this.options.source)?(d=this.options.source,this.source=function(b,c){c(a.ui.autocomplete.filter(d,b.term))}):typeof this.options.source=="string"?(e=this.options.source,this.source=function(d,f){b.xhr&&b.xhr.abort(),b.xhr=a.ajax({url:e,data:d,dataType:"json",autocompleteRequest:++c,success:function(a,b){this.autocompleteRequest===c&&f(a)},error:function(){this.autocompleteRequest===c&&f([])}})}):this.source=this.options.source},search:function(a,b){a=a!=null?a:this.element.val(),this.term=this.element.val();if(a.length<this.options.minLength)return this.close(b);clearTimeout(this.closing);if(this._trigger("search",b)===!1)return;return this._search(a)},_search:function(a){this.pending++,this.element.addClass("ui-autocomplete-loading"),this.source({term:a},this.response)},_response:function(a){!this.options.disabled&&a&&a.length?(a=this._normalize(a),this._suggest(a),this._trigger("open")):this.close(),this.pending--,this.pending||this.element.removeClass("ui-autocomplete-loading")},close:function(a){clearTimeout(this.closing),this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.deactivate(),this._trigger("close",a))},_change:function(a){this.previous!==this.element.val()&&this._trigger("change",a,{item:this.selectedItem})},_normalize:function(b){return b.length&&b[0].label&&b[0].value?b:a.map(b,function(b){return typeof b=="string"?{label:b,value:b}:a.extend({label:b.label||b.value,value:b.value||b.label},b)})},_suggest:function(b){var c=this.menu.element.empty().zIndex(this.element.zIndex()+1);this._renderMenu(c,b),this.menu.deactivate(),this.menu.refresh(),c.show(),this._resizeMenu(),c.position(a.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next(new a.Event("mouseover"))},_resizeMenu:function(){var a=this.menu.element;a.outerWidth(Math.max(a.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(b,c){var d=this;a.each(c,function(a,c){d._renderItem(b,c)})},_renderItem:function(b,c){return a("<li></li>").data("item.autocomplete",c).append(a("<a></a>").text(c.label)).appendTo(b)},_move:function(a,b){if(!this.menu.element.is(":visible")){this.search(null,b);return}if(this.menu.first()&&/^previous/.test(a)||this.menu.last()&&/^next/.test(a)){this.element.val(this.term),this.menu.deactivate();return}this.menu[a](b)},widget:function(){return this.menu.element}}),a.extend(a.ui.autocomplete,{escapeRegex:function(a){return a.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")},filter:function(b,c){var d=new RegExp(a.ui.autocomplete.escapeRegex(c),"i");return a.grep(b,function(a){return d.test(a.label||a.value||a)})}})}(jQuery),function(a){a.widget("ui.menu",{_create:function(){var b=this;this.element.addClass("ui-menu ui-widget ui-widget-content ui-corner-all").attr({role:"listbox","aria-activedescendant":"ui-active-menuitem"}).click(function(c){if(!a(c.target).closest(".ui-menu-item a").length)return;c.preventDefault(),b.select(c)}),this.refresh()},refresh:function(){var b=this,c=this.element.children("li:not(.ui-menu-item):has(a)").addClass("ui-menu-item").attr("role","menuitem");c.children("a").addClass("ui-corner-all").attr("tabindex",-1).mouseenter(function(c){b.activate(c,a(this).parent())}).mouseleave(function(){b.deactivate()})},activate:function(a,b){this.deactivate();if(this.hasScroll()){var c=b.offset().top-this.element.offset().top,d=this.element.scrollTop(),e=this.element.height();c<0?this.element.scrollTop(d+c):c>=e&&this.element.scrollTop(d+c-e+b.height())}this.active=b.eq(0).children("a").addClass("ui-state-hover").attr("id","ui-active-menuitem").end(),this._trigger("focus",a,{item:b})},deactivate:function(){if(!this.active)return;this.active.children("a").removeClass("ui-state-hover").removeAttr("id"),this._trigger("blur"),this.active=null},next:function(a){this.move("next",".ui-menu-item:first",a)},previous:function(a){this.move("prev",".ui-menu-item:last",a)},first:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},last:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},move:function(a,b,c){if(!this.active){this.activate(c,this.element.children(b));return}var d=this.active[a+"All"](".ui-menu-item").eq(0);d.length?this.activate(c,d):this.activate(c,this.element.children(b))},nextPage:function(b){if(this.hasScroll()){if(!this.active||this.last()){this.activate(b,this.element.children(".ui-menu-item:first"));return}var c=this.active.offset().top,d=this.element.height(),e=this.element.children(".ui-menu-item").filter(function(){var b=a(this).offset().top-c-d+a(this).height();return b<10&&b>-10});e.length||(e=this.element.children(".ui-menu-item:last")),this.activate(b,e)}else this.activate(b,this.element.children(".ui-menu-item").filter(!this.active||this.last()?":first":":last"))},previousPage:function(b){if(this.hasScroll()){if(!this.active||this.first()){this.activate(b,this.element.children(".ui-menu-item:last"));return}var c=this.active.offset().top,d=this.element.height();result=this.element.children(".ui-menu-item").filter(function(){var b=a(this).offset().top-c+d-a(this).height();return b<10&&b>-10}),result.length||(result=this.element.children(".ui-menu-item:first")),this.activate(b,result)}else this.activate(b,this.element.children(".ui-menu-item").filter(!this.active||this.first()?":last":":first"))},hasScroll:function(){return this.element.height()<this.element[a.fn.prop?"prop":"attr"]("scrollHeight")},select:function(a){this._trigger("selected",a,{item:this.active})}})}(jQuery),function(a,b){var c,d,e,f,g="ui-button ui-widget ui-state-default ui-corner-all",h="ui-state-hover ui-state-active ",i="ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only",j=function(){var b=a(this).find(":ui-button");setTimeout(function(){b.button("refresh")},1)},k=function(b){var c=b.name,d=b.form,e=a([]);return c&&(d?e=a(d).find("[name='"+c+"']"):e=a("[name='"+c+"']",b.ownerDocument).filter(function(){return!this.form})),e};a.widget("ui.button",{options:{disabled:null,text:!0,label:null,icons:{primary:null,secondary:null}},_create:function(){this.element.closest("form").unbind("reset.button").bind("reset.button",j),typeof this.options.disabled!="boolean"&&(this.options.disabled=this.element.propAttr("disabled")),this._determineButtonType(),this.hasTitle=!!this.buttonElement.attr("title");var b=this,h=this.options,i=this.type==="checkbox"||this.type==="radio",l="ui-state-hover"+(i?"":" ui-state-active"),m="ui-state-focus";h.label===null&&(h.label=this.buttonElement.html()),this.element.is(":disabled")&&(h.disabled=!0),this.buttonElement.addClass(g).attr("role","button").bind("mouseenter.button",function(){if(h.disabled)return;a(this).addClass("ui-state-hover"),this===c&&a(this).addClass("ui-state-active")}).bind("mouseleave.button",function(){if(h.disabled)return;a(this).removeClass(l)}).bind("click.button",function(a){h.disabled&&(a.preventDefault(),a.stopImmediatePropagation())}),this.element.bind("focus.button",function(){b.buttonElement.addClass(m)}).bind("blur.button",function(){b.buttonElement.removeClass(m)}),i&&(this.element.bind("change.button",function(){if(f)return;b.refresh()}),this.buttonElement.bind("mousedown.button",function(a){if(h.disabled)return;f=!1,d=a.pageX,e=a.pageY}).bind("mouseup.button",function(a){if(h.disabled)return;if(d!==a.pageX||e!==a.pageY)f=!0})),this.type==="checkbox"?this.buttonElement.bind("click.button",function(){if(h.disabled||f)return!1;a(this).toggleClass("ui-state-active"),b.buttonElement.attr("aria-pressed",b.element[0].checked)}):this.type==="radio"?this.buttonElement.bind("click.button",function(){if(h.disabled||f)return!1;a(this).addClass("ui-state-active"),b.buttonElement.attr("aria-pressed","true");var c=b.element[0];k(c).not(c).map(function(){return a(this).button("widget")[0]}).removeClass("ui-state-active").attr("aria-pressed","false")}):(this.buttonElement.bind("mousedown.button",function(){if(h.disabled)return!1;a(this).addClass("ui-state-active"),c=this,a(document).one("mouseup",function(){c=null})}).bind("mouseup.button",function(){if(h.disabled)return!1;a(this).removeClass("ui-state-active")}).bind("keydown.button",function(b){if(h.disabled)return!1;(b.keyCode==a.ui.keyCode.SPACE||b.keyCode==a.ui.keyCode.ENTER)&&a(this).addClass("ui-state-active")}).bind("keyup.button",function(){a(this).removeClass("ui-state-active")}),this.buttonElement.is("a")&&this.buttonElement.keyup(function(b){b.keyCode===a.ui.keyCode.SPACE&&a(this).click()})),this._setOption("disabled",h.disabled),this._resetButton()},_determineButtonType:function(){this.element.is(":checkbox")?this.type="checkbox":this.element.is(":radio")?this.type="radio":this.element.is("input")?this.type="input":this.type="button";if(this.type==="checkbox"||this.type==="radio"){var a=this.element.parents().filter(":last"),b="label[for='"+this.element.attr("id")+"']";this.buttonElement=a.find(b),this.buttonElement.length||(a=a.length?a.siblings():this.element.siblings(),this.buttonElement=a.filter(b),this.buttonElement.length||(this.buttonElement=a.find(b))),this.element.addClass("ui-helper-hidden-accessible");var c=this.element.is(":checked");c&&this.buttonElement.addClass("ui-state-active"),this.buttonElement.attr("aria-pressed",c)}else this.buttonElement=this.element},widget:function(){return this.buttonElement},destroy:function(){this.element.removeClass("ui-helper-hidden-accessible"),this.buttonElement.removeClass(g+" "+h+" "+i).removeAttr("role").removeAttr("aria-pressed").html(this.buttonElement.find(".ui-button-text").html()),this.hasTitle||this.buttonElement.removeAttr("title"),a.Widget.prototype.destroy.call(this)},_setOption:function(b,c){a.Widget.prototype._setOption.apply(this,arguments);if(b==="disabled"){c?this.element.propAttr("disabled",!0):this.element.propAttr("disabled",!1);return}this._resetButton()},refresh:function(){var b=this.element.is(":disabled");b!==this.options.disabled&&this._setOption("disabled",b),this.type==="radio"?k(this.element[0]).each(function(){a(this).is(":checked")?a(this).button("widget").addClass("ui-state-active").attr("aria-pressed","true"):a(this).button("widget").removeClass("ui-state-active").attr("aria-pressed","false")}):this.type==="checkbox"&&(this.element.is(":checked")?this.buttonElement.addClass("ui-state-active").attr("aria-pressed","true"):this.buttonElement.removeClass("ui-state-active").attr("aria-pressed","false"))},_resetButton:function(){if(this.type==="input"){this.options.label&&this.element.val(this.options.label);return}var b=this.buttonElement.removeClass(i),c=a("<span></span>",this.element[0].ownerDocument).addClass("ui-button-text").html(this.options.label).appendTo(b.empty()).text(),d=this.options.icons,e=d.primary&&d.secondary,f=[];d.primary||d.secondary?(this.options.text&&f.push("ui-button-text-icon"+(e?"s":d.primary?"-primary":"-secondary")),d.primary&&b.prepend("<span class='ui-button-icon-primary ui-icon "+d.primary+"'></span>"),d.secondary&&b.append("<span class='ui-button-icon-secondary ui-icon "+d.secondary+"'></span>"),this.options.text||(f.push(e?"ui-button-icons-only":"ui-button-icon-only"),this.hasTitle||b.attr("title",c))):f.push("ui-button-text-only"),b.addClass(f.join(" "))}}),a.widget("ui.buttonset",{options:{items:":button, :submit, :reset, :checkbox, :radio, a, :data(button)"},_create:function(){this.element.addClass("ui-buttonset")},_init:function(){this.refresh()},_setOption:function(b,c){b==="disabled"&&this.buttons.button("option",b,c),a.Widget.prototype._setOption.apply(this,arguments)},refresh:function(){var b=this.element.css("direction")==="rtl";this.buttons=this.element.find(this.options.items).filter(":ui-button").button("refresh").end().not(":ui-button").button().end().map(function(){return a(this).button("widget")[0]}).removeClass("ui-corner-all ui-corner-left ui-corner-right").filter(":first").addClass(b?"ui-corner-right":"ui-corner-left").end().filter(":last").addClass(b?"ui-corner-left":"ui-corner-right").end().end()},destroy:function(){this.element.removeClass("ui-buttonset"),this.buttons.map(function(){return a(this).button("widget")[0]}).removeClass("ui-corner-left ui-corner-right").end().button("destroy"),a.Widget.prototype.destroy.call(this)}})}(jQuery),function($,undefined){function Datepicker(){this.debug=!1,this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},$.extend(this._defaults,this.regional[""]),this.dpDiv=bindHover($('<div id="'+this._mainDivId+'" class="ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all"></div>'))}function bindHover(a){var b="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return a.bind("mouseout",function(a){var c=$(a.target).closest(b);if(!c.length)return;c.removeClass("ui-state-hover ui-datepicker-prev-hover ui-datepicker-next-hover")}).bind("mouseover",function(c){var d=$(c.target).closest(b);if($.datepicker._isDisabledDatepicker(instActive.inline?a.parent()[0]:instActive.input[0])||!d.length)return;d.parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),d.addClass("ui-state-hover"),d.hasClass("ui-datepicker-prev")&&d.addClass("ui-datepicker-prev-hover"),d.hasClass("ui-datepicker-next")&&d.addClass("ui-datepicker-next-hover")})}function extendRemove(a,b){$.extend(a,b);for(var c in b)if(b[c]==null||b[c]==undefined)a[c]=b[c];return a}function isArray(a){return a&&($.browser.safari&&typeof a=="object"&&a.length||a.constructor&&a.constructor.toString().match(/\Array\(\)/))}$.extend($.ui,{datepicker:{version:"1.8.17"}});var PROP_NAME="datepicker",dpuuid=(new Date).getTime(),instActive;$.extend(Datepicker.prototype,{markerClassName:"hasDatepicker",maxRows:4,log:function(){this.debug&&console.log.apply("",arguments)},_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(a){return extendRemove(this._defaults,a||{}),this},_attachDatepicker:function(target,settings){var inlineSettings=null;for(var attrName in this._defaults){var attrValue=target.getAttribute("date:"+attrName);if(attrValue){inlineSettings=inlineSettings||{};try{inlineSettings[attrName]=eval(attrValue)}catch(err){inlineSettings[attrName]=attrValue}}}var nodeName=target.nodeName.toLowerCase(),inline=nodeName=="div"||nodeName=="span";target.id||(this.uuid+=1,target.id="dp"+this.uuid);var inst=this._newInst($(target),inline);inst.settings=$.extend({},settings||{},inlineSettings||{}),nodeName=="input"?this._connectDatepicker(target,inst):inline&&this._inlineDatepicker(target,inst)},_newInst:function(a,b){var c=a[0].id.replace(/([^A-Za-z0-9_-])/g,"\\\\$1");return{id:c,input:a,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:b,dpDiv:b?bindHover($('<div class="'+this._inlineClass+' ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all"></div>')):this.dpDiv}},_connectDatepicker:function(a,b){var c=$(a);b.append=$([]),b.trigger=$([]);if(c.hasClass(this.markerClassName))return;this._attachments(c,b),c.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp).bind("setData.datepicker",function(a,c,d){b.settings[c]=d}).bind("getData.datepicker",function(a,c){return this._get(b,c)}),this._autoSize(b),$.data(a,PROP_NAME,b),b.settings.disabled&&this._disableDatepicker(a)},_attachments:function(a,b){var c=this._get(b,"appendText"),d=this._get(b,"isRTL");b.append&&b.append.remove(),c&&(b.append=$('<span class="'+this._appendClass+'">'+c+"</span>"),a[d?"before":"after"](b.append)),a.unbind("focus",this._showDatepicker),b.trigger&&b.trigger.remove();var e=this._get(b,"showOn");(e=="focus"||e=="both")&&a.focus(this._showDatepicker);if(e=="button"||e=="both"){var f=this._get(b,"buttonText"),g=this._get(b,"buttonImage");b.trigger=$(this._get(b,"buttonImageOnly")?$("<img/>").addClass(this._triggerClass).attr({src:g,alt:f,title:f}):$('<button type="button"></button>').addClass(this._triggerClass).html(g==""?f:$("<img/>").attr({src:g,alt:f,title:f}))),a[d?"before":"after"](b.trigger),b.trigger.click(function(){return $.datepicker._datepickerShowing&&$.datepicker._lastInput==a[0]?$.datepicker._hideDatepicker():$.datepicker._showDatepicker(a[0]),!1})}},_autoSize:function(a){if(this._get(a,"autoSize")&&!a.inline){var b=new Date(2009,11,20),c=this._get(a,"dateFormat");if(c.match(/[DM]/)){var d=function(a){var b=0,c=0;for(var d=0;d<a.length;d++)a[d].length>b&&(b=a[d].length,c=d);return c};b.setMonth(d(this._get(a,c.match(/MM/)?"monthNames":"monthNamesShort"))),b.setDate(d(this._get(a,c.match(/DD/)?"dayNames":"dayNamesShort"))+20-b.getDay())}a.input.attr("size",this._formatDate(a,b).length)}},_inlineDatepicker:function(a,b){var c=$(a);if(c.hasClass(this.markerClassName))return;c.addClass(this.markerClassName).append(b.dpDiv).bind("setData.datepicker",function(a,c,d){b.settings[c]=d}).bind("getData.datepicker",function(a,c){return this._get(b,c)}),$.data(a,PROP_NAME,b),this._setDate(b,this._getDefaultDate(b),!0),this._updateDatepicker(b),this._updateAlternate(b),b.settings.disabled&&this._disableDatepicker(a),b.dpDiv.css("display","block")},_dialogDatepicker:function(a,b,c,d,e){var f=this._dialogInst;if(!f){this.uuid+=1;var g="dp"+this.uuid;this._dialogInput=$('<input type="text" id="'+g+'" style="position: absolute; top: -100px; width: 0px; z-index: -10;"/>'),this._dialogInput.keydown(this._doKeyDown),$("body").append(this._dialogInput),f=this._dialogInst=this._newInst(this._dialogInput,!1),f.settings={},$.data(this._dialogInput[0],PROP_NAME,f)}extendRemove(f.settings,d||{}),b=b&&b.constructor==Date?this._formatDate(f,b):b,this._dialogInput.val(b),this._pos=e?e.length?e:[e.pageX,e.pageY]:null;if(!this._pos){var h=document.documentElement.clientWidth,i=document.documentElement.clientHeight,j=document.documentElement.scrollLeft||document.body.scrollLeft,k=document.documentElement.scrollTop||document.body.scrollTop;this._pos=[h/2-100+j,i/2-150+k]}return this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),f.settings.onSelect=c,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),$.blockUI&&$.blockUI(this.dpDiv),$.data(this._dialogInput[0],PROP_NAME,f),this},_destroyDatepicker:function(a){var b=$(a),c=$.data(a,PROP_NAME);if(!b.hasClass(this.markerClassName))return;var d=a.nodeName.toLowerCase();$.removeData(a,PROP_NAME),d=="input"?(c.append.remove(),c.trigger.remove(),b.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress).unbind("keyup",this._doKeyUp)):(d=="div"||d=="span")&&b.removeClass(this.markerClassName).empty()},_enableDatepicker:function(a){var b=$(a),c=$.data(a,PROP_NAME);if(!b.hasClass(this.markerClassName))return;var d=a.nodeName.toLowerCase();if(d=="input")a.disabled=!1,c.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""});else if(d=="div"||d=="span"){var e=b.children("."+this._inlineClass);e.children().removeClass("ui-state-disabled"),e.find("select.ui-datepicker-month, select.ui-datepicker-year").removeAttr("disabled")}this._disabledInputs=$.map(this._disabledInputs,function(b){return b==a?null:b})},_disableDatepicker:function(a){var b=$(a),c=$.data(a,PROP_NAME);if(!b.hasClass(this.markerClassName))return;var d=a.nodeName.toLowerCase();if(d=="input")a.disabled=!0,c.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"});else if(d=="div"||d=="span"){var e=b.children("."+this._inlineClass);e.children().addClass("ui-state-disabled"),e.find("select.ui-datepicker-month, select.ui-datepicker-year").attr("disabled","disabled")}this._disabledInputs=$.map(this._disabledInputs,function(b){return b==a?null:b}),this._disabledInputs[this._disabledInputs.length]=a},_isDisabledDatepicker:function(a){if(!a)return!1;for(var b=0;b<this._disabledInputs.length;b++)if(this._disabledInputs[b]==a)return!0;return!1},_getInst:function(a){try{return $.data(a,PROP_NAME)}catch(b){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(a,b,c){var d=this._getInst(a);if(arguments.length==2&&typeof b=="string")return b=="defaults"?$.extend({},$.datepicker._defaults):d?b=="all"?$.extend({},d.settings):this._get(d,b):null;var e=b||{};typeof b=="string"&&(e={},e[b]=c);if(d){this._curInst==d&&this._hideDatepicker();var f=this._getDateDatepicker(a,!0),g=this._getMinMaxDate(d,"min"),h=this._getMinMaxDate(d,"max");extendRemove(d.settings,e),g!==null&&e.dateFormat!==undefined&&e.minDate===undefined&&(d.settings.minDate=this._formatDate(d,g)),h!==null&&e.dateFormat!==undefined&&e.maxDate===undefined&&(d.settings.maxDate=this._formatDate(d,h)),this._attachments($(a),d),this._autoSize(d),this._setDate(d,f),this._updateAlternate(d),this._updateDatepicker(d)}},_changeDatepicker:function(a,b,c){this._optionDatepicker(a,b,c)},_refreshDatepicker:function(a){var b=this._getInst(a);b&&this._updateDatepicker(b)},_setDateDatepicker:function(a,b){var c=this._getInst(a);c&&(this._setDate(c,b),this._updateDatepicker(c),this._updateAlternate(c))},_getDateDatepicker:function(a,b){var c=this._getInst(a);return c&&!c.inline&&this._setDateFromField(c,b),c?this._getDate(c):null},_doKeyDown:function(a){var b=$.datepicker._getInst(a.target),c=!0,d=b.dpDiv.is(".ui-datepicker-rtl");b._keyEvent=!0;if($.datepicker._datepickerShowing)switch(a.keyCode){case 9:$.datepicker._hideDatepicker(),c=!1;break;case 13:var e=$("td."+$.datepicker._dayOverClass+":not(."+$.datepicker._currentClass+")",b.dpDiv);e[0]&&$.datepicker._selectDay(a.target,b.selectedMonth,b.selectedYear,e[0]);var f=$.datepicker._get(b,"onSelect");if(f){var g=$.datepicker._formatDate(b);f.apply(b.input?b.input[0]:null,[g,b])}else $.datepicker._hideDatepicker();return!1;case 27:$.datepicker._hideDatepicker();break;case 33:$.datepicker._adjustDate(a.target,a.ctrlKey?-$.datepicker._get(b,"stepBigMonths"):-$.datepicker._get(b,"stepMonths"),"M");break;case 34:$.datepicker._adjustDate(a.target,a.ctrlKey?+$.datepicker._get(b,"stepBigMonths"):+$.datepicker._get(b,"stepMonths"),"M");break;case 35:(a.ctrlKey||a.metaKey)&&$.datepicker._clearDate(a.target),c=a.ctrlKey||a.metaKey;break;case 36:(a.ctrlKey||a.metaKey)&&$.datepicker._gotoToday(a.target),c=a.ctrlKey||a.metaKey;break;case 37:(a.ctrlKey||a.metaKey)&&$.datepicker._adjustDate(a.target,d?1:-1,"D"),c=a.ctrlKey||a.metaKey,a.originalEvent.altKey&&$.datepicker._adjustDate(a.target,a.ctrlKey?-$.datepicker._get(b,"stepBigMonths"):-$.datepicker._get(b,"stepMonths"),"M");break;case 38:(a.ctrlKey||a.metaKey)&&$.datepicker._adjustDate(a.target,-7,"D"),c=a.ctrlKey||a.metaKey;break;case 39:(a.ctrlKey||a.metaKey)&&$.datepicker._adjustDate(a.target,d?-1:1,"D"),c=a.ctrlKey||a.metaKey,a.originalEvent.altKey&&$.datepicker._adjustDate(a.target,a.ctrlKey?+$.datepicker._get(b,"stepBigMonths"):+$.datepicker._get(b,"stepMonths"),"M");break;case 40:(a.ctrlKey||a.metaKey)&&$.datepicker._adjustDate(a.target,7,"D"),c=a.ctrlKey||a.metaKey;break;default:c=!1}else a.keyCode==36&&a.ctrlKey?$.datepicker._showDatepicker(this):c=!1;c&&(a.preventDefault(),a.stopPropagation())},_doKeyPress:function(a){var b=$.datepicker._getInst(a.target);if($.datepicker._get(b,"constrainInput")){var c=$.datepicker._possibleChars($.datepicker._get(b,"dateFormat")),d=String.fromCharCode(a.charCode==undefined?a.keyCode:a.charCode);return a.ctrlKey||a.metaKey||d<" "||!c||c.indexOf(d)>-1}},_doKeyUp:function(a){var b=$.datepicker._getInst(a.target);if(b.input.val()!=b.lastVal)try{var c=$.datepicker.parseDate($.datepicker._get(b,"dateFormat"),b.input?b.input.val():null,$.datepicker._getFormatConfig(b));c&&($.datepicker._setDateFromField(b),$.datepicker._updateAlternate(b),$.datepicker._updateDatepicker(b))}catch(a){$.datepicker.log(a)}return!0},_showDatepicker:function(a){a=a.target||a,a.nodeName.toLowerCase()!="input"&&(a=$("input",a.parentNode)[0]);if($.datepicker._isDisabledDatepicker(a)||$.datepicker._lastInput==a)return;var b=$.datepicker._getInst(a);$.datepicker._curInst&&$.datepicker._curInst!=b&&($.datepicker._curInst.dpDiv.stop(!0,!0),b&&$.datepicker._datepickerShowing&&$.datepicker._hideDatepicker($.datepicker._curInst.input[0]));var c=$.datepicker._get(b,"beforeShow"),d=c?c.apply(a,[a,b]):{};if(d===!1)return;extendRemove(b.settings,d),b.lastVal=null,$.datepicker._lastInput=a,$.datepicker._setDateFromField(b),$.datepicker._inDialog&&(a.value=""),$.datepicker._pos||($.datepicker._pos=$.datepicker._findPos(a),$.datepicker._pos[1]+=a.offsetHeight);var e=!1;$(a).parents().each(function(){return e|=$(this).css("position")=="fixed",!e}),e&&$.browser.opera&&($.datepicker._pos[0]-=document.documentElement.scrollLeft,$.datepicker._pos[1]-=document.documentElement.scrollTop);var f={left:$.datepicker._pos[0],top:$.datepicker._pos[1]};$.datepicker._pos=null,b.dpDiv.empty(),b.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),$.datepicker._updateDatepicker(b),f=$.datepicker._checkOffset(b,f,e),b.dpDiv.css({position:$.datepicker._inDialog&&$.blockUI?"static":e?"fixed":"absolute",display:"none",left:f.left+"px",top:f.top+"px"});if(!b.inline){var g=$.datepicker._get(b,"showAnim"),h=$.datepicker._get(b,"duration"),i=function(){var a=b.dpDiv.find("iframe.ui-datepicker-cover");if(!!a.length){var c=$.datepicker._getBorders(b.dpDiv);a.css({left:-c[0],top:-c[1],width:b.dpDiv.outerWidth(),height:b.dpDiv.outerHeight()})}};b.dpDiv.zIndex($(a).zIndex()+1),$.datepicker._datepickerShowing=!0,$.effects&&$.effects[g]?b.dpDiv.show(g,$.datepicker._get(b,"showOptions"),h,i):b.dpDiv[g||"show"](g?h:null,i),(!g||!h)&&i(),b.input.is(":visible")&&!b.input.is(":disabled")&&b.input.focus(),$.datepicker._curInst=b}},_updateDatepicker:function(a){var b=this;b.maxRows=4;var c=$.datepicker._getBorders(a.dpDiv);instActive=a,a.dpDiv.empty().append(this._generateHTML(a));var d=a.dpDiv.find("iframe.ui-datepicker-cover");!d.length||d.css({left:-c[0],top:-c[1],width:a.dpDiv.outerWidth(),height:a.dpDiv.outerHeight()}),a.dpDiv.find("."+this._dayOverClass+" a").mouseover();var e=this._getNumberOfMonths(a),f=e[1],g=17;a.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),f>1&&a.dpDiv.addClass("ui-datepicker-multi-"+f).css("width",g*f+"em"),a.dpDiv[(e[0]!=1||e[1]!=1?"add":"remove")+"Class"]("ui-datepicker-multi"),a.dpDiv[(this._get(a,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),a==$.datepicker._curInst&&$.datepicker._datepickerShowing&&a.input&&a.input.is(":visible")&&!a.input.is(":disabled")&&a.input[0]!=document.activeElement&&a.input.focus();if(a.yearshtml){var h=a.yearshtml;setTimeout(function(){h===a.yearshtml&&a.yearshtml&&a.dpDiv.find("select.ui-datepicker-year:first").replaceWith(a.yearshtml),h=a.yearshtml=null},0)}},_getBorders:function(a){var b=function(a){return{thin:1,medium:2,thick:3}[a]||a};return[parseFloat(b(a.css("border-left-width"))),parseFloat(b(a.css("border-top-width")))]},_checkOffset:function(a,b,c){var d=a.dpDiv.outerWidth(),e=a.dpDiv.outerHeight(),f=a.input?a.input.outerWidth():0,g=a.input?a.input.outerHeight():0,h=document.documentElement.clientWidth+$(document).scrollLeft(),i=document.documentElement.clientHeight+$(document).scrollTop();return b.left-=this._get(a,"isRTL")?d-f:0,b.left-=c&&b.left==a.input.offset().left?$(document).scrollLeft():0,b.top-=c&&b.top==a.input.offset().top+g?$(document).scrollTop():0,b.left-=Math.min(b.left,b.left+d>h&&h>d?Math.abs(b.left+d-h):0),b.top-=Math.min(b.top,b.top+e>i&&i>e?Math.abs(e+g):0),b},_findPos:function(a){var b=this._getInst(a),c=this._get(b,"isRTL");while(a&&(a.type=="hidden"||a.nodeType!=1||$.expr.filters.hidden(a)))a=a[c?"previousSibling":"nextSibling"];var d=$(a).offset();return[d.left,d.top]},_hideDatepicker:function(a){var b=this._curInst;if(!b||a&&b!=$.data(a,PROP_NAME))return;if(this._datepickerShowing){var c=this._get(b,"showAnim"),d=this._get(b,"duration"),e=this,f=function(){$.datepicker._tidyDialog(b),e._curInst=null};$.effects&&$.effects[c]?b.dpDiv.hide(c,$.datepicker._get(b,"showOptions"),d,f):b.dpDiv[c=="slideDown"?"slideUp":c=="fadeIn"?"fadeOut":"hide"](c?d:null,f),c||f(),this._datepickerShowing=!1;var g=this._get(b,"onClose");g&&g.apply(b.input?b.input[0]:null,[b.input?b.input.val():"",b]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),$.blockUI&&($.unblockUI(),$("body").append(this.dpDiv))),this._inDialog=!1}},_tidyDialog:function(a){a.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")},_checkExternalClick:function(a){if(!$.datepicker._curInst)return;var b=$(a.target),c=$.datepicker._getInst(b[0]);(b[0].id!=$.datepicker._mainDivId&&b.parents("#"+$.datepicker._mainDivId).length==0&&!b.hasClass($.datepicker.markerClassName)&&!b.hasClass($.datepicker._triggerClass)&&$.datepicker._datepickerShowing&&(!$.datepicker._inDialog||!$.blockUI)||b.hasClass($.datepicker.markerClassName)&&$.datepicker._curInst!=c)&&$.datepicker._hideDatepicker()},_adjustDate:function(a,b,c){var d=$(a),e=this._getInst(d[0]);if(this._isDisabledDatepicker(d[0]))return;this._adjustInstDate(e,b+(c=="M"?this._get(e,"showCurrentAtPos"):0),c),this._updateDatepicker(e)},_gotoToday:function(a){var b=$(a),c=this._getInst(b[0]);if(this._get(c,"gotoCurrent")&&c.currentDay)c.selectedDay=c.currentDay,c.drawMonth=c.selectedMonth=c.currentMonth,c.drawYear=c.selectedYear=c.currentYear;else{var d=new Date;c.selectedDay=d.getDate(),c.drawMonth=c.selectedMonth=d.getMonth(),c.drawYear=c.selectedYear=d.getFullYear()}this._notifyChange(c),this._adjustDate(b)},_selectMonthYear:function(a,b,c){var d=$(a),e=this._getInst(d[0]);e["selected"+(c=="M"?"Month":"Year")]=e["draw"+(c=="M"?"Month":"Year")]=parseInt(b.options[b.selectedIndex].value,10),this._notifyChange(e),this._adjustDate(d)},_selectDay:function(a,b,c,d){var e=$(a);if($(d).hasClass(this._unselectableClass)||this._isDisabledDatepicker(e[0]))return;var f=this._getInst(e[0]);f.selectedDay=f.currentDay=$("a",d).html(),f.selectedMonth=f.currentMonth=b,f.selectedYear=f.currentYear=c,this._selectDate(a,this._formatDate(f,f.currentDay,f.currentMonth,f.currentYear))},_clearDate:function(a){var b=$(a),c=this._getInst(b[0]);this._selectDate(b,"")},_selectDate:function(a,b){var c=$(a),d=this._getInst(c[0]);b=b!=null?b:this._formatDate(d),d.input&&d.input.val(b),this._updateAlternate(d);var e=this._get(d,"onSelect");e?e.apply(d.input?d.input[0]:null,[b,d]):d.input&&d.input.trigger("change"),d.inline?this._updateDatepicker(d):(this._hideDatepicker(),this._lastInput=d.input[0],typeof d.input[0]!="object"&&d.input.focus(),this._lastInput=null)},_updateAlternate:function(a){var b=this._get(a,"altField");if(b){var c=this._get(a,"altFormat")||this._get(a,"dateFormat"),d=this._getDate(a),e=this.formatDate(c,d,this._getFormatConfig(a));$(b).each(function(){$(this).val(e)})}},noWeekends:function(a){var b=a.getDay();return[b>0&&b<6,""]},iso8601Week:function(a){var b=new Date(a.getTime());b.setDate(b.getDate()+4-(b.getDay()||7));var c=b.getTime();return b.setMonth(0),b.setDate(1),Math.floor(Math.round((c-b)/864e5)/7)+1},parseDate:function(a,b,c){if(a==null||b==null)throw"Invalid arguments";b=typeof b=="object"?b.toString():b+"";if(b=="")return null;var d=(c?c.shortYearCutoff:null)||this._defaults.shortYearCutoff;d=typeof d!="string"?d:(new Date).getFullYear()%100+parseInt(d,10);var e=(c?c.dayNamesShort:null)||this._defaults.dayNamesShort,f=(c?c.dayNames:null)||this._defaults.dayNames,g=(c?c.monthNamesShort:null)||this._defaults.monthNamesShort,h=(c?c.monthNames:null)||this._defaults.monthNames,i=-1,j=-1,k=-1,l=-1,m=!1,n=function(b){var c=s+1<a.length&&a.charAt(s+1)==b;return c&&s++,c},o=function(a){var c=n(a),d=a=="@"?14:a=="!"?20:a=="y"&&c?4:a=="o"?3:2,e=new RegExp("^\\d{1,"+d+"}"),f=b.substring(r).match(e);if(!f)throw"Missing number at position "+r;return r+=f[0].length,parseInt(f[0],10)},p=function(a,c,d){var e=$.map(n(a)?d:c,function(a,b){return[[b,a]]}).sort(function(a,b){return-(a[1].length-b[1].length)}),f=-1;$.each(e,function(a,c){var d=c[1];if(b.substr(r,d.length).toLowerCase()==d.toLowerCase())return f=c[0],r+=d.length,!1});if(f!=-1)return f+1;throw"Unknown name at position "+r},q=function(){if(b.charAt(r)!=a.charAt(s))throw"Unexpected literal at position "+r;r++},r=0;for(var s=0;s<a.length;s++)if(m)a.charAt(s)=="'"&&!n("'")?m=!1:q();else switch(a.charAt(s)){case"d":k=o("d");break;case"D":p("D",e,f);break;case"o":l=o("o");break;case"m":j=o("m");break;case"M":j=p("M",g,h);break;case"y":i=o("y");break;case"@":var t=new Date(o("@"));i=t.getFullYear(),j=t.getMonth()+1,k=t.getDate();break;case"!":var t=new Date((o("!")-this._ticksTo1970)/1e4);i=t.getFullYear(),j=t.getMonth()+1,k=t.getDate();break;case"'":n("'")?q():m=!0;break;default:q()}if(r<b.length)throw"Extra/unparsed characters found in date: "+b.substring(r);i==-1?i=(new Date).getFullYear():i<100&&(i+=(new Date).getFullYear()-(new Date).getFullYear()%100+(i<=d?0:-100));if(l>-1){j=1,k=l;do{var u=this._getDaysInMonth(i,j-1);if(k<=u)break;j++,k-=u}while(!0)}var t=this._daylightSavingAdjust(new Date(i,j-1,k));if(t.getFullYear()!=i||t.getMonth()+1!=j||t.getDate()!=k)throw"Invalid date";return t},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925))*24*60*60*1e7,formatDate:function(a,b,c){if(!b)return"";var d=(c?c.dayNamesShort:null)||this._defaults.dayNamesShort,e=(c?c.dayNames:null)||this._defaults.dayNames,f=(c?c.monthNamesShort:null)||this._defaults.monthNamesShort,g=(c?c.monthNames:null)||this._defaults.monthNames,h=function(b){var c=m+1<a.length&&a.charAt(m+1)==b;return c&&m++,c},i=function(a,b,c){var d=""+b;if(h(a))while(d.length<c)d="0"+d;return d},j=function(a,b,c,d){return h(a)?d[b]:c[b]},k="",l=!1;if(b)for(var m=0;m<a.length;m++)if(l)a.charAt(m)=="'"&&!h("'")?l=!1:k+=a.charAt(m);else switch(a.charAt(m)){case"d":k+=i("d",b.getDate(),2);break;case"D":k+=j("D",b.getDay(),d,e);break;case"o":k+=i("o",Math.round(((new Date(b.getFullYear(),b.getMonth(),b.getDate())).getTime()-(new Date(b.getFullYear(),0,0)).getTime())/864e5),3);break;case"m":k+=i("m",b.getMonth()+1,2);break;case"M":k+=j("M",b.getMonth(),f,g);break;case"y":k+=h("y")?b.getFullYear():(b.getYear()%100<10?"0":"")+b.getYear()%100;break;case"@":k+=b.getTime();break;case"!":k+=b.getTime()*1e4+this._ticksTo1970;break;case"'":h("'")?k+="'":l=!0;break;default:k+=a.charAt(m)}return k},_possibleChars:function(a){var b="",c=!1,d=function(b){var c=e+1<a.length&&a.charAt(e+1)==b;return c&&e++,c};for(var e=0;e<a.length;e++)if(c)a.charAt(e)=="'"&&!d("'")?c=!1:b+=a.charAt(e);else switch(a.charAt(e)){case"d":case"m":case"y":case"@":b+="0123456789";break;case"D":case"M":return null;case"'":d("'")?b+="'":c=!0;break;default:b+=a.charAt(e)}return b},_get:function(a,b){return a.settings[b]!==undefined?a.settings[b]:this._defaults[b]},_setDateFromField:function(a,b){if(a.input.val()==a.lastVal)return;var c=this._get(a,"dateFormat"),d=a.lastVal=a.input?a.input.val():null,e,f;e=f=this._getDefaultDate(a);var g=this._getFormatConfig(a);try{e=this.parseDate(c,d,g)||f}catch(h){this.log(h),d=b?"":d}a.selectedDay=e.getDate(),a.drawMonth=a.selectedMonth=e.getMonth(),a.drawYear=a.selectedYear=e.getFullYear(),a.currentDay=d?e.getDate():0,a.currentMonth=d?e.getMonth():0,a.currentYear=d?e.getFullYear():0,this._adjustInstDate(a)},_getDefaultDate:function(a){return this._restrictMinMax(a,this._determineDate(a,this._get(a,"defaultDate"),new Date))},_determineDate:function(a,b,c){var d=function(a){var b=new Date;return b.setDate(b.getDate()+a),b},e=function(b){try{return $.datepicker.parseDate($.datepicker._get(a,"dateFormat"),b,$.datepicker._getFormatConfig(a))}catch(c){}var d=(b.toLowerCase().match(/^c/)?$.datepicker._getDate(a):null)||new Date,e=d.getFullYear(),f=d.getMonth(),g=d.getDate(),h=/([+-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,i=h.exec(b);while(i){switch(i[2]||"d"){case"d":case"D":g+=parseInt(i[1],10);break;case"w":case"W":g+=parseInt(i[1],10)*7;break;case"m":case"M":f+=parseInt(i[1],10),g=Math.min(g,$.datepicker._getDaysInMonth(e,f));break;case"y":case"Y":e+=parseInt(i[1],10),g=Math.min(g,$.datepicker._getDaysInMonth(e,f))}i=h.exec(b)}return new Date(e,f,g)},f=b==null||b===""?c:typeof b=="string"?e(b):typeof b=="number"?isNaN(b)?c:d(b):new Date(b.getTime());return f=f&&f.toString()=="Invalid Date"?c:f,f&&(f.setHours(0),f.setMinutes(0),f.setSeconds(0),f.setMilliseconds(0)),this._daylightSavingAdjust(f)},_daylightSavingAdjust:function(a){return a?(a.setHours(a.getHours()>12?a.getHours()+2:0),a):null},_setDate:function(a,b,c){var d=!b,e=a.selectedMonth,f=a.selectedYear,g=this._restrictMinMax(a,this._determineDate(a,b,new Date));a.selectedDay=a.currentDay=g.getDate(),a.drawMonth=a.selectedMonth=a.currentMonth=g.getMonth(),a.drawYear=a.selectedYear=a.currentYear=g.getFullYear(),(e!=a.selectedMonth||f!=a.selectedYear)&&!c&&this._notifyChange(a),this._adjustInstDate(a),a.input&&a.input.val(d?"":this._formatDate(a))},_getDate:function(a){var b=!a.currentYear||a.input&&a.input.val()==""?null:this._daylightSavingAdjust(new Date(a.currentYear,a.currentMonth,a.currentDay));return b},_generateHTML:function(a){var b=new Date;b=this._daylightSavingAdjust(new Date(b.getFullYear(),b.getMonth(),b.getDate()));var c=this._get(a,"isRTL"),d=this._get(a,"showButtonPanel"),e=this._get(a,"hideIfNoPrevNext"),f=this._get(a,"navigationAsDateFormat"),g=this._getNumberOfMonths(a),h=this._get(a,"showCurrentAtPos"),i=this._get(a,"stepMonths"),j=g[0]!=1||g[1]!=1,k=this._daylightSavingAdjust(a.currentDay?new Date(a.currentYear,a.currentMonth,a.currentDay):new Date(9999,9,9)),l=this._getMinMaxDate(a,"min"),m=this._getMinMaxDate(a,"max"),n=a.drawMonth-h,o=a.drawYear;n<0&&(n+=12,o--);if(m){var p=this._daylightSavingAdjust(new Date(m.getFullYear(),m.getMonth()-g[0]*g[1]+1,m.getDate()));p=l&&p<l?l:p;while(this._daylightSavingAdjust(new Date(o,n,1))>p)n--,n<0&&(n=11,o--)}a.drawMonth=n,a.drawYear=o;var q=this._get(a,"prevText");q=f?this.formatDate(q,this._daylightSavingAdjust(new Date(o,n-i,1)),this._getFormatConfig(a)):q;var r=this._canAdjustMonth(a,-1,o,n)?'<a class="ui-datepicker-prev ui-corner-all" onclick="DP_jQuery_'+dpuuid+".datepicker._adjustDate('#"+a.id+"', -"+i+", 'M');\""+' title="'+q+'"><span class="ui-icon ui-icon-circle-triangle-'+(c?"e":"w")+'">'+q+"</span></a>":e?"":'<a class="ui-datepicker-prev ui-corner-all ui-state-disabled" title="'+q+'"><span class="ui-icon ui-icon-circle-triangle-'+(c?"e":"w")+'">'+q+"</span></a>",s=this._get(a,"nextText");s=f?this.formatDate(s,this._daylightSavingAdjust(new Date(o,n+i,1)),this._getFormatConfig(a)):s;var t=this._canAdjustMonth(a,1,o,n)?'<a class="ui-datepicker-next ui-corner-all" onclick="DP_jQuery_'+dpuuid+".datepicker._adjustDate('#"+a.id+"', +"+i+", 'M');\""+' title="'+s+'"><span class="ui-icon ui-icon-circle-triangle-'+(c?"w":"e")+'">'+s+"</span></a>":e?"":'<a class="ui-datepicker-next ui-corner-all ui-state-disabled" title="'+s+'"><span class="ui-icon ui-icon-circle-triangle-'+(c?"w":"e")+'">'+s+"</span></a>",u=this._get(a,"currentText"),v=this._get(a,"gotoCurrent")&&a.currentDay?k:b;u=f?this.formatDate(u,v,this._getFormatConfig(a)):u;var w=a.inline?"":'<button type="button" class="ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all" onclick="DP_jQuery_'+dpuuid+'.datepicker._hideDatepicker();">'+this._get(a,"closeText")+"</button>",x=d?'<div class="ui-datepicker-buttonpane ui-widget-content">'+(c?w:"")+(this._isInRange(a,v)?'<button type="button" class="ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all" onclick="DP_jQuery_'+dpuuid+".datepicker._gotoToday('#"+a.id+"');\""+">"+u+"</button>":"")+(c?"":w)+"</div>":"",y=parseInt(this._get(a,"firstDay"),10);y=isNaN(y)?0:y;var z=this._get(a,"showWeek"),A=this._get(a,"dayNames"),B=this._get(a,"dayNamesShort"),C=this._get(a,"dayNamesMin"),D=this._get(a,"monthNames"),E=this._get(a,"monthNamesShort"),F=this._get(a,"beforeShowDay"),G=this._get(a,"showOtherMonths"),H=this._get(a,"selectOtherMonths"),I=this._get(a,"calculateWeek")||this.iso8601Week,J=this._getDefaultDate(a),K="";for(var L=0;L<g[0];L++){var M="";this.maxRows=4;for(var N=0;N<g[1];N++){var O=this._daylightSavingAdjust(new Date(o,n,a.selectedDay)),P=" ui-corner-all",Q="";if(j){Q+='<div class="ui-datepicker-group';if(g[1]>1)switch(N){case 0:Q+=" ui-datepicker-group-first",P=" ui-corner-"+(c?"right":"left");break;case g[1]-1:Q+=" ui-datepicker-group-last",P=" ui-corner-"+(c?"left":"right");break;default:Q+=" ui-datepicker-group-middle",P=""}Q+='">'}Q+='<div class="ui-datepicker-header ui-widget-header ui-helper-clearfix'+P+'">'+(/all|left/.test(P)&&L==0?c?t:r:"")+(/all|right/.test(P)&&L==0?c?r:t:"")+this._generateMonthYearHeader(a,n,o,l,m,L>0||N>0,D,E)+'</div><table class="ui-datepicker-calendar"><thead>'+"<tr>";var R=z?'<th class="ui-datepicker-week-col">'+this._get(a,"weekHeader")+"</th>":"";for(var S=0;S<7;S++){var T=(S+y)%7;R+="<th"+((S+y+6)%7>=5?' class="ui-datepicker-week-end"':"")+">"+'<span title="'+A[T]+'">'+C[T]+"</span></th>"}Q+=R+"</tr></thead><tbody>";var U=this._getDaysInMonth(o,n);o==a.selectedYear&&n==a.selectedMonth&&(a.selectedDay=Math.min(a.selectedDay,U));var V=(this._getFirstDayOfMonth(o,n)-y+7)%7,W=Math.ceil((V+U)/7),X=j?this.maxRows>W?this.maxRows:W:W;this.maxRows=X;var Y=this._daylightSavingAdjust(new Date(o,n,1-V));for(var Z=0;Z<X;Z++){Q+="<tr>";var _=z?'<td class="ui-datepicker-week-col">'+this._get(a,"calculateWeek")(Y)+"</td>":"";for(var S=0;S<7;S++){var ba=F?F.apply(a.input?a.input[0]:null,[Y]):[!0,""],bb=Y.getMonth()!=n,bc=bb&&!H||!ba[0]||l&&Y<l||m&&Y>m;_+='<td class="'+((S+y+6)%7>=5?" ui-datepicker-week-end":"")+(bb?" ui-datepicker-other-month":"")+(Y.getTime()==O.getTime()&&n==a.selectedMonth&&a._keyEvent||J.getTime()==Y.getTime()&&J.getTime()==O.getTime()?" "+this._dayOverClass:"")+(bc?" "+this._unselectableClass+" ui-state-disabled":"")+(bb&&!G?"":" "+ba[1]+(Y.getTime()==k.getTime()?" "+this._currentClass:"")+(Y.getTime()==b.getTime()?" ui-datepicker-today":""))+'"'+((!bb||G)&&ba[2]?' title="'+ba[2]+'"':"")+(bc?"":' onclick="DP_jQuery_'+dpuuid+".datepicker._selectDay('#"+a.id+"',"+Y.getMonth()+","+Y.getFullYear()+', this);return false;"')+">"+(bb&&!G?"&#xa0;":bc?'<span class="ui-state-default">'+Y.getDate()+"</span>":'<a class="ui-state-default'+(Y.getTime()==b.getTime()?" ui-state-highlight":"")+(Y.getTime()==k.getTime()?" ui-state-active":"")+(bb?" ui-priority-secondary":"")+'" href="#">'+Y.getDate()+"</a>")+"</td>",Y.setDate(Y.getDate()+1),Y=this._daylightSavingAdjust(Y)}Q+=_+"</tr>"}n++,n>11&&(n=0,o++),Q+="</tbody></table>"+(j?"</div>"+(g[0]>0&&N==g[1]-1?'<div class="ui-datepicker-row-break"></div>':""):""),M+=Q}K+=M}return K+=x+($.browser.msie&&parseInt($.browser.version,10)<7&&!a.inline?'<iframe src="javascript:false;" class="ui-datepicker-cover" frameborder="0"></iframe>':""),a._keyEvent=!1,K},_generateMonthYearHeader:function(a,b,c,d,e,f,g,h){var i=this._get(a,"changeMonth"),j=this._get(a,"changeYear"),k=this._get(a,"showMonthAfterYear"),l='<div class="ui-datepicker-title">',m="";if(f||!i)m+='<span class="ui-datepicker-month">'+g[b]+"</span>";else{var n=d&&d.getFullYear()==c,o=e&&e.getFullYear()==c;m+='<select class="ui-datepicker-month" onchange="DP_jQuery_'+dpuuid+".datepicker._selectMonthYear('#"+a.id+"', this, 'M');\" "+">";for(var p=0;p<12;p++)(!n||p>=d.getMonth())&&(!o||p<=e.getMonth())&&(m+='<option value="'+p+'"'+(p==b?' selected="selected"':"")+">"+h[p]+"</option>");m+="</select>"}k||(l+=m+(f||!i||!j?"&#xa0;":""));if(!a.yearshtml){a.yearshtml="";if(f||!j)l+='<span class="ui-datepicker-year">'+c+"</span>";else{var q=this._get(a,"yearRange").split(":"),r=(new Date).getFullYear(),s=function(a){var b=a.match(/c[+-].*/)?c+parseInt(a.substring(1),10):a.match(/[+-].*/)?r+parseInt(a,10):parseInt(a,10);return isNaN(b)?r:b},t=s(q[0]),u=Math.max(t,s(q[1]||""));t=d?Math.max(t,d.getFullYear()):t,u=e?Math.min(u,e.getFullYear()):u,a.yearshtml+='<select class="ui-datepicker-year" onchange="DP_jQuery_'+dpuuid+".datepicker._selectMonthYear('#"+a.id+"', this, 'Y');\" "+">";for(;t<=u;t++)a.yearshtml+='<option value="'+t+'"'+(t==c?' selected="selected"':"")+">"+t+"</option>";a.yearshtml+="</select>",l+=a.yearshtml,a.yearshtml=null}}return l+=this._get(a,"yearSuffix"),k&&(l+=(f||!i||!j?"&#xa0;":"")+m),l+="</div>",l},_adjustInstDate:function(a,b,c){var d=a.drawYear+(c=="Y"?b:0),e=a.drawMonth+(c=="M"?b:0),f=Math.min(a.selectedDay,this._getDaysInMonth(d,e))+(c=="D"?b:0),g=this._restrictMinMax(a,this._daylightSavingAdjust(new Date(d,e,f)));a.selectedDay=g.getDate(),a.drawMonth=a.selectedMonth=g.getMonth(),a.drawYear=a.selectedYear=g.getFullYear(),(c=="M"||c=="Y")&&this._notifyChange(a)},_restrictMinMax:function(a,b){var c=this._getMinMaxDate(a,"min"),d=this._getMinMaxDate(a,"max"),e=c&&b<c?c:b;return e=d&&e>d?d:e,e},_notifyChange:function(a){var b=this._get(a,"onChangeMonthYear");b&&b.apply(a.input?a.input[0]:null,[a.selectedYear,a.selectedMonth+1,a])},_getNumberOfMonths:function(a){var b=this._get(a,"numberOfMonths");return b==null?[1,1]:typeof b=="number"?[1,b]:b},_getMinMaxDate:function(a,b){return this._determineDate(a,this._get(a,b+"Date"),null)},_getDaysInMonth:function(a,b){return 32-this._daylightSavingAdjust(new Date(a,b,32)).getDate()},_getFirstDayOfMonth:function(a,b){return(new Date(a,b,1)).getDay()},_canAdjustMonth:function(a,b,c,d){var e=this._getNumberOfMonths(a),f=this._daylightSavingAdjust(new Date(c,d+(b<0?b:e[0]*e[1]),1));return b<0&&f.setDate(this._getDaysInMonth(f.getFullYear(),f.getMonth())),this._isInRange(a,f)},_isInRange:function(a,b){var c=this._getMinMaxDate(a,"min"),d=this._getMinMaxDate(a,"max");return(!c||b.getTime()>=c.getTime())&&(!d||b.getTime()<=d.getTime())},_getFormatConfig:function(a){var b=this._get(a,"shortYearCutoff");return b=typeof b!="string"?b:(new Date).getFullYear()%100+parseInt(b,10),{shortYearCutoff:b,dayNamesShort:this._get(a,"dayNamesShort"),dayNames:this._get(a,"dayNames"),monthNamesShort:this._get(a,"monthNamesShort"),monthNames:this._get(a,"monthNames")}},_formatDate:function(a,b,c,d){b||(a.currentDay=a.selectedDay,a.currentMonth=a.selectedMonth,a.currentYear=a.selectedYear);var e=b?typeof b=="object"?b:this._daylightSavingAdjust(new Date(d,c,b)):this._daylightSavingAdjust(new Date(a.currentYear,a.currentMonth,a.currentDay));return this.formatDate(this._get(a,"dateFormat"),e,this._getFormatConfig(a))}}),$.fn.datepicker=function(a){if(!this.length)return this;$.datepicker.initialized||($(document).mousedown($.datepicker._checkExternalClick).find("body").append($.datepicker.dpDiv),$.datepicker.initialized=!0);var b=Array.prototype.slice.call(arguments,1);return typeof a!="string"||a!="isDisabled"&&a!="getDate"&&a!="widget"?a=="option"&&arguments.length==2&&typeof arguments[1]=="string"?$.datepicker["_"+a+"Datepicker"].apply($.datepicker,[this[0]].concat(b)):this.each(function(){typeof a=="string"?$.datepicker["_"+a+"Datepicker"].apply($.datepicker,[this].concat(b)):$.datepicker._attachDatepicker(this,a)}):$.datepicker["_"+a+"Datepicker"].apply($.datepicker,[this[0]].concat(b))},$.datepicker=new Datepicker,$.datepicker.initialized=!1,$.datepicker.uuid=(new Date).getTime(),$.datepicker.version="1.8.17",window["DP_jQuery_"+dpuuid]=$}(jQuery),function(a,b){var c="ui-dialog ui-widget ui-widget-content ui-corner-all ",d={buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},e={maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0},f=a.attrFn||{val:!0,css:!0,html:!0,text:!0,data:!0,width:!0,height:!0,offset:!0,click:!0};a.widget("ui.dialog",{options:{autoOpen:!0,buttons:{},closeOnEscape:!0,closeText:"close",dialogClass:"",draggable:!0,hide:null,height:"auto",maxHeight:!1,maxWidth:!1,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",collision:"fit",using:function(b){var c=a(this).css(b).offset().top;c<0&&a(this).css("top",b.top-c)}},resizable:!0,show:null,stack:!0,title:"",width:300,zIndex:1e3},_create:function(){this.originalTitle=this.element.attr("title"),typeof this.originalTitle!="string"&&(this.originalTitle=""),this.options.title=this.options.title||this.originalTitle;var b=this,d=b.options,e=d.title||"&#160;",f=a.ui.dialog.getTitleId(b.element),g=(b.uiDialog=a("<div></div>")).appendTo(document.body).hide().addClass(c+d.dialogClass).css({zIndex:d.zIndex}).attr("tabIndex",-1).css("outline",0).keydown(function(c){d.closeOnEscape&&!c.isDefaultPrevented()&&c.keyCode&&c.keyCode===a.ui.keyCode.ESCAPE&&(b.close(c),c.preventDefault())}).attr({role:"dialog","aria-labelledby":f}).mousedown(function(a){b.moveToTop(!1,a)}),h=b.element.show().removeAttr("title").addClass("ui-dialog-content ui-widget-content").appendTo(g),i=(b.uiDialogTitlebar=a("<div></div>")).addClass("ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix").prependTo(g),j=a('<a href="#"></a>').addClass("ui-dialog-titlebar-close ui-corner-all").attr("role","button").hover(function(){j.addClass("ui-state-hover")},function(){j.removeClass("ui-state-hover")}).focus(function(){j.addClass("ui-state-focus")}).blur(function(){j.removeClass("ui-state-focus")}).click(function(a){return b.close(a),!1}).appendTo(i),k=(b.uiDialogTitlebarCloseText=a("<span></span>")).addClass("ui-icon ui-icon-closethick").text(d.closeText).appendTo(j),l=a("<span></span>").addClass("ui-dialog-title").attr("id",f).html(e).prependTo(i);a.isFunction(d.beforeclose)&&!a.isFunction(d.beforeClose)&&(d.beforeClose=d.beforeclose),i.find("*").add(i).disableSelection(),d.draggable&&a.fn.draggable&&b._makeDraggable(),d.resizable&&a.fn.resizable&&b._makeResizable(),b._createButtons(d.buttons),b._isOpen=!1,a.fn.bgiframe&&g.bgiframe()},_init:function(){this.options.autoOpen&&this.open()},destroy:function(){var a=this;return a.overlay&&a.overlay.destroy(),a.uiDialog.hide(),a.element.unbind(".dialog").removeData("dialog").removeClass("ui-dialog-content ui-widget-content").hide().appendTo("body"),a.uiDialog.remove(),a.originalTitle&&a.element.attr("title",a.originalTitle),a},widget:function(){return this.uiDialog},close:function(b){var c=this,d,e;if(!1===c._trigger("beforeClose",b))return;return c.overlay&&c.overlay.destroy(),c.uiDialog.unbind("keypress.ui-dialog"),c._isOpen=!1,c.options.hide?c.uiDialog.hide(c.options.hide,function(){c._trigger("close",b)}):(c.uiDialog.hide(),c._trigger("close",b)),a.ui.dialog.overlay.resize(),c.options.modal&&(d=0,a(".ui-dialog").each(function(){this!==c.uiDialog[0]&&(e=a(this).css("z-index"),isNaN(e)||(d=Math.max(d,e)))}),a.ui.dialog.maxZ=d),c},isOpen:function(){return this._isOpen},moveToTop:function(b,c){var d=this,e=d.options,f;return e.modal&&!b||!e.stack&&!e.modal?d._trigger("focus",c):(e.zIndex>a.ui.dialog.maxZ&&(a.ui.dialog.maxZ=e.zIndex),d.overlay&&(a.ui.dialog.maxZ+=1,d.overlay.$el.css("z-index",a.ui.dialog.overlay.maxZ=a.ui.dialog.maxZ)),f={scrollTop:d.element.scrollTop(),scrollLeft:d.element.scrollLeft()},a.ui.dialog.maxZ+=1,d.uiDialog.css("z-index",a.ui.dialog.maxZ),d.element.attr(f),d._trigger("focus",c),d)},open:function(){if(this._isOpen)return;var b=this,c=b.options,d=b.uiDialog;return b.overlay=c.modal?new a.ui.dialog.overlay(b):null,b._size(),b._position(c.position),d.show(c.show),b.moveToTop(!0),c.modal&&d.bind("keydown.ui-dialog",function(b){if(b.keyCode!==a.ui.keyCode.TAB)return;var c=a(":tabbable",this),d=c.filter(":first"),e=c.filter(":last");if(b.target===e[0]&&!b.shiftKey)return d.focus(1),!1;if(b.target===d[0]&&b.shiftKey)return e.focus(1),!1}),a(b.element.find(":tabbable").get().concat(d.find(".ui-dialog-buttonpane :tabbable").get().concat(d.get()))).eq(0).focus(),b._isOpen=!0,b._trigger("open"),b},_createButtons:function(b){var c=this,d=!1,e=a("<div></div>").addClass("ui-dialog-buttonpane ui-widget-content ui-helper-clearfix"),g=a("<div></div>").addClass("ui-dialog-buttonset").appendTo(e);c.uiDialog.find(".ui-dialog-buttonpane").remove(),typeof b=="object"&&b!==null&&a.each(b,function(){return!(d=!0)}),d&&(a.each(b,function(b,d){d=a.isFunction(d)?{click:d,text:b}:d;var e=a('<button type="button"></button>').click(function(){d.click.apply(c.element[0],arguments)}).appendTo(g);a.each(d,function(a,b){if(a==="click")return;a in f?e[a](b):e.attr(a,b)}),a.fn.button&&e.button()}),e.appendTo(c.uiDialog))},_makeDraggable:function(){function f(a){return{position:a.position,offset:a.offset}}var b=this,c=b.options,d=a(document),e;b.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(d,g){e=c.height==="auto"?"auto":a(this).height(),a(this).height(a(this).height()).addClass("ui-dialog-dragging"),b._trigger("dragStart",d,f(g))},drag:function(a,c){b._trigger("drag",a,f(c))},stop:function(g,h){c.position=[h.position.left-d.scrollLeft(),h.position.top-d.scrollTop()],a(this).removeClass("ui-dialog-dragging").height(e),b._trigger("dragStop",g,f(h)),a.ui.dialog.overlay.resize()}})},_makeResizable:function(c){function h(a){return{originalPosition:a.originalPosition,originalSize:a.originalSize,position:a.position,size:a.size}}c=c===b?this.options.resizable:c;var d=this,e=d.options,f=d.uiDialog.css("position"),g=typeof c=="string"?c:"n,e,s,w,se,sw,ne,nw";d.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:d.element,maxWidth:e.maxWidth,maxHeight:e.maxHeight,minWidth:e.minWidth,minHeight:d._minHeight(),handles:g,start:function(b,c){a(this).addClass("ui-dialog-resizing"),d._trigger("resizeStart",b,h(c))},resize:function(a,b){d._trigger("resize",a,h(b))},stop:function(b,c){a(this).removeClass("ui-dialog-resizing"),e.height=a(this).height(),e.width=a(this).width(),d._trigger("resizeStop",b,h(c)),a.ui.dialog.overlay.resize()}}).css("position",f).find(".ui-resizable-se").addClass("ui-icon ui-icon-grip-diagonal-se")},_minHeight:function(){var a=this.options;return a.height==="auto"?a.minHeight:Math.min(a.minHeight,a.height)},_position:function(b){var c=[],d=[0,0],e;if(b){if(typeof b=="string"||typeof b=="object"&&"0"in b)c=b.split?b.split(" "):[b[0],b[1]],c.length===1&&(c[1]=c[0]),a.each(["left","top"],function(a,b){+c[a]===c[a]&&(d[a]=c[a],c[a]=b)}),b={my:c.join(" "),at:c.join(" "),offset:d.join(" ")};b=a.extend({},a.ui.dialog.prototype.options.position,b)}else b=a.ui.dialog.prototype.options.position;e=this.uiDialog.is(":visible"),e||this.uiDialog.show(),this.uiDialog.css({top:0,left:0}).position(a.extend({of:window},b)),e||this.uiDialog.hide()},_setOptions:function(b){var c=this,f={},g=!1;a.each(b,function(a,b){c._setOption(a,b),a in d&&(g=!0),a in e&&(f[a]=b)}),g&&this._size(),this.uiDialog.is(":data(resizable)")&&this.uiDialog.resizable("option",f)},_setOption:function(b,d){var e=this,f=e.uiDialog;switch(b){case"beforeclose":b="beforeClose";break;case"buttons":e._createButtons(d);break;case"closeText":e.uiDialogTitlebarCloseText.text(""+d);break;case"dialogClass":f.removeClass(e.options.dialogClass).addClass(c+d);break;case"disabled":d?f.addClass("ui-dialog-disabled"):f.removeClass("ui-dialog-disabled");break;case"draggable":var g=f.is(":data(draggable)");g&&!d&&f.draggable("destroy"),!g&&d&&e._makeDraggable();break;case"position":e._position(d);break;case"resizable":var h=f.is(":data(resizable)");h&&!d&&f.resizable("destroy"),h&&typeof d=="string"&&f.resizable("option","handles",d),!h&&d!==!1&&e._makeResizable(d);break;case"title":a(".ui-dialog-title",e.uiDialogTitlebar).html(""+(d||"&#160;"))}a.Widget.prototype._setOption.apply(e,arguments)},_size:function(){var b=this.options,c,d,e=this.uiDialog.is(":visible");this.element.show().css({width:"auto",minHeight:0,height:0}),b.minWidth>b.width&&(b.width=b.minWidth),c=this.uiDialog.css({height:"auto",width:b.width}).height(),d=Math.max(0,b.minHeight-c);if(b.height==="auto")if(a.support.minHeight)this.element.css({minHeight:d,height:"auto"});else{this.uiDialog.show();var f=this.element.css("height","auto").height();e||this.uiDialog.hide(),this.element.height(Math.max(f,d))}else this.element.height(Math.max(b.height-c,0));this.uiDialog.is(":data(resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())}}),a.extend(a.ui.dialog,{version:"1.8.17",uuid:0,maxZ:0,getTitleId:function(a){var b=a.attr("id");return b||(this.uuid+=1,b=this.uuid),"ui-dialog-title-"+b},overlay:function(b){this.$el=a.ui.dialog.overlay.create(b)}}),a.extend(a.ui.dialog.overlay,{instances:[],oldInstances:[],maxZ:0,events:a.map("focus,mousedown,mouseup,keydown,keypress,click".split(","),function(a){return a+".dialog-overlay"}).join(" "),create:function(b){this.instances.length===0&&(setTimeout(function(){a.ui.dialog.overlay.instances.length&&a(document).bind(a.ui.dialog.overlay.events,function(b){if(a(b.target).zIndex()<a.ui.dialog.overlay.maxZ)return!1})},1),a(document).bind("keydown.dialog-overlay",function(c){b.options.closeOnEscape&&!c.isDefaultPrevented()&&c.keyCode&&c.keyCode===a.ui.keyCode.ESCAPE&&(b.close(c),c.preventDefault())}),a(window).bind("resize.dialog-overlay",a.ui.dialog.overlay.resize));var c=(this.oldInstances.pop()||a("<div></div>").addClass("ui-widget-overlay")).appendTo(document.body).css({width:this.width(),height:this.height()});return a.fn.bgiframe&&c.bgiframe(),this.instances.push(c),c},destroy:function(b){var c=a.inArray(b,this.instances);c!=-1&&this.oldInstances.push(this.instances.splice(c,1)[0]),this.instances.length===0&&a([document,window]).unbind(".dialog-overlay"),b.remove();var d=0;a.each(this.instances,function(){d=Math.max(d,this.css("z-index"))}),this.maxZ=d},height:function(){var b,c;return a.browser.msie&&a.browser.version<7?(b=Math.max(document.documentElement.scrollHeight,document.body.scrollHeight),c=Math.max(document.documentElement.offsetHeight,document.body.offsetHeight),b<c?a(window).height()+"px":b+"px"):a(document).height()+"px"},width:function(){var b,c;return a.browser.msie?(b=Math.max(document.documentElement.scrollWidth,document.body.scrollWidth),c=Math.max(document.documentElement.offsetWidth,document.body.offsetWidth),b<c?a(window).width()+"px":b+"px"):a(document).width()+"px"},resize:function(){var b=a([]);a.each(a.ui.dialog.overlay.instances,function(){b=b.add(this)}),b.css({width:0,height:0}).css({width:a.ui.dialog.overlay.width(),height:a.ui.dialog.overlay.height()})}}),a.extend(a.ui.dialog.overlay.prototype,{destroy:function(){a.ui.dialog.overlay.destroy(this.$el)}})}(jQuery),function(a,b){a.ui=a.ui||{};var c=/left|center|right/,d=/top|center|bottom/,e="center",f={},g=a.fn.position,h=a.fn.offset;a.fn.position=function(b){if(!b||!b.of)return g.apply(this,arguments);b=a.extend({},b);var h=a(b.of),i=h[0],j=(b.collision||"flip").split(" "),k=b.offset?b.offset.split(" "):[0,0],l,m,n;return i.nodeType===9?(l=h.width(),m=h.height(),n={top:0,left:0}):i.setTimeout?(l=h.width(),m=h.height(),n={top:h.scrollTop(),left:h.scrollLeft()}):i.preventDefault?(b.at="left top",l=m=0,n={top:b.of.pageY,left:b.of.pageX}):(l=h.outerWidth(),m=h.outerHeight(),n=h.offset()),a.each(["my","at"],function(){var a=(b[this]||"").split(" ");a.length===1&&(a=c.test(a[0])?a.concat([e]):d.test(a[0])?[e].concat(a):[e,e]),a[0]=c.test(a[0])?a[0]:e,a[1]=d.test(a[1])?a[1]:e,b[this]=a}),j.length===1&&(j[1]=j[0]),k[0]=parseInt(k[0],10)||0,k.length===1&&(k[1]=k[0]),k[1]=parseInt(k[1],10)||0,b.at[0]==="right"?n.left+=l:b.at[0]===e&&(n.left+=l/2),b.at[1]==="bottom"?n.top+=m:b.at[1]===e&&(n.top+=m/2),n.left+=k[0],n.top+=k[1],this.each(function(){var c=a(this),d=c.outerWidth(),g=c.outerHeight(),h=parseInt(a.curCSS(this,"marginLeft",!0))||0,i=parseInt(a.curCSS(this,"marginTop",!0))||0,o=d+h+(parseInt(a.curCSS(this,"marginRight",!0))||0),p=g+i+(parseInt(a.curCSS(this,"marginBottom",!0))||0),q=a.extend({},n),r;b.my[0]==="right"?q.left-=d:b.my[0]===e&&(q.left-=d/2),b.my[1]==="bottom"?q.top-=g:b.my[1]===e&&(q.top-=g/2),f.fractions||(q.left=Math.round(q.left),q.top=Math.round(q.top)),r={left:q.left-h,top:q.top-i},a.each(["left","top"],function(c,e){a.ui.position[j[c]]&&a.ui.position[j[c]][e](q,{targetWidth:l,targetHeight:m,elemWidth:d,elemHeight:g,collisionPosition:r,collisionWidth:o,collisionHeight:p,offset:k,my:b.my,at:b.at})}),a.fn.bgiframe&&c.bgiframe(),c.offset(a.extend(q,{using:b.using}))})},a.ui.position={fit:{left:function(b,c){var d=a(window),e=c.collisionPosition.left+c.collisionWidth-d.width()-d.scrollLeft();b.left=e>0?b.left-e:Math.max(b.left-c.collisionPosition.left,b.left)},top:function(b,c){var d=a(window),e=c.collisionPosition.top+c.collisionHeight-d.height()-d.scrollTop();b.top=e>0?b.top-e:Math.max(b.top-c.collisionPosition.top,b.top)}},flip:{left:function(b,c){if(c.at[0]===e)return;var d=a(window),f=c.collisionPosition.left+c.collisionWidth-d.width()-d.scrollLeft(),g=c.my[0]==="left"?-c.elemWidth:c.my[0]==="right"?c.elemWidth:0,h=c.at[0]==="left"?c.targetWidth:-c.targetWidth,i=-2*c.offset[0];b.left+=c.collisionPosition.left<0?g+h+i:f>0?g+h+i:0},top:function(b,c){if(c.at[1]===e)return;var d=a(window),f=c.collisionPosition.top+c.collisionHeight-d.height()-d.scrollTop(),g=c.my[1]==="top"?-c.elemHeight:c.my[1]==="bottom"?c.elemHeight:0,h=c.at[1]==="top"?c.targetHeight:-c.targetHeight,i=-2*c.offset[1];b.top+=c.collisionPosition.top<0?g+h+i:f>0?g+h+i:0}}},a.offset.setOffset||(a.offset.setOffset=function(b,c){/static/.test(a.curCSS(b,"position"))&&(b.style.position="relative");var d=a(b),e=d.offset(),f=parseInt(a.curCSS(b,"top",!0),10)||0,g=parseInt(a.curCSS(b,"left",!0),10)||0,h={top:c.top-e.top+f,left:c.left-e.left+g};"using"in c?c.using.call(b,h):d.css(h)},a.fn.offset=function(b){var c=this[0];return!c||!c.ownerDocument?null:b?this.each(function(){a.offset.setOffset(this,b)}):h.call(this)}),function(){var b=document.getElementsByTagName("body")[0],c=document.createElement("div"),d,e,g,h,i;d=document.createElement(b?"div":"body"),g={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"},b&&jQuery.extend(g,{position:"absolute",left:"-1000px",top:"-1000px"});for(var j in g)d.style[j]=g[j];d.appendChild(c),e=b||document.documentElement,e.insertBefore(d,e.firstChild),c.style.cssText="position: absolute; left: 10.7432222px; top: 10.432325px; height: 30px; width: 201px;",h=a(c).offset(function(a,b){return b}).offset(),d.innerHTML="",e.removeChild(d),i=h.top+h.left+(b?2e3:0),f.fractions=i>21&&i<22}()}(jQuery),function(a,b){a.widget("ui.progressbar",{options:{value:0,max:100},min:0,_create:function(){this.element.addClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").attr({role:"progressbar","aria-valuemin":this.min,"aria-valuemax":this.options.max,"aria-valuenow":this._value()}),this.valueDiv=a("<div class='ui-progressbar-value ui-widget-header ui-corner-left'></div>").appendTo(this.element),this.oldValue=this._value(),this._refreshValue()},destroy:function(){this.element.removeClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.valueDiv.remove(),a.Widget.prototype.destroy.apply(this,arguments)},value:function(a){return a===b?this._value():(this._setOption("value",a),this)},_setOption:function(b,c){b==="value"&&(this.options.value=c,this._refreshValue(),this._value()===this.options.max&&this._trigger("complete")),a.Widget.prototype._setOption.apply(this,arguments)},_value:function(){var a=this.options.value;return typeof a!="number"&&(a=0),Math.min(this.options.max,Math.max(this.min,a))},_percentage:function(){return 100*this._value()/this.options.max},_refreshValue:function(){var a=this.value(),b=this._percentage();this.oldValue!==a&&(this.oldValue=a,this._trigger("change")),this.valueDiv.toggle(a>this.min).toggleClass("ui-corner-right",a===this.options.max).width(b.toFixed(0)+"%"),this.element.attr("aria-valuenow",a)}}),a.extend(a.ui.progressbar,{version:"1.8.17"})}(jQuery),function(a,b){var c=5;a.widget("ui.slider",a.ui.mouse,{widgetEventPrefix:"slide",options:{animate:!1,distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null},_create:function(){var b=this,d=this.options,e=this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"),f="<a class='ui-slider-handle ui-state-default ui-corner-all' href='#'></a>",g=d.values&&d.values.length||1,h=[];this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this.element.addClass("ui-slider ui-slider-"+this.orientation+" ui-widget"+" ui-widget-content"+" ui-corner-all"+(d.disabled?" ui-slider-disabled ui-disabled":"")),this.range=a([]),d.range&&(d.range===!0&&(d.values||(d.values=[this._valueMin(),this._valueMin()]),d.values.length&&d.values.length!==2&&(d.values=[d.values[0],d.values[0]])),this.range=a("<div></div>").appendTo(this.element).addClass("ui-slider-range ui-widget-header"+(d.range==="min"||d.range==="max"?" ui-slider-range-"+d.range:"")));for(var i=e.length;i<g;i+=1)h.push(f);this.handles=e.add(a(h.join("")).appendTo(b.element)),this.handle=this.handles.eq(0),this.handles.add(this.range).filter("a").click(function(a){a.preventDefault()}).hover(function(){d.disabled||a(this).addClass("ui-state-hover")},function(){a(this).removeClass("ui-state-hover")}).focus(function(){d.disabled?a(this).blur():(a(".ui-slider .ui-state-focus").removeClass("ui-state-focus"),a(this).addClass("ui-state-focus"))}).blur(function(){a(this).removeClass("ui-state-focus")}),this.handles.each(function(b){a(this).data("index.ui-slider-handle",b)}),this.handles.keydown(function(d){var e=!0,f=a(this).data("index.ui-slider-handle"),g,h,i,j;if(b.options.disabled)return;switch(d.keyCode){case a.ui.keyCode.HOME:case a.ui.keyCode.END:case a.ui.keyCode.PAGE_UP:case a.ui.keyCode.PAGE_DOWN:case a.ui.keyCode.UP:case a.ui.keyCode.RIGHT:case a.ui.keyCode.DOWN:case a.ui.keyCode.LEFT:e=!1;if(!b._keySliding){b._keySliding=!0,a(this).addClass("ui-state-active"),g=b._start(d,f);if(g===!1)return}}j=b.options.step,b.options.values&&b.options.values.length?h=i=b.values(f):h=i=b.value();switch(d.keyCode){case a.ui.keyCode.HOME:i=b._valueMin();break;case a.ui.keyCode.END:i=b._valueMax();break;case a.ui.keyCode.PAGE_UP:i=b._trimAlignValue(h+(b._valueMax()-b._valueMin())/c);break;case a.ui.keyCode.PAGE_DOWN:i=b._trimAlignValue(h-(b._valueMax()-b._valueMin())/c);break;case a.ui.keyCode.UP:case a.ui.keyCode.RIGHT:if(h===b._valueMax())return;i=b._trimAlignValue(h+j);break;case a.ui.keyCode.DOWN:case a.ui.keyCode.LEFT:if(h===b._valueMin())return;i=b._trimAlignValue(h-j)}return b._slide(d,f,i),e}).keyup(function(c){var d=a(this).data("index.ui-slider-handle");b._keySliding&&(b._keySliding=!1,b._stop(c,d),b._change(c,d),a(this).removeClass("ui-state-active"))}),this._refreshValue(),this._animateOff=!1},destroy:function(){return this.handles.remove(),this.range.remove(),this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-slider-disabled ui-widget ui-widget-content ui-corner-all").removeData("slider").unbind(".slider"),this._mouseDestroy(),this},_mouseCapture:function(b){var c=this.options,d,e,f,g,h,i,j,k,l;return c.disabled?!1:(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),d={x:b.pageX,y:b.pageY},e=this._normValueFromMouse(d),f=this._valueMax()-this._valueMin()+1,h=this,this.handles.each(function(b){var c=Math.abs(e-h.values(b));f>c&&(f=c,g=a(this),i=b)}),c.range===!0&&this.values(1)===c.min&&(i+=1,g=a(this.handles[i])),j=this._start(b,i),j===!1?!1:(this._mouseSliding=!0,h._handleIndex=i,g.addClass("ui-state-active").focus(),k=g.offset(),l=!a(b.target).parents().andSelf().is(".ui-slider-handle"),this._clickOffset=l?{left:0,top:0}:{left:b.pageX-k.left-g.width()/2,top:b.pageY-k.top-g.height()/2-(parseInt(g.css("borderTopWidth"),10)||0)-(parseInt(g.css("borderBottomWidth"),10)||0)+(parseInt(g.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(b,i,e),this._animateOff=!0,!0))},_mouseStart:function(a){return!0},_mouseDrag:function(a){var b={x:a.pageX,y:a.pageY},c=this._normValueFromMouse(b);return this._slide(a,this._handleIndex,c),!1},_mouseStop:function(a){return this.handles.removeClass("ui-state-active"),this._mouseSliding=!1,this._stop(a,this._handleIndex),this._change(a,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation=this.options.orientation==="vertical"?"vertical":"horizontal"},_normValueFromMouse:function(a){var b,c,d,e,f;return this.orientation==="horizontal"?(b=this.elementSize.width,c=a.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(b=this.elementSize.height,c=a.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),d=c/b,d>1&&(d=1),d<0&&(d=0),this.orientation==="vertical"&&(d=1-d),e=this._valueMax()-this._valueMin(),f=this._valueMin()+d*e,this._trimAlignValue(f)},_start:function(a,b){var c={handle:this.handles[b],value:this.value()};return this.options.values&&this.options.values.length&&(c.value=this.values(b),c.values=this.values()),this._trigger("start",a,c)},_slide:function(a,b,c){var d,e,f;this.options.values&&this.options.values.length?(d=this.values(b?0:1),this.options.values.length===2&&this.options.range===!0&&(b===0&&c>d||b===1&&c<d)&&(c=d),c!==this.values(b)&&(e=this.values(),e[b]=c,f=this._trigger("slide",a,{handle:this.handles[b],value:c,values:e}),d=this.values(b?0:1),f!==!1&&this.values(b,c,!0))):c!==this.value()&&(f=this._trigger("slide",a,{handle:this.handles[b],value:c}),f!==!1&&this.value(c))},_stop:function(a,b){var c={handle:this.handles[b],value:this.value()};this.options.values&&this.options.values.length&&(c.value=this.values(b),c.values=this.values()),this._trigger("stop",a,c)},_change:function(a,b){if(!this._keySliding&&!this._mouseSliding){var c={handle:this.handles[b],value:this.value()};this.options.values&&this.options.values.length&&(c.value=this.values(b),c.values=this.values()),this._trigger("change",a,c)}},value:function(a){if(arguments.length){this.options.value=this._trimAlignValue(a),this._refreshValue(),this._change(null,0);return}return this._value()},values:function(b,c){var d,e,f;if(arguments.length>1){this.options.values[b]=this._trimAlignValue(c),this._refreshValue(),this._change(null,b);return}if(!arguments.length)return this._values();if(!a.isArray(arguments[0]))return this.options.values&&this.options.values.length?this._values(b):this.value();d=this.options.values,e=arguments[0];for(f=0;f<d.length;f+=1)d[f]=this._trimAlignValue(e[f]),this._change(null,f);this._refreshValue()},_setOption:function(b,c){var d,e=0;a.isArray(this.options.values)&&(e=this.options.values.length),a.Widget.prototype._setOption.apply(this,arguments);switch(b){case"disabled":c?(this.handles.filter(".ui-state-focus").blur(),this.handles.removeClass("ui-state-hover"),this.handles.propAttr("disabled",!0),this.element.addClass("ui-disabled")):(this.handles.propAttr("disabled",!1),this.element.removeClass("ui-disabled"));break;case"orientation":this._detectOrientation(),this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+this.orientation),this._refreshValue();break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":this._animateOff=!0,this._refreshValue();for(d=0;d<e;d+=1)this._change(null,d);this._animateOff=!1}},_value:function(){var a=this.options.value;return a=this._trimAlignValue(a),a},_values:function(a){var b,c,d;if(arguments.length)return b=this.options.values[a],b=this._trimAlignValue(b),b;c=this.options.values.slice();for(d=0;d<c.length;d+=1)c[d]=this._trimAlignValue(c[d]);return c},_trimAlignValue:function(a){if(a<=this._valueMin())return this._valueMin();if(a>=this._valueMax())return this._valueMax();var b=this.options.step>0?this.options.step:1,c=(a-this._valueMin())%b,d=a-c;return Math.abs(c)*2>=b&&(d+=c>0?b:-b),parseFloat(d.toFixed(5))},_valueMin:function(){return this.options.min},_valueMax:function(){return this.options.max},_refreshValue:function(){var b=this.options.range,c=this.options,d=this,e=this._animateOff?!1:c.animate,f,g={},h,i,j,k;this.options.values&&this.options.values.length?this.handles.each(function(b,i){f=(d.values(b)-d._valueMin())/(d._valueMax()-d._valueMin())*100,g[d.orientation==="horizontal"?"left":"bottom"]=f+"%",a(this).stop(1,1)[e?"animate":"css"](g,c.animate),d.options.range===!0&&(d.orientation==="horizontal"?(b===0&&d.range.stop(1,1)[e?"animate":"css"]({left:f+"%"},c.animate),b===1&&d.range[e?"animate":"css"]({width:f-h+"%"},{queue:!1,duration:c.animate})):(b===0&&d.range.stop(1,1)[e?"animate":"css"]({bottom:f+"%"},c.animate),b===1&&d.range[e?"animate":"css"]({height:f-h+"%"},{queue:!1,duration:c.animate}))),h=f}):(i=this.value(),j=this._valueMin(),k=this._valueMax(),f=k!==j?(i-j)/(k-j)*100:0,g[d.orientation==="horizontal"?"left":"bottom"]=f+"%",this.handle.stop(1,1)[e?"animate":"css"](g,c.animate),b==="min"&&this.orientation==="horizontal"&&this.range.stop(1,1)[e?"animate":"css"]({width:f+"%"},c.animate),b==="max"&&this.orientation==="horizontal"&&this.range[e?"animate":"css"]({width:100-f+"%"},{queue:!1,duration:c.animate}),b==="min"&&this.orientation==="vertical"&&this.range.stop(1,1)[e?"animate":"css"]({height:f+"%"},c.animate),b==="max"&&this.orientation==="vertical"&&this.range[e?"animate":"css"]({height:100-f+"%"},{queue:!1,duration:c.animate}))}}),a.extend(a.ui.slider,{version:"1.8.17"})}(jQuery),function(a,b){function e(){return++c}function f(){return++d}var c=0,d=0;a.widget("ui.tabs",{options:{add:null,ajaxOptions:null,cache:!1,cookie:null,collapsible:!1,disable:null,disabled:[],enable:null,event:"click",fx:null,idPrefix:"ui-tabs-",load:null,panelTemplate:"<div></div>",remove:null,select:null,show:null,spinner:"<em>Loading&#8230;</em>",tabTemplate:"<li><a href='#{href}'><span>#{label}</span></a></li>"},_create:function(){this._tabify(!0)},_setOption:function(a,b){if(a=="selected"){if(this.options.collapsible&&b==this.options.selected)return;this.select(b)}else this.options[a]=b,this._tabify()},_tabId:function(a){return a.title&&a.title.replace(/\s/g,"_").replace(/[^\w\u00c0-\uFFFF-]/g,"")||this.options.idPrefix+e()},_sanitizeSelector:function(a){return a.replace(/:/g,"\\:")},_cookie:function(){var b=this.cookie||(this.cookie=this.options.cookie.name||"ui-tabs-"+f());return a.cookie.apply(null,[b].concat(a.makeArray(arguments)))},_ui:function(a,b){return{tab:a,panel:b,index:this.anchors.index(a)}},_cleanup:function(){this.lis.filter(".ui-state-processing").removeClass("ui-state-processing").find("span:data(label.tabs)").each(function(){var b=a(this);b.html(b.data("label.tabs")).removeData("label.tabs")})},_tabify:function(c){function m(b,c){b.css("display",""),!a.support.opacity&&c.opacity&&b[0].style.removeAttribute("filter")}var d=this,e=this.options,f=/^#.+/;this.list=this.element.find("ol,ul").eq(0),this.lis=a(" > li:has(a[href])",this.list),this.anchors=this.lis.map(function(){return a("a",this)[0]}),this.panels=a([]),this.anchors.each(function(b,c){var g=a(c).attr("href"),h=g.split("#")[0],i;h&&(h===location.toString().split("#")[0]||(i=a("base")[0])&&h===i.href)&&(g=c.hash,c.href=g);if(f.test(g))d.panels=d.panels.add(d.element.find(d._sanitizeSelector(g)));else if(g&&g!=="#"){a.data(c,"href.tabs",g),a.data(c,"load.tabs",g.replace(/#.*$/,""));var j=d._tabId(c);c.href="#"+j;var k=d.element.find("#"+j);k.length||(k=a(e.panelTemplate).attr("id",j).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").insertAfter(d.panels[b-1]||d.list),k.data("destroy.tabs",!0)),d.panels=d.panels.add(k)}else e.disabled.push(b)}),c?(this.element.addClass("ui-tabs ui-widget ui-widget-content ui-corner-all"),this.list.addClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all"),this.lis.addClass("ui-state-default ui-corner-top"),this.panels.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom"),e.selected===b?(location.hash&&this.anchors.each(function(a,b){if(b.hash==location.hash)return e.selected=a,!1}),typeof e.selected!="number"&&e.cookie&&(e.selected=parseInt(d._cookie(),10)),typeof e.selected!="number"&&this.lis.filter(".ui-tabs-selected").length&&(e.selected=this.lis.index(this.lis.filter(".ui-tabs-selected"))),e.selected=e.selected||(this.lis.length?0:-1)):e.selected===null&&(e.selected=-1),e.selected=e.selected>=0&&this.anchors[e.selected]||e.selected<0?e.selected:0,e.disabled=a.unique(e.disabled.concat(a.map(this.lis.filter(".ui-state-disabled"),function(a,b){return d.lis.index(a)}))).sort(),a.inArray(e.selected,e.disabled)!=-1&&e.disabled.splice(a.inArray(e.selected,e.disabled),1),this.panels.addClass("ui-tabs-hide"),this.lis.removeClass("ui-tabs-selected ui-state-active"),e.selected>=0&&this.anchors.length&&(d.element.find(d._sanitizeSelector(d.anchors[e.selected].hash)).removeClass("ui-tabs-hide"),this.lis.eq(e.selected).addClass("ui-tabs-selected ui-state-active"),d.element.queue("tabs",function(){d._trigger("show",null,d._ui(d.anchors[e.selected],d.element.find(d._sanitizeSelector(d.anchors[e.selected].hash))[0]))}),this.load(e.selected)),a(window).bind("unload",function(){d.lis.add(d.anchors).unbind(".tabs"),d.lis=d.anchors=d.panels=null})):e.selected=this.lis.index(this.lis.filter(".ui-tabs-selected")),this.element[e.collapsible?"addClass":"removeClass"]("ui-tabs-collapsible"),e.cookie&&this._cookie(e.selected,e.cookie);for(var g=0,h;h=this.lis[g];g++)a(h)[a.inArray(g,e.disabled)!=-1&&!a(h).hasClass("ui-tabs-selected")?"addClass":"removeClass"]("ui-state-disabled");e.cache===!1&&this.anchors.removeData("cache.tabs"),this.lis.add(this.anchors).unbind(".tabs");if(e.event!=="mouseover"){var i=function(a,b){b.is(":not(.ui-state-disabled)")&&b.addClass("ui-state-"+a)},j=function(a,b){b.removeClass("ui-state-"+a)};this.lis.bind("mouseover.tabs",function(){i("hover",a(this))}),this.lis.bind("mouseout.tabs",function(){j("hover",a(this))}),this.anchors.bind("focus.tabs",function(){i("focus",a(this).closest("li"))}),this.anchors.bind("blur.tabs",function(){j("focus",a(this).closest("li"))})}var k,l;e.fx&&(a.isArray(e.fx)?(k=e.fx[0],l=e.fx[1]):k=l=e.fx);var n=l?function(b,c){a(b).closest("li").addClass("ui-tabs-selected ui-state-active"),c.hide().removeClass("ui-tabs-hide").animate(l,l.duration||"normal",function(){m(c,l),d._trigger("show",null,d._ui(b,c[0]))})}:function(b,c){a(b).closest("li").addClass("ui-tabs-selected ui-state-active"),c.removeClass("ui-tabs-hide"),d._trigger("show",null,d._ui(b,c[0]))},o=k?function(a,b){b.animate(k,k.duration||"normal",function(){d.lis.removeClass("ui-tabs-selected ui-state-active"),b.addClass("ui-tabs-hide"),m(b,k),d.element.dequeue("tabs")})}:function(a,b,c){d.lis.removeClass("ui-tabs-selected ui-state-active"),b.addClass("ui-tabs-hide"),d.element.dequeue("tabs")};this.anchors.bind(e.event+".tabs",function(){var b=this,c=a(b).closest("li"),f=d.panels.filter(":not(.ui-tabs-hide)"),g=d.element.find(d._sanitizeSelector(b.hash));if(c.hasClass("ui-tabs-selected")&&!e.collapsible||c.hasClass("ui-state-disabled")||c.hasClass("ui-state-processing")||d.panels.filter(":animated").length||d._trigger("select",null,d._ui(this,g[0]))===!1)return this.blur(),!1;e.selected=d.anchors.index(this),d.abort();if(e.collapsible){if(c.hasClass("ui-tabs-selected"))return e.selected=-1,e.cookie&&d._cookie(e.selected,e.cookie),d.element.queue("tabs",function(){o(b,f)}).dequeue("tabs"),this.blur(),!1;if(!f.length)return e.cookie&&d._cookie(e.selected,e.cookie),d.element.queue("tabs",function(){n(b,g)}),d.load(d.anchors.index(this)),this.blur(),!1}e.cookie&&d._cookie(e.selected,e.cookie);if(g.length)f.length&&d.element.queue("tabs",function(){o(b,f)}),d.element.queue("tabs",function(){n(b,g)}),d.load(d.anchors.index(this));else throw"jQuery UI Tabs: Mismatching fragment identifier.";a.browser.msie&&this.blur()}),this.anchors.bind("click.tabs",function(){return!1})},_getIndex:function(a){return typeof a=="string"&&(a=this.anchors.index(this.anchors.filter("[href$="+a+"]"))),a},destroy:function(){var b=this.options;return this.abort(),this.element.unbind(".tabs").removeClass("ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-collapsible").removeData("tabs"),this.list.removeClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all"),this.anchors.each(function(){var b=a.data(this,"href.tabs");b&&(this.href=b);var c=a(this).unbind(".tabs");a.each(["href","load","cache"],function(a,b){c.removeData(b+".tabs")})}),this.lis.unbind(".tabs").add(this.panels).each(function(){a.data(this,"destroy.tabs")?a(this).remove():a(this).removeClass(["ui-state-default","ui-corner-top","ui-tabs-selected","ui-state-active","ui-state-hover","ui-state-focus","ui-state-disabled","ui-tabs-panel","ui-widget-content","ui-corner-bottom","ui-tabs-hide"].join(" "))}),b.cookie&&this._cookie(null,b.cookie),this},add:function(c,d,e){e===b&&(e=this.anchors.length);var f=this,g=this.options,h=a(g.tabTemplate.replace(/#\{href\}/g,c).replace(/#\{label\}/g,d)),i=c.indexOf("#")?this._tabId(a("a",h)[0]):c.replace("#","");h.addClass("ui-state-default ui-corner-top").data("destroy.tabs",!0);var j=f.element.find("#"+i);return j.length||(j=a(g.panelTemplate).attr("id",i).data("destroy.tabs",!0)),j.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom ui-tabs-hide"),e>=this.lis.length?(h.appendTo(this.list),j.appendTo(this.list[0].parentNode)):(h.insertBefore(this.lis[e]),j.insertBefore(this.panels[e])),g.disabled=a.map(g.disabled,function(a,b){return a>=e?++a:a}),this._tabify(),this.anchors.length==1&&(g.selected=0,h.addClass("ui-tabs-selected ui-state-active"),j.removeClass("ui-tabs-hide"),this.element.queue("tabs",function(){f._trigger("show",null,f._ui(f.anchors[0],f.panels[0]))}),this.load(0)),this._trigger("add",null,this._ui(this.anchors[e],this.panels[e])),this},remove:function(b){b=this._getIndex(b);var c=this.options,d=this.lis.eq(b).remove(),e=this.panels.eq(b).remove();return d.hasClass("ui-tabs-selected")&&this.anchors.length>1&&this.select(b+(b+1<this.anchors.length?1:-1)),c.disabled=a.map(a.grep(c.disabled,function(a,c){return a!=b}),function(a,c){return a>=b?--a:a}),this._tabify(),this._trigger("remove",null,this._ui(d.find("a")[0],e[0])),this},enable:function(b){b=this._getIndex(b);var c=this.options;if(a.inArray(b,c.disabled)==-1)return;return this.lis.eq(b).removeClass("ui-state-disabled"),c.disabled=a.grep(c.disabled,function(a,c){return a!=b}),this._trigger("enable",null,this._ui(this.anchors[b],this.panels[b])),this},disable:function(a){a=this._getIndex(a);var b=this,c=this.options;return a!=c.selected&&(this.lis.eq(a).addClass("ui-state-disabled"),c.disabled.push(a),c.disabled.sort(),this._trigger("disable",null,this._ui(this.anchors[a],this.panels[a]))),this},select:function(a){a=this._getIndex(a);if(a==-1)if(this.options.collapsible&&this.options.selected!=-1)a=this.options.selected;else return this;return this.anchors.eq(a).trigger(this.options.event+".tabs"),this},load:function(b){b=this._getIndex(b);var c=this,d=this.options,e=this.anchors.eq(b)[0],f=a.data(e,"load.tabs");this.abort();if(!f||this.element.queue("tabs").length!==0&&a.data(e,"cache.tabs")){this.element.dequeue("tabs");return}this.lis.eq(b).addClass("ui-state-processing");if(d.spinner){var g=a("span",e);g.data("label.tabs",g.html()).html(d.spinner)}return this.xhr=a.ajax(a.extend({},d.ajaxOptions,{url:f,success:function(f,g){c.element.find(c._sanitizeSelector(e.hash)).html(f),c._cleanup(),d.cache&&a.data(e,"cache.tabs",!0),c._trigger("load",null,c._ui(c.anchors[b],c.panels[b]));try{d.ajaxOptions.success(f,g)}catch(h){}},error:function(a,f,g){c._cleanup(),c._trigger("load",null,c._ui(c.anchors[b],c.panels[b]));try{d.ajaxOptions.error(a,f,b,e)}catch(g){}}})),c.element.dequeue("tabs"),this},abort:function(){return this.element.queue([]),this.panels.stop(!1,!0),this.element.queue("tabs",this.element.queue("tabs").splice(-2,2)),this.xhr&&(this.xhr.abort(),delete this.xhr),this._cleanup(),this},url:function(a,b){return this.anchors.eq(a).removeData("cache.tabs").data("load.tabs",b),this},length:function(){return this.anchors.length}}),a.extend(a.ui.tabs,{version:"1.8.17"}),a.extend(a.ui.tabs.prototype,{rotation:null,rotate:function(a,b){var c=this,d=this.options,e=c._rotate||(c._rotate=function(b){clearTimeout(c.rotation),c.rotation=setTimeout(function(){var a=d.selected;c.select(++a<c.anchors.length?a:0)},a),b&&b.stopPropagation()}),f=c._unrotate||(c._unrotate=b?function(a){t=d.selected,e()}:function(a){a.clientX&&c.rotate(null)});return a?(this.element.bind("tabsshow",e),this.anchors.bind(d.event+".tabs",f),e()):(clearTimeout(c.rotation),this.element.unbind("tabsshow",e),this.anchors.unbind(d.event+".tabs",f),delete this._rotate,delete this._unrotate),this}})}(jQuery)
;(function(a){a.extend(a.fn,{validate:function(b){if(!this.length){b&&b.debug&&window.console&&console.warn("nothing selected, can't validate, returning nothing");return}var c=a.data(this[0],"validator");if(c)return c;this.attr("novalidate","novalidate"),c=new a.validator(b,this[0]),a.data(this[0],"validator",c);if(c.settings.onsubmit){var d=this.find("input, button");d.filter(".cancel").click(function(){c.cancelSubmit=!0}),c.settings.submitHandler&&d.filter(":submit").click(function(){c.submitButton=this}),this.submit(function(b){function d(){if(c.settings.submitHandler){if(c.submitButton)var b=a("<input type='hidden'/>").attr("name",c.submitButton.name).val(c.submitButton.value).appendTo(c.currentForm);return c.settings.submitHandler.call(c,c.currentForm),c.submitButton&&b.remove(),!1}return!0}return c.settings.debug&&b.preventDefault(),c.cancelSubmit?(c.cancelSubmit=!1,d()):c.form()?c.pendingRequest?(c.formSubmitted=!0,!1):d():(c.focusInvalid(),!1)})}return c},valid:function(){if(a(this[0]).is("form"))return this.validate().form();var b=!0,c=a(this[0].form).validate();return this.each(function(){b&=c.element(this)}),b},removeAttrs:function(b){var c={},d=this;return a.each(b.split(/\s/),function(a,b){c[b]=d.attr(b),d.removeAttr(b)}),c},rules:function(b,c){var d=this[0];if(b){var e=a.data(d.form,"validator").settings,f=e.rules,g=a.validator.staticRules(d);switch(b){case"add":a.extend(g,a.validator.normalizeRule(c)),f[d.name]=g,c.messages&&(e.messages[d.name]=a.extend(e.messages[d.name],c.messages));break;case"remove":if(!c)return delete f[d.name],g;var h={};return a.each(c.split(/\s/),function(a,b){h[b]=g[b],delete g[b]}),h}}var i=a.validator.normalizeRules(a.extend({},a.validator.metadataRules(d),a.validator.classRules(d),a.validator.attributeRules(d),a.validator.staticRules(d)),d);if(i.required){var j=i.required;delete i.required,i=a.extend({required:j},i)}return i}}),a.extend(a.expr[":"],{blank:function(b){return!a.trim(""+b.value)},filled:function(b){return!!a.trim(""+b.value)},unchecked:function(a){return!a.checked}}),a.validator=function(b,c){this.settings=a.extend(!0,{},a.validator.defaults,b),this.currentForm=c,this.init()},a.validator.format=function(b,c){return arguments.length==1?function(){var c=a.makeArray(arguments);return c.unshift(b),a.validator.format.apply(this,c)}:(arguments.length>2&&c.constructor!=Array&&(c=a.makeArray(arguments).slice(1)),c.constructor!=Array&&(c=[c]),a.each(c,function(a,c){b=b.replace(new RegExp("\\{"+a+"\\}","g"),c)}),b)},a.extend(a.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"error",validClass:"valid",errorElement:"label",focusInvalid:!0,errorContainer:a([]),errorLabelContainer:a([]),onsubmit:!0,ignore:":hidden",ignoreTitle:!1,onfocusin:function(a,b){this.lastActive=a,this.settings.focusCleanup&&!this.blockFocusCleanup&&(this.settings.unhighlight&&this.settings.unhighlight.call(this,a,this.settings.errorClass,this.settings.validClass),this.addWrapper(this.errorsFor(a)).hide())},onfocusout:function(a,b){!this.checkable(a)&&(a.name in this.submitted||!this.optional(a))&&this.element(a)},onkeyup:function(a,b){(a.name in this.submitted||a==this.lastElement)&&this.element(a)},onclick:function(a,b){a.name in this.submitted?this.element(a):a.parentNode.name in this.submitted&&this.element(a.parentNode)},highlight:function(b,c,d){b.type==="radio"?this.findByName(b.name).addClass(c).removeClass(d):a(b).addClass(c).removeClass(d)},unhighlight:function(b,c,d){b.type==="radio"?this.findByName(b.name).removeClass(c).addClass(d):a(b).removeClass(c).addClass(d)}},setDefaults:function(b){a.extend(a.validator.defaults,b)},messages:{required:"This field is required.",remote:"Please fix this field.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",dateISO:"Please enter a valid date (ISO).",number:"Please enter a valid number.",digits:"Please enter only digits.",creditcard:"Please enter a valid credit card number.",equalTo:"Please enter the same value again.",accept:"Please enter a value with a valid extension.",maxlength:a.validator.format("Please enter no more than {0} characters."),minlength:a.validator.format("Please enter at least {0} characters."),rangelength:a.validator.format("Please enter a value between {0} and {1} characters long."),range:a.validator.format("Please enter a value between {0} and {1}."),max:a.validator.format("Please enter a value less than or equal to {0}."),min:a.validator.format("Please enter a value greater than or equal to {0}.")},autoCreateRanges:!1,prototype:{init:function(){function d(b){var c=a.data(this[0].form,"validator"),d="on"+b.type.replace(/^validate/,"");c.settings[d]&&c.settings[d].call(c,this[0],b)}this.labelContainer=a(this.settings.errorLabelContainer),this.errorContext=this.labelContainer.length&&this.labelContainer||a(this.currentForm),this.containers=a(this.settings.errorContainer).add(this.settings.errorLabelContainer),this.submitted={},this.valueCache={},this.pendingRequest=0,this.pending={},this.invalid={},this.reset();var b=this.groups={};a.each(this.settings.groups,function(c,d){a.each(d.split(/\s/),function(a,d){b[d]=c})});var c=this.settings.rules;a.each(c,function(b,d){c[b]=a.validator.normalizeRule(d)}),a(this.currentForm).validateDelegate("[type='text'], [type='password'], [type='file'], select, textarea, [type='number'], [type='search'] ,[type='tel'], [type='url'], [type='email'], [type='datetime'], [type='date'], [type='month'], [type='week'], [type='time'], [type='datetime-local'], [type='range'], [type='color'] ","focusin focusout keyup",d).validateDelegate("[type='radio'], [type='checkbox'], select, option","click",d),this.settings.invalidHandler&&a(this.currentForm).bind("invalid-form.validate",this.settings.invalidHandler)},form:function(){return this.checkForm(),a.extend(this.submitted,this.errorMap),this.invalid=a.extend({},this.errorMap),this.valid()||a(this.currentForm).triggerHandler("invalid-form",[this]),this.showErrors(),this.valid()},checkForm:function(){this.prepareForm();for(var a=0,b=this.currentElements=this.elements();b[a];a++)this.check(b[a]);return this.valid()},element:function(b){b=this.validationTargetFor(this.clean(b)),this.lastElement=b,this.prepareElement(b),this.currentElements=a(b);var c=this.check(b);return c?delete this.invalid[b.name]:this.invalid[b.name]=!0,this.numberOfInvalids()||(this.toHide=this.toHide.add(this.containers)),this.showErrors(),c},showErrors:function(b){if(b){a.extend(this.errorMap,b),this.errorList=[];for(var c in b)this.errorList.push({message:b[c],element:this.findByName(c)[0]});this.successList=a.grep(this.successList,function(a){return!(a.name in b)})}this.settings.showErrors?this.settings.showErrors.call(this,this.errorMap,this.errorList):this.defaultShowErrors()},resetForm:function(){a.fn.resetForm&&a(this.currentForm).resetForm(),this.submitted={},this.lastElement=null,this.prepareForm(),this.hideErrors(),this.elements().removeClass(this.settings.errorClass)},numberOfInvalids:function(){return this.objectLength(this.invalid)},objectLength:function(a){var b=0;for(var c in a)b++;return b},hideErrors:function(){this.addWrapper(this.toHide).hide()},valid:function(){return this.size()==0},size:function(){return this.errorList.length},focusInvalid:function(){if(this.settings.focusInvalid)try{a(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").focus().trigger("focusin")}catch(b){}},findLastActive:function(){var b=this.lastActive;return b&&a.grep(this.errorList,function(a){return a.element.name==b.name}).length==1&&b},elements:function(){var b=this,c={};return a(this.currentForm).find("input, select, textarea").not(":submit, :reset, :image, [disabled]").not(this.settings.ignore).filter(function(){return!this.name&&b.settings.debug&&window.console&&console.error("%o has no name assigned",this),this.name in c||!b.objectLength(a(this).rules())?!1:(c[this.name]=!0,!0)})},clean:function(b){return a(b)[0]},errors:function(){return a(this.settings.errorElement+"."+this.settings.errorClass,this.errorContext)},reset:function(){this.successList=[],this.errorList=[],this.errorMap={},this.toShow=a([]),this.toHide=a([]),this.currentElements=a([])},prepareForm:function(){this.reset(),this.toHide=this.errors().add(this.containers)},prepareElement:function(a){this.reset(),this.toHide=this.errorsFor(a)},check:function(b){b=this.validationTargetFor(this.clean(b));var c=a(b).rules(),d=!1;for(var e in c){var f={method:e,parameters:c[e]};try{var g=a.validator.methods[e].call(this,b.value.replace(/\r/g,""),b,f.parameters);if(g=="dependency-mismatch"){d=!0;continue}d=!1;if(g=="pending"){this.toHide=this.toHide.not(this.errorsFor(b));return}if(!g)return this.formatAndAdd(b,f),!1}catch(h){throw this.settings.debug&&window.console&&console.log("exception occured when checking element "+b.id+", check the '"+f.method+"' method",h),h}}if(d)return;return this.objectLength(c)&&this.successList.push(b),!0},customMetaMessage:function(b,c){if(!a.metadata)return;var d=this.settings.meta?a(b).metadata()[this.settings.meta]:a(b).metadata();return d&&d.messages&&d.messages[c]},customMessage:function(a,b){var c=this.settings.messages[a];return c&&(c.constructor==String?c:c[b])},findDefined:function(){for(var a=0;a<arguments.length;a++)if(arguments[a]!==undefined)return arguments[a];return undefined},defaultMessage:function(b,c){return this.findDefined(this.customMessage(b.name,c),this.customMetaMessage(b,c),!this.settings.ignoreTitle&&b.title||undefined,a.validator.messages[c],"<strong>Warning: No message defined for "+b.name+"</strong>")},formatAndAdd:function(a,b){var c=this.defaultMessage(a,b.method),d=/\$?\{(\d+)\}/g;typeof c=="function"?c=c.call(this,b.parameters,a):d.test(c)&&(c=jQuery.format(c.replace(d,"{$1}"),b.parameters)),this.errorList.push({message:c,element:a}),this.errorMap[a.name]=c,this.submitted[a.name]=c},addWrapper:function(a){return this.settings.wrapper&&(a=a.add(a.parent(this.settings.wrapper))),a},defaultShowErrors:function(){for(var a=0;this.errorList[a];a++){var b=this.errorList[a];this.settings.highlight&&this.settings.highlight.call(this,b.element,this.settings.errorClass,this.settings.validClass),this.showLabel(b.element,b.message)}this.errorList.length&&(this.toShow=this.toShow.add(this.containers));if(this.settings.success)for(var a=0;this.successList[a];a++)this.showLabel(this.successList[a]);if(this.settings.unhighlight)for(var a=0,c=this.validElements();c[a];a++)this.settings.unhighlight.call(this,c[a],this.settings.errorClass,this.settings.validClass);this.toHide=this.toHide.not(this.toShow),this.hideErrors(),this.addWrapper(this.toShow).show()},validElements:function(){return this.currentElements.not(this.invalidElements())},invalidElements:function(){return a(this.errorList).map(function(){return this.element})},showLabel:function(b,c){var d=this.errorsFor(b);d.length?(d.removeClass(this.settings.validClass).addClass(this.settings.errorClass),d.attr("generated")&&d.html(c)):(d=a("<"+this.settings.errorElement+"/>").attr({"for":this.idOrName(b),generated:!0}).addClass(this.settings.errorClass).html(c||""),this.settings.wrapper&&(d=d.hide().show().wrap("<"+this.settings.wrapper+"/>").parent()),this.labelContainer.append(d).length||(this.settings.errorPlacement?this.settings.errorPlacement(d,a(b)):d.insertAfter(b))),!c&&this.settings.success&&(d.text(""),typeof this.settings.success=="string"?d.addClass(this.settings.success):this.settings.success(d)),this.toShow=this.toShow.add(d)},errorsFor:function(b){var c=this.idOrName(b);return this.errors().filter(function(){return a(this).attr("for")==c})},idOrName:function(a){return this.groups[a.name]||(this.checkable(a)?a.name:a.id||a.name)},validationTargetFor:function(a){return this.checkable(a)&&(a=this.findByName(a.name).not(this.settings.ignore)[0]),a},checkable:function(a){return/radio|checkbox/i.test(a.type)},findByName:function(b){var c=this.currentForm;return a(document.getElementsByName(b)).map(function(a,d){return d.form==c&&d.name==b&&d||null})},getLength:function(b,c){switch(c.nodeName.toLowerCase()){case"select":return a("option:selected",c).length;case"input":if(this.checkable(c))return this.findByName(c.name).filter(":checked").length}return b.length},depend:function(a,b){return this.dependTypes[typeof a]?this.dependTypes[typeof a](a,b):!0},dependTypes:{"boolean":function(a,b){return a},string:function(b,c){return!!a(b,c.form).length},"function":function(a,b){return a(b)}},optional:function(b){return!a.validator.methods.required.call(this,a.trim(b.value),b)&&"dependency-mismatch"},startRequest:function(a){this.pending[a.name]||(this.pendingRequest++,this.pending[a.name]=!0)},stopRequest:function(b,c){this.pendingRequest--,this.pendingRequest<0&&(this.pendingRequest=0),delete this.pending[b.name],c&&this.pendingRequest==0&&this.formSubmitted&&this.form()?(a(this.currentForm).submit(),this.formSubmitted=!1):!c&&this.pendingRequest==0&&this.formSubmitted&&(a(this.currentForm).triggerHandler("invalid-form",[this]),this.formSubmitted=!1)},previousValue:function(b){return a.data(b,"previousValue")||a.data(b,"previousValue",{old:null,valid:!0,message:this.defaultMessage(b,"remote")})}},classRuleSettings:{required:{required:!0},email:{email:!0},url:{url:!0},date:{date:!0},dateISO:{dateISO:!0},dateDE:{dateDE:!0},number:{number:!0},numberDE:{numberDE:!0},digits:{digits:!0},creditcard:{creditcard:!0}},addClassRules:function(b,c){b.constructor==String?this.classRuleSettings[b]=c:a.extend(this.classRuleSettings,b)},classRules:function(b){var c={},d=a(b).attr("class");return d&&a.each(d.split(" "),function(){this in a.validator.classRuleSettings&&a.extend(c,a.validator.classRuleSettings[this])}),c},attributeRules:function(b){var c={},d=a(b);for(var e in a.validator.methods){var f;e==="required"&&typeof a.fn.prop=="function"?f=d.prop(e):f=d.attr(e),f?c[e]=f:d[0].getAttribute("type")===e&&(c[e]=!0)}return c.maxlength&&/-1|2147483647|524288/.test(c.maxlength)&&delete c.maxlength,c},metadataRules:function(b){if(!a.metadata)return{};var c=a.data(b.form,"validator").settings.meta;return c?a(b).metadata()[c]:a(b).metadata()},staticRules:function(b){var c={},d=a.data(b.form,"validator");return d.settings.rules&&(c=a.validator.normalizeRule(d.settings.rules[b.name])||{}),c},normalizeRules:function(b,c){return a.each(b,function(d,e){if(e===!1){delete b[d];return}if(e.param||e.depends){var f=!0;switch(typeof e.depends){case"string":f=!!a(e.depends,c.form).length;break;case"function":f=e.depends.call(c,c)}f?b[d]=e.param!==undefined?e.param:!0:delete b[d]}}),a.each(b,function(d,e){b[d]=a.isFunction(e)?e(c):e}),a.each(["minlength","maxlength","min","max"],function(){b[this]&&(b[this]=Number(b[this]))}),a.each(["rangelength","range"],function(){b[this]&&(b[this]=[Number(b[this][0]),Number(b[this][1])])}),a.validator.autoCreateRanges&&(b.min&&b.max&&(b.range=[b.min,b.max],delete b.min,delete b.max),b.minlength&&b.maxlength&&(b.rangelength=[b.minlength,b.maxlength],delete b.minlength,delete b.maxlength)),b.messages&&delete b.messages,b},normalizeRule:function(b){if(typeof b=="string"){var c={};a.each(b.split(/\s/),function(){c[this]=!0}),b=c}return b},addMethod:function(b,c,d){a.validator.methods[b]=c,a.validator.messages[b]=d!=undefined?d:a.validator.messages[b],c.length<3&&a.validator.addClassRules(b,a.validator.normalizeRule(b))},methods:{required:function(b,c,d){if(!this.depend(d,c))return"dependency-mismatch";switch(c.nodeName.toLowerCase()){case"select":var e=a(c).val();return e&&e.length>0;case"input":if(this.checkable(c))return this.getLength(b,c)>0;default:return a.trim(b).length>0}},remote:function(b,c,d){if(this.optional(c))return"dependency-mismatch";var e=this.previousValue(c);this.settings.messages[c.name]||(this.settings.messages[c.name]={}),e.originalMessage=this.settings.messages[c.name].remote,this.settings.messages[c.name].remote=e.message,d=typeof d=="string"&&{url:d}||d;if(this.pending[c.name])return"pending";if(e.old===b)return e.valid;e.old=b;var f=this;this.startRequest(c);var g={};return g[c.name]=b,a.ajax(a.extend(!0,{url:d,mode:"abort",port:"validate"+c.name,dataType:"json",data:g,success:function(d){f.settings.messages[c.name].remote=e.originalMessage;var g=d===!0;if(g){var h=f.formSubmitted;f.prepareElement(c),f.formSubmitted=h,f.successList.push(c),f.showErrors()}else{var i={},j=d||f.defaultMessage(c,"remote");i[c.name]=e.message=a.isFunction(j)?j(b):j,f.showErrors(i)}e.valid=g,f.stopRequest(c,g)}},d)),"pending"},minlength:function(b,c,d){return this.optional(c)||this.getLength(a.trim(b),c)>=d},maxlength:function(b,c,d){return this.optional(c)||this.getLength(a.trim(b),c)<=d},rangelength:function(b,c,d){var e=this.getLength(a.trim(b),c);return this.optional(c)||e>=d[0]&&e<=d[1]},min:function(a,b,c){return this.optional(b)||a>=c},max:function(a,b,c){return this.optional(b)||a<=c},range:function(a,b,c){return this.optional(b)||a>=c[0]&&a<=c[1]},email:function(a,b){return this.optional(b)||/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i.test(a)},url:function(a,b){return this.optional(b)||/^(https?|ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(a)},date:function(a,b){return this.optional(b)||!/Invalid|NaN/.test(new Date(a))},dateISO:function(a,b){return this.optional(b)||/^\d{4}[\/-]\d{1,2}[\/-]\d{1,2}$/.test(a)},number:function(a,b){return this.optional(b)||/^-?(?:\d+|\d{1,3}(?:,\d{3})+)(?:\.\d+)?$/.test(a)},digits:function(a,b){return this.optional(b)||/^\d+$/.test(a)},creditcard:function(a,b){if(this.optional(b))return"dependency-mismatch";if(/[^0-9 -]+/.test(a))return!1;var c=0,d=0,e=!1;a=a.replace(/\D/g,"");for(var f=a.length-1;f>=0;f--){var g=a.charAt(f),d=parseInt(g,10);e&&(d*=2)>9&&(d-=9),c+=d,e=!e}return c%10==0},accept:function(a,b,c){return c=typeof c=="string"?c.replace(/,/g,"|"):"png|jpe?g|gif",this.optional(b)||a.match(new RegExp(".("+c+")$","i"))},equalTo:function(b,c,d){var e=a(d).unbind(".validate-equalTo").bind("blur.validate-equalTo",function(){a(c).valid()});return b==e.val()}}}),a.format=a.validator.format})(jQuery),function(a){var b={};if(a.ajaxPrefilter)a.ajaxPrefilter(function(a,c,d){var e=a.port;a.mode=="abort"&&(b[e]&&b[e].abort(),b[e]=d)});else{var c=a.ajax;a.ajax=function(d){var e=("mode"in d?d:a.ajaxSettings).mode,f=("port"in d?d:a.ajaxSettings).port;return e=="abort"?(b[f]&&b[f].abort(),b[f]=c.apply(this,arguments)):c.apply(this,arguments)}}}(jQuery),function(a){!jQuery.event.special.focusin&&!jQuery.event.special.focusout&&document.addEventListener&&a.each({focus:"focusin",blur:"focusout"},function(b,c){function d(b){return b=a.event.fix(b),b.type=c,a.event.handle.call(this,b)}a.event.special[c]={setup:function(){this.addEventListener(b,d,!0)},teardown:function(){this.removeEventListener(b,d,!0)},handler:function(b){return arguments[0]=a.event.fix(b),arguments[0].type=c,a.event.handle.apply(this,arguments)}}}),a.extend(a.fn,{validateDelegate:function(b,c,d){return this.bind(c,function(c){var e=a(c.target);if(e.is(b))return d.apply(e,arguments)})}})}(jQuery)
;(function(a){function e(a,b,c){a.rules[b]=c,a.message&&(a.messages[b]=a.message)}function f(a){return a.replace(/^\s+|\s+$/g,"").split(/\s*,\s*/g)}function g(a){return a.substr(0,a.lastIndexOf(".")+1)}function h(a,b){return a.indexOf("*.")===0&&(a=a.replace("*.",b)),a}function i(b,c){var d=a(this).find("[data-valmsg-for='"+c[0].name+"']"),e=a.parseJSON(d.attr("data-valmsg-replace"))!==!1;d.removeClass("field-validation-valid").addClass("field-validation-error"),b.data("unobtrusiveContainer",d),e?(d.empty(),b.removeClass("input-validation-error").appendTo(d)):b.hide()}function j(b,c){var d=a(this).find("[data-valmsg-summary=true]"),e=d.find("ul");e&&e.length&&c.errorList.length&&(e.empty(),d.addClass("validation-summary-errors").removeClass("validation-summary-valid"),a.each(c.errorList,function(){a("<li />").html(this.message).appendTo(e)}))}function k(b){var c=b.data("unobtrusiveContainer"),d=a.parseJSON(c.attr("data-valmsg-replace"));c&&(c.addClass("field-validation-valid").removeClass("field-validation-error"),b.removeData("unobtrusiveContainer"),d&&c.empty())}function l(b){var c=a(b),e=c.data(d);return e||(e={options:{errorClass:"input-validation-error",errorElement:"span",errorPlacement:a.proxy(i,b),invalidHandler:a.proxy(j,b),messages:{},rules:{},success:a.proxy(k,b)},attachValidation:function(){c.validate(this.options)},validate:function(){return c.validate(),c.valid()}},c.data(d,e)),e}var b=a.validator,c,d="unobtrusiveValidation";b.unobtrusive={adapters:[],parseElement:function(b,c){var d=a(b),e=d.parents("form")[0],f,g,h;if(!e)return;f=l(e),f.options.rules[b.name]=g={},f.options.messages[b.name]=h={},a.each(this.adapters,function(){var c="data-val-"+this.name,f=d.attr(c),i={};f!==undefined&&(c+="-",a.each(this.params,function(){i[this]=d.attr(c+this)}),this.adapt({element:b,form:e,message:f,params:i,rules:g,messages:h}))}),jQuery.extend(g,{__dummy__:!0}),c||f.attachValidation()},parse:function(c){a(c).find(":input[data-val=true]").each(function(){b.unobtrusive.parseElement(this,!0)}),a("form").each(function(){var a=l(this);a&&a.attachValidation()})}},c=b.unobtrusive.adapters,c.add=function(a,b,c){return c||(c=b,b=[]),this.push({name:a,params:b,adapt:c}),this},c.addBool=function(a,b){return this.add(a,function(c){e(c,b||a,!0)})},c.addMinMax=function(a,b,c,d,f,g){return this.add(a,[f||"min",g||"max"],function(a){var f=a.params.min,g=a.params.max;f&&g?e(a,d,[f,g]):f?e(a,b,f):g&&e(a,c,g)})},c.addSingleVal=function(a,b,c){return this.add(a,[b||"val"],function(d){e(d,c||a,d.params[b])})},b.addMethod("__dummy__",function(a,b,c){return!0}),b.addMethod("regex",function(a,b,c){var d;return this.optional(b)?!0:(d=(new RegExp(c)).exec(a),d&&d.index===0&&d[0].length===a.length)}),c.addSingleVal("accept","exts").addSingleVal("regex","pattern"),c.addBool("creditcard").addBool("date").addBool("digits").addBool("email").addBool("number").addBool("url"),c.addMinMax("length","minlength","maxlength","rangelength").addMinMax("range","min","max","range"),c.add("equalto",["other"],function(b){var c=g(b.element.name),d=b.params.other,f=h(d,c),i=a(b.form).find(":input[name="+f+"]")[0];e(b,"equalTo",i)}),c.add("required",function(a){(a.element.tagName.toUpperCase()!=="INPUT"||a.element.type.toUpperCase()!=="CHECKBOX")&&e(a,"required",!0)}),c.add("remote",["url","type","additionalfields"],function(b){var c={url:b.params.url,type:b.params.type||"GET",data:{}},d=g(b.element.name);a.each(f(b.params.additionalfields||b.element.name),function(e,f){var g=h(f,d);c.data[g]=function(){return a(b.form).find(":input[name='"+g+"']").val()}}),e(b,"remote",c)}),a(function(){b.unobtrusive.parse(document)})})(jQuery)
;(function(){function a(a){throw a}function e(a){return function(){return a}}function k(k){function m(a,b,d,e,f){var g=[],a=O.j(function(){var a=b(d,f)||[];0<g.length&&(O.a.Xa(o(g),a),e&&O.r.K(e,c,[d,a,f])),g.splice(0,g.length),O.a.P(g,a)},c,{W:a,Ja:function(){return 0==g.length||!O.a.X(g[0])}});return{M:g,j:a.oa()?a:j}}function o(a){for(;a.length&&!O.a.X(a[0]);)a.splice(0,1);if(1<a.length){for(var b=a[0],c=a[a.length-1],d=[b];b!==c;){b=b.nextSibling;if(!b)return;d.push(b)}Array.prototype.splice.apply(a,[0,a.length].concat(d))}return a}function p(a,b,c,d,e){var f=Math.min,g=Math.max,h=[],i,j=a.length,k,l=b.length,m=l-j||1,n=j+l+1,o,p,q;for(i=0;i<=j;i++){p=o,h.push(o=[]),q=f(l,i+m);for(k=g(0,i-1);k<=q;k++)o[k]=k?i?a[i-1]===b[k-1]?p[k-1]:f(p[k]||n,o[k-1]||n)+1:k+1:i+1}f=[],g=[],m=[],i=j;for(k=l;i||k;)l=h[i][k]-1,k&&l===h[i][k-1]?g.push(f[f.length]={status:c,value:b[--k],index:k}):i&&l===h[i-1][k]?m.push(f[f.length]={status:d,value:a[--i],index:i}):(f.push({status:"retained",value:b[--k]}),--i);if(g.length&&m.length)for(var a=10*j,r,b=c=0;(e||b<a)&&(r=g[c]);c++){for(d=0;h=m[d];d++)if(r.value===h.value){r.moved=h.index,h.moved=r.index,m.splice(d,1),b=d=0;break}b+=d}return f.reverse()}function r(e,f,g,h,i){var i=i||{},j=e&&s(e),j=j&&j.ownerDocument,k=i.templateEngine||bc;O.ya.ub(g,k,j),g=k.renderTemplate(g,h,i,j),("number"!=typeof g.length||0<g.length&&"number"!=typeof g[0].nodeType)&&a(Error("Template engine must return an array of DOM nodes")),j=d;switch(f){case"replaceChildren":O.e.N(e,g),j=b;break;case"replaceNode":O.a.Xa(e,g),j=b;break;case"ignoreTargetNode":break;default:a(Error("Unknown renderMode: "+f))}return j&&(u(g,h),i.afterRender&&O.r.K(i.afterRender,c,[g,h.$data])),g}function s(a){return a.nodeType?a:0<a.length?a[0]:c}function u(a,b){if(a.length){var c=a[0],d=a[a.length-1];v(c,d,function(a){O.Ca(b,a)}),v(c,d,function(a){O.s.hb(a,[b])})}}function v(a,b,c){for(var d,b=O.e.nextSibling(b);a&&(d=a)!==b;)a=O.e.nextSibling(d),(1===d.nodeType||8===d.nodeType)&&c(d)}function y(b,c,d){for(var b=O.g.aa(b),e=O.g.Q,f=0;f<b.length;f++){var g=b[f].key;if(e.hasOwnProperty(g)){var h=e[g];"function"==typeof h?(g=h(b[f].value))&&a(Error(g)):h||a(Error("This template engine does not support the '"+g+"' binding within its templates"))}}return b="ko.__tr_ambtns(function($context,$element){return(function(){return{ "+O.g.ba(b)+" } })()})",d.createJavaScriptEvaluatorBlock(b)+c}function z(b,d,e,f){function g(a){return function(){return k[a]}}function h(){return k}var i=0,k,l;return O.j(function(){var c=e&&e instanceof O.z?e:new O.z(O.a.d(e)),m=c.$data;f&&O.cb(b,c);if(k=("function"==typeof d?d(c,b):d)||O.J.instance.getBindings(b,c)){if(0===i){i=1;for(var n in k){var o=O.c[n];o&&8===b.nodeType&&!O.e.I[n]&&a(Error("The binding '"+n+"' cannot be used with virtual elements")),o&&"function"==typeof o.init&&(o=(0,o.init)(b,g(n),h,m,c))&&o.controlsDescendantBindings&&(l!==j&&a(Error("Multiple bindings ("+l+" and "+n+") are trying to control descendant bindings of the same element. You cannot use these bindings together on the same element.")),l=n)}i=2}if(2===i)for(n in k)(o=O.c[n])&&"function"==typeof o.update&&(0,o.update)(b,g(n),h,m,c)}},c,{W:b}),{Mb:l===j}}function A(a,d,e){var f=b,g=1===d.nodeType;g&&O.e.Sa(d);if(g&&e||O.J.instance.nodeHasBindings(d))f=z(d,c,a,e).Mb;f&&B(a,d,!g)}function B(a,b,c){for(var d=O.e.firstChild(b);b=d;)d=O.e.nextSibling(b),A(a,b,c)}function C(a,b){var d=D(a,b);return d?0<d.length?d[d.length-1].nextSibling:a.nextSibling:c}function D(b,d){for(var e=b,f=1,g=[];e=e.nextSibling;){if(F(e)&&(f--,0===f))return g;g.push(e),G(e)&&f++}return d||a(Error("Cannot find closing comment tag to match: "+b.nodeValue)),c}function F(a){return 8==a.nodeType&&(W?a.text:a.nodeValue).match(Y)}function G(a){return 8==a.nodeType&&(W?a.text:a.nodeValue).match(X)}function I(a,b){for(var d=c;a!=d;)d=a,a=a.replace(T,function(a,c){return b[c]});return a}function J(){var a=[],b=[];this.save=function(c,d){var e=O.a.i(a,c);0<=e?b[e]=d:(a.push(c),b.push(d))},this.get=function(c){return c=O.a.i(a,c),0<=c?b[c]:j}}function K(a,b,d){function e(c){var e=b(a[c]);switch(typeof e){case"boolean":case"number":case"string":case"function":f[c]=e;break;case"object":case"undefined":var g=d.get(e);f[c]=g!==j?g:K(e,b,d)}}d=d||new J,a=b(a);if("object"!=typeof a||a===c||a===j||a instanceof Date)return a;var f=a instanceof Array?[]:{};d.save(a,f);var g=a;if(g instanceof Array){for(var h=0;h<g.length;h++)e(h);"function"==typeof g.toJSON&&e("toJSON")}else for(h in g)e(h);return f}function L(a,b){if(a)if(8==a.nodeType){var d=O.s.Ta(a.nodeValue);d!=c&&b.push({rb:a,Eb:d})}else if(1==a.nodeType)for(var d=0,e=a.childNodes,f=e.length;d<f;d++)L(e[d],b)}function M(a,c,e,f){O.c[a]={init:function(a){return O.a.f.set(a,_,{}),{controlsDescendantBindings:b}},update:function(a,d,g,h,i){var g=O.a.f.get(a,_),d=O.a.d(d()),h=!e!=!d,j=!g.Ya;if(j||c||h!==g.pb)j&&(g.Ya=O.a.Ha(O.e.childNodes(a),b)),h?(j||O.e.N(a,O.a.Ha(g.Ya)),O.Da(f?f(i,d):i,a)):O.e.Y(a),g.pb=h}},O.g.Q[a]=d,O.e.I[a]=b}function N(a,b,d){d&&b!==O.k.q(a)&&O.k.T(a,b),b!==O.k.q(a)&&O.r.K(O.a.Aa,c,[a,"change"])}var O="undefined"!=typeof k?k:{};O.b=function(a,b){for(var c=a.split("."),d=O,e=0;e<c.length-1;e++)d=d[c[e]];d[c[c.length-1]]=b},O.p=function(a,b,c){a[b]=c},O.version="2.2.0",O.b("version",O.version),O.a=new function(){function e(a,b){if("input"!==O.a.u(a)||!a.type||"click"!=b.toLowerCase())return d;var c=a.type;return"checkbox"==c||"radio"==c}var k=/^(\s|\u00A0)+|(\s|\u00A0)+$/g,m={},o={};m[/Firefox\/2/i.test(h.userAgent)?"KeyboardEvent":"UIEvents"]=["keyup","keydown","keypress"],m.MouseEvents="click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave".split(" ");for(var p in m){var r=m[p];if(r.length)for(var s=0,t=r.length;s<t;s++)o[r[s]]=p}var u={propertychange:b},v,m=3;p=g.createElement("div");for(r=p.getElementsByTagName("i");p.innerHTML="<!--[if gt IE "+ ++m+"]><i></i><![endif]-->",r[0];);return v=4<m?m:j,{Ma:["authenticity_token",/^__RequestVerificationToken(_.*)?$/],o:function(a,b){for(var c=0,d=a.length;c<d;c++)b(a[c])},i:function(a,b){if("function"==typeof Array.prototype.indexOf)return Array.prototype.indexOf.call(a,b);for(var c=0,d=a.length;c<d;c++)if(a[c]===b)return c;return-1},kb:function(a,b,d){for(var e=0,f=a.length;e<f;e++)if(b.call(d,a[e]))return a[e];return c},ga:function(a,b){var c=O.a.i(a,b);0<=c&&a.splice(c,1)},Fa:function(a){for(var a=a||[],b=[],c=0,d=a.length;c<d;c++)0>O.a.i(b,a[c])&&b.push(a[c]);return b},V:function(a,b){for(var a=a||[],c=[],d=0,e=a.length;d<e;d++)c.push(b(a[d]));return c},fa:function(a,b){for(var a=a||[],c=[],d=0,e=a.length;d<e;d++)b(a[d])&&c.push(a[d]);return c},P:function(a,b){if(b instanceof Array)a.push.apply(a,b);else for(var c=0,d=b.length;c<d;c++)a.push(b[c]);return a},extend:function(a,b){if(b)for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);return a},ka:function(a){for(;a.firstChild;)O.removeNode(a.firstChild)},Gb:function(a){for(var a=O.a.L(a),b=g.createElement("div"),c=0,d=a.length;c<d;c++)b.appendChild(O.A(a[c]));return b},Ha:function(a,c){for(var d=0,e=a.length,f=[];d<e;d++){var g=a[d].cloneNode(b);f.push(c?O.A(g):g)}return f},N:function(a,b){O.a.ka(a);if(b)for(var c=0,d=b.length;c<d;c++)a.appendChild(b[c])},Xa:function(a,b){var c=a.nodeType?[a]:a;if(0<c.length){for(var d=c[0],e=d.parentNode,f=0,g=b.length;f<g;f++)e.insertBefore(b[f],d);f=0;for(g=c.length;f<g;f++)O.removeNode(c[f])}},ab:function(a,b){7>v?a.setAttribute("selected",b):a.selected=b},D:function(a){return(a||"").replace(k,"")},Qb:function(a,b){for(var c=[],d=(a||"").split(b),e=0,f=d.length;e<f;e++){var g=O.a.D(d[e]);""!==g&&c.push(g)}return c},Nb:function(a,b){return a=a||"",b.length>a.length?d:a.substring(0,b.length)===b},sb:function(a,e){if(e.compareDocumentPosition)return 16==(e.compareDocumentPosition(a)&16);for(;a!=c;){if(a==e)return b;a=a.parentNode}return d},X:function(a){return O.a.sb(a,a.ownerDocument)},u:function(a){return a&&a.tagName&&a.tagName.toLowerCase()},n:function(c,f,g){var h=v&&u[f];if(!h&&"undefined"!=typeof i){if(e(c,f))var j=g,g=function(a,c){var d=this.checked;c&&(this.checked=c.mb!==b),j.call(this,a),this.checked=d};i(c).bind(f,g)}else!h&&"function"==typeof c.addEventListener?c.addEventListener(f,g,d):"undefined"!=typeof c.attachEvent?c.attachEvent("on"+f,function(a){g.call(c,a)}):a(Error("Browser doesn't support addEventListener or attachEvent"))},Aa:function(c,h){(!c||!c.nodeType)&&a(Error("element must be a DOM node when calling triggerEvent"));if("undefined"!=typeof i){var j=[];e(c,h)&&j.push({mb:c.checked}),i(c).trigger(h,j)}else"function"==typeof g.createEvent?"function"==typeof c.dispatchEvent?(j=g.createEvent(o[h]||"HTMLEvents"),j.initEvent(h,b,b,f,0,0,0,0,0,d,d,d,d,0,c),c.dispatchEvent(j)):a(Error("The supplied element doesn't support dispatchEvent")):"undefined"!=typeof c.fireEvent?(e(c,h)&&(c.checked=c.checked!==b),c.fireEvent("on"+h)):a(Error("Browser doesn't support triggering events"))},d:function(a){return O.$(a)?a():a},ta:function(a){return O.$(a)?a.t():a},da:function(a,b,c){if(b){var d=/[\w-]+/g,e=a.className.match(d)||[];O.a.o(b.match(d),function(a){var b=O.a.i(e,a);0<=b?c||e.splice(b,1):c&&e.push(a)}),a.className=e.join(" ")}},bb:function(a,b){var d=O.a.d(b);if(d===c||d===j)d="";if(3===a.nodeType)a.data=d;else{var e=O.e.firstChild(a);!e||3!=e.nodeType||O.e.nextSibling(e)?O.e.N(a,[g.createTextNode(d)]):e.data=d,O.a.vb(a)}},$a:function(a,b){a.name=b;if(7>=v)try{a.mergeAttributes(g.createElement("<input name='"+a.name+"'/>"),d)}catch(c){}},vb:function(a){9<=v&&(a=1==a.nodeType?a:a.parentNode,a.style&&(a.style.zoom=a.style.zoom))},tb:function(a){if(9<=v){var b=a.style.width;a.style.width=0,a.style.width=b}},Kb:function(a,b){for(var a=O.a.d(a),b=O.a.d(b),c=[],d=a;d<=b;d++)c.push(d);return c},L:function(a){for(var b=[],c=0,d=a.length;c<d;c++)b.push(a[c]);return b},Ob:6===v,Pb:7===v,Z:v,Na:function(a,b){for(var c=O.a.L(a.getElementsByTagName("input")).concat(O.a.L(a.getElementsByTagName("textarea"))),d="string"==typeof b?function(a){return a.name===b}:function(a){return b.test(a.name)},e=[],f=c.length-1;0<=f;f--)d(c[f])&&e.push(c[f]);return e},Hb:function(a){return"string"==typeof a&&(a=O.a.D(a))?f.JSON&&f.JSON.parse?f.JSON.parse(a):(new Function("return "+a))():c},wa:function(b,c,d){return("undefined"==typeof JSON||"undefined"==typeof JSON.stringify)&&a(Error("Cannot find JSON.stringify(). Some browsers (e.g., IE < 8) don't support it natively, but you can overcome this by adding a script reference to json2.js, downloadable from http://www.json.org/json2.js")),JSON.stringify(O.a.d(b),c,d)},Ib:function(a,b,c){var c=c||{},d=c.params||{},e=c.includeFields||this.Ma,f=a;if("object"==typeof a&&"form"===O.a.u(a))for(var f=a.action,h=e.length-1;0<=h;h--)for(var i=O.a.Na(a,e[h]),j=i.length-1;0<=j;j--)d[i[j].name]=i[j].value;var b=O.a.d(b),k=g.createElement("form");k.style.display="none",k.action=f,k.method="post";for(var l in b)a=g.createElement("input"),a.name=l,a.value=O.a.wa(O.a.d(b[l])),k.appendChild(a);for(l in d)a=g.createElement("input"),a.name=l,a.value=d[l],k.appendChild(a);g.body.appendChild(k),c.submitter?c.submitter(k):k.submit(),setTimeout(function(){k.parentNode.removeChild(k)},0)}}},O.b("utils",O.a),O.b("utils.arrayForEach",O.a.o),O.b("utils.arrayFirst",O.a.kb),O.b("utils.arrayFilter",O.a.fa),O.b("utils.arrayGetDistinctValues",O.a.Fa),O.b("utils.arrayIndexOf",O.a.i),O.b("utils.arrayMap",O.a.V),O.b("utils.arrayPushAll",O.a.P),O.b("utils.arrayRemoveItem",O.a.ga),O.b("utils.extend",O.a.extend),O.b("utils.fieldsIncludedWithJsonPost",O.a.Ma),O.b("utils.getFormFields",O.a.Na),O.b("utils.peekObservable",O.a.ta),O.b("utils.postJson",O.a.Ib),O.b("utils.parseJson",O.a.Hb),O.b("utils.registerEventHandler",O.a.n),O.b("utils.stringifyJson",O.a.wa),O.b("utils.range",O.a.Kb),O.b("utils.toggleDomNodeCssClass",O.a.da),O.b("utils.triggerEvent",O.a.Aa),O.b("utils.unwrapObservable",O.a.d),Function.prototype.bind||(Function.prototype.bind=function(a){var b=this,c=Array.prototype.slice.call(arguments),a=c.shift();return function(){return b.apply(a,c.concat(Array.prototype.slice.call(arguments)))}}),O.a.f=new function(){var a=0,e="__ko__"+(new Date).getTime(),f={};return{get:function(a,b){var c=O.a.f.getAll(a,d);return c===j?j:c[b]},set:function(a,c,e){e===j&&O.a.f.getAll(a,d)===j||(O.a.f.getAll(a,b)[c]=e)},getAll:function(b,c){var d=b[e];if(!d||"null"===d||!f[d]){if(!c)return j;d=b[e]="ko"+a++,f[d]={}}return f[d]},clear:function(a){var g=a[e];return g?(delete f[g],a[e]=c,b):d}}},O.b("utils.domData",O.a.f),O.b("utils.domData.clear",O.a.f.clear),O.a.F=new function(){function c(a,b){var c=O.a.f.get(a,f);return c===j&&b&&(c=[],O.a.f.set(a,f,c)),c}function e(a){var b=c(a,d);if(b)for(var b=b.slice(0),f=0;f<b.length;f++)b[f](a);O.a.f.clear(a),"function"==typeof i&&"function"==typeof i.cleanData&&i.cleanData([a]);if(h[a.nodeType])for(b=a.firstChild;a=b;)b=a.nextSibling,8===a.nodeType&&e(a)}var f="__ko_domNodeDisposal__"+(new Date).getTime(),g={1:b,8:b,9:b},h={1:b,9:b};return{Ba:function(d,e){"function"!=typeof e&&a(Error("Callback must be a function")),c(d,b).push(e)},Wa:function(a,b){var e=c(a,d);e&&(O.a.ga(e,b),0==e.length&&O.a.f.set(a,f,j))},A:function(a){if(g[a.nodeType]&&(e(a),h[a.nodeType])){var b=[];O.a.P(b,a.getElementsByTagName("*"));for(var c=0,d=b.length;c<d;c++)e(b[c])}return a},removeNode:function(a){O.A(a),a.parentNode&&a.parentNode.removeChild(a)}}},O.A=O.a.F.A,O.removeNode=O.a.F.removeNode,O.b("cleanNode",O.A),O.b("removeNode",O.removeNode),O.b("utils.domNodeDisposal",O.a.F),O.b("utils.domNodeDisposal.addDisposeCallback",O.a.F.Ba),O.b("utils.domNodeDisposal.removeDisposeCallback",O.a.F.Wa),O.a.sa=function(a){var b;if("undefined"!=typeof i){if((b=i.clean([a]))&&b[0]){for(a=b[0];a.parentNode&&11!==a.parentNode.nodeType;)a=a.parentNode;a.parentNode&&a.parentNode.removeChild(a)}}else{var c=O.a.D(a).toLowerCase();b=g.createElement("div"),c=c.match(/^<(thead|tbody|tfoot)/)&&[1,"<table>","</table>"]||!c.indexOf("<tr")&&[2,"<table><tbody>","</tbody></table>"]||(!c.indexOf("<td")||!c.indexOf("<th"))&&[3,"<table><tbody><tr>","</tr></tbody></table>"]||[0,"",""],a="ignored<div>"+c[1]+a+c[2]+"</div>";for("function"==typeof f.innerShiv?b.appendChild(f.innerShiv(a)):b.innerHTML=a;c[0]--;)b=b.lastChild;b=O.a.L(b.lastChild.childNodes)}return b},O.a.ca=function(a,b){O.a.ka(a),b=O.a.d(b);if(b!==c&&b!==j)if("string"!=typeof b&&(b=b.toString()),"undefined"!=typeof i)i(a).html(b);else for(var d=O.a.sa(b),e=0;e<d.length;e++)a.appendChild(d[e])},O.b("utils.parseHtmlFragment",O.a.sa),O.b("utils.setHtml",O.a.ca);var P={};O.s={qa:function(b){"function"!=typeof b&&a(Error("You can only pass a function to ko.memoization.memoize()"));var c=(4294967296*(1+Math.random())|0).toString(16).substring(1)+(4294967296*(1+Math.random())|0).toString(16).substring(1);return P[c]=b,"<!--[ko_memo:"+c+"]-->"},gb:function(d,e){var f=P[d];f===j&&a(Error("Couldn't find any memo with ID "+d+". Perhaps it's already been unmemoized."));try{return f.apply(c,e||[]),b}finally{delete P[d]}},hb:function(a,b){var c=[];L(a,c);for(var d=0,e=c.length;d<e;d++){var f=c[d].rb,g=[f];b&&O.a.P(g,b),O.s.gb(c[d].Eb,g),f.nodeValue="",f.parentNode&&f.parentNode.removeChild(f)}},Ta:function(a){return(a=a.match(/^\[ko_memo\:(.*?)\]$/))?a[1]:c}},O.b("memoization",O.s),O.b("memoization.memoize",O.s.qa),O.b("memoization.unmemoize",O.s.gb),O.b("memoization.parseMemoText",O.s.Ta),O.b("memoization.unmemoizeDomNodeAndDescendants",O.s.hb),O.La={throttle:function(a,b){a.throttleEvaluation=b;var d=c;return O.j({read:a,write:function(c){clearTimeout(d),d=setTimeout(function(){a(c)},b)}})},notify:function(a,b){return a.equalityComparer="always"==b?e(d):O.m.fn.equalityComparer,a}},O.b("extenders",O.La),O.eb=function(a,b,c){this.target=a,this.ha=b,this.qb=c,O.p(this,"dispose",this.B)},O.eb.prototype.B=function(){this.Bb=b,this.qb()},O.S=function(){this.w={},O.a.extend(this,O.S.fn),O.p(this,"subscribe",this.xa),O.p(this,"extend",this.extend),O.p(this,"getSubscriptionsCount",this.xb)},O.S.fn={xa:function(a,b,c){var c=c||"change",a=b?a.bind(b):a,d=new O.eb(this,a,function(){O.a.ga(this.w[c],d)}.bind(this));return this.w[c]||(this.w[c]=[]),this.w[c].push(d),d},notifySubscribers:function(a,c){c=c||"change",this.w[c]&&O.r.K(function(){O.a.o(this.w[c].slice(0),function(c){c&&c.Bb!==b&&c.ha(a)})},this)},xb:function(){var a=0,b;for(b in this.w)this.w.hasOwnProperty(b)&&(a+=this.w[b].length);return a},extend:function(a){var b=this;if(a)for(var c in a){var d=O.La[c];"function"==typeof d&&(b=d(b,a[c]))}return b}},O.Pa=function(a){return"function"==typeof a.xa&&"function"==typeof a.notifySubscribers},O.b("subscribable",O.S),O.b("isSubscribable",O.Pa);var Q=[];O.r={lb:function(a){Q.push({ha:a,Ka:[]})},end:function(){Q.pop()},Va:function(b){O.Pa(b)||a(Error("Only subscribable things can act as dependencies"));if(0<Q.length){var c=Q[Q.length-1];c&&!(0<=O.a.i(c.Ka,b))&&(c.Ka.push(b),c.ha(b))}},K:function(a,b,d){try{return Q.push(c),a.apply(b,d||[])}finally{Q.pop()}}};var R={"undefined":b,"boolean":b,number:b,string:b};O.m=function(a){function b(){if(0<arguments.length){if(!b.equalityComparer||!b.equalityComparer(c,arguments[0]))b.H(),c=arguments[0],b.G();return this}return O.r.Va(b),c}var c=a;return O.S.call(b),b.t=function(){return c},b.G=function(){b.notifySubscribers(c)},b.H=function(){b.notifySubscribers(c,"beforeChange")},O.a.extend(b,O.m.fn),O.p(b,"peek",b.t),O.p(b,"valueHasMutated",b.G),O.p(b,"valueWillMutate",b.H),b},O.m.fn={equalityComparer:function(a,b){return a===c||typeof a in R?a===b:d}};var S=O.m.Jb="__ko_proto__";O.m.fn[S]=O.m,O.la=function(a,e){return a===c||a===j||a[S]===j?d:a[S]===e?b:O.la(a[S],e)},O.$=function(a){return O.la(a,O.m)},O.Qa=function(a){return"function"==typeof a&&a[S]===O.m||"function"==typeof a&&a[S]===O.j&&a.yb?b:d},O.b("observable",O.m),O.b("isObservable",O.$),O.b("isWriteableObservable",O.Qa),O.R=function(b){0==arguments.length&&(b=[]),b!==c&&b!==j&&!("length"in b)&&a(Error("The argument passed when initializing an observable array must be an array, or null, or undefined."));var d=O.m(b);return O.a.extend(d,O.R.fn),d},O.R.fn={remove:function(a){for(var b=this.t(),c=[],d="function"==typeof a?a:function(b){return b===a},e=0;e<b.length;e++){var f=b[e];d(f)&&(0===c.length&&this.H(),c.push(f),b.splice(e,1),e--)}return c.length&&this.G(),c},removeAll:function(a){if(a===j){var b=this.t(),c=b.slice(0);return this.H(),b.splice(0,b.length),this.G(),c}return a?this.remove(function(b){return 0<=O.a.i(a,b)}):[]},destroy:function(a){var c=this.t(),d="function"==typeof a?a:function(b){return b===a};this.H();for(var e=c.length-1;0<=e;e--)d(c[e])&&(c[e]._destroy=b);this.G()},destroyAll:function(a){return a===j?this.destroy(e(b)):a?this.destroy(function(b){return 0<=O.a.i(a,b)}):[]},indexOf:function(a){var b=this();return O.a.i(b,a)},replace:function(a,b){var c=this.indexOf(a);0<=c&&(this.H(),this.t()[c]=b,this.G())}},O.a.o("pop push reverse shift sort splice unshift".split(" "),function(a){O.R.fn[a]=function(){var b=this.t();return this.H(),b=b[a].apply(b,arguments),this.G(),b}}),O.a.o(["slice"],function(a){O.R.fn[a]=function(){var b=this();return b[a].apply(b,arguments)}}),O.b("observableArray",O.R),O.j=function(f,g,h){function i(){O.a.o(A,function(a){a.B()}),A=[]}function k(){var a=o.throttleEvaluation;a&&0<=a?(clearTimeout(B),B=setTimeout(m,a)):m()}function m(){if(!u)if(s&&y())z();else{u=b;try{var a=O.a.V(A,function(a){return a.target});O.r.lb(function(b){var c;0<=(c=O.a.i(a,b))?a[c]=j:A.push(b.xa(k))});for(var c=v.call(g),e=a.length-1;0<=e;e--)a[e]&&A.splice(e,1)[0].B();s=b,o.notifySubscribers(r,"beforeChange"),r=c}finally{O.r.end()}o.notifySubscribers(r),u=d,A.length||z()}}function o(){return 0<arguments.length?("function"==typeof w?w.apply(g,arguments):a(Error("Cannot write a value to a ko.computed unless you specify a 'write' option. If you wish to read the current value, don't pass any parameters.")),this):(s||m(),O.r.Va(o),r)}function p(){return!s||0<A.length}var r,s=d,u=d,v=f;v&&"object"==typeof v?(h=v,v=h.read):(h=h||{},v||(v=h.read)),"function"!=typeof v&&a(Error("Pass a function that returns the value of the ko.computed"));var w=h.write,x=h.disposeWhenNodeIsRemoved||h.W||c,y=h.disposeWhen||h.Ja||e(d),z=i,A=[],B=c;g||(g=h.owner),o.t=function(){return s||m(),r},o.wb=function(){return A.length},o.yb="function"==typeof h.write,o.B=function(){z()},o.oa=p,O.S.call(o),O.a.extend(o,O.j.fn),O.p(o,"peek",o.t),O.p(o,"dispose",o.B),O.p(o,"isActive",o.oa),O.p(o,"getDependenciesCount",o.wb),h.deferEvaluation!==b&&m();if(x&&p()){z=function(){O.a.F.Wa(x,arguments.callee),i()},O.a.F.Ba(x,z);var C=y,y=function(){return!O.a.X(x)||C()}}return o},O.Ab=function(a){return O.la(a,O.j)},k=O.m.Jb,O.j[k]=O.m,O.j.fn={},O.j.fn[k]=O.j,O.b("dependentObservable",O.j),O.b("computed",O.j),O.b("isComputed",O.Ab),O.fb=function(b){return 0==arguments.length&&a(Error("When calling ko.toJS, pass the object you want to convert.")),K(b,function(a){for(var b=0;O.$(a)&&10>b;b++)a=a();return a})},O.toJSON=function(a,b,c){return a=O.fb(a),O.a.wa(a,b,c)},O.b("toJS",O.fb),O.b("toJSON",O.toJSON),O.k={q:function(a){switch(O.a.u(a)){case"option":return a.__ko__hasDomDataOptionValue__===b?O.a.f.get(a,O.c.options.ra):7>=O.a.Z?a.getAttributeNode("value").specified?a.value:a.text:a.value;case"select":return 0<=a.selectedIndex?O.k.q(a.options[a.selectedIndex]):j;default:return a.value}},T:function(a,d){switch(O.a.u(a)){case"option":switch(typeof d){case"string":O.a.f.set(a,O.c.options.ra,j),"__ko__hasDomDataOptionValue__"in a&&delete a.__ko__hasDomDataOptionValue__,a.value=d;break;default:O.a.f.set(a,O.c.options.ra,d),a.__ko__hasDomDataOptionValue__=b,a.value="number"==typeof d?d:""}break;case"select":for(var e=a.options.length-1;0<=e;e--)if(O.k.q(a.options[e])==d){a.selectedIndex=e;break}break;default:if(d===c||d===j)d="";a.value=d}}},O.b("selectExtensions",O.k),O.b("selectExtensions.readValue",O.k.q),O.b("selectExtensions.writeValue",O.k.T);var T=/\@ko_token_(\d+)\@/g,U=["true","false"],V=/^(?:[$_a-z][$\w]*|(.+)(\.\s*[$_a-z][$\w]*|\[.+\]))$/i;O.g={Q:[],aa:function(a){var b=O.a.D(a);if(3>b.length)return[];"{"===b.charAt(0)&&(b=b.substring(1,b.length-1));for(var a=[],d=c,e,f=0;f<b.length;f++){var g=b.charAt(f);if(d===c)switch(g){case'"':case"'":case"/":d=f,e=g}else if(g==e&&"\\"!==b.charAt(f-1)){g=b.substring(d,f+1),a.push(g);var h="@ko_token_"+(a.length-1)+"@",b=b.substring(0,d)+h+b.substring(f+1),f=f-(g.length-h.length),d=c}}e=d=c;for(var i=0,j=c,f=0;f<b.length;f++){g=b.charAt(f);if(d===c)switch(g){case"{":d=f,j=g,e="}";break;case"(":d=f,j=g,e=")";break;case"[":d=f,j=g,e="]"}g===j?i++:g===e&&(i--,0===i&&(g=b.substring(d,f+1),a.push(g),h="@ko_token_"+(a.length-1)+"@",b=b.substring(0,d)+h+b.substring(f+1),f-=g.length-h.length,d=c))}e=[],b=b.split(","),d=0;for(f=b.length;d<f;d++)i=b[d],j=i.indexOf(":"),0<j&&j<i.length-1?(g=i.substring(j+1),e.push({key:I(i.substring(0,j),a),value:I(g,a)})):e.push({unknown:I(i,a)});return e},ba:function(a){for(var b="string"==typeof a?O.g.aa(a):a,e=[],a=[],f,g=0;f=b[g];g++)if(0<e.length&&e.push(","),f.key){var h;a:{h=f.key;var i=O.a.D(h);switch(i.length&&i.charAt(0)){case"'":case'"':break a;default:h="'"+i+"'"}}f=f.value,e.push(h),e.push(":"),e.push(f),f=O.a.D(f),0<=O.a.i(U,O.a.D(f).toLowerCase())?f=d:(i=f.match(V),f=i===c?d:i[1]?"Object("+i[1]+")"+i[2]:f),f&&(0<a.length&&a.push(", "),a.push(h+" : function(__ko_value) { "+f+" = __ko_value; }"))}else f.unknown&&e.push(f.unknown);return b=e.join(""),0<a.length&&(b=b+", '_ko_property_writers' : { "+a.join("")+" } "),b},Db:function(a,c){for(var e=0;e<a.length;e++)if(O.a.D(a[e].key)==c)return b;return d},ea:function(a,b,c,d,e){!a||!O.Qa(a)?(a=b()._ko_property_writers)&&a[c]&&a[c](d):(!e||a.t()!==d)&&a(d)}},O.b("expressionRewriting",O.g),O.b("expressionRewriting.bindingRewriteValidators",O.g.Q),O.b("expressionRewriting.parseObjectLiteral",O.g.aa),O.b("expressionRewriting.preProcessBindings",O.g.ba),O.b("jsonExpressionRewriting",O.g),O.b("jsonExpressionRewriting.insertPropertyAccessorsIntoJson",O.g.ba);var W="<!--test-->"===g.createComment("test").text,X=W?/^<\!--\s*ko(?:\s+(.+\s*\:[\s\S]*))?\s*--\>$/:/^\s*ko(?:\s+(.+\s*\:[\s\S]*))?\s*$/,Y=W?/^<\!--\s*\/ko\s*--\>$/:/^\s*\/ko\s*$/,Z={ul:b,ol:b};O.e={I:{},childNodes:function(a){return G(a)?D(a):a.childNodes},Y:function(a){if(G(a))for(var a=O.e.childNodes(a),b=0,c=a.length;b<c;b++)O.removeNode(a[b]);else O.a.ka(a)},N:function(a,b){if(G(a)){O.e.Y(a);for(var c=a.nextSibling,d=0,e=b.length;d<e;d++)c.parentNode.insertBefore(b[d],c)}else O.a.N(a,b)},Ua:function(a,b){G(a)?a.parentNode.insertBefore(b,a.nextSibling):a.firstChild?a.insertBefore(b,a.firstChild):a.appendChild(b)},Oa:function(a,b,c){c?G(a)?a.parentNode.insertBefore(b,c.nextSibling):c.nextSibling?a.insertBefore(b,c.nextSibling):a.appendChild(b):O.e.Ua(a,b)},firstChild:function(a){return G(a)?!a.nextSibling||F(a.nextSibling)?c:a.nextSibling:a.firstChild},nextSibling:function(a){return G(a)&&(a=C(a)),a.nextSibling&&F(a.nextSibling)?c:a.nextSibling},ib:function(a){return(a=G(a))?a[1]:c},Sa:function(a){if(Z[O.a.u(a)]){var d=a.firstChild;if(d)do if(1===d.nodeType){var e;e=d.firstChild;var f=c;if(e)do if(f)f.push(e);else if(G(e)){var g=C(e,b);g?e=g:f=[e]}else F(e)&&(f=[e]);while(e=e.nextSibling);if(e=f){f=d.nextSibling;for(g=0;g<e.length;g++)f?a.insertBefore(e[g],f):a.appendChild(e[g])}}while(d=d.nextSibling)}}},O.b("virtualElements",O.e),O.b("virtualElements.allowedBindings",O.e.I),O.b("virtualElements.emptyNode",O.e.Y),O.b("virtualElements.insertAfter",O.e.Oa),O.b("virtualElements.prepend",O.e.Ua),O.b("virtualElements.setDomNodeChildren",O.e.N),O.J=function(){this.Ga={}},O.a.extend(O.J.prototype,{nodeHasBindings:function(a){switch(a.nodeType){case 1:return a.getAttribute("data-bind")!=c;case 8:return O.e.ib(a)!=c;default:return d}},getBindings:function(a,b){var d=this.getBindingsString(a,b);return d?this.parseBindingsString(d,b,a):c},getBindingsString:function(a){switch(a.nodeType){case 1:return a.getAttribute("data-bind");case 8:return O.e.ib(a);default:return c}},parseBindingsString:function(b,c,d){try{var e;if(!(e=this.Ga[b])){var f=this.Ga,g="with($context){with($data||{}){return{"+O.g.ba(b)+"}}}";e=f[b]=new Function("$context","$element",g)}return e(c,d)}catch(h){a(Error("Unable to parse bindings.\nMessage: "+h+";\nBindings value: "+b))}}}),O.J.instance=new O.J,O.b("bindingProvider",O.J),O.c={},O.z=function(a,b,c){b?(O.a.extend(this,b),this.$parentContext=b,this.$parent=b.$data,this.$parents=(b.$parents||[]).slice(0),this.$parents.unshift(this.$parent)):(this.$parents=[],this.$root=a,this.ko=O),this.$data=a,c&&(this[c]=a)},O.z.prototype.createChildContext=function(a,b){return new O.z(a,this,b)},O.z.prototype.extend=function(a){var b=O.a.extend(new O.z,this);return O.a.extend(b,a)},O.cb=function(a,b){if(2==arguments.length)O.a.f.set(a,"__ko_bindingContext__",b);else return O.a.f.get(a,"__ko_bindingContext__")},O.Ea=function(a,c,d){return 1===a.nodeType&&O.e.Sa(a),z(a,c,d,b)},O.Da=function(a,c){(1===c.nodeType||8===c.nodeType)&&B(a,c,b)},O.Ca=function(c,d){d&&1!==d.nodeType&&8!==d.nodeType&&a(Error("ko.applyBindings: first parameter should be your view model; second parameter should be a DOM node")),d=d||f.document.body,A(c,d,b)},O.ja=function(a){switch(a.nodeType){case 1:case 8:var b=O.cb(a);if(b)return b;if(a.parentNode)return O.ja(a.parentNode)}return j},O.ob=function(a){return(a=O.ja(a))?a.$data:j},O.b("bindingHandlers",O.c),O.b("applyBindings",O.Ca),O.b("applyBindingsToDescendants",O.Da),O.b("applyBindingsToNode",O.Ea),O.b("contextFor",O.ja),O.b("dataFor",O.ob);var $={"class":"className","for":"htmlFor"};O.c.attr={update:function(a,b){var e=O.a.d(b())||{},f;for(f in e)if("string"==typeof f){var g=O.a.d(e[f]),h=g===d||g===c||g===j;h&&a.removeAttribute(f),8>=O.a.Z&&f in $?(f=$[f],h?a.removeAttribute(f):a[f]=g):h||a.setAttribute(f,g.toString()),"name"===f&&O.a.$a(a,h?"":g.toString())}}},O.c.checked={init:function(a,c,d){O.a.n(a,"click",function(){var e;if("checkbox"==a.type)e=a.checked;else if("radio"==a.type&&a.checked)e=a.value;else return;var f=c(),g=O.a.d(f);"checkbox"==a.type&&g instanceof Array?(e=O.a.i(g,a.value),a.checked&&0>e?f.push(a.value):!a.checked&&0<=e&&f.splice(e,1)):O.g.ea(f,d,"checked",e,b)}),"radio"==a.type&&!a.name&&O.c.uniqueName.init(a,e(b))},update:function(a,b){var c=O.a.d(b());"checkbox"==a.type?a.checked=c instanceof Array?0<=O.a.i(c,a.value):c:"radio"==a.type&&(a.checked=a.value==c)}},O.c.css={update:function(a,c){var e=O.a.d(c());if("object"==typeof e)for(var f in e){var g=O.a.d(e[f]);O.a.da(a,f,g)}else e=String(e||""),O.a.da(a,a.__ko__cssValue,d),a.__ko__cssValue=e,O.a.da(a,e,b)}},O.c.enable={update:function(a,c){var d=O.a.d(c());d&&a.disabled?a.removeAttribute("disabled"):!d&&!a.disabled&&(a.disabled=b)}},O.c.disable={update:function(a,b){O.c.enable.update(a,function(){return!O.a.d(b())})}},O.c.event={init:function(a,c,e,f){var g=c()||{},h;for(h in g)(function(){var g=h;"string"==typeof g&&O.a.n(a,g,function(a){var h,i=c()[g];if(i){var j=e();try{var k=O.a.L(arguments);k.unshift(f),h=i.apply(f,k)}finally{h!==b&&(a.preventDefault?a.preventDefault():a.returnValue=d)}j[g+"Bubble"]===d&&(a.cancelBubble=b,a.stopPropagation&&a.stopPropagation())}})})()}},O.c.foreach={Ra:function(a){return function(){var b=a(),c=O.a.ta(b);return!c||"number"==typeof c.length?{foreach:b,templateEngine:O.C.na}:(O.a.d(b),{foreach:c.data,as:c.as,includeDestroyed:c.includeDestroyed,afterAdd:c.afterAdd,beforeRemove:c.beforeRemove,afterRender:c.afterRender,beforeMove:c.beforeMove,afterMove:c.afterMove,templateEngine:O.C.na})}},init:function(a,b){return O.c.template.init(a,O.c.foreach.Ra(b))},update:function(a,b,c,d,e){return O.c.template.update(a,O.c.foreach.Ra(b),c,d,e)}},O.g.Q.foreach=d,O.e.I.foreach=b,O.c.hasfocus={init:function(a,e,f){function g(c){a.__ko_hasfocusUpdating=b;var g=a.ownerDocument;"activeElement"in g&&(c=g.activeElement===a),g=e(),O.g.ea(g,f,"hasfocus",c,b),a.__ko_hasfocusUpdating=d}var h=g.bind(c,b),i=g.bind(c,d);O.a.n(a,"focus",h),O.a.n(a,"focusin",h),O.a.n(a,"blur",i),O.a.n(a,"focusout",i)},update:function(a,b){var d=O.a.d(b());a.__ko_hasfocusUpdating||(d?a.focus():a.blur(),O.r.K(O.a.Aa,c,[a,d?"focusin":"focusout"]))}},O.c.html={init:function(){return{controlsDescendantBindings:b}},update:function(a,b){O.a.ca(a,b())}};var _="__ko_withIfBindingData";M("if"),M("ifnot",d,b),M("with",b,d,function(a,b){return a.createChildContext(b)}),O.c.options={update:function(c,d,e){"select"!==O.a.u(c)&&a(Error("options binding applies only to SELECT elements"));for(var f=0==c.length,h=O.a.V(O.a.fa(c.childNodes,function(a){return a.tagName&&"option"===O.a.u(a)&&a.selected}),function(a){return O.k.q(a)||a.innerText||a.textContent}),i=c.scrollTop,k=O.a.d(d());0<c.length;)O.A(c.options[0]),c.remove(0);if(k){var e=e(),m=e.optionsIncludeDestroyed;"number"!=typeof k.length&&(k=[k]);if(e.optionsCaption){var n=g.createElement("option");O.a.ca(n,e.optionsCaption),O.k.T(n,j),c.appendChild(n)}for(var d=0,o=k.length;d<o;d++){var p=k[d];if(!p||!p._destroy||m){var n=g.createElement("option"),q=function(a,b,c){var d=typeof b;return"function"==d?b(a):"string"==d?a[b]:c},r=q(p,e.optionsValue,p);O.k.T(n,O.a.d(r)),p=q(p,e.optionsText,r),O.a.bb(n,p),c.appendChild(n)}}k=c.getElementsByTagName("option"),d=m=0;for(o=k.length;d<o;d++)0<=O.a.i(h,O.k.q(k[d]))&&(O.a.ab(k[d],b),m++);c.scrollTop=i,f&&"value"in e&&N(c,O.a.ta(e.value),b),O.a.tb(c)}}},O.c.options.ra="__ko.optionValueDomData__",O.c.selectedOptions={init:function(a,b,c){O.a.n(a,"change",function(){var d=b(),e=[];O.a.o(a.getElementsByTagName("option"),function(a){a.selected&&e.push(O.k.q(a))}),O.g.ea(d,c,"value",e)})},update:function(b,c){"select"!=O.a.u(b)&&a(Error("values binding applies only to SELECT elements"));var d=O.a.d(c());d&&"number"==typeof d.length&&O.a.o(b.getElementsByTagName("option"),function(a){var b=0<=O.a.i(d,O.k.q(a));O.a.ab(a,b)})}},O.c.style={update:function(a,b){var c=O.a.d(b()||{}),d;for(d in c)if("string"==typeof d){var e=O.a.d(c[d]);a.style[d]=e||""}}},O.c.submit={init:function(c,e,f,g){"function"!=typeof e()&&a(Error("The value for a submit binding must be a function")),O.a.n(c,"submit",function(a){var f,h=e();try{f=h.call(g,c)}finally{f!==b&&(a.preventDefault?a.preventDefault():a.returnValue=d)}})}},O.c.text={update:function(a,b){O.a.bb(a,b())}},O.e.I.text=b,O.c.uniqueName={init:function(a,b){if(b()){var c="ko_unique_"+ ++O.c.uniqueName.nb;O.a.$a(a,c)}}},O.c.uniqueName.nb=0,O.c.value={init:function(a,c,e){function f(){i=d;var b=c(),f=O.k.q(a);O.g.ea(b,e,"value",f)}var g=["change"],h=e().valueUpdate,i=d;h&&("string"==typeof h&&(h=[h]),O.a.P(g,h),g=O.a.Fa(g)),O.a.Z&&"input"==a.tagName.toLowerCase()&&"text"==a.type&&"off"!=a.autocomplete&&(!a.form||"off"!=a.form.autocomplete)&&-1==O.a.i(g,"propertychange")&&(O.a.n(a,"propertychange",function(){i=b}),O.a.n(a,"blur",function(){i&&f()})),O.a.o(g,function(b){var c=f;O.a.Nb(b,"after")&&(c=function(){setTimeout(f,0)},b=b.substring(5)),O.a.n(a,b,c)})},update:function(a,c){var e="select"===O.a.u(a),f=O.a.d(c()),g=O.k.q(a),h=f!=g;0===f&&0!==g&&"0"!==g&&(h=b),h&&(g=function(){O.k.T(a,f)},g(),e&&setTimeout(g,0)),e&&0<a.length&&N(a,f,d)}},O.c.visible={update:function(a,b){var c=O.a.d(b()),d="none"!=a.style.display;c&&!d?a.style.display="":!c&&d&&(a.style.display="none")}},O.c.click={init:function(a,b,c,d){return O.c.event.init.call(this,a,function(){var a={};return a.click=b(),a},c,d)}},O.v=function(){},O.v.prototype.renderTemplateSource=function(){a(Error("Override renderTemplateSource"))},O.v.prototype.createJavaScriptEvaluatorBlock=function(){a(Error("Override createJavaScriptEvaluatorBlock"))},O.v.prototype.makeTemplateSource=function(b,c){if("string"==typeof b){var c=c||g,d=c.getElementById(b);return d||a(Error("Cannot find template with ID "+b)),new O.l.h(d)}if(1==b.nodeType||8==b.nodeType)return new O.l.O(b);a(Error("Unknown template type: "+b))},O.v.prototype.renderTemplate=function(a,b,c,d){return a=this.makeTemplateSource(a,d),this.renderTemplateSource(a,b,c)},O.v.prototype.isTemplateRewritten=function(a,c){return this.allowTemplateRewriting===d?b:this.makeTemplateSource(a,c).data("isRewritten")},O.v.prototype.rewriteTemplate=function(a,c,d){a=this.makeTemplateSource(a,d),c=c(a.text()),a.text(c),a.data("isRewritten",b)},O.b("templateEngine",O.v);var ba=/(<[a-z]+\d*(\s+(?!data-bind=)[a-z0-9\-]+(=(\"[^\"]*\"|\'[^\']*\'))?)*\s+)data-bind=(["'])([\s\S]*?)\5/gi,bb=/<\!--\s*ko\b\s*([\s\S]*?)\s*--\>/g;O.ya={ub:function(a,b,c){b.isTemplateRewritten(a,c)||b.rewriteTemplate(a,function(a){return O.ya.Fb(a,b)},c)},Fb:function(a,b){return a.replace(ba,function(a,c,d,e,f,g,h){return y(h,c,b)}).replace(bb,function(a,c){return y(c,"<!-- ko -->",b)})},jb:function(a){return O.s.qa(function(b,c){b.nextSibling&&O.Ea(b.nextSibling,a,c)})}},O.b("__tr_ambtns",O.ya.jb),O.l={},O.l.h=function(a){this.h=a},O.l.h.prototype.text=function(){var a=O.a.u(this.h),a="script"===a?"text":"textarea"===a?"value":"innerHTML";if(0==arguments.length)return this.h[a];var b=arguments[0];"innerHTML"===a?O.a.ca(this.h,b):this.h[a]=b},O.l.h.prototype.data=function(a){if(1===arguments.length)return O.a.f.get(this.h,"templateSourceData_"+a);O.a.f.set(this.h,"templateSourceData_"+a,arguments[1])},O.l.O=function(a){this.h=a},O.l.O.prototype=new O.l.h,O.l.O.prototype.text=function(){if(0==arguments.length){var a=O.a.f.get(this.h,"__ko_anon_template__")||{};return a.za===j&&a.ia&&(a.za=a.ia.innerHTML),a.za}O.a.f.set(this.h,"__ko_anon_template__",{za:arguments[0]})},O.l.h.prototype.nodes=function(){if(0==arguments.length)return(O.a.f.get(this.h,"__ko_anon_template__")||{}).ia;O.a.f.set(this.h,"__ko_anon_template__",{ia:arguments[0]})},O.b("templateSources",O.l),O.b("templateSources.domElement",O.l.h),O.b("templateSources.anonymousTemplate",O.l.O);var bc;O.va=function(b){b!=j&&!(b instanceof O.v)&&a(Error("templateEngine must inherit from ko.templateEngine")),bc=b},O.ua=function(b,d,e,f,g){e=e||{},(e.templateEngine||bc)==j&&a(Error("Set a template engine before calling renderTemplate")),g=g||"replaceChildren";if(f){var h=s(f);return O.j(function(){var a=d&&d instanceof O.z?d:new O.z(O.a.d(d)),c="function"==typeof b?b(a.$data,a):b,a=r(f,g,c,a,e);"replaceNode"==g&&(f=a,h=s(f))},c,{Ja:function(){return!h||!O.a.X(h)},W:h&&"replaceNode"==g?h.parentNode:h})}return O.s.qa(function(a){O.ua(b,d,e,a,"replaceNode")})},O.Lb=function(a,b,d,e,f){function g(a,b){u(b,i),d.afterRender&&d.afterRender(b,a)}function h(b,e){i=f.createChildContext(O.a.d(b),d.as),i.$index=e;var g="function"==typeof a?a(b,i):a;return r(c,"ignoreTargetNode",g,i,d)}var i;return O.j(function(){var a=O.a.d(b)||[];"undefined"==typeof a.length&&(a=[a]),a=O.a.fa(a,function(a){return d.includeDestroyed||a===j||a===c||!O.a.d(a._destroy)}),O.r.K(O.a.Za,c,[e,a,h,d,g])},c,{W:e})},O.c.template={init:function(a,c){var d=O.a.d(c());return"string"!=typeof d&&!d.name&&(1==a.nodeType||8==a.nodeType)&&(d=1==a.nodeType?a.childNodes:O.e.childNodes(a),d=O.a.Gb(d),(new O.l.O(a)).nodes(d)),{controlsDescendantBindings:b}},update:function(a,d,e,f,g){var d=O.a.d(d()),e={},f=b,h,i=c;"string"!=typeof d&&(e=d,d=e.name,"if"in e&&(f=O.a.d(e["if"])),f&&"ifnot"in e&&(f=!O.a.d(e.ifnot)),h=O.a.d(e.data)),"foreach"in e?i=O.Lb(d||a,f&&e.foreach||[],e,a,g):f?(g="data"in e?g.createChildContext(h,e.as):g,i=O.ua(d||a,g,e,a)):O.e.Y(a),g=i,(h=O.a.f.get(a,"__ko__templateComputedDomDataKey__"))&&"function"==typeof h.B&&h.B(),O.a.f.set(a,"__ko__templateComputedDomDataKey__",g&&g.oa()?g:j)}},O.g.Q.template=function(a){return a=O.g.aa(a),1==a.length&&a[0].unknown||O.g.Db(a,"name")?c:"This template engine does not support anonymous templates nested within its templates"},O.e.I.template=b,O.b("setTemplateEngine",O.va),O.b("renderTemplate",O.ua),O.a.Ia=function(a,b,c){return a=a||[],b=b||[],a.length<=b.length?p(a,b,"added","deleted",c):p(b,a,"deleted","added",c)},O.b("utils.compareArrays",O.a.Ia),O.a.Za=function(a,c,d,e,f){function g(a,b){w=k[b],s!==b&&(v[a]=w),w.ma(s++),o(w.M),q.push(w),u.push(w)}function h(a,b){if(a)for(var c=0,d=b.length;c<d;c++)b[c]&&O.a.o(b[c].M,function(d){a(d,c,b[c].U)})}for(var c=c||[],e=e||{},i=O.a.f.get(a,"setDomNodeChildrenFromArrayMapping_lastMappingResult")===j,k=O.a.f.get(a,"setDomNodeChildrenFromArrayMapping_lastMappingResult")||[],n=O.a.V(k,function(a){return a.U}),p=O.a.Ia(n,c),q=[],r=0,s=0,t=[],u=[],c=[],v=[],n=[],w,x=0,y,z;y=p[x];x++)switch(z=y.moved,y.status){case"deleted":z===j&&(w=k[r],w.j&&w.j.B(),t.push.apply(t,o(w.M)),e.beforeRemove&&(c[x]=w,u.push(w))),r++;break;case"retained":g(x,r++);break;case"added":z!==j?g(x,z):(w={U:y.value,ma:O.m(s++)},q.push(w),u.push(w),i||(n[x]=w))}h(e.beforeMove,v),O.a.o(t,e.beforeRemove?O.A:O.removeNode);for(var x=0,i=O.e.firstChild(a),A;w=u[x];x++){w.M||O.a.extend(w,m(a,d,w.U,f,w.ma));for(r=0;p=w.M[r];i=p.nextSibling,A=p,r++)p!==i&&O.e.Oa(a,p,A);!w.zb&&f&&(f(w.U,w.M,w.ma),w.zb=b)}h(e.beforeRemove,c),h(e.afterMove,v),h(e.afterAdd,n),O.a.f.set(a,"setDomNodeChildrenFromArrayMapping_lastMappingResult",q)},O.b("utils.setDomNodeChildrenFromArrayMapping",O.a.Za),O.C=function(){this.allowTemplateRewriting=d},O.C.prototype=new O.v,O.C.prototype.renderTemplateSource=function(a){var d=9>O.a.Z||!a.nodes?c:a.nodes();return d?O.a.L(d.cloneNode(b).childNodes):(a=a.text(),O.a.sa(a))},O.C.na=new O.C,O.va(O.C.na),O.b("nativeTemplateEngine",O.C),O.pa=function(){var b=this.Cb=function(){if("undefined"==typeof i||!i.tmpl)return 0;try{if(0<=i.tmpl.tag.tmpl.open.toString().indexOf("__"))return 2}catch(a){}return 1}();this.renderTemplateSource=function(d,e,f){f=f||{},2>b&&a(Error("Your version of jQuery.tmpl is too old. Please upgrade to jQuery.tmpl 1.0.0pre or later."));var h=d.data("precompiled");return h||(h=d.text()||"",h=i.template(c,"{{ko_with $item.koBindingContext}}"+h+"{{/ko_with}}"),d.data("precompiled",h)),d=[e.$data],e=i.extend({koBindingContext:e},f.templateOptions),e=i.tmpl(h,d,e),e.appendTo(g.createElement("div")),i.fragments={},e},this.createJavaScriptEvaluatorBlock=function(a){return"{{ko_code ((function() { return "+a+" })()) }}"},this.addTemplate=function(a,b){g.write("<script type='text/html' id='"+a+"'>"+b+"</script>")},0<b&&(i.tmpl.tag.ko_code={open:"__.push($1 || '');"},i.tmpl.tag.ko_with={open:"with($1) {",close:"} "})},O.pa.prototype=new O.v,k=new O.pa,0<k.Cb&&O.va(k),O.b("jqueryTmplTemplateEngine",O.pa)}var b=!0,c=null,d=!1,f=window,g=document,h=navigator,i=window.jQuery,j=void 0;"function"==typeof require&&"object"==typeof exports&&"object"==typeof module?k(module.exports||exports):"function"==typeof define&&define.amd?define(["exports"],k):k(f.ko={}),b})()
;(function(a){"function"==typeof require&&"object"==typeof exports&&"object"==typeof module?a(require("knockout"),exports):"function"==typeof define&&define.amd?define(["knockout","exports"],a):a(ko,ko.mapping={})})(function(a,b){function c(a,d){for(var e in d)d.hasOwnProperty(e)&&d[e]&&(e&&a[e]&&"array"!==b.getType(a[e])?c(a[e],d[e]):a[e]=d[e])}function d(a,b){var d={};return c(d,a),c(d,b),d}function e(a,b){a=a||{};if(a.create instanceof Function||a.update instanceof Function||a.key instanceof Function||a.arrayChanged instanceof Function)a={"":a};return b&&(a.ignore=f(b.ignore,a.ignore),a.include=f(b.include,a.include),a.copy=f(b.copy,a.copy)),a.ignore=f(a.ignore,w.ignore),a.include=f(a.include,w.include),a.copy=f(a.copy,w.copy),a.mappedProperties=a.mappedProperties||{},a}function f(a,c){return"array"!==b.getType(a)&&(a="undefined"===b.getType(a)?[]:[a]),"array"!==b.getType(c)&&(c="undefined"===b.getType(c)?[]:[c]),a.concat(c)}function g(b,c){var d=a.dependentObservable;a.dependentObservable=function(c,d,e){e=e||{},c&&"object"==typeof c&&(e=c);var f=e.deferEvaluation,g=!1,h=function(c){return r({read:function(){return g||(a.utils.arrayRemoveItem(b,c),g=!0),c.apply(c,arguments)},write:function(a){return c(a)},deferEvaluation:!0})};return e.deferEvaluation=!0,c=new r(c,d,e),f||(c=h(c),b.push(c)),c},a.dependentObservable.fn=r.fn,a.computed=a.dependentObservable;var e=c();return a.dependentObservable=d,a.computed=a.dependentObservable,e}function h(c,e,f,j,o,p){var r="array"===b.getType(a.utils.unwrapObservable(e)),p=p||"";if(b.isMapped(c))var s=a.utils.unwrapObservable(c)[q],f=d(s,f);var v=function(){return f[j]&&f[j].create instanceof Function},w=function(a){return g(t,function(){return f[j].create({data:a||e,parent:o})})},x=function(){return f[j]&&f[j].update instanceof Function},z=function(b,c){var d={data:c||e,parent:o,target:a.utils.unwrapObservable(b)};return a.isWriteableObservable(b)&&(d.observable=b),f[j].update(d)};if(s=u.get(e))return s;j=j||"";if(r){var r=[],A=!1,G=function(a){return a};f[j]&&f[j].key&&(G=f[j].key,A=!0),a.isObservable(c)||(c=a.observableArray([]),c.mappedRemove=function(a){var b=typeof a=="function"?a:function(b){return b===G(a)};return c.remove(function(a){return b(G(a))})},c.mappedRemoveAll=function(b){var d=l(b,G);return c.remove(function(b){return a.utils.arrayIndexOf(d,G(b))!=-1})},c.mappedDestroy=function(a){var b=typeof a=="function"?a:function(b){return b===G(a)};return c.destroy(function(a){return b(G(a))})},c.mappedDestroyAll=function(b){var d=l(b,G);return c.destroy(function(b){return a.utils.arrayIndexOf(d,G(b))!=-1})},c.mappedIndexOf=function(b){var d=l(c(),G),b=G(b);return a.utils.arrayIndexOf(d,b)},c.mappedCreate=function(b){if(c.mappedIndexOf(b)!==-1)throw Error("There already is an object with the key that you specified.");var d=v()?w(b):b;return x()&&(b=z(d,b),a.isWriteableObservable(d)?d(b):d=b),c.push(d),d});var s=l(a.utils.unwrapObservable(c),G).sort(),H=l(e,G);A&&H.sort();var A=a.utils.compareArrays(s,H),s={},I,M=a.utils.unwrapObservable(e),N={},P=!0,H=0;for(I=M.length;H<I;H++){var Q=G(M[H]);if(void 0===Q||Q instanceof Object){P=!1;break}N[Q]=M[H]}M=[],H=0;for(I=A.length;H<I;H++){var Q=A[H],R,S=p+"["+H+"]";switch(Q.status){case"added":var T=P?N[Q.value]:k(a.utils.unwrapObservable(e),Q.value,G);R=h(void 0,T,f,j,c,S),v()||(R=a.utils.unwrapObservable(R)),S=i(a.utils.unwrapObservable(e),T,s),M[S]=R,s[S]=!0;break;case"retained":T=P?N[Q.value]:k(a.utils.unwrapObservable(e),Q.value,G),R=k(c,Q.value,G),h(R,T,f,j,c,S),S=i(a.utils.unwrapObservable(e),T,s),M[S]=R,s[S]=!0;break;case"deleted":R=k(c,Q.value,G)}r.push({event:Q.status,item:R})}c(M),f[j]&&f[j].arrayChanged&&a.utils.arrayForEach(r,function(a){f[j].arrayChanged(a.event,a.item)})}else if(n(e)){c=a.utils.unwrapObservable(c);if(!c){if(v())return A=w(),x()&&(A=z(A)),A;if(x())return z(A);c={}}x()&&(c=z(c)),u.save(e,c),m(e,function(b){var d=p.length?p+"."+b:b;if(-1==a.utils.arrayIndexOf(f.ignore,d))if(-1!=a.utils.arrayIndexOf(f.copy,d))c[b]=e[b];else{var g=u.get(e[b])||h(c[b],e[b],f,b,c,d);a.isWriteableObservable(c[b])?c[b](a.utils.unwrapObservable(g)):c[b]=g,f.mappedProperties[d]=!0}})}else switch(b.getType(e)){case"function":x()?a.isWriteableObservable(e)?(e(z(e)),c=e):c=z(e):c=e;break;default:a.isWriteableObservable(c)?x()?c(z(c)):c(a.utils.unwrapObservable(e)):(c=v()?w():a.observable(a.utils.unwrapObservable(e)),x()&&c(z(c)))}return c}function i(a,b,c){for(var d=0,e=a.length;d<e;d++)if(!0!==c[d]&&a[d]===b)return d;return null}function j(c,d){var e;return d&&(e=d(c)),"undefined"===b.getType(e)&&(e=c),a.utils.unwrapObservable(e)}function k(b,c,d){for(var b=a.utils.unwrapObservable(b),e=0,f=b.length;e<f;e++){var g=b[e];if(j(g,d)===c)return g}throw Error("When calling ko.update*, the key '"+c+"' was not found!")}function l(b,c){return a.utils.arrayMap(a.utils.unwrapObservable(b),function(a){return c?j(a,c):a})}function m(a,c){if("array"===b.getType(a))for(var d=0;d<a.length;d++)c(d);else for(d in a)c(d)}function n(a){var c=b.getType(a);return("object"===c||"array"===c)&&null!==a}function o(){var b=[],c=[];this.save=function(d,e){var f=a.utils.arrayIndexOf(b,d);0<=f?c[f]=e:(b.push(d),c.push(e))},this.get=function(d){return d=a.utils.arrayIndexOf(b,d),0<=d?c[d]:void 0}}function p(){var a={},b=function(b){var c;try{c=JSON.stringify(b)}catch(d){c="$$$"}return b=a[c],void 0===b&&(b=new o,a[c]=b),b};this.save=function(a,c){b(a).save(a,c)},this.get=function(a){return b(a).get(a)}}var q="__ko_mapping__",r=a.dependentObservable,s=0,t,u,v={include:["_destroy"],ignore:[],copy:[]},w=v;b.isMapped=function(b){return(b=a.utils.unwrapObservable(b))&&b[q]},b.fromJS=function(a){if(0==arguments.length)throw Error("When calling ko.fromJS, pass the object you want to convert.");window.setTimeout(function(){s=0},0),s++||(t=[],u=new p);var b,c;2==arguments.length&&(arguments[1][q]?c=arguments[1]:b=arguments[1]),3==arguments.length&&(b=arguments[1],c=arguments[2]),c&&(b=d(b,c[q])),b=e(b);var f=h(c,a,b);return c&&(f=c),--s||window.setTimeout(function(){for(;t.length;){var a=t.pop();a&&a()}},0),f[q]=d(f[q],b),f},b.fromJSON=function(c){var d=a.utils.parseJson(c);return arguments[0]=d,b.fromJS.apply(this,arguments)},b.updateFromJS=function(){throw Error("ko.mapping.updateFromJS, use ko.mapping.fromJS instead. Please note that the order of parameters is different!")},b.updateFromJSON=function(){throw Error("ko.mapping.updateFromJSON, use ko.mapping.fromJSON instead. Please note that the order of parameters is different!")},b.toJS=function(c,d){w||b.resetDefaultOptions();if(0==arguments.length)throw Error("When calling ko.mapping.toJS, pass the object you want to convert.");if("array"!==b.getType(w.ignore))throw Error("ko.mapping.defaultOptions().ignore should be an array.");if("array"!==b.getType(w.include))throw Error("ko.mapping.defaultOptions().include should be an array.");if("array"!==b.getType(w.copy))throw Error("ko.mapping.defaultOptions().copy should be an array.");return d=e(d,c[q]),b.visitModel(c,function(b){return a.utils.unwrapObservable(b)},d)},b.toJSON=function(c,d){var e=b.toJS(c,d);return a.utils.stringifyJson(e)},b.defaultOptions=function(){if(0<arguments.length)w=arguments[0];else return w},b.resetDefaultOptions=function(){w={include:v.include.slice(0),ignore:v.ignore.slice(0),copy:v.copy.slice(0)}},b.getType=function(a){if(a&&"object"==typeof a){if(a.constructor==(new Date).constructor)return"date";if("[object Array]"===Object.prototype.toString.call(a))return"array"}return typeof a},b.visitModel=function(c,d,f){f=f||{},f.visitedObjects=f.visitedObjects||new p,f.parentName||(f=e(f));var g,h=a.utils.unwrapObservable(c);if(!n(h))return d(c,f.parentName);d(c,f.parentName),g="array"===b.getType(h)?[]:{},f.visitedObjects.save(c,g);var i=f.parentName;return m(h,function(c){if(!f.ignore||-1==a.utils.arrayIndexOf(f.ignore,c)){var e=h[c],j=f,k=i||"";"array"===b.getType(h)?i&&(k+="["+c+"]"):(i&&(k+="."),k+=c),j.parentName=k;if(!(-1===a.utils.arrayIndexOf(f.copy,c)&&-1===a.utils.arrayIndexOf(f.include,c)&&h[q]&&h[q].mappedProperties&&!h[q].mappedProperties[c]&&"array"!==b.getType(h)))switch(b.getType(a.utils.unwrapObservable(e))){case"object":case"array":case"undefined":j=f.visitedObjects.get(e),g[c]="undefined"!==b.getType(j)?j:b.visitModel(e,d,f);break;default:g[c]=d(e,f.parentName)}}}),g}})
;(function(a,b,c){function e(a){return a}function f(a){return g(decodeURIComponent(a.replace(d," ")))}function g(a){return a.indexOf('"')===0&&(a=a.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\")),a}function h(a){return i.json?JSON.parse(a):a}var d=/\+/g,i=a.cookie=function(d,g,j){if(g!==c){j=a.extend({},i.defaults,j),g===null&&(j.expires=-1);if(typeof j.expires=="number"){var k=j.expires,l=j.expires=new Date;l.setDate(l.getDate()+k)}return g=i.json?JSON.stringify(g):String(g),b.cookie=[encodeURIComponent(d),"=",i.raw?g:encodeURIComponent(g),j.expires?"; expires="+j.expires.toUTCString():"",j.path?"; path="+j.path:"",j.domain?"; domain="+j.domain:"",j.secure?"; secure":""].join("")}var m=i.raw?e:f,n=b.cookie.split("; "),o=d?null:{};for(var p=0,q=n.length;p<q;p++){var r=n[p].split("="),s=m(r.shift()),t=m(r.join("="));if(d&&d===s){o=h(t);break}d||(o[s]=h(t))}return o};i.defaults={},a.removeCookie=function(b,c){return a.cookie(b)!==null?(a.cookie(b,null,c),!0):!1}})(jQuery,document)
;/*================================================================================
 * @name: bPopup - if you can't get it up, use bPopup
 * @author: (c)Bjoern Klinggaard (twitter@bklinggaard)
 * @demo: http://dinbror.dk/bpopup
 * @version: 0.11.0.min
 ================================================================================*/
 (function(c){c.fn.bPopup=function(A,E){function L(){a.contentContainer=c(a.contentContainer||b);switch(a.content){case "iframe":var d=c('<iframe class="b-iframe" '+a.iframeAttr+"></iframe>");d.appendTo(a.contentContainer);t=b.outerHeight(!0);u=b.outerWidth(!0);B();d.attr("src",a.loadUrl);l(a.loadCallback);break;case "image":B();c("<img />").load(function(){l(a.loadCallback);F(c(this))}).attr("src",a.loadUrl).hide().appendTo(a.contentContainer);break;default:B(),c('<div class="b-ajax-wrapper"></div>').load(a.loadUrl,a.loadData,function(d,b,e){l(a.loadCallback,b);F(c(this))}).hide().appendTo(a.contentContainer)}}function B(){a.modal&&c('<div class="b-modal '+e+'"></div>').css({backgroundColor:a.modalColor,position:"fixed",top:0,right:0,bottom:0,left:0,opacity:0,zIndex:a.zIndex+v}).appendTo(a.appendTo).fadeTo(a.speed,a.opacity);C();b.data("bPopup",a).data("id",e).css({left:"slideIn"==a.transition||"slideBack"==a.transition?"slideBack"==a.transition?f.scrollLeft()+w:-1*(x+u):m(!(!a.follow[0]&&n||g)),position:a.positionStyle||"absolute",top:"slideDown"==a.transition||"slideUp"==a.transition?"slideUp"==a.transition?f.scrollTop()+y:z+-1*t:p(!(!a.follow[1]&&q||g)),"z-index":a.zIndex+v+1}).each(function(){a.appending&&c(this).appendTo(a.appendTo)});G(!0)}function r(){a.modal&&c(".b-modal."+b.data("id")).fadeTo(a.speed,0,function(){c(this).remove()});a.scrollBar||c("html").css("overflow","auto");c(".b-modal."+e).unbind("click");f.unbind("keydown."+e);k.unbind("."+e).data("bPopup",0<k.data("bPopup")-1?k.data("bPopup")-1:null);b.undelegate(".bClose, ."+a.closeClass,"click."+e,r).data("bPopup",null);clearTimeout(H);G();return!1}function I(d){y=k.height();w=k.width();h=D();if(h.x||h.y)clearTimeout(J),J=setTimeout(function(){C();d=d||a.followSpeed;var e={};h.x&&(e.left=a.follow[0]?m(!0):"auto");h.y&&(e.top=a.follow[1]?p(!0):"auto");b.dequeue().each(function(){g?c(this).css({left:x,top:z}):c(this).animate(e,d,a.followEasing)})},50)}function F(d){var c=d.width(),e=d.height(),f={};a.contentContainer.css({height:e,width:c});e>=b.height()&&(f.height=b.height());c>=b.width()&&(f.width=b.width());t=b.outerHeight(!0);u=b.outerWidth(!0);C();a.contentContainer.css({height:"auto",width:"auto"});f.left=m(!(!a.follow[0]&&n||g));f.top=p(!(!a.follow[1]&&q||g));b.animate(f,250,function(){d.show();h=D()})}function M(){k.data("bPopup",v);b.delegate(".bClose, ."+a.closeClass,"click."+e,r);a.modalClose&&c(".b-modal."+e).css("cursor","pointer").bind("click",r);N||!a.follow[0]&&!a.follow[1]||k.bind("scroll."+e,function(){if(h.x||h.y){var d={};h.x&&(d.left=a.follow[0]?m(!g):"auto");h.y&&(d.top=a.follow[1]?p(!g):"auto");b.dequeue().animate(d,a.followSpeed,a.followEasing)}}).bind("resize."+e,function(){I()});a.escClose&&f.bind("keydown."+e,function(a){27==a.which&&r()})}function G(d){function c(e){b.css({display:"block",opacity:1}).animate(e,a.speed,a.easing,function(){K(d)})}switch(d?a.transition:a.transitionClose||a.transition){case "slideIn":c({left:d?m(!(!a.follow[0]&&n||g)):f.scrollLeft()-(u||b.outerWidth(!0))-200});break;case "slideBack":c({left:d?m(!(!a.follow[0]&&n||g)):f.scrollLeft()+w+200});break;case "slideDown":c({top:d?p(!(!a.follow[1]&&q||g)):f.scrollTop()-(t||b.outerHeight(!0))-200});break;case "slideUp":c({top:d?p(!(!a.follow[1]&&q||g)):f.scrollTop()+y+200});break;default:b.stop().fadeTo(a.speed,d?1:0,function(){K(d)})}}function K(d){d?(M(),l(E),a.autoClose&&(H=setTimeout(r,a.autoClose))):(b.hide(),l(a.onClose),a.loadUrl&&(a.contentContainer.empty(),b.css({height:"auto",width:"auto"})))}function m(a){return a?x+f.scrollLeft():x}function p(a){return a?z+f.scrollTop():z}function l(a,e){c.isFunction(a)&&a.call(b,e)}function C(){z=q?a.position[1]:Math.max(0,(y-b.outerHeight(!0))/2-a.amsl);x=n?a.position[0]:(w-b.outerWidth(!0))/2;h=D()}function D(){return{x:w>b.outerWidth(!0),y:y>b.outerHeight(!0)}}c.isFunction(A)&&(E=A,A=null);var a=c.extend({},c.fn.bPopup.defaults,A);a.scrollBar||c("html").css("overflow","hidden");var b=this,f=c(document),k=c(window),y=k.height(),w=k.width(),N=/OS 6(_\d)+/i.test(navigator.userAgent),v=0,e,h,q,n,g,z,x,t,u,J,H;b.close=function(){r()};b.reposition=function(a){I(a)};return b.each(function(){c(this).data("bPopup")||(l(a.onOpen),v=(k.data("bPopup")||0)+1,e="__b-popup"+v+"__",q="auto"!==a.position[1],n="auto"!==a.position[0],g="fixed"===a.positionStyle,t=b.outerHeight(!0),u=b.outerWidth(!0),a.loadUrl?L():B())})};c.fn.bPopup.defaults={amsl:50,appending:!0,appendTo:"body",autoClose:!1,closeClass:"b-close",content:"ajax",contentContainer:!1,easing:"swing",escClose:!0,follow:[!0,!0],followEasing:"swing",followSpeed:500,iframeAttr:'scrolling="no" frameborder="0"',loadCallback:!1,loadData:!1,loadUrl:!1,modal:!0,modalClose:!0,modalColor:"#000",onClose:!1,onOpen:!1,opacity:.7,position:["auto","auto"],positionStyle:"absolute",scrollBar:!0,speed:250,transition:"fadeIn",transitionClose:!1,zIndex:9997}})(jQuery);

;(function(a){var b={},c={mode:"horizontal",slideSelector:"",infiniteLoop:!0,hideControlOnEnd:!1,speed:500,easing:null,slideMargin:0,startSlide:0,randomStart:!1,captions:!1,ticker:!1,tickerHover:!1,adaptiveHeight:!1,adaptiveHeightSpeed:500,video:!1,useCSS:!0,preloadImages:"visible",responsive:!0,slideZIndex:50,wrapperClass:"bx-wrapper",touchEnabled:!0,swipeThreshold:50,oneToOneTouch:!0,preventDefaultSwipeX:!0,preventDefaultSwipeY:!1,pager:!0,pagerType:"full",pagerShortSeparator:" / ",pagerSelector:null,buildPager:null,pagerCustom:null,controls:!0,nextText:"Next",prevText:"Prev",nextSelector:null,prevSelector:null,autoControls:!1,startText:"Start",stopText:"Stop",autoControlsCombine:!1,autoControlsSelector:null,auto:!1,pause:4e3,autoStart:!0,autoDirection:"next",autoHover:!1,autoDelay:0,autoSlideForOnePage:!1,minSlides:1,maxSlides:1,moveSlides:0,slideWidth:0,onSliderLoad:function(){},onSlideBefore:function(){},onSlideAfter:function(){},onSlideNext:function(){},onSlidePrev:function(){},onSliderResize:function(){}};a.fn.bxSlider=function(d){if(this.length==0)return this;if(this.length>1)return this.each(function(){a(this).bxSlider(d)}),this;var e={},f=this;b.el=this;var g=a(window).width(),h=a(window).height(),j=function(){e.settings=a.extend({},c,d),e.settings.slideWidth=parseInt(e.settings.slideWidth),e.children=f.children(e.settings.slideSelector),e.children.length<e.settings.minSlides&&(e.settings.minSlides=e.children.length),e.children.length<e.settings.maxSlides&&(e.settings.maxSlides=e.children.length),e.settings.randomStart&&(e.settings.startSlide=Math.floor(Math.random()*e.children.length)),e.active={index:e.settings.startSlide},e.carousel=e.settings.minSlides>1||e.settings.maxSlides>1,e.carousel&&(e.settings.preloadImages="all"),e.minThreshold=e.settings.minSlides*e.settings.slideWidth+(e.settings.minSlides-1)*e.settings.slideMargin,e.maxThreshold=e.settings.maxSlides*e.settings.slideWidth+(e.settings.maxSlides-1)*e.settings.slideMargin,e.working=!1,e.controls={},e.interval=null,e.animProp=e.settings.mode=="vertical"?"top":"left",e.usingCSS=e.settings.useCSS&&e.settings.mode!="fade"&&function(){var a=document.createElement("div"),b=["WebkitPerspective","MozPerspective","OPerspective","msPerspective"];for(var c in b)if(a.style[b[c]]!==undefined)return e.cssPrefix=b[c].replace("Perspective","").toLowerCase(),e.animProp="-"+e.cssPrefix+"-transform",!0;return!1}(),e.settings.mode=="vertical"&&(e.settings.maxSlides=e.settings.minSlides),f.data("origStyle",f.attr("style")),f.children(e.settings.slideSelector).each(function(){a(this).data("origStyle",a(this).attr("style"))}),k()},k=function(){f.wrap('<div class="'+e.settings.wrapperClass+'"><div class="bx-viewport"></div></div>'),e.viewport=f.parent(),e.loader=a('<div class="bx-loading" />'),e.viewport.prepend(e.loader),f.css({width:e.settings.mode=="horizontal"?e.children.length*100+215+"%":"auto",position:"relative"}),e.usingCSS&&e.settings.easing?f.css("-"+e.cssPrefix+"-transition-timing-function",e.settings.easing):e.settings.easing||(e.settings.easing="swing");var b=q();e.viewport.css({width:"100%",overflow:"hidden",position:"relative"}),e.viewport.parent().css({maxWidth:o()}),e.settings.pager||e.viewport.parent().css({margin:"0 auto 0px"}),e.children.css({"float":e.settings.mode=="horizontal"?"left":"none",listStyle:"none",position:"relative"}),e.children.css("width",p()),e.settings.mode=="horizontal"&&e.settings.slideMargin>0&&e.children.css("marginRight",e.settings.slideMargin),e.settings.mode=="vertical"&&e.settings.slideMargin>0&&e.children.css("marginBottom",e.settings.slideMargin),e.settings.mode=="fade"&&(e.children.css({position:"absolute",zIndex:0,display:"none"}),e.children.eq(e.settings.startSlide).css({zIndex:e.settings.slideZIndex,display:"block"})),e.controls.el=a('<div class="bx-controls" />'),e.settings.captions&&z(),e.active.last=e.settings.startSlide==r()-1,e.settings.video&&f.fitVids();var c=e.children.eq(e.settings.startSlide);e.settings.preloadImages=="all"&&(c=e.children),e.settings.ticker?e.settings.pager=!1:(e.settings.pager&&w(),e.settings.controls&&x(),e.settings.auto&&e.settings.autoControls&&y(),(e.settings.controls||e.settings.autoControls||e.settings.pager)&&e.viewport.after(e.controls.el)),l(c,m)},l=function(b,c){var d=b.find("img, iframe").length;if(d==0){c();return}var e=0;b.find("img, iframe").each(function(){a(this).one("load",function(){++e==d&&c()}).each(function(){this.complete&&a(this).load()})})},m=function(){if(e.settings.infiniteLoop&&e.settings.mode!="fade"&&!e.settings.ticker){var b=e.settings.mode=="vertical"?e.settings.minSlides:e.settings.maxSlides,c=e.children.slice(0,b).clone().addClass("bx-clone"),d=e.children.slice(-b).clone().addClass("bx-clone");f.append(c).prepend(d)}e.loader.remove(),t(),e.settings.mode=="vertical"&&(e.settings.adaptiveHeight=!0),e.viewport.height(n()),f.redrawSlider(),e.settings.onSliderLoad(e.active.index),e.initialized=!0,e.settings.responsive&&a(window).bind("resize",Q),e.settings.auto&&e.settings.autoStart&&(r()>1||e.settings.autoSlideForOnePage)&&J(),e.settings.ticker&&K(),e.settings.pager&&F(e.settings.startSlide),e.settings.controls&&I(),e.settings.touchEnabled&&!e.settings.ticker&&M()},n=function(){var b=0,c=a();if(e.settings.mode!="vertical"&&!e.settings.adaptiveHeight)c=e.children;else if(!e.carousel)c=e.children.eq(e.active.index);else{var d=e.settings.moveSlides==1?e.active.index:e.active.index*s();c=e.children.eq(d);for(i=1;i<=e.settings.maxSlides-1;i++)d+i>=e.children.length?c=c.add(e.children.eq(i-1)):c=c.add(e.children.eq(d+i))}return e.settings.mode=="vertical"?(c.each(function(c){b+=a(this).outerHeight()}),e.settings.slideMargin>0&&(b+=e.settings.slideMargin*(e.settings.minSlides-1))):b=Math.max.apply(Math,c.map(function(){return a(this).outerHeight(!1)}).get()),e.viewport.css("box-sizing")=="border-box"?b+=parseFloat(e.viewport.css("padding-top"))+parseFloat(e.viewport.css("padding-bottom"))+parseFloat(e.viewport.css("border-top-width"))+parseFloat(e.viewport.css("border-bottom-width")):e.viewport.css("box-sizing")=="padding-box"&&(b+=parseFloat(e.viewport.css("padding-top"))+parseFloat(e.viewport.css("padding-bottom"))),b},o=function(){var a="100%";return e.settings.slideWidth>0&&(e.settings.mode=="horizontal"?a=e.settings.maxSlides*e.settings.slideWidth+(e.settings.maxSlides-1)*e.settings.slideMargin:a=e.settings.slideWidth),a},p=function(){var a=e.settings.slideWidth,b=e.viewport.width();return e.settings.slideWidth==0||e.settings.slideWidth>b&&!e.carousel||e.settings.mode=="vertical"?a=b:e.settings.maxSlides>1&&e.settings.mode=="horizontal"&&(b>e.maxThreshold||b<e.minThreshold&&(a=(b-e.settings.slideMargin*(e.settings.minSlides-1))/e.settings.minSlides)),a},q=function(){var a=1;if(e.settings.mode=="horizontal"&&e.settings.slideWidth>0)if(e.viewport.width()<e.minThreshold)a=e.settings.minSlides;else if(e.viewport.width()>e.maxThreshold)a=e.settings.maxSlides;else{var b=e.children.first().width()+e.settings.slideMargin;a=Math.floor((e.viewport.width()+e.settings.slideMargin)/b)}else e.settings.mode=="vertical"&&(a=e.settings.minSlides);return a},r=function(){var a=0;if(e.settings.moveSlides>0)if(e.settings.infiniteLoop)a=Math.ceil(e.children.length/s());else{var b=0,c=0;while(b<e.children.length)++a,b=c+q(),c+=e.settings.moveSlides<=q()?e.settings.moveSlides:q()}else a=Math.ceil(e.children.length/q());return a},s=function(){return e.settings.moveSlides>0&&e.settings.moveSlides<=q()?e.settings.moveSlides:q()},t=function(){if(e.children.length>e.settings.maxSlides&&e.active.last&&!e.settings.infiniteLoop){if(e.settings.mode=="horizontal"){var a=e.children.last(),b=a.position();u(-(b.left-(e.viewport.width()-a.outerWidth())),"reset",0)}else if(e.settings.mode=="vertical"){var c=e.children.length-e.settings.minSlides,b=e.children.eq(c).position();u(-b.top,"reset",0)}}else{var b=e.children.eq(e.active.index*s()).position();e.active.index==r()-1&&(e.active.last=!0),b!=undefined&&(e.settings.mode=="horizontal"?u(-b.left,"reset",0):e.settings.mode=="vertical"&&u(-b.top,"reset",0))}},u=function(a,b,c,d){if(e.usingCSS){var g=e.settings.mode=="vertical"?"translate3d(0, "+a+"px, 0)":"translate3d("+a+"px, 0, 0)";f.css("-"+e.cssPrefix+"-transition-duration",c/1e3+"s"),b=="slide"?(f.css(e.animProp,g),f.bind("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd",function(){f.unbind("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd"),G()})):b=="reset"?f.css(e.animProp,g):b=="ticker"&&(f.css("-"+e.cssPrefix+"-transition-timing-function","linear"),f.css(e.animProp,g),f.bind("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd",function(){f.unbind("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd"),u(d.resetValue,"reset",0),L()}))}else{var h={};h[e.animProp]=a,b=="slide"?f.animate(h,c,e.settings.easing,function(){G()}):b=="reset"?f.css(e.animProp,a):b=="ticker"&&f.animate(h,speed,"linear",function(){u(d.resetValue,"reset",0),L()})}},v=function(){var b="",c=r();for(var d=0;d<c;d++){var f="";e.settings.buildPager&&a.isFunction(e.settings.buildPager)?(f=e.settings.buildPager(d),e.pagerEl.addClass("bx-custom-pager")):(f=d+1,e.pagerEl.addClass("bx-default-pager")),b+='<div class="bx-pager-item"><a href="" data-slide-index="'+d+'" class="bx-pager-link">'+f+"</a></div>"}e.pagerEl.html(b)},w=function(){e.settings.pagerCustom?e.pagerEl=a(e.settings.pagerCustom):(e.pagerEl=a('<div class="bx-pager" />'),e.settings.pagerSelector?a(e.settings.pagerSelector).html(e.pagerEl):e.controls.el.addClass("bx-has-pager").append(e.pagerEl),v()),e.pagerEl.on("click","a",E)},x=function(){e.controls.next=a('<a class="bx-next" href="">'+e.settings.nextText+"</a>"),e.controls.prev=a('<a class="bx-prev" href="">'+e.settings.prevText+"</a>"),e.controls.next.bind("click",A),e.controls.prev.bind("click",B),e.settings.nextSelector&&a(e.settings.nextSelector).append(e.controls.next),e.settings.prevSelector&&a(e.settings.prevSelector).append(e.controls.prev),!e.settings.nextSelector&&!e.settings.prevSelector&&(e.controls.directionEl=a('<div class="bx-controls-direction" />'),e.controls.directionEl.append(e.controls.prev).append(e.controls.next),e.controls.el.addClass("bx-has-controls-direction").append(e.controls.directionEl))},y=function(){e.controls.start=a('<div class="bx-controls-auto-item"><a class="bx-start" href="">'+e.settings.startText+"</a></div>"),e.controls.stop=a('<div class="bx-controls-auto-item"><a class="bx-stop" href="">'+e.settings.stopText+"</a></div>"),e.controls.autoEl=a('<div class="bx-controls-auto" />'),e.controls.autoEl.on("click",".bx-start",C),e.controls.autoEl.on("click",".bx-stop",D),e.settings.autoControlsCombine?e.controls.autoEl.append(e.controls.start):e.controls.autoEl.append(e.controls.start).append(e.controls.stop),e.settings.autoControlsSelector?a(e.settings.autoControlsSelector).html(e.controls.autoEl):e.controls.el.addClass("bx-has-controls-auto").append(e.controls.autoEl),H(e.settings.autoStart?"stop":"start")},z=function(){e.children.each(function(b){var c=a(this).find("img:first").attr("title");c!=undefined&&(""+c).length&&a(this).append('<div class="bx-caption"><span>'+c+"</span></div>")})},A=function(a){e.settings.auto&&f.stopAuto(),f.goToNextSlide(),a.preventDefault()},B=function(a){e.settings.auto&&f.stopAuto(),f.goToPrevSlide(),a.preventDefault()},C=function(a){f.startAuto(),a.preventDefault()},D=function(a){f.stopAuto(),a.preventDefault()},E=function(b){e.settings.auto&&f.stopAuto();var c=a(b.currentTarget);if(c.attr("data-slide-index")!==undefined){var d=parseInt(c.attr("data-slide-index"));d!=e.active.index&&f.goToSlide(d),b.preventDefault()}},F=function(b){var c=e.children.length;if(e.settings.pagerType=="short"){e.settings.maxSlides>1&&(c=Math.ceil(e.children.length/e.settings.maxSlides)),e.pagerEl.html(b+1+e.settings.pagerShortSeparator+c);return}e.pagerEl.find("a").removeClass("active"),e.pagerEl.each(function(c,d){a(d).find("a").eq(b).addClass("active")})},G=function(){if(e.settings.infiniteLoop){var a="";e.active.index==0?a=e.children.eq(0).position():e.active.index==r()-1&&e.carousel?a=e.children.eq((r()-1)*s()).position():e.active.index==e.children.length-1&&(a=e.children.eq(e.children.length-1).position()),a&&(e.settings.mode=="horizontal"?u(-a.left,"reset",0):e.settings.mode=="vertical"&&u(-a.top,"reset",0))}e.working=!1,e.settings.onSlideAfter(e.children.eq(e.active.index),e.oldIndex,e.active.index)},H=function(a){e.settings.autoControlsCombine?e.controls.autoEl.html(e.controls[a]):(e.controls.autoEl.find("a").removeClass("active"),e.controls.autoEl.find("a:not(.bx-"+a+")").addClass("active"))},I=function(){r()==1?(e.controls.prev.addClass("disabled"),e.controls.next.addClass("disabled")):!e.settings.infiniteLoop&&e.settings.hideControlOnEnd&&(e.active.index==0?(e.controls.prev.addClass("disabled"),e.controls.next.removeClass("disabled")):e.active.index==r()-1?(e.controls.next.addClass("disabled"),e.controls.prev.removeClass("disabled")):(e.controls.prev.removeClass("disabled"),e.controls.next.removeClass("disabled")))},J=function(){if(e.settings.autoDelay>0)var a=setTimeout(f.startAuto,e.settings.autoDelay);else f.startAuto();e.settings.autoHover&&f.hover(function(){e.interval&&(f.stopAuto(!0),e.autoPaused=!0)},function(){e.autoPaused&&(f.startAuto(!0),e.autoPaused=null)})},K=function(){var b=0;if(e.settings.autoDirection=="next")f.append(e.children.clone().addClass("bx-clone"));else{f.prepend(e.children.clone().addClass("bx-clone"));var c=e.children.first().position();b=e.settings.mode=="horizontal"?-c.left:-c.top}u(b,"reset",0),e.settings.pager=!1,e.settings.controls=!1,e.settings.autoControls=!1,e.settings.tickerHover&&!e.usingCSS&&e.viewport.hover(function(){f.stop()},function(){var b=0;e.children.each(function(c){b+=e.settings.mode=="horizontal"?a(this).outerWidth(!0):a(this).outerHeight(!0)});var c=e.settings.speed/b,d=e.settings.mode=="horizontal"?"left":"top",g=c*(b-Math.abs(parseInt(f.css(d))));L(g)}),L()},L=function(a){speed=a?a:e.settings.speed;var b={left:0,top:0},c={left:0,top:0};e.settings.autoDirection=="next"?b=f.find(".bx-clone").first().position():c=e.children.first().position();var d=e.settings.mode=="horizontal"?-b.left:-b.top,g=e.settings.mode=="horizontal"?-c.left:-c.top,h={resetValue:g};u(d,"ticker",speed,h)},M=function(){e.touch={start:{x:0,y:0},end:{x:0,y:0}},e.viewport.bind("touchstart",N)},N=function(a){if(e.working)a.preventDefault();else{e.touch.originalPos=f.position();var b=a.originalEvent;e.touch.start.x=b.changedTouches[0].pageX,e.touch.start.y=b.changedTouches[0].pageY,e.viewport.bind("touchmove",O),e.viewport.bind("touchend",P)}},O=function(a){var b=a.originalEvent,c=Math.abs(b.changedTouches[0].pageX-e.touch.start.x),d=Math.abs(b.changedTouches[0].pageY-e.touch.start.y);c*3>d&&e.settings.preventDefaultSwipeX?a.preventDefault():d*3>c&&e.settings.preventDefaultSwipeY&&a.preventDefault();if(e.settings.mode!="fade"&&e.settings.oneToOneTouch){var f=0;if(e.settings.mode=="horizontal"){var g=b.changedTouches[0].pageX-e.touch.start.x;f=e.touch.originalPos.left+g}else{var g=b.changedTouches[0].pageY-e.touch.start.y;f=e.touch.originalPos.top+g}u(f,"reset",0)}},P=function(a){e.viewport.unbind("touchmove",O);var b=a.originalEvent,c=0;e.touch.end.x=b.changedTouches[0].pageX,e.touch.end.y=b.changedTouches[0].pageY;if(e.settings.mode=="fade"){var d=Math.abs(e.touch.start.x-e.touch.end.x);d>=e.settings.swipeThreshold&&(e.touch.start.x>e.touch.end.x?f.goToNextSlide():f.goToPrevSlide(),f.stopAuto())}else{var d=0;e.settings.mode=="horizontal"?(d=e.touch.end.x-e.touch.start.x,c=e.touch.originalPos.left):(d=e.touch.end.y-e.touch.start.y,c=e.touch.originalPos.top),!e.settings.infiniteLoop&&(e.active.index==0&&d>0||e.active.last&&d<0)?u(c,"reset",200):Math.abs(d)>=e.settings.swipeThreshold?(d<0?f.goToNextSlide():f.goToPrevSlide(),f.stopAuto()):u(c,"reset",200)}e.viewport.unbind("touchend",P)},Q=function(b){if(!e.initialized)return;var c=a(window).width(),d=a(window).height();if(g!=c||h!=d)g=c,h=d,f.redrawSlider(),e.settings.onSliderResize.call(f,e.active.index)};return f.goToSlide=function(b,c){if(e.working||e.active.index==b)return;e.working=!0,e.oldIndex=e.active.index,b<0?e.active.index=r()-1:b>=r()?e.active.index=0:e.active.index=b,e.settings.onSlideBefore(e.children.eq(e.active.index),e.oldIndex,e.active.index),c=="next"?e.settings.onSlideNext(e.children.eq(e.active.index),e.oldIndex,e.active.index):c=="prev"&&e.settings.onSlidePrev(e.children.eq(e.active.index),e.oldIndex,e.active.index),e.active.last=e.active.index>=r()-1,e.settings.pager&&F(e.active.index),e.settings.controls&&I();if(e.settings.mode=="fade")e.settings.adaptiveHeight&&e.viewport.height()!=n()&&e.viewport.animate({height:n()},e.settings.adaptiveHeightSpeed),e.children.filter(":visible").fadeOut(e.settings.speed).css({zIndex:0}),e.children.eq(e.active.index).css("zIndex",e.settings.slideZIndex+1).fadeIn(e.settings.speed,function(){a(this).css("zIndex",e.settings.slideZIndex),G()});else{e.settings.adaptiveHeight&&e.viewport.height()!=n()&&e.viewport.animate({height:n()},e.settings.adaptiveHeightSpeed);var d=0,g={left:0,top:0};if(!e.settings.infiniteLoop&&e.carousel&&e.active.last)if(e.settings.mode=="horizontal"){var h=e.children.eq(e.children.length-1);g=h.position(),d=e.viewport.width()-h.outerWidth()}else{var i=e.children.length-e.settings.minSlides;g=e.children.eq(i).position()}else if(e.carousel&&e.active.last&&c=="prev"){var j=e.settings.moveSlides==1?e.settings.maxSlides-s():(r()-1)*s()-(e.children.length-e.settings.maxSlides),h=f.children(".bx-clone").eq(j);g=h.position()}else if(c=="next"&&e.active.index==0)g=f.find("> .bx-clone").eq(e.settings.maxSlides).position(),e.active.last=!1;else if(b>=0){var k=b*s();g=e.children.eq(k).position()}if("undefined"!=typeof g){var l=e.settings.mode=="horizontal"?-(g.left-d):-g.top;u(l,"slide",e.settings.speed)}}},f.goToNextSlide=function(){if(!e.settings.infiniteLoop&&e.active.last)return;var a=parseInt(e.active.index)+1;f.goToSlide(a,"next")},f.goToPrevSlide=function(){if(!e.settings.infiniteLoop&&e.active.index==0)return;var a=parseInt(e.active.index)-1;f.goToSlide(a,"prev")},f.startAuto=function(a){if(e.interval)return;e.interval=setInterval(function(){e.settings.autoDirection=="next"?f.goToNextSlide():f.goToPrevSlide()},e.settings.pause),e.settings.autoControls&&a!=1&&H("stop")},f.stopAuto=function(a){if(!e.interval)return;clearInterval(e.interval),e.interval=null,e.settings.autoControls&&a!=1&&H("start")},f.getCurrentSlide=function(){return e.active.index},f.getCurrentSlideElement=function(){return e.children.eq(e.active.index)},f.getSlideCount=function(){return e.children.length},f.redrawSlider=function(){e.children.add(f.find(".bx-clone")).width(p()),e.viewport.css("height",n()),e.settings.ticker||t(),e.active.last&&(e.active.index=r()-1),e.active.index>=r()&&(e.active.last=!0),e.settings.pager&&!e.settings.pagerCustom&&(v(),F(e.active.index))},f.destroySlider=function(){if(!e.initialized)return;e.initialized=!1,a(".bx-clone",this).remove(),e.children.each(function(){a(this).data("origStyle")!=undefined?a(this).attr("style",a(this).data("origStyle")):a(this).removeAttr("style")}),a(this).data("origStyle")!=undefined?this.attr("style",a(this).data("origStyle")):a(this).removeAttr("style"),a(this).unwrap().unwrap(),e.controls.el&&e.controls.el.remove(),e.controls.next&&e.controls.next.remove(),e.controls.prev&&e.controls.prev.remove(),e.pagerEl&&e.settings.controls&&e.pagerEl.remove(),a(".bx-caption",this).remove(),e.controls.autoEl&&e.controls.autoEl.remove(),clearInterval(e.interval),e.settings.responsive&&a(window).unbind("resize",Q)},f.reloadSlider=function(a){a!=undefined&&(d=a),f.destroySlider(),j()},j(),this}})(jQuery)
;(function(a){typeof define=="function"&&define.amd?define(["jquery"],a):a(jQuery)})(function(a){var b=[],c=a(document),d=a.browser.msie&&parseInt(a.browser.version)===6&&typeof window.XMLHttpRequest!="object",e=a.browser.msie&&parseInt(a.browser.version)===7,f=null,g=a(window),h=[];a.modal=function(b,c){return a.modal.impl.init(b,c)},a.modal.close=function(){a.modal.impl.close()},a.modal.focus=function(b){a.modal.impl.focus(b)},a.modal.setContainerDimensions=function(){a.modal.impl.setContainerDimensions()},a.modal.setPosition=function(){a.modal.impl.setPosition()},a.modal.update=function(b,c){a.modal.impl.update(b,c)},a.fn.modal=function(b){return a.modal.impl.init(this,b)},a.modal.defaults={appendTo:"body",focus:!0,opacity:50,overlayId:"simplemodal-overlay",overlayCss:{},containerId:"simplemodal-container",containerCss:{},contentContainerId:"simplemodal-content",resizeContainerId:"simplemodal-resizeable",contentContainerCss:{},popupToolbarId:"popupToolbar",popupToolbarCss:{},dataId:"simplemodal-data",dataCss:{},minHeight:null,minWidth:null,maxHeight:null,maxWidth:null,autoResize:!1,autoPosition:!0,zIndex:1e3,close:!0,closeHTML:'<a class="modalCloseImg" title="Close"></a>',closeClass:"simplemodal-close",escClose:!0,overlayClose:!1,fixed:!0,position:null,persist:!1,modal:!0,onOpen:null,onShow:null,onClose:null,onResize:null},a.modal.impl={d:{},init:function(b,c){var d=this;if(d.d.data)return!1;f=a.browser.msie&&!a.boxModel,d.o=a.extend({},a.modal.defaults,c),d.zIndex=d.o.zIndex,d.occb=!1;if(typeof b=="object")b=b instanceof jQuery?b:a(b),d.d.placeholder=!1,b.parent().parent().size()>0&&(b.before(a("<span></span>").attr("id","simplemodal-placeholder").css({display:"none"})),d.d.placeholder=!0,d.display=b.css("display"),d.o.persist||(d.d.orig=b.clone(!0)));else if(typeof b=="string"||typeof b=="number")b=a("<div></div>").html(b);else return alert("SimpleModal Error: Unsupported data type: "+typeof b),d;return d.create(b),b=null,d.open(),a.isFunction(d.o.onShow)&&d.o.onShow.apply(d,[d.d]),d},create:function(c){var e=this;e.getDimensions(),e.o.modal&&d&&(e.d.iframe=a('<iframe src="javascript:false;"></iframe>').css(a.extend(e.o.iframeCss,{display:"none",opacity:0,position:"fixed",height:h[0],width:h[1],zIndex:e.o.zIndex,top:0,left:0})).appendTo(e.o.appendTo)),e.d.overlay=a("<div></div>").attr("id",e.o.overlayId).addClass("simplemodal-overlay").css(a.extend(e.o.overlayCss,{display:"none",opacity:e.o.opacity/100,height:e.o.modal?b[0]:0,width:e.o.modal?b[1]:0,position:"fixed",left:0,top:0,zIndex:e.o.zIndex+1})).appendTo(e.o.appendTo),e.d.container=a("<div></div>").attr("id",e.o.containerId).addClass("simplemodal-container").css(a.extend({position:e.o.fixed?"fixed":"absolute"},e.o.containerCss,{display:"none",zIndex:e.o.zIndex+2})).append(e.o.close&&e.o.closeHTML?a(e.o.closeHTML).addClass(e.o.closeClass):"").appendTo(e.o.appendTo),e.d.wrap=a("<div></div>").attr("tabIndex",-1).addClass("simplemodal-wrap").css({height:"100%",outline:0,width:"100%"}).appendTo(e.d.container),e.d.data=c.attr("id",c.attr("id")||e.o.dataId).addClass("simplemodal-data").css(a.extend(e.o.dataCss,{display:"none"})).appendTo("body"),c=null,e.setContainerDimensions(),e.d.data.appendTo(e.d.wrap),(d||f)&&e.fixIE()},bindEvents:function(){var e=this;a("."+e.o.closeClass).bind("click.simplemodal",function(a){a.preventDefault(),e.close()}),e.o.modal&&e.o.close&&e.o.overlayClose&&e.d.overlay.bind("click.simplemodal",function(a){a.preventDefault(),e.close()}),c.bind("keydown.simplemodal",function(a){e.o.modal&&a.keyCode===9?e.watchTab(a):e.o.close&&e.o.escClose&&a.keyCode===27&&(a.preventDefault(),e.close())}),g.bind("resize.simplemodal orientationchange.simplemodal",function(){e.getDimensions(),e.o.autoResize?e.setContainerDimensions():e.o.autoPosition&&e.setPosition(),d||f?e.fixIE():e.o.modal&&(e.d.iframe&&e.d.iframe.css({height:h[0],width:h[1]}),e.d.overlay.css({height:b[0],width:b[1]}))})},unbindEvents:function(){a("."+this.o.closeClass).unbind("click.simplemodal"),c.unbind("keydown.simplemodal"),g.unbind(".simplemodal"),this.d.overlay.unbind("click.simplemodal")},fixIE:function(){var b=this,c=b.o.position;a.each([b.d.iframe||null,b.o.modal?b.d.overlay:null,b.d.container.css("position")==="fixed"?b.d.container:null],function(a,b){if(b){var d="document.body.clientHeight",e="document.body.clientWidth",f="document.body.scrollHeight",g="document.body.scrollLeft",h="document.body.scrollTop",i="document.body.scrollWidth",j="document.documentElement.clientHeight",k="document.documentElement.clientWidth",l="document.documentElement.scrollLeft",m="document.documentElement.scrollTop",n=b[0].style;n.position="absolute";if(a<2)n.removeExpression("height"),n.removeExpression("width"),n.setExpression("height",""+f+" > "+d+" ? "+f+" : "+d+' + "px"'),n.setExpression("width",""+i+" > "+e+" ? "+i+" : "+e+' + "px"');else{var o,q;if(c&&c.constructor===Array){var r=c[0]?typeof c[0]=="number"?c[0].toString():c[0].replace(/px/,""):b.css("top").replace(/px/,"");o=r.indexOf("%")===-1?r+" + (t = "+m+" ? "+m+" : "+h+') + "px"':parseInt(r.replace(/%/,""))+" * (("+j+" || "+d+") / 100) + (t = "+m+" ? "+m+" : "+h+') + "px"';if(c[1]){var s=typeof c[1]=="number"?c[1].toString():c[1].replace(/px/,"");q=s.indexOf("%")===-1?s+" + (t = "+l+" ? "+l+" : "+g+') + "px"':parseInt(s.replace(/%/,""))+" * (("+k+" || "+e+") / 100) + (t = "+l+" ? "+l+" : "+g+') + "px"'}}else o="("+j+" || "+d+") / 2 - (this.offsetHeight / 2) + (t = "+m+" ? "+m+" : "+h+') + "px"',q="("+k+" || "+e+") / 2 - (this.offsetWidth / 2) + (t = "+l+" ? "+l+" : "+g+') + "px"';n.removeExpression("top"),n.removeExpression("left"),n.setExpression("top",o),n.setExpression("left",q)}}})},focus:function(b){var c=this,d=b&&a.inArray(b,["first","last"])!==-1?b:"first",e=a(":input:enabled:visible:"+d,c.d.wrap);setTimeout(function(){e.length>0?e.focus():c.d.wrap.focus()},10)},getDimensions:function(){var d=this,e=a.browser.opera&&a.browser.version>"9.5"&&a.fn.jquery<"1.3"||a.browser.opera&&a.browser.version<"9.5"&&a.fn.jquery>"1.2.6"?g[0].innerHeight:g.height();b=[c.height(),c.width()],h=[e,g.width()]},getVal:function(a,b){return a?typeof a=="number"?a:a==="auto"?0:a.indexOf("%")>0?parseInt(a.replace(/%/,""))/100*(b==="h"?h[0]:h[1]):parseInt(a.replace(/px/,"")):null},update:function(a,b){var c=this;if(!c.d.data)return!1;c.d.origHeight=c.getVal(a,"h"),c.d.origWidth=c.getVal(b,"w"),c.d.data.hide(),a&&c.d.container.css("height",a),b&&c.d.container.css("width",b),c.setContainerDimensions(),c.d.data.show(),c.o.focus&&c.focus(),c.unbindEvents(),c.bindEvents()},setContainerDimensions:function(){var b=this,c=d||e,f=b.d.origHeight?b.d.origHeight:a.browser.opera?b.d.container.height():b.getVal(c?b.d.container[0].currentStyle.height:b.d.container.css("height"),"h"),g=b.d.origWidth?b.d.origWidth:a.browser.opera?b.d.container.width():b.getVal(c?b.d.container[0].currentStyle.width:b.d.container.css("width"),"w"),i=b.d.data.outerHeight(!0),j=b.d.data.outerWidth(!0);b.d.origHeight=b.d.origHeight||f,b.d.origWidth=b.d.origWidth||g;var k=b.o.maxHeight?b.getVal(b.o.maxHeight,"h"):null,l=b.o.maxWidth?b.getVal(b.o.maxWidth,"w"):null,m=k&&k<h[0]?k:h[0],n=l&&l<h[1]?l:h[1],o=b.o.minHeight?b.getVal(b.o.minHeight,"h"):"auto";f?f=b.o.autoResize&&f>m?m:f<o?o:f:i?i>m?f=m:b.o.minHeight&&o!=="auto"&&i<o?f=o:f=i:f=o;var p=b.o.minWidth?b.getVal(b.o.minWidth,"w"):"auto";g?g=b.o.autoResize&&g>n?n:g<p?p:g:j?j>n?g=n:b.o.minWidth&&p!=="auto"&&j<p?g=p:g=j:g=p,b.o.onResize?b.o.onResize.apply(b,[b.d]):(b.d.container.css({height:f,width:g}),b.o.autoPosition&&b.setPosition())},setPosition:function(){var a=this,b,c,d=h[0]/2-a.d.container.outerHeight(!0)/2,e=h[1]/2-a.d.container.outerWidth(!0)/2,f=a.d.container.css("position")!=="fixed"?g.scrollTop():0;a.o.position&&Object.prototype.toString.call(a.o.position)==="[object Array]"?(b=f+(a.o.position[0]||d),c=a.o.position[1]||e):(b=f+d,c=e),a.d.container.css({left:c,top:b})},watchTab:function(b){var c=this;if(a(b.target).parents(".simplemodal-container").length>0){c.inputs=a(":input:enabled:visible:first, :input:enabled:visible:last",c.d.data[0]);if(!b.shiftKey&&b.target===c.inputs[c.inputs.length-1]||b.shiftKey&&b.target===c.inputs[0]||c.inputs.length===0){b.preventDefault();var d=b.shiftKey?"last":"first";c.focus(d)}}else b.preventDefault(),c.focus()},open:function(){var b=this;b.d.iframe&&b.d.iframe.show(),a.isFunction(b.o.onOpen)?b.o.onOpen.apply(b,[b.d]):(b.d.overlay.show(),b.d.container.show(),b.d.data.show()),b.o.focus&&b.focus(),b.bindEvents()},close:function(){var b=this;if(!b.d.data)return!1;b.unbindEvents();if(a.isFunction(b.o.onClose)&&!b.occb)b.occb=!0,b.o.onClose.apply(b,[b.d]);else{if(b.d.placeholder){var c=a("#simplemodal-placeholder");b.o.persist?c.replaceWith(b.d.data.removeClass("simplemodal-data").css("display",b.display)):(b.d.data.hide().remove(),c.replaceWith(b.d.orig))}else b.d.data.hide().remove();b.d.container.hide().remove(),b.d.overlay.hide(),b.d.iframe&&b.d.iframe.hide().remove(),b.d.overlay.remove(),b.d={}}}}})
;/*! jQuery UI - v1.8.21 - 2012-06-05
* https://github.com/jquery/jquery-ui
* Includes: jquery.ui.core.js, jquery.ui.widget.js, jquery.ui.mouse.js, jquery.ui.draggable.js, jquery.ui.droppable.js, jquery.ui.resizable.js, jquery.ui.selectable.js, jquery.ui.sortable.js, jquery.effects.core.js, jquery.effects.blind.js, jquery.effects.bounce.js, jquery.effects.clip.js, jquery.effects.drop.js, jquery.effects.explode.js, jquery.effects.fade.js, jquery.effects.fold.js, jquery.effects.highlight.js, jquery.effects.pulsate.js, jquery.effects.scale.js, jquery.effects.shake.js, jquery.effects.slide.js, jquery.effects.transfer.js, jquery.ui.accordion.js, jquery.ui.autocomplete.js, jquery.ui.button.js, jquery.ui.datepicker.js, jquery.ui.dialog.js, jquery.ui.position.js, jquery.ui.progressbar.js, jquery.ui.slider.js, jquery.ui.tabs.js
* Copyright (c) 2012 AUTHORS.txt; Licensed MIT, GPL */
(function(a,b){function c(b,c){var e=b.nodeName.toLowerCase();if("area"===e){var f=b.parentNode,g=f.name,h;return!b.href||!g||f.nodeName.toLowerCase()!=="map"?!1:(h=a("img[usemap=#"+g+"]")[0],!!h&&d(h))}return(/input|select|textarea|button|object/.test(e)?!b.disabled:"a"==e?b.href||c:c)&&d(b)}function d(b){return!a(b).parents().andSelf().filter(function(){return a.curCSS(this,"visibility")==="hidden"||a.expr.filters.hidden(this)}).length}a.ui=a.ui||{};if(a.ui.version)return;a.extend(a.ui,{version:"1.8.21",keyCode:{ALT:18,BACKSPACE:8,CAPS_LOCK:20,COMMA:188,COMMAND:91,COMMAND_LEFT:91,COMMAND_RIGHT:93,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,MENU:93,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,WINDOWS:91}}),a.fn.extend({propAttr:a.fn.prop||a.fn.attr,_focus:a.fn.focus,focus:function(b,c){return typeof b=="number"?this.each(function(){var d=this;setTimeout(function(){a(d).focus(),c&&c.call(d)},b)}):this._focus.apply(this,arguments)},scrollParent:function(){var b;return a.browser.msie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?b=this.parents().filter(function(){return/(relative|absolute|fixed)/.test(a.curCSS(this,"position",1))&&/(auto|scroll)/.test(a.curCSS(this,"overflow",1)+a.curCSS(this,"overflow-y",1)+a.curCSS(this,"overflow-x",1))}).eq(0):b=this.parents().filter(function(){return/(auto|scroll)/.test(a.curCSS(this,"overflow",1)+a.curCSS(this,"overflow-y",1)+a.curCSS(this,"overflow-x",1))}).eq(0),/fixed/.test(this.css("position"))||!b.length?a(document):b},zIndex:function(c){if(c!==b)return this.css("zIndex",c);if(this.length){var d=a(this[0]),e,f;while(d.length&&d[0]!==document){e=d.css("position");if(e==="absolute"||e==="relative"||e==="fixed"){f=parseInt(d.css("zIndex"),10);if(!isNaN(f)&&f!==0)return f}d=d.parent()}}return 0},disableSelection:function(){return this.bind((a.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(a){a.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}}),a.each(["Width","Height"],function(c,d){function h(b,c,d,f){return a.each(e,function(){c-=parseFloat(a.curCSS(b,"padding"+this,!0))||0,d&&(c-=parseFloat(a.curCSS(b,"border"+this+"Width",!0))||0),f&&(c-=parseFloat(a.curCSS(b,"margin"+this,!0))||0)}),c}var e=d==="Width"?["Left","Right"]:["Top","Bottom"],f=d.toLowerCase(),g={innerWidth:a.fn.innerWidth,innerHeight:a.fn.innerHeight,outerWidth:a.fn.outerWidth,outerHeight:a.fn.outerHeight};a.fn["inner"+d]=function(c){return c===b?g["inner"+d].call(this):this.each(function(){a(this).css(f,h(this,c)+"px")})},a.fn["outer"+d]=function(b,c){return typeof b!="number"?g["outer"+d].call(this,b):this.each(function(){a(this).css(f,h(this,b,!0,c)+"px")})}}),a.extend(a.expr[":"],{data:function(b,c,d){return!!a.data(b,d[3])},focusable:function(b){return c(b,!isNaN(a.attr(b,"tabindex")))},tabbable:function(b){var d=a.attr(b,"tabindex"),e=isNaN(d);return(e||d>=0)&&c(b,!e)}}),a(function(){var b=document.body,c=b.appendChild(c=document.createElement("div"));c.offsetHeight,a.extend(c.style,{minHeight:"100px",height:"auto",padding:0,borderWidth:0}),a.support.minHeight=c.offsetHeight===100,a.support.selectstart="onselectstart"in c,b.removeChild(c).style.display="none"}),a.extend(a.ui,{plugin:{add:function(b,c,d){var e=a.ui[b].prototype;for(var f in d)e.plugins[f]=e.plugins[f]||[],e.plugins[f].push([c,d[f]])},call:function(a,b,c){var d=a.plugins[b];if(!d||!a.element[0].parentNode)return;for(var e=0;e<d.length;e++)a.options[d[e][0]]&&d[e][1].apply(a.element,c)}},contains:function(a,b){return document.compareDocumentPosition?a.compareDocumentPosition(b)&16:a!==b&&a.contains(b)},hasScroll:function(b,c){if(a(b).css("overflow")==="hidden")return!1;var d=c&&c==="left"?"scrollLeft":"scrollTop",e=!1;return b[d]>0?!0:(b[d]=1,e=b[d]>0,b[d]=0,e)},isOverAxis:function(a,b,c){return a>b&&a<b+c},isOver:function(b,c,d,e,f,g){return a.ui.isOverAxis(b,d,f)&&a.ui.isOverAxis(c,e,g)}})})(jQuery),function(a,b){if(a.cleanData){var c=a.cleanData;a.cleanData=function(b){for(var d=0,e;(e=b[d])!=null;d++)try{a(e).triggerHandler("remove")}catch(f){}c(b)}}else{var d=a.fn.remove;a.fn.remove=function(b,c){return this.each(function(){return c||(!b||a.filter(b,[this]).length)&&a("*",this).add([this]).each(function(){try{a(this).triggerHandler("remove")}catch(b){}}),d.call(a(this),b,c)})}}a.widget=function(b,c,d){var e=b.split(".")[0],f;b=b.split(".")[1],f=e+"-"+b,d||(d=c,c=a.Widget),a.expr[":"][f]=function(c){return!!a.data(c,b)},a[e]=a[e]||{},a[e][b]=function(a,b){arguments.length&&this._createWidget(a,b)};var g=new c;g.options=a.extend(!0,{},g.options),a[e][b].prototype=a.extend(!0,g,{namespace:e,widgetName:b,widgetEventPrefix:a[e][b].prototype.widgetEventPrefix||b,widgetBaseClass:f},d),a.widget.bridge(b,a[e][b])},a.widget.bridge=function(c,d){a.fn[c]=function(e){var f=typeof e=="string",g=Array.prototype.slice.call(arguments,1),h=this;return e=!f&&g.length?a.extend.apply(null,[!0,e].concat(g)):e,f&&e.charAt(0)==="_"?h:(f?this.each(function(){var d=a.data(this,c),f=d&&a.isFunction(d[e])?d[e].apply(d,g):d;if(f!==d&&f!==b)return h=f,!1}):this.each(function(){var b=a.data(this,c);b?b.option(e||{})._init():a.data(this,c,new d(e,this))}),h)}},a.Widget=function(a,b){arguments.length&&this._createWidget(a,b)},a.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",options:{disabled:!1},_createWidget:function(b,c){a.data(c,this.widgetName,this),this.element=a(c),this.options=a.extend(!0,{},this.options,this._getCreateOptions(),b);var d=this;this.element.bind("remove."+this.widgetName,function(){d.destroy()}),this._create(),this._trigger("create"),this._init()},_getCreateOptions:function(){return a.metadata&&a.metadata.get(this.element[0])[this.widgetName]},_create:function(){},_init:function(){},destroy:function(){this.element.unbind("."+this.widgetName).removeData(this.widgetName),this.widget().unbind("."+this.widgetName).removeAttr("aria-disabled").removeClass(this.widgetBaseClass+"-disabled "+"ui-state-disabled")},widget:function(){return this.element},option:function(c,d){var e=c;if(arguments.length===0)return a.extend({},this.options);if(typeof c=="string"){if(d===b)return this.options[c];e={},e[c]=d}return this._setOptions(e),this},_setOptions:function(b){var c=this;return a.each(b,function(a,b){c._setOption(a,b)}),this},_setOption:function(a,b){return this.options[a]=b,a==="disabled"&&this.widget()[b?"addClass":"removeClass"](this.widgetBaseClass+"-disabled"+" "+"ui-state-disabled").attr("aria-disabled",b),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_trigger:function(b,c,d){var e,f,g=this.options[b];d=d||{},c=a.Event(c),c.type=(b===this.widgetEventPrefix?b:this.widgetEventPrefix+b).toLowerCase(),c.target=this.element[0],f=c.originalEvent;if(f)for(e in f)e in c||(c[e]=f[e]);return this.element.trigger(c,d),!(a.isFunction(g)&&g.call(this.element[0],c,d)===!1||c.isDefaultPrevented())}}}(jQuery),function(a,b){var c=!1;a(document).mouseup(function(a){c=!1}),a.widget("ui.mouse",{options:{cancel:":input,option",distance:1,delay:0},_mouseInit:function(){var b=this;this.element.bind("mousedown."+this.widgetName,function(a){return b._mouseDown(a)}).bind("click."+this.widgetName,function(c){if(!0===a.data(c.target,b.widgetName+".preventClickEvent"))return a.removeData(c.target,b.widgetName+".preventClickEvent"),c.stopImmediatePropagation(),!1}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),a(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(b){if(c)return;this._mouseStarted&&this._mouseUp(b),this._mouseDownEvent=b;var d=this,e=b.which==1,f=typeof this.options.cancel=="string"&&b.target.nodeName?a(b.target).closest(this.options.cancel).length:!1;if(!e||f||!this._mouseCapture(b))return!0;this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){d.mouseDelayMet=!0},this.options.delay));if(this._mouseDistanceMet(b)&&this._mouseDelayMet(b)){this._mouseStarted=this._mouseStart(b)!==!1;if(!this._mouseStarted)return b.preventDefault(),!0}return!0===a.data(b.target,this.widgetName+".preventClickEvent")&&a.removeData(b.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(a){return d._mouseMove(a)},this._mouseUpDelegate=function(a){return d._mouseUp(a)},a(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),b.preventDefault(),c=!0,!0},_mouseMove:function(b){return!a.browser.msie||document.documentMode>=9||!!b.button?this._mouseStarted?(this._mouseDrag(b),b.preventDefault()):(this._mouseDistanceMet(b)&&this._mouseDelayMet(b)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,b)!==!1,this._mouseStarted?this._mouseDrag(b):this._mouseUp(b)),!this._mouseStarted):this._mouseUp(b)},_mouseUp:function(b){return a(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,b.target==this._mouseDownEvent.target&&a.data(b.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(b)),!1},_mouseDistanceMet:function(a){return Math.max(Math.abs(this._mouseDownEvent.pageX-a.pageX),Math.abs(this._mouseDownEvent.pageY-a.pageY))>=this.options.distance},_mouseDelayMet:function(a){return this.mouseDelayMet},_mouseStart:function(a){},_mouseDrag:function(a){},_mouseStop:function(a){},_mouseCapture:function(a){return!0}})}(jQuery),function(a,b){a.widget("ui.draggable",a.ui.mouse,{widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1},_create:function(){this.options.helper=="original"&&!/^(?:r|a|f)/.test(this.element.css("position"))&&(this.element[0].style.position="relative"),this.options.addClasses&&this.element.addClass("ui-draggable"),this.options.disabled&&this.element.addClass("ui-draggable-disabled"),this._mouseInit()},destroy:function(){if(!this.element.data("draggable"))return;return this.element.removeData("draggable").unbind(".draggable").removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._mouseDestroy(),this},_mouseCapture:function(b){var c=this.options;return this.helper||c.disabled||a(b.target).is(".ui-resizable-handle")?!1:(this.handle=this._getHandle(b),this.handle?(c.iframeFix&&a(c.iframeFix===!0?"iframe":c.iframeFix).each(function(){a('<div class="ui-draggable-iframeFix" style="background: #fff;"></div>').css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1e3}).css(a(this).offset()).appendTo("body")}),!0):!1)},_mouseStart:function(b){var c=this.options;return this.helper=this._createHelper(b),this.helper.addClass("ui-draggable-dragging"),this._cacheHelperProportions(),a.ui.ddmanager&&(a.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(),this.offset=this.positionAbs=this.element.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},a.extend(this.offset,{click:{left:b.pageX-this.offset.left,top:b.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.originalPosition=this.position=this._generatePosition(b),this.originalPageX=b.pageX,this.originalPageY=b.pageY,c.cursorAt&&this._adjustOffsetFromHelper(c.cursorAt),c.containment&&this._setContainment(),this._trigger("start",b)===!1?(this._clear(),!1):(this._cacheHelperProportions(),a.ui.ddmanager&&!c.dropBehaviour&&a.ui.ddmanager.prepareOffsets(this,b),this._mouseDrag(b,!0),a.ui.ddmanager&&a.ui.ddmanager.dragStart(this,b),!0)},_mouseDrag:function(b,c){this.position=this._generatePosition(b),this.positionAbs=this._convertPositionTo("absolute");if(!c){var d=this._uiHash();if(this._trigger("drag",b,d)===!1)return this._mouseUp({}),!1;this.position=d.position}if(!this.options.axis||this.options.axis!="y")this.helper[0].style.left=this.position.left+"px";if(!this.options.axis||this.options.axis!="x")this.helper[0].style.top=this.position.top+"px";return a.ui.ddmanager&&a.ui.ddmanager.drag(this,b),!1},_mouseStop:function(b){var c=!1;a.ui.ddmanager&&!this.options.dropBehaviour&&(c=a.ui.ddmanager.drop(this,b)),this.dropped&&(c=this.dropped,this.dropped=!1);var d=this.element[0],e=!1;while(d&&(d=d.parentNode))d==document&&(e=!0);if(!e&&this.options.helper==="original")return!1;if(this.options.revert=="invalid"&&!c||this.options.revert=="valid"&&c||this.options.revert===!0||a.isFunction(this.options.revert)&&this.options.revert.call(this.element,c)){var f=this;a(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){f._trigger("stop",b)!==!1&&f._clear()})}else this._trigger("stop",b)!==!1&&this._clear();return!1},_mouseUp:function(b){return this.options.iframeFix===!0&&a("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this)}),a.ui.ddmanager&&a.ui.ddmanager.dragStop(this,b),a.ui.mouse.prototype._mouseUp.call(this,b)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(b){var c=!this.options.handle||!a(this.options.handle,this.element).length?!0:!1;return a(this.options.handle,this.element).find("*").andSelf().each(function(){this==b.target&&(c=!0)}),c},_createHelper:function(b){var c=this.options,d=a.isFunction(c.helper)?a(c.helper.apply(this.element[0],[b])):c.helper=="clone"?this.element.clone().removeAttr("id"):this.element;return d.parents("body").length||d.appendTo(c.appendTo=="parent"?this.element[0].parentNode:c.appendTo),d[0]!=this.element[0]&&!/(fixed|absolute)/.test(d.css("position"))&&d.css("position","absolute"),d},_adjustOffsetFromHelper:function(b){typeof b=="string"&&(b=b.split(" ")),a.isArray(b)&&(b={left:+b[0],top:+b[1]||0}),"left"in b&&(this.offset.click.left=b.left+this.margins.left),"right"in b&&(this.offset.click.left=this.helperProportions.width-b.right+this.margins.left),"top"in b&&(this.offset.click.top=b.top+this.margins.top),"bottom"in b&&(this.offset.click.top=this.helperProportions.height-b.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var b=this.offsetParent.offset();this.cssPosition=="absolute"&&this.scrollParent[0]!=document&&a.ui.contains(this.scrollParent[0],this.offsetParent[0])&&(b.left+=this.scrollParent.scrollLeft(),b.top+=this.scrollParent.scrollTop());if(this.offsetParent[0]==document.body||this.offsetParent[0].tagName&&this.offsetParent[0].tagName.toLowerCase()=="html"&&a.browser.msie)b={top:0,left:0};return{top:b.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:b.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if(this.cssPosition=="relative"){var a=this.element.position();return{top:a.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:a.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var b=this.options;b.containment=="parent"&&(b.containment=this.helper[0].parentNode);if(b.containment=="document"||b.containment=="window")this.containment=[b.containment=="document"?0:a(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,b.containment=="document"?0:a(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,(b.containment=="document"?0:a(window).scrollLeft())+a(b.containment=="document"?document:window).width()-this.helperProportions.width-this.margins.left,(b.containment=="document"?0:a(window).scrollTop())+(a(b.containment=="document"?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top];if(!/^(document|window|parent)$/.test(b.containment)&&b.containment.constructor!=Array){var c=a(b.containment),d=c[0];if(!d)return;var e=c.offset(),f=a(d).css("overflow")!="hidden";this.containment=[(parseInt(a(d).css("borderLeftWidth"),10)||0)+(parseInt(a(d).css("paddingLeft"),10)||0),(parseInt(a(d).css("borderTopWidth"),10)||0)+(parseInt(a(d).css("paddingTop"),10)||0),(f?Math.max(d.scrollWidth,d.offsetWidth):d.offsetWidth)-(parseInt(a(d).css("borderLeftWidth"),10)||0)-(parseInt(a(d).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(f?Math.max(d.scrollHeight,d.offsetHeight):d.offsetHeight)-(parseInt(a(d).css("borderTopWidth"),10)||0)-(parseInt(a(d).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relative_container=c}else b.containment.constructor==Array&&(this.containment=b.containment)},_convertPositionTo:function(b,c){c||(c=this.position);var d=b=="absolute"?1:-1,e=this.options,f=this.cssPosition=="absolute"&&(this.scrollParent[0]==document||!a.ui.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,g=/(html|body)/i.test(f[0].tagName);return{top:c.top+this.offset.relative.top*d+this.offset.parent.top*d-(a.browser.safari&&a.browser.version<526&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollTop():g?0:f.scrollTop())*d),left:c.left+this.offset.relative.left*d+this.offset.parent.left*d-(a.browser.safari&&a.browser.version<526&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():g?0:f.scrollLeft())*d)}},_generatePosition:function(b){var c=this.options,d=this.cssPosition=="absolute"&&(this.scrollParent[0]==document||!a.ui.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,e=/(html|body)/i.test(d[0].tagName),f=b.pageX,g=b.pageY;if(this.originalPosition){var h;if(this.containment){if(this.relative_container){var i=this.relative_container.offset();h=[this.containment[0]+i.left,this.containment[1]+i.top,this.containment[2]+i.left,this.containment[3]+i.top]}else h=this.containment;b.pageX-this.offset.click.left<h[0]&&(f=h[0]+this.offset.click.left),b.pageY-this.offset.click.top<h[1]&&(g=h[1]+this.offset.click.top),b.pageX-this.offset.click.left>h[2]&&(f=h[2]+this.offset.click.left),b.pageY-this.offset.click.top>h[3]&&(g=h[3]+this.offset.click.top)}if(c.grid){var j=c.grid[1]?this.originalPageY+Math.round((g-this.originalPageY)/c.grid[1])*c.grid[1]:this.originalPageY;g=h?j-this.offset.click.top<h[1]||j-this.offset.click.top>h[3]?j-this.offset.click.top<h[1]?j+c.grid[1]:j-c.grid[1]:j:j;var k=c.grid[0]?this.originalPageX+Math.round((f-this.originalPageX)/c.grid[0])*c.grid[0]:this.originalPageX;f=h?k-this.offset.click.left<h[0]||k-this.offset.click.left>h[2]?k-this.offset.click.left<h[0]?k+c.grid[0]:k-c.grid[0]:k:k}}return{top:g-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(a.browser.safari&&a.browser.version<526&&this.cssPosition=="fixed"?0:this.cssPosition=="fixed"?-this.scrollParent.scrollTop():e?0:d.scrollTop()),left:f-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(a.browser.safari&&a.browser.version<526&&this.cssPosition=="fixed"?0:this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():e?0:d.scrollLeft())}},_clear:function(){this.helper.removeClass("ui-draggable-dragging"),this.helper[0]!=this.element[0]&&!this.cancelHelperRemoval&&this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1},_trigger:function(b,c,d){return d=d||this._uiHash(),a.ui.plugin.call(this,b,[c,d]),b=="drag"&&(this.positionAbs=this._convertPositionTo("absolute")),a.Widget.prototype._trigger.call(this,b,c,d)},plugins:{},_uiHash:function(a){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),a.extend(a.ui.draggable,{version:"1.8.21"}),a.ui.plugin.add("draggable","connectToSortable",{start:function(b,c){var d=a(this).data("draggable"),e=d.options,f=a.extend({},c,{item:d.element});d.sortables=[],a(e.connectToSortable).each(function(){var c=a.data(this,"sortable");c&&!c.options.disabled&&(d.sortables.push({instance:c,shouldRevert:c.options.revert}),c.refreshPositions(),c._trigger("activate",b,f))})},stop:function(b,c){var d=a(this).data("draggable"),e=a.extend({},c,{item:d.element});a.each(d.sortables,function(){this.instance.isOver?(this.instance.isOver=0,d.cancelHelperRemoval=!0,this.instance.cancelHelperRemoval=!1,this.shouldRevert&&(this.instance.options.revert=!0),this.instance._mouseStop(b),this.instance.options.helper=this.instance.options._helper,d.options.helper=="original"&&this.instance.currentItem.css({top:"auto",left:"auto"})):(this.instance.cancelHelperRemoval=!1,this.instance._trigger("deactivate",b,e))})},drag:function(b,c){var d=a(this).data("draggable"),e=this,f=function(b){var c=this.offset.click.top,d=this.offset.click.left,e=this.positionAbs.top,f=this.positionAbs.left,g=b.height,h=b.width,i=b.top,j=b.left;return a.ui.isOver(e+c,f+d,i,j,g,h)};a.each(d.sortables,function(f){this.instance.positionAbs=d.positionAbs,this.instance.helperProportions=d.helperProportions,this.instance.offset.click=d.offset.click,this.instance._intersectsWith(this.instance.containerCache)?(this.instance.isOver||(this.instance.isOver=1,this.instance.currentItem=a(e).clone().removeAttr("id").appendTo(this.instance.element).data("sortable-item",!0),this.instance.options._helper=this.instance.options.helper,this.instance.options.helper=function(){return c.helper[0]},b.target=this.instance.currentItem[0],this.instance._mouseCapture(b,!0),this.instance._mouseStart(b,!0,!0),this.instance.offset.click.top=d.offset.click.top,this.instance.offset.click.left=d.offset.click.left,this.instance.offset.parent.left-=d.offset.parent.left-this.instance.offset.parent.left,this.instance.offset.parent.top-=d.offset.parent.top-this.instance.offset.parent.top,d._trigger("toSortable",b),d.dropped=this.instance.element,d.currentItem=d.element,this.instance.fromOutside=d),this.instance.currentItem&&this.instance._mouseDrag(b)):this.instance.isOver&&(this.instance.isOver=0,this.instance.cancelHelperRemoval=!0,this.instance.options.revert=!1,this.instance._trigger("out",b,this.instance._uiHash(this.instance)),this.instance._mouseStop(b,!0),this.instance.options.helper=this.instance.options._helper,this.instance.currentItem.remove(),this.instance.placeholder&&this.instance.placeholder.remove(),d._trigger("fromSortable",b),d.dropped=!1)})}}),a.ui.plugin.add("draggable","cursor",{start:function(b,c){var d=a("body"),e=a(this).data("draggable").options;d.css("cursor")&&(e._cursor=d.css("cursor")),d.css("cursor",e.cursor)},stop:function(b,c){var d=a(this).data("draggable").options;d._cursor&&a("body").css("cursor",d._cursor)}}),a.ui.plugin.add("draggable","opacity",{start:function(b,c){var d=a(c.helper),e=a(this).data("draggable").options;d.css("opacity")&&(e._opacity=d.css("opacity")),d.css("opacity",e.opacity)},stop:function(b,c){var d=a(this).data("draggable").options;d._opacity&&a(c.helper).css("opacity",d._opacity)}}),a.ui.plugin.add("draggable","scroll",{start:function(b,c){var d=a(this).data("draggable");d.scrollParent[0]!=document&&d.scrollParent[0].tagName!="HTML"&&(d.overflowOffset=d.scrollParent.offset())},drag:function(b,c){var d=a(this).data("draggable"),e=d.options,f=!1;if(d.scrollParent[0]!=document&&d.scrollParent[0].tagName!="HTML"){if(!e.axis||e.axis!="x")d.overflowOffset.top+d.scrollParent[0].offsetHeight-b.pageY<e.scrollSensitivity?d.scrollParent[0].scrollTop=f=d.scrollParent[0].scrollTop+e.scrollSpeed:b.pageY-d.overflowOffset.top<e.scrollSensitivity&&(d.scrollParent[0].scrollTop=f=d.scrollParent[0].scrollTop-e.scrollSpeed);if(!e.axis||e.axis!="y")d.overflowOffset.left+d.scrollParent[0].offsetWidth-b.pageX<e.scrollSensitivity?d.scrollParent[0].scrollLeft=f=d.scrollParent[0].scrollLeft+e.scrollSpeed:b.pageX-d.overflowOffset.left<e.scrollSensitivity&&(d.scrollParent[0].scrollLeft=f=d.scrollParent[0].scrollLeft-e.scrollSpeed)}else{if(!e.axis||e.axis!="x")b.pageY-a(document).scrollTop()<e.scrollSensitivity?f=a(document).scrollTop(a(document).scrollTop()-e.scrollSpeed):a(window).height()-(b.pageY-a(document).scrollTop())<e.scrollSensitivity&&(f=a(document).scrollTop(a(document).scrollTop()+e.scrollSpeed));if(!e.axis||e.axis!="y")b.pageX-a(document).scrollLeft()<e.scrollSensitivity?f=a(document).scrollLeft(a(document).scrollLeft()-e.scrollSpeed):a(window).width()-(b.pageX-a(document).scrollLeft())<e.scrollSensitivity&&(f=a(document).scrollLeft(a(document).scrollLeft()+e.scrollSpeed))}f!==!1&&a.ui.ddmanager&&!e.dropBehaviour&&a.ui.ddmanager.prepareOffsets(d,b)}}),a.ui.plugin.add("draggable","snap",{start:function(b,c){var d=a(this).data("draggable"),e=d.options;d.snapElements=[],a(e.snap.constructor!=String?e.snap.items||":data(draggable)":e.snap).each(function(){var b=a(this),c=b.offset();this!=d.element[0]&&d.snapElements.push({item:this,width:b.outerWidth(),height:b.outerHeight(),top:c.top,left:c.left})})},drag:function(b,c){var d=a(this).data("draggable"),e=d.options,f=e.snapTolerance,g=c.offset.left,h=g+d.helperProportions.width,i=c.offset.top,j=i+d.helperProportions.height;for(var k=d.snapElements.length-1;k>=0;k--){var l=d.snapElements[k].left,m=l+d.snapElements[k].width,n=d.snapElements[k].top,o=n+d.snapElements[k].height;if(!(l-f<g&&g<m+f&&n-f<i&&i<o+f||l-f<g&&g<m+f&&n-f<j&&j<o+f||l-f<h&&h<m+f&&n-f<i&&i<o+f||l-f<h&&h<m+f&&n-f<j&&j<o+f)){d.snapElements[k].snapping&&d.options.snap.release&&d.options.snap.release.call(d.element,b,a.extend(d._uiHash(),{snapItem:d.snapElements[k].item})),d.snapElements[k].snapping=!1;continue}if(e.snapMode!="inner"){var p=Math.abs(n-j)<=f,q=Math.abs(o-i)<=f,r=Math.abs(l-h)<=f,s=Math.abs(m-g)<=f;p&&(c.position.top=d._convertPositionTo("relative",{top:n-d.helperProportions.height,left:0}).top-d.margins.top),q&&(c.position.top=d._convertPositionTo("relative",{top:o,left:0}).top-d.margins.top),r&&(c.position.left=d._convertPositionTo("relative",{top:0,left:l-d.helperProportions.width}).left-d.margins.left),s&&(c.position.left=d._convertPositionTo("relative",{top:0,left:m}).left-d.margins.left)}var t=p||q||r||s;if(e.snapMode!="outer"){var p=Math.abs(n-i)<=f,q=Math.abs(o-j)<=f,r=Math.abs(l-g)<=f,s=Math.abs(m-h)<=f;p&&(c.position.top=d._convertPositionTo("relative",{top:n,left:0}).top-d.margins.top),q&&(c.position.top=d._convertPositionTo("relative",{top:o-d.helperProportions.height,left:0}).top-d.margins.top),r&&(c.position.left=d._convertPositionTo("relative",{top:0,left:l}).left-d.margins.left),s&&(c.position.left=d._convertPositionTo("relative",{top:0,left:m-d.helperProportions.width}).left-d.margins.left)}!d.snapElements[k].snapping&&(p||q||r||s||t)&&d.options.snap.snap&&d.options.snap.snap.call(d.element,b,a.extend(d._uiHash(),{snapItem:d.snapElements[k].item})),d.snapElements[k].snapping=p||q||r||s||t}}}),a.ui.plugin.add("draggable","stack",{start:function(b,c){var d=a(this).data("draggable").options,e=a.makeArray(a(d.stack)).sort(function(b,c){return(parseInt(a(b).css("zIndex"),10)||0)-(parseInt(a(c).css("zIndex"),10)||0)});if(!e.length)return;var f=parseInt(e[0].style.zIndex)||0;a(e).each(function(a){this.style.zIndex=f+a}),this[0].style.zIndex=f+e.length}}),a.ui.plugin.add("draggable","zIndex",{start:function(b,c){var d=a(c.helper),e=a(this).data("draggable").options;d.css("zIndex")&&(e._zIndex=d.css("zIndex")),d.css("zIndex",e.zIndex)},stop:function(b,c){var d=a(this).data("draggable").options;d._zIndex&&a(c.helper).css("zIndex",d._zIndex)}})}(jQuery),function(a,b){a.widget("ui.droppable",{widgetEventPrefix:"drop",options:{accept:"*",activeClass:!1,addClasses:!0,greedy:!1,hoverClass:!1,scope:"default",tolerance:"intersect"},_create:function(){var b=this.options,c=b.accept;this.isover=0,this.isout=1,this.accept=a.isFunction(c)?c:function(a){return a.is(c)},this.proportions={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight},a.ui.ddmanager.droppables[b.scope]=a.ui.ddmanager.droppables[b.scope]||[],a.ui.ddmanager.droppables[b.scope].push(this),b.addClasses&&this.element.addClass("ui-droppable")},destroy:function(){var b=a.ui.ddmanager.droppables[this.options.scope];for(var c=0;c<b.length;c++)b[c]==this&&b.splice(c,1);return this.element.removeClass("ui-droppable ui-droppable-disabled").removeData("droppable").unbind(".droppable"),this},_setOption:function(b,c){b=="accept"&&(this.accept=a.isFunction(c)?c:function(a){return a.is(c)}),a.Widget.prototype._setOption.apply(this,arguments)},_activate:function(b){var c=a.ui.ddmanager.current;this.options.activeClass&&this.element.addClass(this.options.activeClass),c&&this._trigger("activate",b,this.ui(c))},_deactivate:function(b){var c=a.ui.ddmanager.current;this.options.activeClass&&this.element.removeClass(this.options.activeClass),c&&this._trigger("deactivate",b,this.ui(c))},_over:function(b){var c=a.ui.ddmanager.current;if(!c||(c.currentItem||c.element)[0]==this.element[0])return;this.accept.call(this.element[0],c.currentItem||c.element)&&(this.options.hoverClass&&this.element.addClass(this.options.hoverClass),this._trigger("over",b,this.ui(c)))},_out:function(b){var c=a.ui.ddmanager.current;if(!c||(c.currentItem||c.element)[0]==this.element[0])return;this.accept.call(this.element[0],c.currentItem||c.element)&&(this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("out",b,this.ui(c)))},_drop:function(b,c){var d=c||a.ui.ddmanager.current;if(!d||(d.currentItem||d.element)[0]==this.element[0])return!1;var e=!1;return this.element.find(":data(droppable)").not(".ui-draggable-dragging").each(function(){var b=a.data(this,"droppable");if(b.options.greedy&&!b.options.disabled&&b.options.scope==d.options.scope&&b.accept.call(b.element[0],d.currentItem||d.element)&&a.ui.intersect(d,a.extend(b,{offset:b.element.offset()}),b.options.tolerance))return e=!0,!1}),e?!1:this.accept.call(this.element[0],d.currentItem||d.element)?(this.options.activeClass&&this.element.removeClass(this.options.activeClass),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("drop",b,this.ui(d)),this.element):!1},ui:function(a){return{draggable:a.currentItem||a.element,helper:a.helper,position:a.position,offset:a.positionAbs}}}),a.extend(a.ui.droppable,{version:"1.8.21"}),a.ui.intersect=function(b,c,d){if(!c.offset)return!1;var e=(b.positionAbs||b.position.absolute).left,f=e+b.helperProportions.width,g=(b.positionAbs||b.position.absolute).top,h=g+b.helperProportions.height,i=c.offset.left,j=i+c.proportions.width,k=c.offset.top,l=k+c.proportions.height;switch(d){case"fit":return i<=e&&f<=j&&k<=g&&h<=l;case"intersect":return i<e+b.helperProportions.width/2&&f-b.helperProportions.width/2<j&&k<g+b.helperProportions.height/2&&h-b.helperProportions.height/2<l;case"pointer":var m=(b.positionAbs||b.position.absolute).left+(b.clickOffset||b.offset.click).left,n=(b.positionAbs||b.position.absolute).top+(b.clickOffset||b.offset.click).top,o=a.ui.isOver(n,m,k,i,c.proportions.height,c.proportions.width);return o;case"touch":return(g>=k&&g<=l||h>=k&&h<=l||g<k&&h>l)&&(e>=i&&e<=j||f>=i&&f<=j||e<i&&f>j);default:return!1}},a.ui.ddmanager={current:null,droppables:{"default":[]},prepareOffsets:function(b,c){var d=a.ui.ddmanager.droppables[b.options.scope]||[],e=c?c.type:null,f=(b.currentItem||b.element).find(":data(droppable)").andSelf();g:for(var h=0;h<d.length;h++){if(d[h].options.disabled||b&&!d[h].accept.call(d[h].element[0],b.currentItem||b.element))continue;for(var i=0;i<f.length;i++)if(f[i]==d[h].element[0]){d[h].proportions.height=0;continue g}d[h].visible=d[h].element.css("display")!="none";if(!d[h].visible)continue;e=="mousedown"&&d[h]._activate.call(d[h],c),d[h].offset=d[h].element.offset(),d[h].proportions={width:d[h].element[0].offsetWidth,height:d[h].element[0].offsetHeight}}},drop:function(b,c){var d=!1;return a.each(a.ui.ddmanager.droppables[b.options.scope]||[],function(){if(!this.options)return;!this.options.disabled&&this.visible&&a.ui.intersect(b,this,this.options.tolerance)&&(d=this._drop.call(this,c)||d),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],b.currentItem||b.element)&&(this.isout=1,this.isover=0,this._deactivate.call(this,c))}),d},dragStart:function(b,c){b.element.parents(":not(body,html)").bind("scroll.droppable",function(){b.options.refreshPositions||a.ui.ddmanager.prepareOffsets(b,c)})},drag:function(b,c){b.options.refreshPositions&&a.ui.ddmanager.prepareOffsets(b,c),a.each(a.ui.ddmanager.droppables[b.options.scope]||[],function(){if(this.options.disabled||this.greedyChild||!this.visible)return;var d=a.ui.intersect(b,this,this.options.tolerance),e=!d&&this.isover==1?"isout":d&&this.isover==0?"isover":null;if(!e)return;var f;if(this.options.greedy){var g=this.element.parents(":data(droppable):eq(0)");g.length&&(f=a.data(g[0],"droppable"),f.greedyChild=e=="isover"?1:0)}f&&e=="isover"&&(f.isover=0,f.isout=1,f._out.call(f,c)),this[e]=1,this[e=="isout"?"isover":"isout"]=0,this[e=="isover"?"_over":"_out"].call(this,c),f&&e=="isout"&&(f.isout=0,f.isover=1,f._over.call(f,c))})},dragStop:function(b,c){b.element.parents(":not(body,html)").unbind("scroll.droppable"),b.options.refreshPositions||a.ui.ddmanager.prepareOffsets(b,c)}}}(jQuery),function(a,b){a.widget("ui.resizable",a.ui.mouse,{widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:1e3},_create:function(){var b=this,c=this.options;this.element.addClass("ui-resizable"),a.extend(this,{_aspectRatio:!!c.aspectRatio,aspectRatio:c.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:c.helper||c.ghost||c.animate?c.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/canvas|textarea|input|select|button|img/i)&&(this.element.wrap(a('<div class="ui-wrapper" style="overflow: hidden;"></div>').css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("resizable",this.element.data("resizable")),this.elementIsWrapper=!0,this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css({margin:this.originalElement.css("margin")}),this._proportionallyResize()),this.handles=c.handles||(a(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se");if(this.handles.constructor==String){this.handles=="all"&&(this.handles="n,e,s,w,se,sw,ne,nw");var d=this.handles.split(",");this.handles={};for(var e=0;e<d.length;e++){var f=a.trim(d[e]),g="ui-resizable-"+f,h=a('<div class="ui-resizable-handle '+g+'"></div>');h.css({zIndex:c.zIndex}),"se"==f&&h.addClass("ui-icon ui-icon-gripsmall-diagonal-se"),this.handles[f]=".ui-resizable-"+f,this.element.append(h)}}this._renderAxis=function(b){b=b||this.element;for(var c in this.handles){this.handles[c].constructor==String&&(this.handles[c]=a(this.handles[c],this.element).show());if(this.elementIsWrapper&&this.originalElement[0].nodeName.match(/textarea|input|select|button/i)){var d=a(this.handles[c],this.element),e=0;e=/sw|ne|nw|se|n|s/.test(c)?d.outerHeight():d.outerWidth();var f=["padding",/ne|nw|n/.test(c)?"Top":/se|sw|s/.test(c)?"Bottom":/^e$/.test(c)?"Right":"Left"].join("");b.css(f,e),this._proportionallyResize()}if(!a(this.handles[c]).length)continue}},this._renderAxis(this.element),this._handles=a(".ui-resizable-handle",this.element).disableSelection(),this._handles.mouseover(function(){if(!b.resizing){if(this.className)var a=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i);b.axis=a&&a[1]?a[1]:"se"}}),c.autoHide&&(this._handles.hide(),a(this.element).addClass("ui-resizable-autohide").hover(function(){if(c.disabled)return;a(this).removeClass("ui-resizable-autohide"),b._handles.show()},function(){if(c.disabled)return;b.resizing||(a(this).addClass("ui-resizable-autohide"),b._handles.hide())})),this._mouseInit()},destroy:function(){this._mouseDestroy();var b=function(b){a(b).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};if(this.elementIsWrapper){b(this.element);var c=this.element;c.after(this.originalElement.css({position:c.css("position"),width:c.outerWidth(),height:c.outerHeight(),top:c.css("top"),left:c.css("left")})).remove()}return this.originalElement.css("resize",this.originalResizeStyle),b(this.originalElement),this},_mouseCapture:function(b){var c=!1;for(var d in this.handles)a(this.handles[d])[0]==b.target&&(c=!0);return!this.options.disabled&&c},_mouseStart:function(b){var d=this.options,e=this.element.position(),f=this.element;this.resizing=!0,this.documentScroll={top:a(document).scrollTop(),left:a(document).scrollLeft()},(f.is(".ui-draggable")||/absolute/.test(f.css("position")))&&f.css({position:"absolute",top:e.top,left:e.left}),this._renderProxy();var g=c(this.helper.css("left")),h=c(this.helper.css("top"));d.containment&&(g+=a(d.containment).scrollLeft()||0,h+=a(d.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:g,top:h},this.size=this._helper?{width:f.outerWidth(),height:f.outerHeight()}:{width:f.width(),height:f.height()},this.originalSize=this._helper?{width:f.outerWidth(),height:f.outerHeight()}:{width:f.width(),height:f.height()},this.originalPosition={left:g,top:h},this.sizeDiff={width:f.outerWidth()-f.width(),height:f.outerHeight()-f.height()},this.originalMousePosition={left:b.pageX,top:b.pageY},this.aspectRatio=typeof d.aspectRatio=="number"?d.aspectRatio:this.originalSize.width/this.originalSize.height||1;var i=a(".ui-resizable-"+this.axis).css("cursor");return a("body").css("cursor",i=="auto"?this.axis+"-resize":i),f.addClass("ui-resizable-resizing"),this._propagate("start",b),!0},_mouseDrag:function(b){var c=this.helper,d=this.options,e={},f=this,g=this.originalMousePosition,h=this.axis,i=b.pageX-g.left||0,j=b.pageY-g.top||0,k=this._change[h];if(!k)return!1;var l=k.apply(this,[b,i,j]),m=a.browser.msie&&a.browser.version<7,n=this.sizeDiff;this._updateVirtualBoundaries(b.shiftKey);if(this._aspectRatio||b.shiftKey)l=this._updateRatio(l,b);return l=this._respectSize(l,b),this._propagate("resize",b),c.css({top:this.position.top+"px",left:this.position.left+"px",width:this.size.width+"px",height:this.size.height+"px"}),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),this._updateCache(l),this._trigger("resize",b,this.ui()),!1},_mouseStop:function(b){this.resizing=!1;var c=this.options,d=this;if(this._helper){var e=this._proportionallyResizeElements,f=e.length&&/textarea/i.test(e[0].nodeName),g=f&&a.ui.hasScroll(e[0],"left")?0:d.sizeDiff.height,h=f?0:d.sizeDiff.width,i={width:d.helper.width()-h,height:d.helper.height()-g},j=parseInt(d.element.css("left"),10)+(d.position.left-d.originalPosition.left)||null,k=parseInt(d.element.css("top"),10)+(d.position.top-d.originalPosition.top)||null;c.animate||this.element.css(a.extend(i,{top:k,left:j})),d.helper.height(d.size.height),d.helper.width(d.size.width),this._helper&&!c.animate&&this._proportionallyResize()}return a("body").css("cursor","auto"),this.element.removeClass("ui-resizable-resizing"),this._propagate("stop",b),this._helper&&this.helper.remove(),!1},_updateVirtualBoundaries:function(a){var b=this.options,c,e,f,g,h;h={minWidth:d(b.minWidth)?b.minWidth:0,maxWidth:d(b.maxWidth)?b.maxWidth:Infinity,minHeight:d(b.minHeight)?b.minHeight:0,maxHeight:d(b.maxHeight)?b.maxHeight:Infinity};if(this._aspectRatio||a)c=h.minHeight*this.aspectRatio,f=h.minWidth/this.aspectRatio,e=h.maxHeight*this.aspectRatio,g=h.maxWidth/this.aspectRatio,c>h.minWidth&&(h.minWidth=c),f>h.minHeight&&(h.minHeight=f),e<h.maxWidth&&(h.maxWidth=e),g<h.maxHeight&&(h.maxHeight=g);this._vBoundaries=h},_updateCache:function(a){var b=this.options;this.offset=this.helper.offset(),d(a.left)&&(this.position.left=a.left),d(a.top)&&(this.position.top=a.top),d(a.height)&&(this.size.height=a.height),d(a.width)&&(this.size.width=a.width)},_updateRatio:function(a,b){var c=this.options,e=this.position,f=this.size,g=this.axis;return d(a.height)?a.width=a.height*this.aspectRatio:d(a.width)&&(a.height=a.width/this.aspectRatio),g=="sw"&&(a.left=e.left+(f.width-a.width),a.top=null),g=="nw"&&(a.top=e.top+(f.height-a.height),a.left=e.left+(f.width-a.width)),a},_respectSize:function(a,b){var c=this.helper,e=this._vBoundaries,f=this._aspectRatio||b.shiftKey,g=this.axis,h=d(a.width)&&e.maxWidth&&e.maxWidth<a.width,i=d(a.height)&&e.maxHeight&&e.maxHeight<a.height,j=d(a.width)&&e.minWidth&&e.minWidth>a.width,k=d(a.height)&&e.minHeight&&e.minHeight>a.height;j&&(a.width=e.minWidth),k&&(a.height=e.minHeight),h&&(a.width=e.maxWidth),i&&(a.height=e.maxHeight);var l=this.originalPosition.left+this.originalSize.width,m=this.position.top+this.size.height,n=/sw|nw|w/.test(g),o=/nw|ne|n/.test(g);j&&n&&(a.left=l-e.minWidth),h&&n&&(a.left=l-e.maxWidth),k&&o&&(a.top=m-e.minHeight),i&&o&&(a.top=m-e.maxHeight);var p=!a.width&&!a.height;return p&&!a.left&&a.top?a.top=null:p&&!a.top&&a.left&&(a.left=null),a},_proportionallyResize:function(){var b=this.options;if(!this._proportionallyResizeElements.length)return;var c=this.helper||this.element;for(var d=0;d<this._proportionallyResizeElements.length;d++){var e=this._proportionallyResizeElements[d];if(!this.borderDif){var f=[e.css("borderTopWidth"),e.css("borderRightWidth"),e.css("borderBottomWidth"),e.css("borderLeftWidth")],g=[e.css("paddingTop"),e.css("paddingRight"),e.css("paddingBottom"),e.css("paddingLeft")];this.borderDif=a.map(f,function(a,b){var c=parseInt(a,10)||0,d=parseInt(g[b],10)||0;return c+d})}if(!a.browser.msie||!a(c).is(":hidden")&&!a(c).parents(":hidden").length)e.css({height:c.height()-this.borderDif[0]-this.borderDif[2]||0,width:c.width()-this.borderDif[1]-this.borderDif[3]||0});else continue}},_renderProxy:function(){var b=this.element,c=this.options;this.elementOffset=b.offset();if(this._helper){this.helper=this.helper||a('<div style="overflow:hidden;"></div>');var d=a.browser.msie&&a.browser.version<7,e=d?1:0,f=d?2:-1;this.helper.addClass(this._helper).css({width:this.element.outerWidth()+f,height:this.element.outerHeight()+f,position:"absolute",left:this.elementOffset.left-e+"px",top:this.elementOffset.top-e+"px",zIndex:++c.zIndex}),this.helper.appendTo("body").disableSelection()}else this.helper=this.element},_change:{e:function(a,b,c){return{width:this.originalSize.width+b}},w:function(a,b,c){var d=this.options,e=this.originalSize,f=this.originalPosition;return{left:f.left+b,width:e.width-b}},n:function(a,b,c){var d=this.options,e=this.originalSize,f=this.originalPosition;return{top:f.top+c,height:e.height-c}},s:function(a,b,c){return{height:this.originalSize.height+c}},se:function(b,c,d){return a.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[b,c,d]))},sw:function(b,c,d){return a.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[b,c,d]))},ne:function(b,c,d){return a.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[b,c,d]))},nw:function(b,c,d){return a.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[b,c,d]))}},_propagate:function(b,c){a.ui.plugin.call(this,b,[c,this.ui()]),b!="resize"&&this._trigger(b,c,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),a.extend(a.ui.resizable,{version:"1.8.21"}),a.ui.plugin.add("resizable","alsoResize",{start:function(b,c){var d=a(this).data("resizable"),e=d.options,f=function(b){a(b).each(function(){var b=a(this);b.data("resizable-alsoresize",{width:parseInt(b.width(),10),height:parseInt(b.height(),10),left:parseInt(b.css("left"),10),top:parseInt(b.css("top"),10)})})};typeof e.alsoResize=="object"&&!e.alsoResize.parentNode?e.alsoResize.length?(e.alsoResize=e.alsoResize[0],f(e.alsoResize)):a.each(e.alsoResize,function(a){f(a)}):f(e.alsoResize)},resize:function(b,c){var d=a(this).data("resizable"),e=d.options,f=d.originalSize,g=d.originalPosition,h={height:d.size.height-f.height||0,width:d.size.width-f.width||0,top:d.position.top-g.top||0,left:d.position.left-g.left||0},i=function(b,d){a(b).each(function(){var b=a(this),e=a(this).data("resizable-alsoresize"),f={},g=d&&d.length?d:b.parents(c.originalElement[0]).length?["width","height"]:["width","height","top","left"];a.each(g,function(a,b){var c=(e[b]||0)+(h[b]||0);c&&c>=0&&(f[b]=c||null)}),b.css(f)})};typeof e.alsoResize=="object"&&!e.alsoResize.nodeType?a.each(e.alsoResize,function(a,b){i(a,b)}):i(e.alsoResize)},stop:function(b,c){a(this).removeData("resizable-alsoresize")}}),a.ui.plugin.add("resizable","animate",{stop:function(b,c){var d=a(this).data("resizable"),e=d.options,f=d._proportionallyResizeElements,g=f.length&&/textarea/i.test(f[0].nodeName),h=g&&a.ui.hasScroll(f[0],"left")?0:d.sizeDiff.height,i=g?0:d.sizeDiff.width,j={width:d.size.width-i,height:d.size.height-h},k=parseInt(d.element.css("left"),10)+(d.position.left-d.originalPosition.left)||null,l=parseInt(d.element.css("top"),10)+(d.position.top-d.originalPosition.top)||null;d.element.animate(a.extend(j,l&&k?{top:l,left:k}:{}),{duration:e.animateDuration,easing:e.animateEasing,step:function(){var c={width:parseInt(d.element.css("width"),10),height:parseInt(d.element.css("height"),10),top:parseInt(d.element.css("top"),10),left:parseInt(d.element.css("left"),10)};f&&f.length&&a(f[0]).css({width:c.width,height:c.height}),d._updateCache(c),d._propagate("resize",b)}})}}),a.ui.plugin.add("resizable","containment",{start:function(b,d){var e=a(this).data("resizable"),f=e.options,g=e.element,h=f.containment,i=h instanceof a?h.get(0):/parent/.test(h)?g.parent().get(0):h;if(!i)return;e.containerElement=a(i);if(/document/.test(h)||h==document)e.containerOffset={left:0,top:0},e.containerPosition={left:0,top:0},e.parentData={element:a(document),left:0,top:0,width:a(document).width(),height:a(document).height()||document.body.parentNode.scrollHeight};else{var j=a(i),k=[];a(["Top","Right","Left","Bottom"]).each(function(a,b){k[a]=c(j.css("padding"+b))}),e.containerOffset=j.offset(),e.containerPosition=j.position(),e.containerSize={height:j.innerHeight()-k[3],width:j.innerWidth()-k[1]};var l=e.containerOffset,m=e.containerSize.height,n=e.containerSize.width,o=a.ui.hasScroll(i,"left")?i.scrollWidth:n,p=a.ui.hasScroll(i)?i.scrollHeight:m;e.parentData={element:i,left:l.left,top:l.top,width:o,height:p}}},resize:function(b,c){var d=a(this).data("resizable"),e=d.options,f=d.containerSize,g=d.containerOffset,h=d.size,i=d.position,j=d._aspectRatio||b.shiftKey,k={top:0,left:0},l=d.containerElement;l[0]!=document&&/static/.test(l.css("position"))&&(k=g),i.left<(d._helper?g.left:0)&&(d.size.width=d.size.width+(d._helper?d.position.left-g.left:d.position.left-k.left),j&&(d.size.height=d.size.width/d.aspectRatio),d.position.left=e.helper?g.left:0),i.top<(d._helper?g.top:0)&&(d.size.height=d.size.height+(d._helper?d.position.top-g.top:d.position.top),j&&(d.size.width=d.size.height*d.aspectRatio),d.position.top=d._helper?g.top:0),d.offset.left=d.parentData.left+d.position.left,d.offset.top=d.parentData.top+d.position.top;var m=Math.abs((d._helper?d.offset.left-k.left:d.offset.left-k.left)+d.sizeDiff.width),n=Math.abs((d._helper?d.offset.top-k.top:d.offset.top-g.top)+d.sizeDiff.height),o=d.containerElement.get(0)==d.element.parent().get(0),p=/relative|absolute/.test(d.containerElement.css("position"));o&&p&&(m-=d.parentData.left),m+d.size.width>=d.parentData.width&&(d.size.width=d.parentData.width-m,j&&(d.size.height=d.size.width/d.aspectRatio)),n+d.size.height>=d.parentData.height&&(d.size.height=d.parentData.height-n,j&&(d.size.width=d.size.height*d.aspectRatio))},stop:function(b,c){var d=a(this).data("resizable"),e=d.options,f=d.position,g=d.containerOffset,h=d.containerPosition,i=d.containerElement,j=a(d.helper),k=j.offset(),l=j.outerWidth()-d.sizeDiff.width,m=j.outerHeight()-d.sizeDiff.height;d._helper&&!e.animate&&/relative/.test(i.css("position"))&&a(this).css({left:k.left-h.left-g.left,width:l,height:m}),d._helper&&!e.animate&&/static/.test(i.css("position"))&&a(this).css({left:k.left-h.left-g.left,width:l,height:m})}}),a.ui.plugin.add("resizable","ghost",{start:function(b,c){var d=a(this).data("resizable"),e=d.options,f=d.size;d.ghost=d.originalElement.clone(),d.ghost.css({opacity:.25,display:"block",position:"relative",height:f.height,width:f.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass(typeof e.ghost=="string"?e.ghost:""),d.ghost.appendTo(d.helper)},resize:function(b,c){var d=a(this).data("resizable"),e=d.options;d.ghost&&d.ghost.css({position:"relative",height:d.size.height,width:d.size.width})},stop:function(b,c){var d=a(this).data("resizable"),e=d.options;d.ghost&&d.helper&&d.helper.get(0).removeChild(d.ghost.get(0))}}),a.ui.plugin.add("resizable","grid",{resize:function(b,c){var d=a(this).data("resizable"),e=d.options,f=d.size,g=d.originalSize,h=d.originalPosition,i=d.axis,j=e._aspectRatio||b.shiftKey;e.grid=typeof e.grid=="number"?[e.grid,e.grid]:e.grid;var k=Math.round((f.width-g.width)/(e.grid[0]||1))*(e.grid[0]||1),l=Math.round((f.height-g.height)/(e.grid[1]||1))*(e.grid[1]||1);/^(se|s|e)$/.test(i)?(d.size.width=g.width+k,d.size.height=g.height+l):/^(ne)$/.test(i)?(d.size.width=g.width+k,d.size.height=g.height+l,d.position.top=h.top-l):/^(sw)$/.test(i)?(d.size.width=g.width+k,d.size.height=g.height+l,d.position.left=h.left-k):(d.size.width=g.width+k,d.size.height=g.height+l,d.position.top=h.top-l,d.position.left=h.left-k)}});var c=function(a){return parseInt(a,10)||0},d=function(a){return!isNaN(parseInt(a,10))}}(jQuery),function(a,b){a.widget("ui.selectable",a.ui.mouse,{options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch"},_create:function(){var b=this;this.element.addClass("ui-selectable"),this.dragged=!1;var c;this.refresh=function(){c=a(b.options.filter,b.element[0]),c.addClass("ui-selectee"),c.each(function(){var b=a(this),c=b.offset();a.data(this,"selectable-item",{element:this,$element:b,left:c.left,top:c.top,right:c.left+b.outerWidth(),bottom:c.top+b.outerHeight(),startselected:!1,selected:b.hasClass("ui-selected"),selecting:b.hasClass("ui-selecting"),unselecting:b.hasClass("ui-unselecting")})})},this.refresh(),this.selectees=c.addClass("ui-selectee"),this._mouseInit(),this.helper=a("<div class='ui-selectable-helper'></div>")},destroy:function(){return this.selectees.removeClass("ui-selectee").removeData("selectable-item"),this.element.removeClass("ui-selectable ui-selectable-disabled").removeData("selectable").unbind(".selectable"),this._mouseDestroy(),this},_mouseStart:function(b){var c=this;this.opos=[b.pageX,b.pageY];if(this.options.disabled)return;var d=this.options;this.selectees=a(d.filter,this.element[0]),this._trigger("start",b),a(d.appendTo).append(this.helper),this.helper.css({left:b.clientX,top:b.clientY,width:0,height:0}),d.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each(function(){var d=a.data(this,"selectable-item");d.startselected=!0,!b.metaKey&&!b.ctrlKey&&(d.$element.removeClass("ui-selected"),d.selected=!1,d.$element.addClass("ui-unselecting"),d.unselecting=!0,c._trigger("unselecting",b,{unselecting:d.element}))}),a(b.target).parents().andSelf().each(function(){var d=a.data(this,"selectable-item");if(d){var e=!b.metaKey&&!b.ctrlKey||!d.$element.hasClass("ui-selected");return d.$element.removeClass(e?"ui-unselecting":"ui-selected").addClass(e?"ui-selecting":"ui-unselecting"),d.unselecting=!e,d.selecting=e,d.selected=e,e?c._trigger("selecting",b,{selecting:d.element}):c._trigger("unselecting",b,{unselecting:d.element}),!1}})},_mouseDrag:function(b){var c=this;this.dragged=!0;if(this.options.disabled)return;var d=this.options,e=this.opos[0],f=this.opos[1],g=b.pageX,h=b.pageY;if(e>g){var i=g;g=e,e=i}if(f>h){var i=h;h=f,f=i}return this.helper.css({left:e,top:f,width:g-e,height:h-f}),this.selectees.each(function(){var i=a.data(this,"selectable-item");if(!i||i.element==c.element[0])return;var j=!1;d.tolerance=="touch"?j=!(i.left>g||i.right<e||i.top>h||i.bottom<f):d.tolerance=="fit"&&(j=i.left>e&&i.right<g&&i.top>f&&i.bottom<h),j?(i.selected&&(i.$element.removeClass("ui-selected"),i.selected=!1),i.unselecting&&(i.$element.removeClass("ui-unselecting"),i.unselecting=!1),i.selecting||(i.$element.addClass("ui-selecting"),i.selecting=!0,c._trigger("selecting",b,{selecting:i.element}))):(i.selecting&&((b.metaKey||b.ctrlKey)&&i.startselected?(i.$element.removeClass("ui-selecting"),i.selecting=!1,i.$element.addClass("ui-selected"),i.selected=!0):(i.$element.removeClass("ui-selecting"),i.selecting=!1,i.startselected&&(i.$element.addClass("ui-unselecting"),i.unselecting=!0),c._trigger("unselecting",b,{unselecting:i.element}))),i.selected&&!b.metaKey&&!b.ctrlKey&&!i.startselected&&(i.$element.removeClass("ui-selected"),i.selected=!1,i.$element.addClass("ui-unselecting"),i.unselecting=!0,c._trigger("unselecting",b,{unselecting:i.element})))}),!1},_mouseStop:function(b){var c=this;this.dragged=!1;var d=this.options;return a(".ui-unselecting",this.element[0]).each(function(){var d=a.data(this,"selectable-item");d.$element.removeClass("ui-unselecting"),d.unselecting=!1,d.startselected=!1,c._trigger("unselected",b,{unselected:d.element})}),a(".ui-selecting",this.element[0]).each(function(){var d=a.data(this,"selectable-item");d.$element.removeClass("ui-selecting").addClass("ui-selected"),d.selecting=!1,d.selected=!0,d.startselected=!0,c._trigger("selected",b,{selected:d.element})}),this._trigger("stop",b),this.helper.remove(),!1}}),a.extend(a.ui.selectable,{version:"1.8.21"})}(jQuery),function(a,b){a.widget("ui.sortable",a.ui.mouse,{widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3},_create:function(){var a=this.options;this.containerCache={},this.element.addClass("ui-sortable"),this.refresh(),this.floating=this.items.length?a.axis==="x"||/left|right/.test(this.items[0].item.css("float"))||/inline|table-cell/.test(this.items[0].item.css("display")):!1,this.offset=this.element.offset(),this._mouseInit(),this.ready=!0},destroy:function(){a.Widget.prototype.destroy.call(this),this.element.removeClass("ui-sortable ui-sortable-disabled"),this._mouseDestroy();for(var b=this.items.length-1;b>=0;b--)this.items[b].item.removeData(this.widgetName+"-item");return this},_setOption:function(b,c){b==="disabled"?(this.options[b]=c,this.widget()[c?"addClass":"removeClass"]("ui-sortable-disabled")):a.Widget.prototype._setOption.apply(this,arguments)},_mouseCapture:function(b,c){var d=this;if(this.reverting)return!1;if(this.options.disabled||this.options.type=="static")return!1;this._refreshItems(b);var e=null,f=this,g=a(b.target).parents().each(function(){if(a.data(this,d.widgetName+"-item")==f)return e=a(this),!1});a.data(b.target,d.widgetName+"-item")==f&&(e=a(b.target));if(!e)return!1;if(this.options.handle&&!c){var h=!1;a(this.options.handle,e).find("*").andSelf().each(function(){this==b.target&&(h=!0)});if(!h)return!1}return this.currentItem=e,this._removeCurrentsFromItems(),!0},_mouseStart:function(b,c,d){var e=this.options,f=this;this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(b),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},a.extend(this.offset,{click:{left:b.pageX-this.offset.left,top:b.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(b),this.originalPageX=b.pageX,this.originalPageY=b.pageY,e.cursorAt&&this._adjustOffsetFromHelper(e.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!=this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),e.containment&&this._setContainment(),e.cursor&&(a("body").css("cursor")&&(this._storedCursor=a("body").css("cursor")),a("body").css("cursor",e.cursor)),e.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",e.opacity)),e.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",e.zIndex)),this.scrollParent[0]!=document&&this.scrollParent[0].tagName!="HTML"&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",b,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions();if(!d)for(var g=this.containers.length-1;g>=0;g--)this.containers[g]._trigger("activate",b,f._uiHash(this));return a.ui.ddmanager&&(a.ui.ddmanager.current=this),a.ui.ddmanager&&!e.dropBehaviour&&a.ui.ddmanager.prepareOffsets(this,b),this.dragging=!0,this.helper.addClass("ui-sortable-helper"),this._mouseDrag(b),!0},_mouseDrag:function(b){this.position=this._generatePosition(b),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs);if(this.options.scroll){var c=this.options,d=!1;this.scrollParent[0]!=document&&this.scrollParent[0].tagName!="HTML"?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-b.pageY<c.scrollSensitivity?this.scrollParent[0].scrollTop=d=this.scrollParent[0].scrollTop+c.scrollSpeed:b.pageY-this.overflowOffset.top<c.scrollSensitivity&&(this.scrollParent[0].scrollTop=d=this.scrollParent[0].scrollTop-c.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-b.pageX<c.scrollSensitivity?this.scrollParent[0].scrollLeft=d=this.scrollParent[0].scrollLeft+c.scrollSpeed:b.pageX-this.overflowOffset.left<c.scrollSensitivity&&(this.scrollParent[0].scrollLeft=d=this.scrollParent[0].scrollLeft-c.scrollSpeed)):(b.pageY-a(document).scrollTop()<c.scrollSensitivity?d=a(document).scrollTop(a(document).scrollTop()-c.scrollSpeed):a(window).height()-(b.pageY-a(document).scrollTop())<c.scrollSensitivity&&(d=a(document).scrollTop(a(document).scrollTop()+c.scrollSpeed)),b.pageX-a(document).scrollLeft()<c.scrollSensitivity?d=a(document).scrollLeft(a(document).scrollLeft()-c.scrollSpeed):a(window).width()-(b.pageX-a(document).scrollLeft())<c.scrollSensitivity&&(d=a(document).scrollLeft(a(document).scrollLeft()+c.scrollSpeed))),d!==!1&&a.ui.ddmanager&&!c.dropBehaviour&&a.ui.ddmanager.prepareOffsets(this,b)}this.positionAbs=this._convertPositionTo("absolute");if(!this.options.axis||this.options.axis!="y")this.helper[0].style.left=this.position.left+"px";if(!this.options.axis||this.options.axis!="x")this.helper[0].style.top=this.position.top+"px";for(var e=this.items.length-1;e>=0;e--){var f=this.items[e],g=f.item[0],h=this._intersectsWithPointer(f);if(!h)continue;if(g!=this.currentItem[0]&&this.placeholder[h==1?"next":"prev"]()[0]!=g&&!a.ui.contains(this.placeholder[0],g)&&(this.options.type=="semi-dynamic"?!a.ui.contains(this.element[0],g):!0)){this.direction=h==1?"down":"up";if(this.options.tolerance=="pointer"||this._intersectsWithSides(f))this._rearrange(b,f);else break;this._trigger("change",b,this._uiHash());break}}return this._contactContainers(b),a.ui.ddmanager&&a.ui.ddmanager.drag(this,b),this._trigger("sort",b,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(b,c){if(!b)return;a.ui.ddmanager&&!this.options.dropBehaviour&&a.ui.ddmanager.drop(this,b);if(this.options.revert){var d=this,e=d.placeholder.offset();d.reverting=!0,a(this.helper).animate({left:e.left-this.offset.parent.left-d.margins.left+(this.offsetParent[0]==document.body?0:this.offsetParent[0].scrollLeft),top:e.top-this.offset.parent.top-d.margins.top+(this.offsetParent[0]==document.body?0:this.offsetParent[0].scrollTop)},parseInt(this.options.revert,10)||500,function(){d._clear(b)})}else this._clear(b,c);return!1},cancel:function(){var b=this;if(this.dragging){this._mouseUp({target:null}),this.options.helper=="original"?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var c=this.containers.length-1;c>=0;c--)this.containers[c]._trigger("deactivate",null,b._uiHash(this)),this.containers[c].containerCache.over&&(this.containers[c]._trigger("out",null,b._uiHash(this)),this.containers[c].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.options.helper!="original"&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),a.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?a(this.domPosition.prev).after(this.currentItem):a(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(b){var c=this._getItemsAsjQuery(b&&b.connected),d=[];return b=b||{},a(c).each(function(){var c=(a(b.item||this).attr(b.attribute||"id")||"").match(b.expression||/(.+)[-=_](.+)/);c&&d.push((b.key||c[1]+"[]")+"="+(b.key&&b.expression?c[1]:c[2]))}),!d.length&&b.key&&d.push(b.key+"="),d.join("&")},toArray:function(b){var c=this._getItemsAsjQuery(b&&b.connected),d=[];return b=b||{},c.each(function(){d.push(a(b.item||this).attr(b.attribute||"id")||"")}),d},_intersectsWith:function(a){var b=this.positionAbs.left,c=b+this.helperProportions.width,d=this.positionAbs.top,e=d+this.helperProportions.height,f=a.left,g=f+a.width,h=a.top,i=h+a.height,j=this.offset.click.top,k=this.offset.click.left,l=d+j>h&&d+j<i&&b+k>f&&b+k<g;return this.options.tolerance=="pointer"||this.options.forcePointerForContainers||this.options.tolerance!="pointer"&&this.helperProportions[this.floating?"width":"height"]>a[this.floating?"width":"height"]?l:f<b+this.helperProportions.width/2&&c-this.helperProportions.width/2<g&&h<d+this.helperProportions.height/2&&e-this.helperProportions.height/2<i},_intersectsWithPointer:function(b){var c=this.options.axis==="x"||a.ui.isOverAxis(this.positionAbs.top+this.offset.click.top,b.top,b.height),d=this.options.axis==="y"||a.ui.isOverAxis(this.positionAbs.left+this.offset.click.left,b.left,b.width),e=c&&d,f=this._getDragVerticalDirection(),g=this._getDragHorizontalDirection();return e?this.floating?g&&g=="right"||f=="down"?2:1:f&&(f=="down"?2:1):!1},_intersectsWithSides:function(b){var c=a.ui.isOverAxis(this.positionAbs.top+this.offset.click.top,b.top+b.height/2,b.height),d=a.ui.isOverAxis(this.positionAbs.left+this.offset.click.left,b.left+b.width/2,b.width),e=this._getDragVerticalDirection(),f=this._getDragHorizontalDirection();return this.floating&&f?f=="right"&&d||f=="left"&&!d:e&&(e=="down"&&c||e=="up"&&!c)},_getDragVerticalDirection:function(){var a=this.positionAbs.top-this.lastPositionAbs.top;return a!=0&&(a>0?"down":"up")},_getDragHorizontalDirection:function(){var a=this.positionAbs.left-this.lastPositionAbs.left;return a!=0&&(a>0?"right":"left")},refresh:function(a){return this._refreshItems(a),this.refreshPositions(),this},_connectWith:function(){var a=this.options;return a.connectWith.constructor==String?[a.connectWith]:a.connectWith},_getItemsAsjQuery:function(b){var c=this,d=[],e=[],f=this._connectWith();if(f&&b)for(var g=f.length-1;g>=0;g--){var h=a(f[g]);for(var i=h.length-1;i>=0;i--){var j=a.data(h[i],this.widgetName);j&&j!=this&&!j.options.disabled&&e.push([a.isFunction(j.options.items)?j.options.items.call(j.element):a(j.options.items,j.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),j])}}e.push([a.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):a(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]);for(var g=e.length-1;g>=0;g--)e[g][0].each(function(){d.push(this)});return a(d)},_removeCurrentsFromItems:function(){var a=this.currentItem.find(":data("+this.widgetName+"-item)");for(var b=0;b<this.items.length;b++)for(var c=0;c<a.length;c++)a[c]==this.items[b].item[0]&&this.items.splice(b,1)},_refreshItems:function(b){this.items=[],this.containers=[this];var c=this.items,d=this,e=[[a.isFunction(this.options.items)?this.options.items.call(this.element[0],b,{item:this.currentItem}):a(this.options.items,this.element),this]],f=this._connectWith();if(f&&this.ready)for(var g=f.length-1;g>=0;g--){var h=a(f[g]);for(var i=h.length-1;i>=0;i--){var j=a.data(h[i],this.widgetName);j&&j!=this&&!j.options.disabled&&(e.push([a.isFunction(j.options.items)?j.options.items.call(j.element[0],b,{item:this.currentItem}):a(j.options.items,j.element),j]),this.containers.push(j))}}for(var g=e.length-1;g>=0;g--){var k=e[g][1],l=e[g][0];for(var i=0,m=l.length;i<m;i++){var n=a(l[i]);n.data(this.widgetName+"-item",k),c.push({item:n,instance:k,width:0,height:0,left:0,top:0})}}},refreshPositions:function(b){this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());for(var c=this.items.length-1;c>=0;c--){var d=this.items[c];if(d.instance!=this.currentContainer&&this.currentContainer&&d.item[0]!=this.currentItem[0])continue;var e=this.options.toleranceElement?a(this.options.toleranceElement,d.item):d.item;b||(d.width=e.outerWidth(),d.height=e.outerHeight());var f=e.offset();d.left=f.left,d.top=f.top}if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(var c=this.containers.length-1;c>=0;c--){var f=this.containers[c].element.offset();this.containers[c].containerCache.left=f.left,this.containers[c].containerCache.top=f.top,this.containers[c].containerCache.width=this.containers[c].element.outerWidth(),this.containers[c].containerCache.height=this.containers[c].element.outerHeight()}return this},_createPlaceholder:function(b){var c=b||this,d=c.options;if(!d.placeholder||d.placeholder.constructor==String){var e=d.placeholder;d.placeholder={element:function(){var b=a(document.createElement(c.currentItem[0].nodeName)).addClass(e||c.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper")[0];return e||(b.style.visibility="hidden"),b},update:function(a,b){if(e&&!d.forcePlaceholderSize)return;b.height()||b.height(c.currentItem.innerHeight()-parseInt(c.currentItem.css("paddingTop")||0,10)-parseInt(c.currentItem.css("paddingBottom")||0,10)),b.width()||b.width(c.currentItem.innerWidth()-parseInt(c.currentItem.css("paddingLeft")||0,10)-parseInt(c.currentItem.css("paddingRight")||0,10))}}}c.placeholder=a(d.placeholder.element.call(c.element,c.currentItem)),c.currentItem.after(c.placeholder),d.placeholder.update(c,c.placeholder)},_contactContainers:function(b){var c=null,d=null;for(var e=this.containers.length-1;e>=0;e--){if(a.ui.contains(this.currentItem[0],this.containers[e].element[0]))continue;if(this._intersectsWith(this.containers[e].containerCache)){if(c&&a.ui.contains(this.containers[e].element[0],c.element[0]))continue;c=this.containers[e],d=e}else this.containers[e].containerCache.over&&(this.containers[e]._trigger("out",b,this._uiHash(this)),this.containers[e].containerCache.over=0)}if(!c)return;if(this.containers.length===1)this.containers[d]._trigger("over",b,this._uiHash(this)),this.containers[d].containerCache.over=1;else if(this.currentContainer!=this.containers[d]){var f=1e4,g=null,h=this.positionAbs[this.containers[d].floating?"left":"top"];for(var i=this.items.length-1;i>=0;i--){if(!a.ui.contains(this.containers[d].element[0],this.items[i].item[0]))continue;var j=this.containers[d].floating?this.items[i].item.offset().left:this.items[i].item.offset().top;Math.abs(j-h)<f&&(f=Math.abs(j-h),g=this.items[i],this.direction=j-h>0?"down":"up")}if(!g&&!this.options.dropOnEmpty)return;this.currentContainer=this.containers[d],g?this._rearrange(b,g,null,!0):this._rearrange(b,null,this.containers[d].element,!0),this._trigger("change",b,this._uiHash()),this.containers[d]._trigger("change",b,this._uiHash(this)),this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[d]._trigger("over",b,this._uiHash(this)),this.containers[d].containerCache.over=1}},_createHelper:function(b){var c=this.options,d=a.isFunction(c.helper)?a(c.helper.apply(this.element[0],[b,this.currentItem])):c.helper=="clone"?this.currentItem.clone():this.currentItem;return d.parents("body").length||a(c.appendTo!="parent"?c.appendTo:this.currentItem[0].parentNode)[0].appendChild(d[0]),d[0]==this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),(d[0].style.width==""||c.forceHelperSize)&&d.width(this.currentItem.width()),(d[0].style.height==""||c.forceHelperSize)&&d.height(this.currentItem.height()),d},_adjustOffsetFromHelper:function(b){typeof b=="string"&&(b=b.split(" ")),a.isArray(b)&&(b={left:+b[0],top:+b[1]||0}),"left"in b&&(this.offset.click.left=b.left+this.margins.left),"right"in b&&(this.offset.click.left=this.helperProportions.width-b.right+this.margins.left),"top"in b&&(this.offset.click.top=b.top+this.margins.top),"bottom"in b&&(this.offset.click.top=this.helperProportions.height-b.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var b=this.offsetParent.offset();this.cssPosition=="absolute"&&this.scrollParent[0]!=document&&a.ui.contains(this.scrollParent[0],this.offsetParent[0])&&(b.left+=this.scrollParent.scrollLeft(),b.top+=this.scrollParent.scrollTop());if(this.offsetParent[0]==document.body||this.offsetParent[0].tagName&&this.offsetParent[0].tagName.toLowerCase()=="html"&&a.browser.msie)b={top:0,left:0};return{top:b.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:b.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if(this.cssPosition=="relative"){var a=this.currentItem.position();return{top:a.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:a.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var b=this.options;b.containment=="parent"&&(b.containment=this.helper[0].parentNode);if(b.containment=="document"||b.containment=="window")this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,a(b.containment=="document"?document:window).width()-this.helperProportions.width-this.margins.left,(a(b.containment=="document"?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top];if(!/^(document|window|parent)$/.test(b.containment)){var c=a(b.containment)[0],d=a(b.containment).offset(),e=a(c).css("overflow")!="hidden";this.containment=[d.left+(parseInt(a(c).css("borderLeftWidth"),10)||0)+(parseInt(a(c).css("paddingLeft"),10)||0)-this.margins.left,d.top+(parseInt(a(c).css("borderTopWidth"),10)||0)+(parseInt(a(c).css("paddingTop"),10)||0)-this.margins.top,d.left+(e?Math.max(c.scrollWidth,c.offsetWidth):c.offsetWidth)-(parseInt(a(c).css("borderLeftWidth"),10)||0)-(parseInt(a(c).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,d.top+(e?Math.max(c.scrollHeight,c.offsetHeight):c.offsetHeight)-(parseInt(a(c).css("borderTopWidth"),10)||0)-(parseInt(a(c).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top]}},_convertPositionTo:function(b,c){c||(c=this.position);var d=b=="absolute"?1:-1,e=this.options,f=this.cssPosition=="absolute"&&(this.scrollParent[0]==document||!a.ui.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,g=/(html|body)/i.test(f[0].tagName);return{top:c.top+this.offset.relative.top*d+this.offset.parent.top*d-(a.browser.safari&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollTop():g?0:f.scrollTop())*d),left:c.left+this.offset.relative.left*d+this.offset.parent.left*d-(a.browser.safari&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():g?0:f.scrollLeft())*d)}},_generatePosition:function(b){var c=this.options,d=this.cssPosition=="absolute"&&(this.scrollParent[0]==document||!a.ui.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,e=/(html|body)/i.test(d[0].tagName);this.cssPosition=="relative"&&(this.scrollParent[0]==document||this.scrollParent[0]==this.offsetParent[0])&&(this.offset.relative=this._getRelativeOffset());var f=b.pageX,g=b.pageY;if(this.originalPosition){this.containment&&(b.pageX-this.offset.click.left<this.containment[0]&&(f=this.containment[0]+this.offset.click.left),b.pageY-this.offset.click.top<this.containment[1]&&(g=this.containment[1]+this.offset.click.top),b.pageX-this.offset.click.left>this.containment[2]&&(f=this.containment[2]+this.offset.click.left),b.pageY-this.offset.click.top>this.containment[3]&&(g=this.containment[3]+this.offset.click.top));if(c.grid){var h=this.originalPageY+Math.round((g-this.originalPageY)/c.grid[1])*c.grid[1];g=this.containment?h-this.offset.click.top<this.containment[1]||h-this.offset.click.top>this.containment[3]?h-this.offset.click.top<this.containment[1]?h+c.grid[1]:h-c.grid[1]:h:h;var i=this.originalPageX+Math.round((f-this.originalPageX)/c.grid[0])*c.grid[0];f=this.containment?i-this.offset.click.left<this.containment[0]||i-this.offset.click.left>this.containment[2]?i-this.offset.click.left<this.containment[0]?i+c.grid[0]:i-c.grid[0]:i:i}}return{top:g-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(a.browser.safari&&this.cssPosition=="fixed"?0:this.cssPosition=="fixed"?-this.scrollParent.scrollTop():e?0:d.scrollTop()),left:f-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(a.browser.safari&&this.cssPosition=="fixed"?0:this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():e?0:d.scrollLeft())}},_rearrange:function(a,b,c,d){c?c[0].appendChild(this.placeholder[0]):b.item[0].parentNode.insertBefore(this.placeholder[0],this.direction=="down"?b.item[0]:b.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var e=this,f=this.counter;window.setTimeout(function(){f==e.counter&&e.refreshPositions(!d)},0)},_clear:function(b,c){this.reverting=!1;var d=[],e=this;!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null;if(this.helper[0]==this.currentItem[0]){for(var f in this._storedCSS)if(this._storedCSS[f]=="auto"||this._storedCSS[f]=="static")this._storedCSS[f]="";this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();this.fromOutside&&!c&&d.push(function(a){this._trigger("receive",a,this._uiHash(this.fromOutside))}),(this.fromOutside||this.domPosition.prev!=this.currentItem.prev().not(".ui-sortable-helper")[0]||this.domPosition.parent!=this.currentItem.parent()[0])&&!c&&d.push(function(a){this._trigger("update",a,this._uiHash())});if(!a.ui.contains(this.element[0],this.currentItem[0])){c||d.push(function(a){this._trigger("remove",a,this._uiHash())});for(var f=this.containers.length-1;f>=0;f--)a.ui.contains(this.containers[f].element[0],this.currentItem[0])&&!c&&(d.push(function(a){return function(b){a._trigger("receive",b,this._uiHash(this))}}.call(this,this.containers[f])),d.push(function(a){return function(b){a._trigger("update",b,this._uiHash(this))}}.call(this,this.containers[f])))}for(var f=this.containers.length-1;f>=0;f--)c||d.push(function(a){return function(b){a._trigger("deactivate",b,this._uiHash(this))}}.call(this,this.containers[f])),this.containers[f].containerCache.over&&(d.push(function(a){return function(b){a._trigger("out",b,this._uiHash(this))}}.call(this,this.containers[f])),this.containers[f].containerCache.over=0);this._storedCursor&&a("body").css("cursor",this._storedCursor),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex",this._storedZIndex=="auto"?"":this._storedZIndex),this.dragging=!1;if(this.cancelHelperRemoval){if(!c){this._trigger("beforeStop",b,this._uiHash());for(var f=0;f<d.length;f++)d[f].call(this,b);this._trigger("stop",b,this._uiHash())}return!1}c||this._trigger("beforeStop",b,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.helper[0]!=this.currentItem[0]&&this.helper.remove(),this.helper=null;if(!c){for(var f=0;f<d.length;f++)d[f].call(this,b);this._trigger("stop",b,this._uiHash())}return this.fromOutside=!1,!0},_trigger:function(){a.Widget.prototype._trigger.apply(this,arguments)===!1&&this.cancel()},_uiHash:function(b){var c=b||this;return{helper:c.helper,placeholder:c.placeholder||a([]),position:c.position,originalPosition:c.originalPosition,offset:c.positionAbs,item:c.currentItem,sender:b?b.element:null}}}),a.extend(a.ui.sortable,{version:"1.8.21"})}(jQuery),jQuery.effects||function(a,b){function c(b){var c;return b&&b.constructor==Array&&b.length==3?b:(c=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(b))?[parseInt(c[1],10),parseInt(c[2],10),parseInt(c[3],10)]:(c=/rgb\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*\)/.exec(b))?[parseFloat(c[1])*2.55,parseFloat(c[2])*2.55,parseFloat(c[3])*2.55]:(c=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(b))?[parseInt(c[1],16),parseInt(c[2],16),parseInt(c[3],16)]:(c=/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(b))?[parseInt(c[1]+c[1],16),parseInt(c[2]+c[2],16),parseInt(c[3]+c[3],16)]:(c=/rgba\(0, 0, 0, 0\)/.exec(b))?e.transparent:e[a.trim(b).toLowerCase()]}function d(b,d){var e;do{e=a.curCSS(b,d);if(e!=""&&e!="transparent"||a.nodeName(b,"body"))break;d="backgroundColor"}while(b=b.parentNode);return c(e)}function h(){var a=document.defaultView?document.defaultView.getComputedStyle(this,null):this.currentStyle,b={},c,d;if(a&&a.length&&a[0]&&a[a[0]]){var e=a.length;while(e--)c=a[e],typeof a[c]=="string"&&(d=c.replace(/\-(\w)/g,function(a,b){return b.toUpperCase()}),b[d]=a[c])}else for(c in a)typeof a[c]=="string"&&(b[c]=a[c]);return b}function i(b){var c,d;for(c in b)d=b[c],(d==null||a.isFunction(d)||c in g||/scrollbar/.test(c)||!/color/i.test(c)&&isNaN(parseFloat(d)))&&delete b[c];return b}function j(a,b){var c={_:0},d;for(d in b)a[d]!=b[d]&&(c[d]=b[d]);return c}function k(b,c,d,e){typeof b=="object"&&(e=c,d=null,c=b,b=c.effect),a.isFunction(c)&&(e=c,d=null,c={});if(typeof c=="number"||a.fx.speeds[c])e=d,d=c,c={};return a.isFunction(d)&&(e=d,d=null),c=c||{},d=d||c.duration,d=a.fx.off?0:typeof d=="number"?d:d in a.fx.speeds?a.fx.speeds[d]:a.fx.speeds._default,e=e||c.complete,[b,c,d,e]}function l(b){return!b||typeof b=="number"||a.fx.speeds[b]?!0:typeof b=="string"&&!a.effects[b]?!0:!1}a.effects={},a.each(["backgroundColor","borderBottomColor","borderLeftColor","borderRightColor","borderTopColor","borderColor","color","outlineColor"],function(b,e){a.fx.step[e]=function(a){a.colorInit||(a.start=d(a.elem,e),a.end=c(a.end),a.colorInit=!0),a.elem.style[e]="rgb("+Math.max(Math.min(parseInt(a.pos*(a.end[0]-a.start[0])+a.start[0],10),255),0)+","+Math.max(Math.min(parseInt(a.pos*(a.end[1]-a.start[1])+a.start[1],10),255),0)+","+Math.max(Math.min(parseInt(a.pos*(a.end[2]-a.start[2])+a.start[2],10),255),0)+")"}});var e={aqua:[0,255,255],azure:[240,255,255],beige:[245,245,220],black:[0,0,0],blue:[0,0,255],brown:[165,42,42],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgrey:[169,169,169],darkgreen:[0,100,0],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkviolet:[148,0,211],fuchsia:[255,0,255],gold:[255,215,0],green:[0,128,0],indigo:[75,0,130],khaki:[240,230,140],lightblue:[173,216,230],lightcyan:[224,255,255],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightyellow:[255,255,224],lime:[0,255,0],magenta:[255,0,255],maroon:[128,0,0],navy:[0,0,128],olive:[128,128,0],orange:[255,165,0],pink:[255,192,203],purple:[128,0,128],violet:[128,0,128],red:[255,0,0],silver:[192,192,192],white:[255,255,255],yellow:[255,255,0],transparent:[255,255,255]},f=["add","remove","toggle"],g={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};a.effects.animateClass=function(b,c,d,e){return a.isFunction(d)&&(e=d,d=null),this.queue(function(){var g=a(this),k=g.attr("style")||" ",l=i(h.call(this)),m,n=g.attr("class")||"";a.each(f,function(a,c){b[c]&&g[c+"Class"](b[c])}),m=i(h.call(this)),g.attr("class",n),g.animate(j(l,m),{queue:!1,duration:c,easing:d,complete:function(){a.each(f,function(a,c){b[c]&&g[c+"Class"](b[c])}),typeof g.attr("style")=="object"?(g.attr("style").cssText="",g.attr("style").cssText=k):g.attr("style",k),e&&e.apply(this,arguments),a.dequeue(this)}})})},a.fn.extend({_addClass:a.fn.addClass,addClass:function(b,c,d,e){return c?a.effects.animateClass.apply(this,[{add:b},c,d,e]):this._addClass(b)},_removeClass:a.fn.removeClass,removeClass:function(b,c,d,e){return c?a.effects.animateClass.apply(this,[{remove:b},c,d,e]):this._removeClass(b)},_toggleClass:a.fn.toggleClass,toggleClass:function(c,d,e,f,g){return typeof d=="boolean"||d===b?e?a.effects.animateClass.apply(this,[d?{add:c}:{remove:c},e,f,g]):this._toggleClass(c,d):a.effects.animateClass.apply(this,[{toggle:c},d,e,f])},switchClass:function(b,c,d,e,f){return a.effects.animateClass.apply(this,[{add:c,remove:b},d,e,f])}}),a.extend(a.effects,{version:"1.8.21",save:function(a,b){for(var c=0;c<b.length;c++)b[c]!==null&&a.data("ec.storage."+b[c],a[0].style[b[c]])},restore:function(a,b){for(var c=0;c<b.length;c++)b[c]!==null&&a.css(b[c],a.data("ec.storage."+b[c]))},setMode:function(a,b){return b=="toggle"&&(b=a.is(":hidden")?"show":"hide"),b},getBaseline:function(a,b){var c,d;switch(a[0]){case"top":c=0;break;case"middle":c=.5;break;case"bottom":c=1;break;default:c=a[0]/b.height}switch(a[1]){case"left":d=0;break;case"center":d=.5;break;case"right":d=1;break;default:d=a[1]/b.width}return{x:d,y:c}},createWrapper:function(b){if(b.parent().is(".ui-effects-wrapper"))return b.parent();var c={width:b.outerWidth(!0),height:b.outerHeight(!0),"float":b.css("float")},d=a("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),e=document.activeElement;try{e.id}catch(f){e=document.body}return b.wrap(d),(b[0]===e||a.contains(b[0],e))&&a(e).focus(),d=b.parent(),b.css("position")=="static"?(d.css({position:"relative"}),b.css({position:"relative"})):(a.extend(c,{position:b.css("position"),zIndex:b.css("z-index")}),a.each(["top","left","bottom","right"],function(a,d){c[d]=b.css(d),isNaN(parseInt(c[d],10))&&(c[d]="auto")}),b.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),d.css(c).show()},removeWrapper:function(b){var c,d=document.activeElement;return b.parent().is(".ui-effects-wrapper")?(c=b.parent().replaceWith(b),(b[0]===d||a.contains(b[0],d))&&a(d).focus(),c):b},setTransition:function(b,c,d,e){return e=e||{},a.each(c,function(a,c){var f=b.cssUnit(c);f[0]>0&&(e[c]=f[0]*d+f[1])}),e}}),a.fn.extend({effect:function(b,c,d,e){var f=k.apply(this,arguments),g={options:f[1],duration:f[2],callback:f[3]},h=g.options.mode,i=a.effects[b];return a.fx.off||!i?h?this[h](g.duration,g.callback):this.each(function(){g.callback&&g.callback.call(this)}):i.call(this,g)},_show:a.fn.show,show:function(a){if(l(a))return this._show.apply(this,arguments);var b=k.apply(this,arguments);return b[1].mode="show",this.effect.apply(this,b)},_hide:a.fn.hide,hide:function(a){if(l(a))return this._hide.apply(this,arguments);var b=k.apply(this,arguments);return b[1].mode="hide",this.effect.apply(this,b)},__toggle:a.fn.toggle,toggle:function(b){if(l(b)||typeof b=="boolean"||a.isFunction(b))return this.__toggle.apply(this,arguments);var c=k.apply(this,arguments);return c[1].mode="toggle",this.effect.apply(this,c)},cssUnit:function(b){var c=this.css(b),d=[];return a.each(["em","px","%","pt"],function(a,b){c.indexOf(b)>0&&(d=[parseFloat(c),b])}),d}}),a.easing.jswing=a.easing.swing,a.extend(a.easing,{def:"easeOutQuad",swing:function(b,c,d,e,f){return a.easing[a.easing.def](b,c,d,e,f)},easeInQuad:function(a,b,c,d,e){return d*(b/=e)*b+c},easeOutQuad:function(a,b,c,d,e){return-d*(b/=e)*(b-2)+c},easeInOutQuad:function(a,b,c,d,e){return(b/=e/2)<1?d/2*b*b+c:-d/2*(--b*(b-2)-1)+c},easeInCubic:function(a,b,c,d,e){return d*(b/=e)*b*b+c},easeOutCubic:function(a,b,c,d,e){return d*((b=b/e-1)*b*b+1)+c},easeInOutCubic:function(a,b,c,d,e){return(b/=e/2)<1?d/2*b*b*b+c:d/2*((b-=2)*b*b+2)+c},easeInQuart:function(a,b,c,d,e){return d*(b/=e)*b*b*b+c},easeOutQuart:function(a,b,c,d,e){return-d*((b=b/e-1)*b*b*b-1)+c},easeInOutQuart:function(a,b,c,d,e){return(b/=e/2)<1?d/2*b*b*b*b+c:-d/2*((b-=2)*b*b*b-2)+c},easeInQuint:function(a,b,c,d,e){return d*(b/=e)*b*b*b*b+c},easeOutQuint:function(a,b,c,d,e){return d*((b=b/e-1)*b*b*b*b+1)+c},easeInOutQuint:function(a,b,c,d,e){return(b/=e/2)<1?d/2*b*b*b*b*b+c:d/2*((b-=2)*b*b*b*b+2)+c},easeInSine:function(a,b,c,d,e){return-d*Math.cos(b/e*(Math.PI/2))+d+c},easeOutSine:function(a,b,c,d,e){return d*Math.sin(b/e*(Math.PI/2))+c},easeInOutSine:function(a,b,c,d,e){return-d/2*(Math.cos(Math.PI*b/e)-1)+c},easeInExpo:function(a,b,c,d,e){return b==0?c:d*Math.pow(2,10*(b/e-1))+c},easeOutExpo:function(a,b,c,d,e){return b==e?c+d:d*(-Math.pow(2,-10*b/e)+1)+c},easeInOutExpo:function(a,b,c,d,e){return b==0?c:b==e?c+d:(b/=e/2)<1?d/2*Math.pow(2,10*(b-1))+c:d/2*(-Math.pow(2,-10*--b)+2)+c},easeInCirc:function(a,b,c,d,e){return-d*(Math.sqrt(1-(b/=e)*b)-1)+c},easeOutCirc:function(a,b,c,d,e){return d*Math.sqrt(1-(b=b/e-1)*b)+c},easeInOutCirc:function(a,b,c,d,e){return(b/=e/2)<1?-d/2*(Math.sqrt(1-b*b)-1)+c:d/2*(Math.sqrt(1-(b-=2)*b)+1)+c},easeInElastic:function(a,b,c,d,e){var f=1.70158,g=0,h=d;if(b==0)return c;if((b/=e)==1)return c+d;g||(g=e*.3);if(h<Math.abs(d)){h=d;var f=g/4}else var f=g/(2*Math.PI)*Math.asin(d/h);return-(h*Math.pow(2,10*(b-=1))*Math.sin((b*e-f)*2*Math.PI/g))+c},easeOutElastic:function(a,b,c,d,e){var f=1.70158,g=0,h=d;if(b==0)return c;if((b/=e)==1)return c+d;g||(g=e*.3);if(h<Math.abs(d)){h=d;var f=g/4}else var f=g/(2*Math.PI)*Math.asin(d/h);return h*Math.pow(2,-10*b)*Math.sin((b*e-f)*2*Math.PI/g)+d+c},easeInOutElastic:function(a,b,c,d,e){var f=1.70158,g=0,h=d;if(b==0)return c;if((b/=e/2)==2)return c+d;g||(g=e*.3*1.5);if(h<Math.abs(d)){h=d;var f=g/4}else var f=g/(2*Math.PI)*Math.asin(d/h);return b<1?-0.5*h*Math.pow(2,10*(b-=1))*Math.sin((b*e-f)*2*Math.PI/g)+c:h*Math.pow(2,-10*(b-=1))*Math.sin((b*e-f)*2*Math.PI/g)*.5+d+c},easeInBack:function(a,c,d,e,f,g){return g==b&&(g=1.70158),e*(c/=f)*c*((g+1)*c-g)+d},easeOutBack:function(a,c,d,e,f,g){return g==b&&(g=1.70158),e*((c=c/f-1)*c*((g+1)*c+g)+1)+d},easeInOutBack:function(a,c,d,e,f,g){return g==b&&(g=1.70158),(c/=f/2)<1?e/2*c*c*(((g*=1.525)+1)*c-g)+d:e/2*((c-=2)*c*(((g*=1.525)+1)*c+g)+2)+d},easeInBounce:function(b,c,d,e,f){return e-a.easing.easeOutBounce(b,f-c,0,e,f)+d},easeOutBounce:function(a,b,c,d,e){return(b/=e)<1/2.75?d*7.5625*b*b+c:b<2/2.75?d*(7.5625*(b-=1.5/2.75)*b+.75)+c:b<2.5/2.75?d*(7.5625*(b-=2.25/2.75)*b+.9375)+c:d*(7.5625*(b-=2.625/2.75)*b+.984375)+c},easeInOutBounce:function(b,c,d,e,f){return c<f/2?a.easing.easeInBounce(b,c*2,0,e,f)*.5+d:a.easing.easeOutBounce(b,c*2-f,0,e,f)*.5+e*.5+d}})}(jQuery),function(a,b){a.effects.blind=function(b){return this.queue(function(){var c=a(this),d=["position","top","bottom","left","right"],e=a.effects.setMode(c,b.options.mode||"hide"),f=b.options.direction||"vertical";a.effects.save(c,d),c.show();var g=a.effects.createWrapper(c).css({overflow:"hidden"}),h=f=="vertical"?"height":"width",i=f=="vertical"?g.height():g.width();e=="show"&&g.css(h,0);var j={};j[h]=e=="show"?i:0,g.animate(j,b.duration,b.options.easing,function(){e=="hide"&&c.hide(),a.effects.restore(c,d),a.effects.removeWrapper(c),b.callback&&b.callback.apply(c[0],arguments),c.dequeue()})})}}(jQuery),function(a,b){a.effects.bounce=function(b){return this.queue(function(){var c=a(this),d=["position","top","bottom","left","right"],e=a.effects.setMode(c,b.options.mode||"effect"),f=b.options.direction||"up",g=b.options.distance||20,h=b.options.times||5,i=b.duration||250;/show|hide/.test(e)&&d.push("opacity"),a.effects.save(c,d),c.show(),a.effects.createWrapper(c);var j=f=="up"||f=="down"?"top":"left",k=f=="up"||f=="left"?"pos":"neg",g=b.options.distance||(j=="top"?c.outerHeight({margin:!0})/3:c.outerWidth({margin:!0})/3);e=="show"&&c.css("opacity",0).css(j,k=="pos"?-g:g),e=="hide"&&(g=g/(h*2)),e!="hide"&&h--;if(e=="show"){var l={opacity:1};l[j]=(k=="pos"?"+=":"-=")+g,c.animate(l,i/2,b.options.easing),g=g/2,h--}for(var m=0;m<h;m++){var n={},p={};n[j]=(k=="pos"?"-=":"+=")+g,p[j]=(k=="pos"?"+=":"-=")+g,c.animate(n,i/2,b.options.easing).animate(p,i/2,b.options.easing),g=e=="hide"?g*2:g/2}if(e=="hide"){var l={opacity:0};l[j]=(k=="pos"?"-=":"+=")+g,c.animate(l,i/2,b.options.easing,function(){c.hide(),a.effects.restore(c,d),a.effects.removeWrapper(c),b.callback&&b.callback.apply(this,arguments)})}else{var n={},p={};n[j]=(k=="pos"?"-=":"+=")+g,p[j]=(k=="pos"?"+=":"-=")+g,c.animate(n,i/2,b.options.easing).animate(p,i/2,b.options.easing,function(){a.effects.restore(c,d),a.effects.removeWrapper(c),b.callback&&b.callback.apply(this,arguments)})}c.queue("fx",function(){c.dequeue()}),c.dequeue()})}}(jQuery),function(a,b){a.effects.clip=function(b){return this.queue(function(){var c=a(this),d=["position","top","bottom","left","right","height","width"],e=a.effects.setMode(c,b.options.mode||"hide"),f=b.options.direction||"vertical";a.effects.save(c,d),c.show();var g=a.effects.createWrapper(c).css({overflow:"hidden"}),h=c[0].tagName=="IMG"?g:c,i={size:f=="vertical"?"height":"width",position:f=="vertical"?"top":"left"},j=f=="vertical"?h.height():h.width();e=="show"&&(h.css(i.size,0),h.css(i.position,j/2));var k={};k[i.size]=e=="show"?j:0,k[i.position]=e=="show"?0:j/2,h.animate(k,{queue:!1,duration:b.duration,easing:b.options.easing,complete:function(){e=="hide"&&c.hide(),a.effects.restore(c,d),a.effects.removeWrapper(c),b.callback&&b.callback.apply(c[0],arguments),c.dequeue()}})})}}(jQuery),function(a,b){a.effects.drop=function(b){return this.queue(function(){var c=a(this),d=["position","top","bottom","left","right","opacity"],e=a.effects.setMode(c,b.options.mode||"hide"),f=b.options.direction||"left";a.effects.save(c,d),c.show(),a.effects.createWrapper(c);var g=f=="up"||f=="down"?"top":"left",h=f=="up"||f=="left"?"pos":"neg",i=b.options.distance||(g=="top"?c.outerHeight({margin:!0})/2:c.outerWidth({margin:!0})/2);e=="show"&&c.css("opacity",0).css(g,h=="pos"?-i:i);var j={opacity:e=="show"?1:0};j[g]=(e=="show"?h=="pos"?"+=":"-=":h=="pos"?"-=":"+=")+i,c.animate(j,{queue:!1,duration:b.duration,easing:b.options.easing,complete:function(){e=="hide"&&c.hide(),a.effects.restore(c,d),a.effects.removeWrapper(c),b.callback&&b.callback.apply(this,arguments),c.dequeue()}})})}}(jQuery),function(a,b){a.effects.explode=function(b){return this.queue(function(){var c=b.options.pieces?Math.round(Math.sqrt(b.options.pieces)):3,d=b.options.pieces?Math.round(Math.sqrt(b.options.pieces)):3;b.options.mode=b.options.mode=="toggle"?a(this).is(":visible")?"hide":"show":b.options.mode;var e=a(this).show().css("visibility","hidden"),f=e.offset();f.top-=parseInt(e.css("marginTop"),10)||0,f.left-=parseInt(e.css("marginLeft"),10)||0;var g=e.outerWidth(!0),h=e.outerHeight(!0);for(var i=0;i<c;i++)for(var j=0;j<d;j++)e.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:-j*(g/d),top:-i*(h/c)}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:g/d,height:h/c,left:f.left+j*(g/d)+(b.options.mode=="show"?(j-Math.floor(d/2))*(g/d):0),top:f.top+i*(h/c)+(b.options.mode=="show"?(i-Math.floor(c/2))*(h/c):0),opacity:b.options.mode=="show"?0:1}).animate({left:f.left+j*(g/d)+(b.options.mode=="show"?0:(j-Math.floor(d/2))*(g/d)),top:f.top+i*(h/c)+(b.options.mode=="show"?0:(i-Math.floor(c/2))*(h/c)),opacity:b.options.mode=="show"?1:0},b.duration||500);setTimeout(function(){b.options.mode=="show"?e.css({visibility:"visible"}):e.css({visibility:"visible"}).hide(),b.callback&&b.callback.apply(e[0]),e.dequeue(),a("div.ui-effects-explode").remove()},b.duration||500)})}}(jQuery),function(a,b){a.effects.fade=function(b){return this.queue(function(){var c=a(this),d=a.effects.setMode(c,b.options.mode||"hide");c.animate({opacity:d},{queue:!1,duration:b.duration,easing:b.options.easing,complete:function(){b.callback&&b.callback.apply(this,arguments),c.dequeue()}})})}}(jQuery),function(a,b){a.effects.fold=function(b){return this.queue(function(){var c=a(this),d=["position","top","bottom","left","right"],e=a.effects.setMode(c,b.options.mode||"hide"),f=b.options.size||15,g=!!b.options.horizFirst,h=b.duration?b.duration/2:a.fx.speeds._default/2;a.effects.save(c,d),c.show();var i=a.effects.createWrapper(c).css({overflow:"hidden"}),j=e=="show"!=g,k=j?["width","height"]:["height","width"],l=j?[i.width(),i.height()]:[i.height(),i.width()],m=/([0-9]+)%/.exec(f);m&&(f=parseInt(m[1],10)/100*l[e=="hide"?0:1]),e=="show"&&i.css(g?{height:0,width:f}:{height:f,width:0});var n={},p={};n[k[0]]=e=="show"?l[0]:f,p[k[1]]=e=="show"?l[1]:0,i.animate(n,h,b.options.easing).animate(p,h,b.options.easing,function(){e=="hide"&&c.hide(),a.effects.restore(c,d),a.effects.removeWrapper(c),b.callback&&b.callback.apply(c[0],arguments),c.dequeue()})})}}(jQuery),function(a,b){a.effects.highlight=function(b){return this.queue(function(){var c=a(this),d=["backgroundImage","backgroundColor","opacity"],e=a.effects.setMode(c,b.options.mode||"show"),f={backgroundColor:c.css("backgroundColor")};e=="hide"&&(f.opacity=0),a.effects.save(c,d),c.show().css({backgroundImage:"none",backgroundColor:b.options.color||"#ffff99"}).animate(f,{queue:!1,duration:b.duration,easing:b.options.easing,complete:function(){e=="hide"&&c.hide(),a.effects.restore(c,d),e=="show"&&!a.support.opacity&&this.style.removeAttribute("filter"),b.callback&&b.callback.apply(this,arguments),c.dequeue()}})})}}(jQuery),function(a,b){a.effects.pulsate=function(b){return this.queue(function(){var c=a(this),d=a.effects.setMode(c,b.options.mode||"show"),e=(b.options.times||5)*2-1,f=b.duration?b.duration/2:a.fx.speeds._default/2,g=c.is(":visible"),h=0;g||(c.css("opacity",0).show(),h=1),(d=="hide"&&g||d=="show"&&!g)&&e--;for(var i=0;i<e;i++)c.animate({opacity:h},f,b.options.easing),h=(h+1)%2;c.animate({opacity:h},f,b.options.easing,function(){h==0&&c.hide(),b.callback&&b.callback.apply(this,arguments)}),c.queue("fx",function(){c.dequeue()}).dequeue()})}}(jQuery),function(a,b){a.effects.puff=function(b){return this.queue(function(){var c=a(this),d=a.effects.setMode(c,b.options.mode||"hide"),e=parseInt(b.options.percent,10)||150,f=e/100,g={height:c.height(),width:c.width()};a.extend(b.options,{fade:!0,mode:d,percent:d=="hide"?e:100,from:d=="hide"?g:{height:g.height*f,width:g.width*f}}),c.effect("scale",b.options,b.duration,b.callback),c.dequeue()})},a.effects.scale=function(b){return this.queue(function(){var c=a(this),d=a.extend(!0,{},b.options),e=a.effects.setMode(c,b.options.mode||"effect"),f=parseInt(b.options.percent,10)||(parseInt(b.options.percent,10)==0?0:e=="hide"?0:100),g=b.options.direction||"both",h=b.options.origin;e!="effect"&&(d.origin=h||["middle","center"],d.restore=!0);var i={height:c.height(),width:c.width()};c.from=b.options.from||(e=="show"?{height:0,width:0}:i);var j={y:g!="horizontal"?f/100:1,x:g!="vertical"?f/100:1};c.to={height:i.height*j.y,width:i.width*j.x},b.options.fade&&(e=="show"&&(c.from.opacity=0,c.to.opacity=1),e=="hide"&&(c.from.opacity=1,c.to.opacity=0)),d.from=c.from,d.to=c.to,d.mode=e,c.effect("size",d,b.duration,b.callback),c.dequeue()})},a.effects.size=function(b){return this.queue(function(){var c=a(this),d=["position","top","bottom","left","right","width","height","overflow","opacity"],e=["position","top","bottom","left","right","overflow","opacity"],f=["width","height","overflow"],g=["fontSize"],h=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],i=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],j=a.effects.setMode(c,b.options.mode||"effect"),k=b.options.restore||!1,l=b.options.scale||"both",m=b.options.origin,n={height:c.height(),width:c.width()};c.from=b.options.from||n,c.to=b.options.to||n;if(m){var p=a.effects.getBaseline(m,n);c.from.top=(n.height-c.from.height)*p.y,c.from.left=(n.width-c.from.width)*p.x,c.to.top=(n.height-c.to.height)*p.y,c.to.left=(n.width-c.to.width)*p.x}var q={from:{y:c.from.height/n.height,x:c.from.width/n.width},to:{y:c.to.height/n.height,x:c.to.width/n.width}};if(l=="box"||l=="both")q.from.y!=q.to.y&&(d=d.concat(h),c.from=a.effects.setTransition(c,h,q.from.y,c.from),c.to=a.effects.setTransition(c,h,q.to.y,c.to)),q.from.x!=q.to.x&&(d=d.concat(i),c.from=a.effects.setTransition(c,i,q.from.x,c.from),c.to=a.effects.setTransition(c,i,q.to.x,c.to));(l=="content"||l=="both")&&q.from.y!=q.to.y&&(d=d.concat(g),c.from=a.effects.setTransition(c,g,q.from.y,c.from),c.to=a.effects.setTransition(c,g,q.to.y,c.to)),a.effects.save(c,k?d:e),c.show(),a.effects.createWrapper(c),c.css("overflow","hidden").css(c.from);if(l=="content"||l=="both")h=h.concat(["marginTop","marginBottom"]).concat(g),i=i.concat(["marginLeft","marginRight"]),f=d.concat(h).concat(i),c.find("*[width]").each(function(){var c=a(this);k&&a.effects.save(c,f);var d={height:c.height(),width:c.width()};c.from={height:d.height*q.from.y,width:d.width*q.from.x},c.to={height:d.height*q.to.y,width:d.width*q.to.x},q.from.y!=q.to.y&&(c.from=a.effects.setTransition(c,h,q.from.y,c.from),c.to=a.effects.setTransition(c,h,q.to.y,c.to)),q.from.x!=q.to.x&&(c.from=a.effects.setTransition(c,i,q.from.x,c.from),c.to=a.effects.setTransition(c,i,q.to.x,c.to)),c.css(c.from),c.animate(c.to,b.duration,b.options.easing,function(){k&&a.effects.restore(c,f)})});c.animate(c.to,{queue:!1,duration:b.duration,easing:b.options.easing,complete:function(){c.to.opacity===0&&c.css("opacity",c.from.opacity),j=="hide"&&c.hide(),a.effects.restore(c,k?d:e),a.effects.removeWrapper(c),b.callback&&b.callback.apply(this,arguments),c.dequeue()}})})}}(jQuery),function(a,b){a.effects.shake=function(b){return this.queue(function(){var c=a(this),d=["position","top","bottom","left","right"],e=a.effects.setMode(c,b.options.mode||"effect"),f=b.options.direction||"left",g=b.options.distance||20,h=b.options.times||3,i=b.duration||b.options.duration||140;a.effects.save(c,d),c.show(),a.effects.createWrapper(c);var j=f=="up"||f=="down"?"top":"left",k=f=="up"||f=="left"?"pos":"neg",l={},m={},n={};l[j]=(k=="pos"?"-=":"+=")+g,m[j]=(k=="pos"?"+=":"-=")+g*2,n[j]=(k=="pos"?"-=":"+=")+g*2,c.animate(l,i,b.options.easing);for(var p=1;p<h;p++)c.animate(m,i,b.options.easing).animate(n,i,b.options.easing);c.animate(m,i,b.options.easing).animate(l,i/2,b.options.easing,function(){a.effects.restore(c,d),a.effects.removeWrapper(c),b.callback&&b.callback.apply(this,arguments)}),c.queue("fx",function(){c.dequeue()}),c.dequeue()})}}(jQuery),function(a,b){a.effects.slide=function(b){return this.queue(function(){var c=a(this),d=["position","top","bottom","left","right"],e=a.effects.setMode(c,b.options.mode||"show"),f=b.options.direction||"left";a.effects.save(c,d),c.show(),a.effects.createWrapper(c).css({overflow:"hidden"});var g=f=="up"||f=="down"?"top":"left",h=f=="up"||f=="left"?"pos":"neg",i=b.options.distance||(g=="top"?c.outerHeight({margin:!0}):c.outerWidth({margin:!0}));e=="show"&&c.css(g,h=="pos"?isNaN(i)?"-"+i:-i:i);var j={};j[g]=(e=="show"?h=="pos"?"+=":"-=":h=="pos"?"-=":"+=")+i,c.animate(j,{queue:!1,duration:b.duration,easing:b.options.easing,complete:function(){e=="hide"&&c.hide(),a.effects.restore(c,d),a.effects.removeWrapper(c),b.callback&&b.callback.apply(this,arguments),c.dequeue()}})})}}(jQuery),function(a,b){a.effects.transfer=function(b){return this.queue(function(){var c=a(this),d=a(b.options.to),e=d.offset(),f={top:e.top,left:e.left,height:d.innerHeight(),width:d.innerWidth()},g=c.offset(),h=a('<div class="ui-effects-transfer"></div>').appendTo(document.body).addClass(b.options.className).css({top:g.top,left:g.left,height:c.innerHeight(),width:c.innerWidth(),position:"absolute"}).animate(f,b.duration,b.options.easing,function(){h.remove(),b.callback&&b.callback.apply(c[0],arguments),c.dequeue()})})}}(jQuery),function(a,b){a.widget("ui.accordion",{options:{active:0,animated:"slide",autoHeight:!0,clearStyle:!1,collapsible:!1,event:"click",fillSpace:!1,header:"> li > :first-child,> :not(li):even",icons:{header:"ui-icon-triangle-1-e",headerSelected:"ui-icon-triangle-1-s"},navigation:!1,navigationFilter:function(){return this.href.toLowerCase()===location.href.toLowerCase()}},_create:function(){var b=this,c=b.options;b.running=0,b.element.addClass("ui-accordion ui-widget ui-helper-reset").children("li").addClass("ui-accordion-li-fix"),b.headers=b.element.find(c.header).addClass("ui-accordion-header ui-helper-reset ui-state-default ui-corner-all").bind("mouseenter.accordion",function(){if(c.disabled)return;a(this).addClass("ui-state-hover")}).bind("mouseleave.accordion",function(){if(c.disabled)return;a(this).removeClass("ui-state-hover")}).bind("focus.accordion",function(){if(c.disabled)return;a(this).addClass("ui-state-focus")}).bind("blur.accordion",function(){if(c.disabled)return;a(this).removeClass("ui-state-focus")}),b.headers.next().addClass("ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom");if(c.navigation){var d=b.element.find("a").filter(c.navigationFilter).eq(0);if(d.length){var e=d.closest(".ui-accordion-header");e.length?b.active=e:b.active=d.closest(".ui-accordion-content").prev()}}b.active=b._findActive(b.active||c.active).addClass("ui-state-default ui-state-active").toggleClass("ui-corner-all").toggleClass("ui-corner-top"),b.active.next().addClass("ui-accordion-content-active"),b._createIcons(),b.resize(),b.element.attr("role","tablist"),b.headers.attr("role","tab").bind("keydown.accordion",function(a){return b._keydown(a)}).next().attr("role","tabpanel"),b.headers.not(b.active||"").attr({"aria-expanded":"false","aria-selected":"false",tabIndex:-1}).next().hide(),b.active.length?b.active.attr({"aria-expanded":"true","aria-selected":"true",tabIndex:0}):b.headers.eq(0).attr("tabIndex",0),a.browser.safari||b.headers.find("a").attr("tabIndex",-1),c.event&&b.headers.bind(c.event.split(" ").join(".accordion ")+".accordion",function(a){b._clickHandler.call(b,a,this),a.preventDefault()})},_createIcons:function(){var b=this.options;b.icons&&(a("<span></span>").addClass("ui-icon "+b.icons.header).prependTo(this.headers),this.active.children(".ui-icon").toggleClass(b.icons.header).toggleClass(b.icons.headerSelected),this.element.addClass("ui-accordion-icons"))},_destroyIcons:function(){this.headers.children(".ui-icon").remove(),this.element.removeClass("ui-accordion-icons")},destroy:function(){var b=this.options;this.element.removeClass("ui-accordion ui-widget ui-helper-reset").removeAttr("role"),this.headers.unbind(".accordion").removeClass("ui-accordion-header ui-accordion-disabled ui-helper-reset ui-state-default ui-corner-all ui-state-active ui-state-disabled ui-corner-top").removeAttr("role").removeAttr("aria-expanded").removeAttr("aria-selected").removeAttr("tabIndex"),this.headers.find("a").removeAttr("tabIndex"),this._destroyIcons();var c=this.headers.next().css("display","").removeAttr("role").removeClass("ui-helper-reset ui-widget-content ui-corner-bottom ui-accordion-content ui-accordion-content-active ui-accordion-disabled ui-state-disabled");return(b.autoHeight||b.fillHeight)&&c.css("height",""),a.Widget.prototype.destroy.call(this)},_setOption:function(b,c){a.Widget.prototype._setOption.apply(this,arguments),b=="active"&&this.activate(c),b=="icons"&&(this._destroyIcons(),c&&this._createIcons()),b=="disabled"&&this.headers.add(this.headers.next())[c?"addClass":"removeClass"]("ui-accordion-disabled ui-state-disabled")},_keydown:function(b){if(this.options.disabled||b.altKey||b.ctrlKey)return;var c=a.ui.keyCode,d=this.headers.length,e=this.headers.index(b.target),f=!1;switch(b.keyCode){case c.RIGHT:case c.DOWN:f=this.headers[(e+1)%d];break;case c.LEFT:case c.UP:f=this.headers[(e-1+d)%d];break;case c.SPACE:case c.ENTER:this._clickHandler({target:b.target},b.target),b.preventDefault()}return f?(a(b.target).attr("tabIndex",-1),a(f).attr("tabIndex",0),f.focus(),!1):!0},resize:function(){var b=this.options,c;if(b.fillSpace){if(a.browser.msie){var d=this.element.parent().css("overflow");this.element.parent().css("overflow","hidden")}c=this.element.parent().height(),a.browser.msie&&this.element.parent().css("overflow",d),this.headers.each(function(){c-=a(this).outerHeight(!0)}),this.headers.next().each(function(){a(this).height(Math.max(0,c-a(this).innerHeight()+a(this).height()))}).css("overflow","auto")}else b.autoHeight&&(c=0,this.headers.next().each(function(){c=Math.max(c,a(this).height("").height())}).height(c));return this},activate:function(a){this.options.active=a;var b=this._findActive(a)[0];return this._clickHandler({target:b},b),this},_findActive:function(b){return b?typeof b=="number"?this.headers.filter(":eq("+b+")"):this.headers.not(this.headers.not(b)):b===!1?a([]):this.headers.filter(":eq(0)")},_clickHandler:function(b,c){var d=this.options;if(d.disabled)return;if(!b.target){if(!d.collapsible)return;this.active.removeClass("ui-state-active ui-corner-top").addClass("ui-state-default ui-corner-all").children(".ui-icon").removeClass(d.icons.headerSelected).addClass(d.icons.header),this.active.next().addClass("ui-accordion-content-active");var e=this.active.next(),f={options:d,newHeader:a([]),oldHeader:d.active,newContent:a([]),oldContent:e},g=this.active=a([]);this._toggle(g,e,f);return}var h=a(b.currentTarget||c),i=h[0]===this.active[0];d.active=d.collapsible&&i?!1:this.headers.index(h);if(this.running||!d.collapsible&&i)return;var j=this.active,g=h.next(),e=this.active.next(),f={options:d,newHeader:i&&d.collapsible?a([]):h,oldHeader:this.active,newContent:i&&d.collapsible?a([]):g,oldContent:e},k=this.headers.index(this.active[0])>this.headers.index(h[0]);this.active=i?a([]):h,this._toggle(g,e,f,i,k),j.removeClass("ui-state-active ui-corner-top").addClass("ui-state-default ui-corner-all").children(".ui-icon").removeClass(d.icons.headerSelected).addClass(d.icons.header),i||(h.removeClass("ui-state-default ui-corner-all").addClass("ui-state-active ui-corner-top").children(".ui-icon").removeClass(d.icons.header).addClass(d.icons.headerSelected),h.next().addClass("ui-accordion-content-active"));return},_toggle:function(b,c,d,e,f){var g=this,h=g.options;g.toShow=b,g.toHide=c,g.data=d;var i=function(){if(!g)return;return g._completed.apply(g,arguments)};g._trigger("changestart",null,g.data),g.running=c.size()===0?b.size():c.size();if(h.animated){var j={};h.collapsible&&e?j={toShow:a([]),toHide:c,complete:i,down:f,autoHeight:h.autoHeight||h.fillSpace}:j={toShow:b,toHide:c,complete:i,down:f,autoHeight:h.autoHeight||h.fillSpace},h.proxied||(h.proxied=h.animated),h.proxiedDuration||(h.proxiedDuration=h.duration),h.animated=a.isFunction(h.proxied)?h.proxied(j):h.proxied,h.duration=a.isFunction(h.proxiedDuration)?h.proxiedDuration(j):h.proxiedDuration;var k=a.ui.accordion.animations,l=h.duration,m=h.animated;m&&!k[m]&&!a.easing[m]&&(m="slide"),k[m]||(k[m]=function(a){this.slide(a,{easing:m,duration:l||700})}),k[m](j)}else h.collapsible&&e?b.toggle():(c.hide(),b.show()),i(!0);c.prev().attr({"aria-expanded":"false","aria-selected":"false",tabIndex:-1}).blur(),b.prev().attr({"aria-expanded":"true","aria-selected":"true",tabIndex:0}).focus()},_completed:function(a){this.running=a?0:--this.running;if(this.running)return;this.options.clearStyle&&this.toShow.add(this.toHide).css({height:"",overflow:""}),this.toHide.removeClass("ui-accordion-content-active"),this.toHide.length&&(this.toHide.parent()[0].className=this.toHide.parent()[0].className),this._trigger("change",null,this.data)}}),a.extend(a.ui.accordion,{version:"1.8.21",animations:{slide:function(b,c){b=a.extend({easing:"swing",duration:300},b,c);if(!b.toHide.size()){b.toShow.animate({height:"show",paddingTop:"show",paddingBottom:"show"},b);return}if(!b.toShow.size()){b.toHide.animate({height:"hide",paddingTop:"hide",paddingBottom:"hide"},b);return}var d=b.toShow.css("overflow"),e=0,f={},g={},h=["height","paddingTop","paddingBottom"],i,j=b.toShow;i=j[0].style.width,j.width(j.parent().width()-parseFloat(j.css("paddingLeft"))-parseFloat(j.css("paddingRight"))-(parseFloat(j.css("borderLeftWidth"))||0)-(parseFloat(j.css("borderRightWidth"))||0)),a.each(h,function(c,d){g[d]="hide";var e=(""+a.css(b.toShow[0],d)).match(/^([\d+-.]+)(.*)$/);f[d]={value:e[1],unit:e[2]||"px"}}),b.toShow.css({height:0,overflow:"hidden"}).show(),b.toHide.filter(":hidden").each(b.complete).end().filter(":visible").animate(g,{step:function(a,c){c.prop=="height"&&(e=c.end-c.start===0?0:(c.now-c.start)/(c.end-c.start)),b.toShow[0].style[c.prop]=e*f[c.prop].value+f[c.prop].unit},duration:b.duration,easing:b.easing,complete:function(){b.autoHeight||b.toShow.css("height",""),b.toShow.css({width:i,overflow:d}),b.complete()}})},bounceslide:function(a){this.slide(a,{easing:a.down?"easeOutBounce":"swing",duration:a.down?1e3:200})}}})}(jQuery),function(a,b){var c=0;a.widget("ui.autocomplete",{options:{appendTo:"body",autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null},pending:0,_create:function(){var b=this,c=this.element[0].ownerDocument,d;this.isMultiLine=this.element.is("textarea"),this.element.addClass("ui-autocomplete-input").attr("autocomplete","off").attr({role:"textbox","aria-autocomplete":"list","aria-haspopup":"true"}).bind("keydown.autocomplete",function(c){if(b.options.disabled||b.element.propAttr("readOnly"))return;d=!1;var e=a.ui.keyCode;switch(c.keyCode){case e.PAGE_UP:b._move("previousPage",c);break;case e.PAGE_DOWN:b._move("nextPage",c);break;case e.UP:b._keyEvent("previous",c);break;case e.DOWN:b._keyEvent("next",c);break;case e.ENTER:case e.NUMPAD_ENTER:b.menu.active&&(d=!0,c.preventDefault());case e.TAB:if(!b.menu.active)return;b.menu.select(c);break;case e.ESCAPE:b.element.val(b.term),b.close(c);break;default:clearTimeout(b.searching),b.searching=setTimeout(function(){b.term!=b.element.val()&&(b.selectedItem=null,b.search(null,c))},b.options.delay)}}).bind("keypress.autocomplete",function(a){d&&(d=!1,a.preventDefault())}).bind("focus.autocomplete",function(){if(b.options.disabled)return;b.selectedItem=null,b.previous=b.element.val()}).bind("blur.autocomplete",function(a){if(b.options.disabled)return;clearTimeout(b.searching),b.closing=setTimeout(function(){b.close(a),b._change(a)},150)}),this._initSource(),this.menu=a("<ul></ul>").addClass("ui-autocomplete").appendTo(a(this.options.appendTo||"body",c)[0]).mousedown(function(c){var d=b.menu.element[0];a(c.target).closest(".ui-menu-item").length||setTimeout(function(){a(document).one("mousedown",function(c){c.target!==b.element[0]&&c.target!==d&&!a.ui.contains(d,c.target)&&b.close()})},1),setTimeout(function(){clearTimeout(b.closing)},13)}).menu({focus:function(a,c){var d=c.item.data("item.autocomplete");!1!==b._trigger("focus",a,{item:d})&&/^key/.test(a.originalEvent.type)&&b.element.val(d.value)},selected:function(a,d){var e=d.item.data("item.autocomplete"),f=b.previous;b.element[0]!==c.activeElement&&(b.element.focus(),b.previous=f,setTimeout(function(){b.previous=f,b.selectedItem=e},1)),!1!==b._trigger("select",a,{item:e})&&b.element.val(e.value),b.term=b.element.val(),b.close(a),b.selectedItem=e},blur:function(a,c){b.menu.element.is(":visible")&&b.element.val()!==b.term&&b.element.val(b.term)}}).zIndex(this.element.zIndex()+1).css({top:0,left:0}).hide().data("menu"),a.fn.bgiframe&&this.menu.element.bgiframe(),b.beforeunloadHandler=function(){b.element.removeAttr("autocomplete")},a(window).bind("beforeunload",b.beforeunloadHandler)},destroy:function(){this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete").removeAttr("role").removeAttr("aria-autocomplete").removeAttr("aria-haspopup"),this.menu.element.remove(),a(window).unbind("beforeunload",this.beforeunloadHandler),a.Widget.prototype.destroy.call(this)},_setOption:function(b,c){a.Widget.prototype._setOption.apply(this,arguments),b==="source"&&this._initSource(),b==="appendTo"&&this.menu.element.appendTo(a(c||"body",this.element[0].ownerDocument)[0]),b==="disabled"&&c&&this.xhr&&this.xhr.abort()},_initSource:function(){var b=this,c,d;a.isArray(this.options.source)?(c=this.options.source,this.source=function(b,d){d(a.ui.autocomplete.filter(c,b.term))}):typeof this.options.source=="string"?(d=this.options.source,this.source=function(c,e){b.xhr&&b.xhr.abort(),b.xhr=a.ajax({url:d,data:c,dataType:"json",success:function(a,b){e(a)},error:function(){e([])}})}):this.source=this.options.source},search:function(a,b){a=a!=null?a:this.element.val(),this.term=this.element.val();if(a.length<this.options.minLength)return this.close(b);clearTimeout(this.closing);if(this._trigger("search",b)===!1)return;return this._search(a)},_search:function(a){this.pending++,this.element.addClass("ui-autocomplete-loading"),this.source({term:a},this._response())},_response:function(){var a=this,b=++c;return function(d){b===c&&a.__response(d),a.pending--,a.pending||a.element.removeClass("ui-autocomplete-loading")}},__response:function(a){!this.options.disabled&&a&&a.length?(a=this._normalize(a),this._suggest(a),this._trigger("open")):this.close()},close:function(a){clearTimeout(this.closing),this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.deactivate(),this._trigger("close",a))},_change:function(a){this.previous!==this.element.val()&&this._trigger("change",a,{item:this.selectedItem})},_normalize:function(b){return b.length&&b[0].label&&b[0].value?b:a.map(b,function(b){return typeof b=="string"?{label:b,value:b}:a.extend({label:b.label||b.value,value:b.value||b.label},b)})},_suggest:function(b){var c=this.menu.element.empty().zIndex(this.element.zIndex()+1);this._renderMenu(c,b),this.menu.deactivate(),this.menu.refresh(),c.show(),this._resizeMenu(),c.position(a.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next(new a.Event("mouseover"))},_resizeMenu:function(){var a=this.menu.element;a.outerWidth(Math.max(a.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(b,c){var d=this;a.each(c,function(a,c){d._renderItem(b,c)})},_renderItem:function(b,c){return a("<li></li>").data("item.autocomplete",c).append(a("<a></a>").text(c.label)).appendTo(b)},_move:function(a,b){if(!this.menu.element.is(":visible")){this.search(null,b);return}if(this.menu.first()&&/^previous/.test(a)||this.menu.last()&&/^next/.test(a)){this.element.val(this.term),this.menu.deactivate();return}this.menu[a](b)},widget:function(){return this.menu.element},_keyEvent:function(a,b){if(!this.isMultiLine||this.menu.element.is(":visible"))this._move(a,b),b.preventDefault()}}),a.extend(a.ui.autocomplete,{escapeRegex:function(a){return a.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")},filter:function(b,c){var d=new RegExp(a.ui.autocomplete.escapeRegex(c),"i");return a.grep(b,function(a){return d.test(a.label||a.value||a)})}})}(jQuery),function(a){a.widget("ui.menu",{_create:function(){var b=this;this.element.addClass("ui-menu ui-widget ui-widget-content ui-corner-all").attr({role:"listbox","aria-activedescendant":"ui-active-menuitem"}).click(function(c){if(!a(c.target).closest(".ui-menu-item a").length)return;c.preventDefault(),b.select(c)}),this.refresh()},refresh:function(){var b=this,c=this.element.children("li:not(.ui-menu-item):has(a)").addClass("ui-menu-item").attr("role","menuitem");c.children("a").addClass("ui-corner-all").attr("tabindex",-1).mouseenter(function(c){b.activate(c,a(this).parent())}).mouseleave(function(){b.deactivate()})},activate:function(a,b){this.deactivate();if(this.hasScroll()){var c=b.offset().top-this.element.offset().top,d=this.element.scrollTop(),e=this.element.height();c<0?this.element.scrollTop(d+c):c>=e&&this.element.scrollTop(d+c-e+b.height())}this.active=b.eq(0).children("a").addClass("ui-state-hover").attr("id","ui-active-menuitem").end(),this._trigger("focus",a,{item:b})},deactivate:function(){if(!this.active)return;this.active.children("a").removeClass("ui-state-hover").removeAttr("id"),this._trigger("blur"),this.active=null},next:function(a){this.move("next",".ui-menu-item:first",a)},previous:function(a){this.move("prev",".ui-menu-item:last",a)},first:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},last:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},move:function(a,b,c){if(!this.active){this.activate(c,this.element.children(b));return}var d=this.active[a+"All"](".ui-menu-item").eq(0);d.length?this.activate(c,d):this.activate(c,this.element.children(b))},nextPage:function(b){if(this.hasScroll()){if(!this.active||this.last()){this.activate(b,this.element.children(".ui-menu-item:first"));return}var c=this.active.offset().top,d=this.element.height(),e=this.element.children(".ui-menu-item").filter(function(){var b=a(this).offset().top-c-d+a(this).height();return b<10&&b>-10});e.length||(e=this.element.children(".ui-menu-item:last")),this.activate(b,e)}else this.activate(b,this.element.children(".ui-menu-item").filter(!this.active||this.last()?":first":":last"))},previousPage:function(b){if(this.hasScroll()){if(!this.active||this.first()){this.activate(b,this.element.children(".ui-menu-item:last"));return}var c=this.active.offset().top,d=this.element.height(),e=this.element.children(".ui-menu-item").filter(function(){var b=a(this).offset().top-c+d-a(this).height();return b<10&&b>-10});e.length||(e=this.element.children(".ui-menu-item:first")),this.activate(b,e)}else this.activate(b,this.element.children(".ui-menu-item").filter(!this.active||this.first()?":last":":first"))},hasScroll:function(){return this.element.height()<this.element[a.fn.prop?"prop":"attr"]("scrollHeight")},select:function(a){this._trigger("selected",a,{item:this.active})}})}(jQuery),function(a,b){var c,d,e,f,g="ui-button ui-widget ui-state-default ui-corner-all",h="ui-state-hover ui-state-active ",i="ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only",j=function(){var b=a(this).find(":ui-button");setTimeout(function(){b.button("refresh")},1)},k=function(b){var c=b.name,d=b.form,e=a([]);return c&&(d?e=a(d).find("[name='"+c+"']"):e=a("[name='"+c+"']",b.ownerDocument).filter(function(){return!this.form})),e};a.widget("ui.button",{options:{disabled:null,text:!0,label:null,icons:{primary:null,secondary:null}},_create:function(){this.element.closest("form").unbind("reset.button").bind("reset.button",j),typeof this.options.disabled!="boolean"?this.options.disabled=!!this.element.propAttr("disabled"):this.element.propAttr("disabled",this.options.disabled),this._determineButtonType(),this.hasTitle=!!this.buttonElement.attr("title");var b=this,h=this.options,i=this.type==="checkbox"||this.type==="radio",l="ui-state-hover"+(i?"":" ui-state-active"),m="ui-state-focus";h.label===null&&(h.label=this.buttonElement.html()),this.buttonElement.addClass(g).attr("role","button").bind("mouseenter.button",function(){if(h.disabled)return;a(this).addClass("ui-state-hover"),this===c&&a(this).addClass("ui-state-active")}).bind("mouseleave.button",function(){if(h.disabled)return;a(this).removeClass(l)}).bind("click.button",function(a){h.disabled&&(a.preventDefault(),a.stopImmediatePropagation())}),this.element.bind("focus.button",function(){b.buttonElement.addClass(m)}).bind("blur.button",function(){b.buttonElement.removeClass(m)}),i&&(this.element.bind("change.button",function(){if(f)return;b.refresh()}),this.buttonElement.bind("mousedown.button",function(a){if(h.disabled)return;f=!1,d=a.pageX,e=a.pageY}).bind("mouseup.button",function(a){if(h.disabled)return;if(d!==a.pageX||e!==a.pageY)f=!0})),this.type==="checkbox"?this.buttonElement.bind("click.button",function(){if(h.disabled||f)return!1;a(this).toggleClass("ui-state-active"),b.buttonElement.attr("aria-pressed",b.element[0].checked)}):this.type==="radio"?this.buttonElement.bind("click.button",function(){if(h.disabled||f)return!1;a(this).addClass("ui-state-active"),b.buttonElement.attr("aria-pressed","true");var c=b.element[0];k(c).not(c).map(function(){return a(this).button("widget")[0]}).removeClass("ui-state-active").attr("aria-pressed","false")}):(this.buttonElement.bind("mousedown.button",function(){if(h.disabled)return!1;a(this).addClass("ui-state-active"),c=this,a(document).one("mouseup",function(){c=null})}).bind("mouseup.button",function(){if(h.disabled)return!1;a(this).removeClass("ui-state-active")}).bind("keydown.button",function(b){if(h.disabled)return!1;(b.keyCode==a.ui.keyCode.SPACE||b.keyCode==a.ui.keyCode.ENTER)&&a(this).addClass("ui-state-active")}).bind("keyup.button",function(){a(this).removeClass("ui-state-active")}),this.buttonElement.is("a")&&this.buttonElement.keyup(function(b){b.keyCode===a.ui.keyCode.SPACE&&a(this).click()})),this._setOption("disabled",h.disabled),this._resetButton()},_determineButtonType:function(){this.element.is(":checkbox")?this.type="checkbox":this.element.is(":radio")?this.type="radio":this.element.is("input")?this.type="input":this.type="button";if(this.type==="checkbox"||this.type==="radio"){var a=this.element.parents().filter(":last"),b="label[for='"+this.element.attr("id")+"']";this.buttonElement=a.find(b),this.buttonElement.length||(a=a.length?a.siblings():this.element.siblings(),this.buttonElement=a.filter(b),this.buttonElement.length||(this.buttonElement=a.find(b))),this.element.addClass("ui-helper-hidden-accessible");var c=this.element.is(":checked");c&&this.buttonElement.addClass("ui-state-active"),this.buttonElement.attr("aria-pressed",c)}else this.buttonElement=this.element},widget:function(){return this.buttonElement},destroy:function(){this.element.removeClass("ui-helper-hidden-accessible"),this.buttonElement.removeClass(g+" "+h+" "+i).removeAttr("role").removeAttr("aria-pressed").html(this.buttonElement.find(".ui-button-text").html()),this.hasTitle||this.buttonElement.removeAttr("title"),a.Widget.prototype.destroy.call(this)},_setOption:function(b,c){a.Widget.prototype._setOption.apply(this,arguments);if(b==="disabled"){c?this.element.propAttr("disabled",!0):this.element.propAttr("disabled",!1);return}this._resetButton()},refresh:function(){var b=this.element.is(":disabled");b!==this.options.disabled&&this._setOption("disabled",b),this.type==="radio"?k(this.element[0]).each(function(){a(this).is(":checked")?a(this).button("widget").addClass("ui-state-active").attr("aria-pressed","true"):a(this).button("widget").removeClass("ui-state-active").attr("aria-pressed","false")}):this.type==="checkbox"&&(this.element.is(":checked")?this.buttonElement.addClass("ui-state-active").attr("aria-pressed","true"):this.buttonElement.removeClass("ui-state-active").attr("aria-pressed","false"))},_resetButton:function(){if(this.type==="input"){this.options.label&&this.element.val(this.options.label);return}var b=this.buttonElement.removeClass(i),c=a("<span></span>",this.element[0].ownerDocument).addClass("ui-button-text").html(this.options.label).appendTo(b.empty()).text(),d=this.options.icons,e=d.primary&&d.secondary,f=[];d.primary||d.secondary?(this.options.text&&f.push("ui-button-text-icon"+(e?"s":d.primary?"-primary":"-secondary")),d.primary&&b.prepend("<span class='ui-button-icon-primary ui-icon "+d.primary+"'></span>"),d.secondary&&b.append("<span class='ui-button-icon-secondary ui-icon "+d.secondary+"'></span>"),this.options.text||(f.push(e?"ui-button-icons-only":"ui-button-icon-only"),this.hasTitle||b.attr("title",c))):f.push("ui-button-text-only"),b.addClass(f.join(" "))}}),a.widget("ui.buttonset",{options:{items:":button, :submit, :reset, :checkbox, :radio, a, :data(button)"},_create:function(){this.element.addClass("ui-buttonset")},_init:function(){this.refresh()},_setOption:function(b,c){b==="disabled"&&this.buttons.button("option",b,c),a.Widget.prototype._setOption.apply(this,arguments)},refresh:function(){var b=this.element.css("direction")==="rtl";this.buttons=this.element.find(this.options.items).filter(":ui-button").button("refresh").end().not(":ui-button").button().end().map(function(){return a(this).button("widget")[0]}).removeClass("ui-corner-all ui-corner-left ui-corner-right").filter(":first").addClass(b?"ui-corner-right":"ui-corner-left").end().filter(":last").addClass(b?"ui-corner-left":"ui-corner-right").end().end()},destroy:function(){this.element.removeClass("ui-buttonset"),this.buttons.map(function(){return a(this).button("widget")[0]}).removeClass("ui-corner-left ui-corner-right").end().button("destroy"),a.Widget.prototype.destroy.call(this)}})}(jQuery),function($,undefined){function Datepicker(){this.debug=!1,this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},$.extend(this._defaults,this.regional[""]),this.dpDiv=bindHover($('<div id="'+this._mainDivId+'" class="ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all"></div>'))}function bindHover(a){var b="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return a.bind("mouseout",function(a){var c=$(a.target).closest(b);if(!c.length)return;c.removeClass("ui-state-hover ui-datepicker-prev-hover ui-datepicker-next-hover")}).bind("mouseover",function(c){var d=$(c.target).closest(b);if($.datepicker._isDisabledDatepicker(instActive.inline?a.parent()[0]:instActive.input[0])||!d.length)return;d.parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),d.addClass("ui-state-hover"),d.hasClass("ui-datepicker-prev")&&d.addClass("ui-datepicker-prev-hover"),d.hasClass("ui-datepicker-next")&&d.addClass("ui-datepicker-next-hover")})}function extendRemove(a,b){$.extend(a,b);for(var c in b)if(b[c]==null||b[c]==undefined)a[c]=b[c];return a}function isArray(a){return a&&($.browser.safari&&typeof a=="object"&&a.length||a.constructor&&a.constructor.toString().match(/\Array\(\)/))}$.extend($.ui,{datepicker:{version:"1.8.21"}});var PROP_NAME="datepicker",dpuuid=(new Date).getTime(),instActive;$.extend(Datepicker.prototype,{markerClassName:"hasDatepicker",maxRows:4,log:function(){this.debug&&console.log.apply("",arguments)},_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(a){return extendRemove(this._defaults,a||{}),this},_attachDatepicker:function(target,settings){var inlineSettings=null;for(var attrName in this._defaults){var attrValue=target.getAttribute("date:"+attrName);if(attrValue){inlineSettings=inlineSettings||{};try{inlineSettings[attrName]=eval(attrValue)}catch(err){inlineSettings[attrName]=attrValue}}}var nodeName=target.nodeName.toLowerCase(),inline=nodeName=="div"||nodeName=="span";target.id||(this.uuid+=1,target.id="dp"+this.uuid);var inst=this._newInst($(target),inline);inst.settings=$.extend({},settings||{},inlineSettings||{}),nodeName=="input"?this._connectDatepicker(target,inst):inline&&this._inlineDatepicker(target,inst)},_newInst:function(a,b){var c=a[0].id.replace(/([^A-Za-z0-9_-])/g,"\\\\$1");return{id:c,input:a,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:b,dpDiv:b?bindHover($('<div class="'+this._inlineClass+' ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all"></div>')):this.dpDiv}},_connectDatepicker:function(a,b){var c=$(a);b.append=$([]),b.trigger=$([]);if(c.hasClass(this.markerClassName))return;this._attachments(c,b),c.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp).bind("setData.datepicker",function(a,c,d){b.settings[c]=d}).bind("getData.datepicker",function(a,c){return this._get(b,c)}),this._autoSize(b),$.data(a,PROP_NAME,b),b.settings.disabled&&this._disableDatepicker(a)},_attachments:function(a,b){var c=this._get(b,"appendText"),d=this._get(b,"isRTL");b.append&&b.append.remove(),c&&(b.append=$('<span class="'+this._appendClass+'">'+c+"</span>"),a[d?"before":"after"](b.append)),a.unbind("focus",this._showDatepicker),b.trigger&&b.trigger.remove();var e=this._get(b,"showOn");(e=="focus"||e=="both")&&a.focus(this._showDatepicker);if(e=="button"||e=="both"){var f=this._get(b,"buttonText"),g=this._get(b,"buttonImage");b.trigger=$(this._get(b,"buttonImageOnly")?$("<img/>").addClass(this._triggerClass).attr({src:g,alt:f,title:f}):$('<button type="button"></button>').addClass(this._triggerClass).html(g==""?f:$("<img/>").attr({src:g,alt:f,title:f}))),a[d?"before":"after"](b.trigger),b.trigger.click(function(){return $.datepicker._datepickerShowing&&$.datepicker._lastInput==a[0]?$.datepicker._hideDatepicker():$.datepicker._datepickerShowing&&$.datepicker._lastInput!=a[0]?($.datepicker._hideDatepicker(),$.datepicker._showDatepicker(a[0])):$.datepicker._showDatepicker(a[0]),!1})}},_autoSize:function(a){if(this._get(a,"autoSize")&&!a.inline){var b=new Date(2009,11,20),c=this._get(a,"dateFormat");if(c.match(/[DM]/)){var d=function(a){var b=0,c=0;for(var d=0;d<a.length;d++)a[d].length>b&&(b=a[d].length,c=d);return c};b.setMonth(d(this._get(a,c.match(/MM/)?"monthNames":"monthNamesShort"))),b.setDate(d(this._get(a,c.match(/DD/)?"dayNames":"dayNamesShort"))+20-b.getDay())}a.input.attr("size",this._formatDate(a,b).length)}},_inlineDatepicker:function(a,b){var c=$(a);if(c.hasClass(this.markerClassName))return;c.addClass(this.markerClassName).append(b.dpDiv).bind("setData.datepicker",function(a,c,d){b.settings[c]=d}).bind("getData.datepicker",function(a,c){return this._get(b,c)}),$.data(a,PROP_NAME,b),this._setDate(b,this._getDefaultDate(b),!0),this._updateDatepicker(b),this._updateAlternate(b),b.settings.disabled&&this._disableDatepicker(a),b.dpDiv.css("display","block")},_dialogDatepicker:function(a,b,c,d,e){var f=this._dialogInst;if(!f){this.uuid+=1;var g="dp"+this.uuid;this._dialogInput=$('<input type="text" id="'+g+'" style="position: absolute; top: -100px; width: 0px; z-index: -10;"/>'),this._dialogInput.keydown(this._doKeyDown),$("body").append(this._dialogInput),f=this._dialogInst=this._newInst(this._dialogInput,!1),f.settings={},$.data(this._dialogInput[0],PROP_NAME,f)}extendRemove(f.settings,d||{}),b=b&&b.constructor==Date?this._formatDate(f,b):b,this._dialogInput.val(b),this._pos=e?e.length?e:[e.pageX,e.pageY]:null;if(!this._pos){var h=document.documentElement.clientWidth,i=document.documentElement.clientHeight,j=document.documentElement.scrollLeft||document.body.scrollLeft,k=document.documentElement.scrollTop||document.body.scrollTop;this._pos=[h/2-100+j,i/2-150+k]}return this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),f.settings.onSelect=c,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),$.blockUI&&$.blockUI(this.dpDiv),$.data(this._dialogInput[0],PROP_NAME,f),this},_destroyDatepicker:function(a){var b=$(a),c=$.data(a,PROP_NAME);if(!b.hasClass(this.markerClassName))return;var d=a.nodeName.toLowerCase();$.removeData(a,PROP_NAME),d=="input"?(c.append.remove(),c.trigger.remove(),b.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress).unbind("keyup",this._doKeyUp)):(d=="div"||d=="span")&&b.removeClass(this.markerClassName).empty()},_enableDatepicker:function(a){var b=$(a),c=$.data(a,PROP_NAME);if(!b.hasClass(this.markerClassName))return;var d=a.nodeName.toLowerCase();if(d=="input")a.disabled=!1,c.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""});else if(d=="div"||d=="span"){var e=b.children("."+this._inlineClass);e.children().removeClass("ui-state-disabled"),e.find("select.ui-datepicker-month, select.ui-datepicker-year").removeAttr("disabled")}this._disabledInputs=$.map(this._disabledInputs,function(b){return b==a?null:b})},_disableDatepicker:function(a){var b=$(a),c=$.data(a,PROP_NAME);if(!b.hasClass(this.markerClassName))return;var d=a.nodeName.toLowerCase();if(d=="input")a.disabled=!0,c.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"});else if(d=="div"||d=="span"){var e=b.children("."+this._inlineClass);e.children().addClass("ui-state-disabled"),e.find("select.ui-datepicker-month, select.ui-datepicker-year").attr("disabled","disabled")}this._disabledInputs=$.map(this._disabledInputs,function(b){return b==a?null:b}),this._disabledInputs[this._disabledInputs.length]=a},_isDisabledDatepicker:function(a){if(!a)return!1;for(var b=0;b<this._disabledInputs.length;b++)if(this._disabledInputs[b]==a)return!0;return!1},_getInst:function(a){try{return $.data(a,PROP_NAME)}catch(b){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(a,b,c){var d=this._getInst(a);if(arguments.length==2&&typeof b=="string")return b=="defaults"?$.extend({},$.datepicker._defaults):d?b=="all"?$.extend({},d.settings):this._get(d,b):null;var e=b||{};typeof b=="string"&&(e={},e[b]=c);if(d){this._curInst==d&&this._hideDatepicker();var f=this._getDateDatepicker(a,!0),g=this._getMinMaxDate(d,"min"),h=this._getMinMaxDate(d,"max");extendRemove(d.settings,e),g!==null&&e.dateFormat!==undefined&&e.minDate===undefined&&(d.settings.minDate=this._formatDate(d,g)),h!==null&&e.dateFormat!==undefined&&e.maxDate===undefined&&(d.settings.maxDate=this._formatDate(d,h)),this._attachments($(a),d),this._autoSize(d),this._setDate(d,f),this._updateAlternate(d),this._updateDatepicker(d)}},_changeDatepicker:function(a,b,c){this._optionDatepicker(a,b,c)},_refreshDatepicker:function(a){var b=this._getInst(a);b&&this._updateDatepicker(b)},_setDateDatepicker:function(a,b){var c=this._getInst(a);c&&(this._setDate(c,b),this._updateDatepicker(c),this._updateAlternate(c))},_getDateDatepicker:function(a,b){var c=this._getInst(a);return c&&!c.inline&&this._setDateFromField(c,b),c?this._getDate(c):null},_doKeyDown:function(a){var b=$.datepicker._getInst(a.target),c=!0,d=b.dpDiv.is(".ui-datepicker-rtl");b._keyEvent=!0;if($.datepicker._datepickerShowing)switch(a.keyCode){case 9:$.datepicker._hideDatepicker(),c=!1;break;case 13:var e=$("td."+$.datepicker._dayOverClass+":not(."+$.datepicker._currentClass+")",b.dpDiv);e[0]&&$.datepicker._selectDay(a.target,b.selectedMonth,b.selectedYear,e[0]);var f=$.datepicker._get(b,"onSelect");if(f){var g=$.datepicker._formatDate(b);f.apply(b.input?b.input[0]:null,[g,b])}else $.datepicker._hideDatepicker();return!1;case 27:$.datepicker._hideDatepicker();break;case 33:$.datepicker._adjustDate(a.target,a.ctrlKey?-$.datepicker._get(b,"stepBigMonths"):-$.datepicker._get(b,"stepMonths"),"M");break;case 34:$.datepicker._adjustDate(a.target,a.ctrlKey?+$.datepicker._get(b,"stepBigMonths"):+$.datepicker._get(b,"stepMonths"),"M");break;case 35:(a.ctrlKey||a.metaKey)&&$.datepicker._clearDate(a.target),c=a.ctrlKey||a.metaKey;break;case 36:(a.ctrlKey||a.metaKey)&&$.datepicker._gotoToday(a.target),c=a.ctrlKey||a.metaKey;break;case 37:(a.ctrlKey||a.metaKey)&&$.datepicker._adjustDate(a.target,d?1:-1,"D"),c=a.ctrlKey||a.metaKey,a.originalEvent.altKey&&$.datepicker._adjustDate(a.target,a.ctrlKey?-$.datepicker._get(b,"stepBigMonths"):-$.datepicker._get(b,"stepMonths"),"M");break;case 38:(a.ctrlKey||a.metaKey)&&$.datepicker._adjustDate(a.target,-7,"D"),c=a.ctrlKey||a.metaKey;break;case 39:(a.ctrlKey||a.metaKey)&&$.datepicker._adjustDate(a.target,d?-1:1,"D"),c=a.ctrlKey||a.metaKey,a.originalEvent.altKey&&$.datepicker._adjustDate(a.target,a.ctrlKey?+$.datepicker._get(b,"stepBigMonths"):+$.datepicker._get(b,"stepMonths"),"M");break;case 40:(a.ctrlKey||a.metaKey)&&$.datepicker._adjustDate(a.target,7,"D"),c=a.ctrlKey||a.metaKey;break;default:c=!1}else a.keyCode==36&&a.ctrlKey?$.datepicker._showDatepicker(this):c=!1;c&&(a.preventDefault(),a.stopPropagation())},_doKeyPress:function(a){var b=$.datepicker._getInst(a.target);if($.datepicker._get(b,"constrainInput")){var c=$.datepicker._possibleChars($.datepicker._get(b,"dateFormat")),d=String.fromCharCode(a.charCode==undefined?a.keyCode:a.charCode);return a.ctrlKey||a.metaKey||d<" "||!c||c.indexOf(d)>-1}},_doKeyUp:function(a){var b=$.datepicker._getInst(a.target);if(b.input.val()!=b.lastVal)try{var c=$.datepicker.parseDate($.datepicker._get(b,"dateFormat"),b.input?b.input.val():null,$.datepicker._getFormatConfig(b));c&&($.datepicker._setDateFromField(b),$.datepicker._updateAlternate(b),$.datepicker._updateDatepicker(b))}catch(d){$.datepicker.log(d)}return!0},_showDatepicker:function(a){a=a.target||a,a.nodeName.toLowerCase()!="input"&&(a=$("input",a.parentNode)[0]);if($.datepicker._isDisabledDatepicker(a)||$.datepicker._lastInput==a)return;var b=$.datepicker._getInst(a);$.datepicker._curInst&&$.datepicker._curInst!=b&&($.datepicker._curInst.dpDiv.stop(!0,!0),b&&$.datepicker._datepickerShowing&&$.datepicker._hideDatepicker($.datepicker._curInst.input[0]));var c=$.datepicker._get(b,"beforeShow"),d=c?c.apply(a,[a,b]):{};if(d===!1)return;extendRemove(b.settings,d),b.lastVal=null,$.datepicker._lastInput=a,$.datepicker._setDateFromField(b),$.datepicker._inDialog&&(a.value=""),$.datepicker._pos||($.datepicker._pos=$.datepicker._findPos(a),$.datepicker._pos[1]+=a.offsetHeight);var e=!1;$(a).parents().each(function(){return e|=$(this).css("position")=="fixed",!e}),e&&$.browser.opera&&($.datepicker._pos[0]-=document.documentElement.scrollLeft,$.datepicker._pos[1]-=document.documentElement.scrollTop);var f={left:$.datepicker._pos[0],top:$.datepicker._pos[1]};$.datepicker._pos=null,b.dpDiv.empty(),b.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),$.datepicker._updateDatepicker(b),f=$.datepicker._checkOffset(b,f,e),b.dpDiv.css({position:$.datepicker._inDialog&&$.blockUI?"static":e?"fixed":"absolute",display:"none",left:f.left+"px",top:f.top+"px"});if(!b.inline){var g=$.datepicker._get(b,"showAnim"),h=$.datepicker._get(b,"duration"),i=function(){var a=b.dpDiv.find("iframe.ui-datepicker-cover");if(!!a.length){var c=$.datepicker._getBorders(b.dpDiv);a.css({left:-c[0],top:-c[1],width:b.dpDiv.outerWidth(),height:b.dpDiv.outerHeight()})}};b.dpDiv.zIndex($(a).zIndex()+1),$.datepicker._datepickerShowing=!0,$.effects&&$.effects[g]?b.dpDiv.show(g,$.datepicker._get(b,"showOptions"),h,i):b.dpDiv[g||"show"](g?h:null,i),(!g||!h)&&i(),b.input.is(":visible")&&!b.input.is(":disabled")&&b.input.focus(),$.datepicker._curInst=b}},_updateDatepicker:function(a){var b=this;b.maxRows=4;var c=$.datepicker._getBorders(a.dpDiv);instActive=a,a.dpDiv.empty().append(this._generateHTML(a));var d=a.dpDiv.find("iframe.ui-datepicker-cover");!d.length||d.css({left:-c[0],top:-c[1],width:a.dpDiv.outerWidth(),height:a.dpDiv.outerHeight()}),a.dpDiv.find("."+this._dayOverClass+" a").mouseover();var e=this._getNumberOfMonths(a),f=e[1],g=17;a.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),f>1&&a.dpDiv.addClass("ui-datepicker-multi-"+f).css("width",g*f+"em"),a.dpDiv[(e[0]!=1||e[1]!=1?"add":"remove")+"Class"]("ui-datepicker-multi"),a.dpDiv[(this._get(a,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),a==$.datepicker._curInst&&$.datepicker._datepickerShowing&&a.input&&a.input.is(":visible")&&!a.input.is(":disabled")&&a.input[0]!=document.activeElement&&a.input.focus();if(a.yearshtml){var h=a.yearshtml;setTimeout(function(){h===a.yearshtml&&a.yearshtml&&a.dpDiv.find("select.ui-datepicker-year:first").replaceWith(a.yearshtml),h=a.yearshtml=null},0)}},_getBorders:function(a){var b=function(a){return{thin:1,medium:2,thick:3}[a]||a};return[parseFloat(b(a.css("border-left-width"))),parseFloat(b(a.css("border-top-width")))]},_checkOffset:function(a,b,c){var d=a.dpDiv.outerWidth(),e=a.dpDiv.outerHeight(),f=a.input?a.input.outerWidth():0,g=a.input?a.input.outerHeight():0,h=document.documentElement.clientWidth+$(document).scrollLeft(),i=document.documentElement.clientHeight+$(document).scrollTop();return b.left-=this._get(a,"isRTL")?d-f:0,b.left-=c&&b.left==a.input.offset().left?$(document).scrollLeft():0,b.top-=c&&b.top==a.input.offset().top+g?$(document).scrollTop():0,b.left-=Math.min(b.left,b.left+d>h&&h>d?Math.abs(b.left+d-h):0),b.top-=Math.min(b.top,b.top+e>i&&i>e?Math.abs(e+g):0),b},_findPos:function(a){var b=this._getInst(a),c=this._get(b,"isRTL");while(a&&(a.type=="hidden"||a.nodeType!=1||$.expr.filters.hidden(a)))a=a[c?"previousSibling":"nextSibling"];var d=$(a).offset();return[d.left,d.top]},_hideDatepicker:function(a){var b=this._curInst;if(!b||a&&b!=$.data(a,PROP_NAME))return;if(this._datepickerShowing){var c=this._get(b,"showAnim"),d=this._get(b,"duration"),e=function(){$.datepicker._tidyDialog(b)};$.effects&&$.effects[c]?b.dpDiv.hide(c,$.datepicker._get(b,"showOptions"),d,e):b.dpDiv[c=="slideDown"?"slideUp":c=="fadeIn"?"fadeOut":"hide"](c?d:null,e),c||e(),this._datepickerShowing=!1;var f=this._get(b,"onClose");f&&f.apply(b.input?b.input[0]:null,[b.input?b.input.val():"",b]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),$.blockUI&&($.unblockUI(),$("body").append(this.dpDiv))),this._inDialog=!1}},_tidyDialog:function(a){a.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")},_checkExternalClick:function(a){if(!$.datepicker._curInst)return;var b=$(a.target),c=$.datepicker._getInst(b[0]);(b[0].id!=$.datepicker._mainDivId&&b.parents("#"+$.datepicker._mainDivId).length==0&&!b.hasClass($.datepicker.markerClassName)&&!b.closest("."+$.datepicker._triggerClass).length&&$.datepicker._datepickerShowing&&(!$.datepicker._inDialog||!$.blockUI)||b.hasClass($.datepicker.markerClassName)&&$.datepicker._curInst!=c)&&$.datepicker._hideDatepicker()},_adjustDate:function(a,b,c){var d=$(a),e=this._getInst(d[0]);if(this._isDisabledDatepicker(d[0]))return;this._adjustInstDate(e,b+(c=="M"?this._get(e,"showCurrentAtPos"):0),c),this._updateDatepicker(e)},_gotoToday:function(a){var b=$(a),c=this._getInst(b[0]);if(this._get(c,"gotoCurrent")&&c.currentDay)c.selectedDay=c.currentDay,c.drawMonth=c.selectedMonth=c.currentMonth,c.drawYear=c.selectedYear=c.currentYear;else{var d=new Date;c.selectedDay=d.getDate(),c.drawMonth=c.selectedMonth=d.getMonth(),c.drawYear=c.selectedYear=d.getFullYear()}this._notifyChange(c),this._adjustDate(b)},_selectMonthYear:function(a,b,c){var d=$(a),e=this._getInst(d[0]);e["selected"+(c=="M"?"Month":"Year")]=e["draw"+(c=="M"?"Month":"Year")]=parseInt(b.options[b.selectedIndex].value,10),this._notifyChange(e),this._adjustDate(d)},_selectDay:function(a,b,c,d){var e=$(a);if($(d).hasClass(this._unselectableClass)||this._isDisabledDatepicker(e[0]))return;var f=this._getInst(e[0]);f.selectedDay=f.currentDay=$("a",d).html(),f.selectedMonth=f.currentMonth=b,f.selectedYear=f.currentYear=c,this._selectDate(a,this._formatDate(f,f.currentDay,f.currentMonth,f.currentYear))},_clearDate:function(a){var b=$(a),c=this._getInst(b[0]);this._selectDate(b,"")},_selectDate:function(a,b){var c=$(a),d=this._getInst(c[0]);b=b!=null?b:this._formatDate(d),d.input&&d.input.val(b),this._updateAlternate(d);var e=this._get(d,"onSelect");e?e.apply(d.input?d.input[0]:null,[b,d]):d.input&&d.input.trigger("change"),d.inline?this._updateDatepicker(d):(this._hideDatepicker(),this._lastInput=d.input[0],typeof d.input[0]!="object"&&d.input.focus(),this._lastInput=null)},_updateAlternate:function(a){var b=this._get(a,"altField");if(b){var c=this._get(a,"altFormat")||this._get(a,"dateFormat"),d=this._getDate(a),e=this.formatDate(c,d,this._getFormatConfig(a));$(b).each(function(){$(this).val(e)})}},noWeekends:function(a){var b=a.getDay();return[b>0&&b<6,""]},iso8601Week:function(a){var b=new Date(a.getTime());b.setDate(b.getDate()+4-(b.getDay()||7));var c=b.getTime();return b.setMonth(0),b.setDate(1),Math.floor(Math.round((c-b)/864e5)/7)+1},parseDate:function(a,b,c){if(a==null||b==null)throw"Invalid arguments";b=typeof b=="object"?b.toString():b+"";if(b=="")return null;var d=(c?c.shortYearCutoff:null)||this._defaults.shortYearCutoff;d=typeof d!="string"?d:(new Date).getFullYear()%100+parseInt(d,10);var e=(c?c.dayNamesShort:null)||this._defaults.dayNamesShort,f=(c?c.dayNames:null)||this._defaults.dayNames,g=(c?c.monthNamesShort:null)||this._defaults.monthNamesShort,h=(c?c.monthNames:null)||this._defaults.monthNames,i=-1,j=-1,k=-1,l=-1,m=!1,n=function(b){var c=s+1<a.length&&a.charAt(s+1)==b;return c&&s++,c},o=function(a){var c=n(a),d=a=="@"?14:a=="!"?20:a=="y"&&c?4:a=="o"?3:2,e=new RegExp("^\\d{1,"+d+"}"),f=b.substring(r).match(e);if(!f)throw"Missing number at position "+r;return r+=f[0].length,parseInt(f[0],10)},p=function(a,c,d){var e=$.map(n(a)?d:c,function(a,b){return[[b,a]]}).sort(function(a,b){return-(a[1].length-b[1].length)}),f=-1;$.each(e,function(a,c){var d=c[1];if(b.substr(r,d.length).toLowerCase()==d.toLowerCase())return f=c[0],r+=d.length,!1});if(f!=-1)return f+1;throw"Unknown name at position "+r},q=function(){if(b.charAt(r)!=a.charAt(s))throw"Unexpected literal at position "+r;r++},r=0;for(var s=0;s<a.length;s++)if(m)a.charAt(s)=="'"&&!n("'")?m=!1:q();else switch(a.charAt(s)){case"d":k=o("d");break;case"D":p("D",e,f);break;case"o":l=o("o");break;case"m":j=o("m");break;case"M":j=p("M",g,h);break;case"y":i=o("y");break;case"@":var t=new Date(o("@"));i=t.getFullYear(),j=t.getMonth()+1,k=t.getDate();break;case"!":var t=new Date((o("!")-this._ticksTo1970)/1e4);i=t.getFullYear(),j=t.getMonth()+1,k=t.getDate();break;case"'":n("'")?q():m=!0;break;default:q()}if(r<b.length)throw"Extra/unparsed characters found in date: "+b.substring(r);i==-1?i=(new Date).getFullYear():i<100&&(i+=(new Date).getFullYear()-(new Date).getFullYear()%100+(i<=d?0:-100));if(l>-1){j=1,k=l;do{var u=this._getDaysInMonth(i,j-1);if(k<=u)break;j++,k-=u}while(!0)}var t=this._daylightSavingAdjust(new Date(i,j-1,k));if(t.getFullYear()!=i||t.getMonth()+1!=j||t.getDate()!=k)throw"Invalid date";return t},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925))*24*60*60*1e7,formatDate:function(a,b,c){if(!b)return"";var d=(c?c.dayNamesShort:null)||this._defaults.dayNamesShort,e=(c?c.dayNames:null)||this._defaults.dayNames,f=(c?c.monthNamesShort:null)||this._defaults.monthNamesShort,g=(c?c.monthNames:null)||this._defaults.monthNames,h=function(b){var c=m+1<a.length&&a.charAt(m+1)==b;return c&&m++,c},i=function(a,b,c){var d=""+b;if(h(a))while(d.length<c)d="0"+d;return d},j=function(a,b,c,d){return h(a)?d[b]:c[b]},k="",l=!1;if(b)for(var m=0;m<a.length;m++)if(l)a.charAt(m)=="'"&&!h("'")?l=!1:k+=a.charAt(m);else switch(a.charAt(m)){case"d":k+=i("d",b.getDate(),2);break;case"D":k+=j("D",b.getDay(),d,e);break;case"o":k+=i("o",Math.round(((new Date(b.getFullYear(),b.getMonth(),b.getDate())).getTime()-(new Date(b.getFullYear(),0,0)).getTime())/864e5),3);break;case"m":k+=i("m",b.getMonth()+1,2);break;case"M":k+=j("M",b.getMonth(),f,g);break;case"y":k+=h("y")?b.getFullYear():(b.getYear()%100<10?"0":"")+b.getYear()%100;break;case"@":k+=b.getTime();break;case"!":k+=b.getTime()*1e4+this._ticksTo1970;break;case"'":h("'")?k+="'":l=!0;break;default:k+=a.charAt(m)}return k},_possibleChars:function(a){var b="",c=!1,d=function(b){var c=e+1<a.length&&a.charAt(e+1)==b;return c&&e++,c};for(var e=0;e<a.length;e++)if(c)a.charAt(e)=="'"&&!d("'")?c=!1:b+=a.charAt(e);else switch(a.charAt(e)){case"d":case"m":case"y":case"@":b+="0123456789";break;case"D":case"M":return null;case"'":d("'")?b+="'":c=!0;break;default:b+=a.charAt(e)}return b},_get:function(a,b){return a.settings[b]!==undefined?a.settings[b]:this._defaults[b]},_setDateFromField:function(a,b){if(a.input.val()==a.lastVal)return;var c=this._get(a,"dateFormat"),d=a.lastVal=a.input?a.input.val():null,e,f;e=f=this._getDefaultDate(a);var g=this._getFormatConfig(a);try{e=this.parseDate(c,d,g)||f}catch(h){this.log(h),d=b?"":d}a.selectedDay=e.getDate(),a.drawMonth=a.selectedMonth=e.getMonth(),a.drawYear=a.selectedYear=e.getFullYear(),a.currentDay=d?e.getDate():0,a.currentMonth=d?e.getMonth():0,a.currentYear=d?e.getFullYear():0,this._adjustInstDate(a)},_getDefaultDate:function(a){return this._restrictMinMax(a,this._determineDate(a,this._get(a,"defaultDate"),new Date))},_determineDate:function(a,b,c){var d=function(a){var b=new Date;return b.setDate(b.getDate()+a),b},e=function(b){try{return $.datepicker.parseDate($.datepicker._get(a,"dateFormat"),b,$.datepicker._getFormatConfig(a))}catch(c){}var d=(b.toLowerCase().match(/^c/)?$.datepicker._getDate(a):null)||new Date,e=d.getFullYear(),f=d.getMonth(),g=d.getDate(),h=/([+-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,i=h.exec(b);while(i){switch(i[2]||"d"){case"d":case"D":g+=parseInt(i[1],10);break;case"w":case"W":g+=parseInt(i[1],10)*7;break;case"m":case"M":f+=parseInt(i[1],10),g=Math.min(g,$.datepicker._getDaysInMonth(e,f));break;case"y":case"Y":e+=parseInt(i[1],10),g=Math.min(g,$.datepicker._getDaysInMonth(e,f))}i=h.exec(b)}return new Date(e,f,g)},f=b==null||b===""?c:typeof b=="string"?e(b):typeof b=="number"?isNaN(b)?c:d(b):new Date(b.getTime());return f=f&&f.toString()=="Invalid Date"?c:f,f&&(f.setHours(0),f.setMinutes(0),f.setSeconds(0),f.setMilliseconds(0)),this._daylightSavingAdjust(f)},_daylightSavingAdjust:function(a){return a?(a.setHours(a.getHours()>12?a.getHours()+2:0),a):null},_setDate:function(a,b,c){var d=!b,e=a.selectedMonth,f=a.selectedYear,g=this._restrictMinMax(a,this._determineDate(a,b,new Date));a.selectedDay=a.currentDay=g.getDate(),a.drawMonth=a.selectedMonth=a.currentMonth=g.getMonth(),a.drawYear=a.selectedYear=a.currentYear=g.getFullYear(),(e!=a.selectedMonth||f!=a.selectedYear)&&!c&&this._notifyChange(a),this._adjustInstDate(a),a.input&&a.input.val(d?"":this._formatDate(a))},_getDate:function(a){var b=!a.currentYear||a.input&&a.input.val()==""?null:this._daylightSavingAdjust(new Date(a.currentYear,a.currentMonth,a.currentDay));return b},_generateHTML:function(a){var b=new Date;b=this._daylightSavingAdjust(new Date(b.getFullYear(),b.getMonth(),b.getDate()));var c=this._get(a,"isRTL"),d=this._get(a,"showButtonPanel"),e=this._get(a,"hideIfNoPrevNext"),f=this._get(a,"navigationAsDateFormat"),g=this._getNumberOfMonths(a),h=this._get(a,"showCurrentAtPos"),i=this._get(a,"stepMonths"),j=g[0]!=1||g[1]!=1,k=this._daylightSavingAdjust(a.currentDay?new Date(a.currentYear,a.currentMonth,a.currentDay):new Date(9999,9,9)),l=this._getMinMaxDate(a,"min"),m=this._getMinMaxDate(a,"max"),n=a.drawMonth-h,o=a.drawYear;n<0&&(n+=12,o--);if(m){var p=this._daylightSavingAdjust(new Date(m.getFullYear(),m.getMonth()-g[0]*g[1]+1,m.getDate()));p=l&&p<l?l:p;while(this._daylightSavingAdjust(new Date(o,n,1))>p)n--,n<0&&(n=11,o--)}a.drawMonth=n,a.drawYear=o;var q=this._get(a,"prevText");q=f?this.formatDate(q,this._daylightSavingAdjust(new Date(o,n-i,1)),this._getFormatConfig(a)):q;var r=this._canAdjustMonth(a,-1,o,n)?'<a class="ui-datepicker-prev ui-corner-all" onclick="DP_jQuery_'+dpuuid+".datepicker._adjustDate('#"+a.id+"', -"+i+", 'M');\""+' title="'+q+'"><span class="ui-icon ui-icon-circle-triangle-'+(c?"e":"w")+'">'+q+"</span></a>":e?"":'<a class="ui-datepicker-prev ui-corner-all ui-state-disabled" title="'+q+'"><span class="ui-icon ui-icon-circle-triangle-'+(c?"e":"w")+'">'+q+"</span></a>",s=this._get(a,"nextText");s=f?this.formatDate(s,this._daylightSavingAdjust(new Date(o,n+i,1)),this._getFormatConfig(a)):s;var t=this._canAdjustMonth(a,1,o,n)?'<a class="ui-datepicker-next ui-corner-all" onclick="DP_jQuery_'+dpuuid+".datepicker._adjustDate('#"+a.id+"', +"+i+", 'M');\""+' title="'+s+'"><span class="ui-icon ui-icon-circle-triangle-'+(c?"w":"e")+'">'+s+"</span></a>":e?"":'<a class="ui-datepicker-next ui-corner-all ui-state-disabled" title="'+s+'"><span class="ui-icon ui-icon-circle-triangle-'+(c?"w":"e")+'">'+s+"</span></a>",u=this._get(a,"currentText"),v=this._get(a,"gotoCurrent")&&a.currentDay?k:b;u=f?this.formatDate(u,v,this._getFormatConfig(a)):u;var w=a.inline?"":'<button type="button" class="ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all" onclick="DP_jQuery_'+dpuuid+'.datepicker._hideDatepicker();">'+this._get(a,"closeText")+"</button>",x=d?'<div class="ui-datepicker-buttonpane ui-widget-content">'+(c?w:"")+(this._isInRange(a,v)?'<button type="button" class="ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all" onclick="DP_jQuery_'+dpuuid+".datepicker._gotoToday('#"+a.id+"');\""+">"+u+"</button>":"")+(c?"":w)+"</div>":"",y=parseInt(this._get(a,"firstDay"),10);y=isNaN(y)?0:y;var z=this._get(a,"showWeek"),A=this._get(a,"dayNames"),B=this._get(a,"dayNamesShort"),C=this._get(a,"dayNamesMin"),D=this._get(a,"monthNames"),E=this._get(a,"monthNamesShort"),F=this._get(a,"beforeShowDay"),G=this._get(a,"showOtherMonths"),H=this._get(a,"selectOtherMonths"),I=this._get(a,"calculateWeek")||this.iso8601Week,J=this._getDefaultDate(a),K="";for(var L=0;L<g[0];L++){var M="";this.maxRows=4;for(var N=0;N<g[1];N++){var O=this._daylightSavingAdjust(new Date(o,n,a.selectedDay)),P=" ui-corner-all",Q="";if(j){Q+='<div class="ui-datepicker-group';if(g[1]>1)switch(N){case 0:Q+=" ui-datepicker-group-first",P=" ui-corner-"+(c?"right":"left");break;case g[1]-1:Q+=" ui-datepicker-group-last",P=" ui-corner-"+(c?"left":"right");break;default:Q+=" ui-datepicker-group-middle",P=""}Q+='">'}Q+='<div class="ui-datepicker-header ui-widget-header ui-helper-clearfix'+P+'">'+(/all|left/.test(P)&&L==0?c?t:r:"")+(/all|right/.test(P)&&L==0?c?r:t:"")+this._generateMonthYearHeader(a,n,o,l,m,L>0||N>0,D,E)+'</div><table class="ui-datepicker-calendar"><thead>'+"<tr>";var R=z?'<th class="ui-datepicker-week-col">'+this._get(a,"weekHeader")+"</th>":"";for(var S=0;S<7;S++){var T=(S+y)%7;R+="<th"+((S+y+6)%7>=5?' class="ui-datepicker-week-end"':"")+">"+'<span title="'+A[T]+'">'+C[T]+"</span></th>"}Q+=R+"</tr></thead><tbody>";var U=this._getDaysInMonth(o,n);o==a.selectedYear&&n==a.selectedMonth&&(a.selectedDay=Math.min(a.selectedDay,U));var V=(this._getFirstDayOfMonth(o,n)-y+7)%7,W=Math.ceil((V+U)/7),X=j?this.maxRows>W?this.maxRows:W:W;this.maxRows=X;var Y=this._daylightSavingAdjust(new Date(o,n,1-V));for(var Z=0;Z<X;Z++){Q+="<tr>";var _=z?'<td class="ui-datepicker-week-col">'+this._get(a,"calculateWeek")(Y)+"</td>":"";for(var S=0;S<7;S++){var ba=F?F.apply(a.input?a.input[0]:null,[Y]):[!0,""],bb=Y.getMonth()!=n,bc=bb&&!H||!ba[0]||l&&Y<l||m&&Y>m;_+='<td class="'+((S+y+6)%7>=5?" ui-datepicker-week-end":"")+(bb?" ui-datepicker-other-month":"")+(Y.getTime()==O.getTime()&&n==a.selectedMonth&&a._keyEvent||J.getTime()==Y.getTime()&&J.getTime()==O.getTime()?" "+this._dayOverClass:"")+(bc?" "+this._unselectableClass+" ui-state-disabled":"")+(bb&&!G?"":" "+ba[1]+(Y.getTime()==k.getTime()?" "+this._currentClass:"")+(Y.getTime()==b.getTime()?" ui-datepicker-today":""))+'"'+((!bb||G)&&ba[2]?' title="'+ba[2]+'"':"")+(bc?"":' onclick="DP_jQuery_'+dpuuid+".datepicker._selectDay('#"+a.id+"',"+Y.getMonth()+","+Y.getFullYear()+', this);return false;"')+">"+(bb&&!G?"&#xa0;":bc?'<span class="ui-state-default">'+Y.getDate()+"</span>":'<a class="ui-state-default'+(Y.getTime()==b.getTime()?" ui-state-highlight":"")+(Y.getTime()==k.getTime()?" ui-state-active":"")+(bb?" ui-priority-secondary":"")+'" href="#">'+Y.getDate()+"</a>")+"</td>",Y.setDate(Y.getDate()+1),Y=this._daylightSavingAdjust(Y)}Q+=_+"</tr>"}n++,n>11&&(n=0,o++),Q+="</tbody></table>"+(j?"</div>"+(g[0]>0&&N==g[1]-1?'<div class="ui-datepicker-row-break"></div>':""):""),M+=Q}K+=M}return K+=x+($.browser.msie&&parseInt($.browser.version,10)<7&&!a.inline?'<iframe src="javascript:false;" class="ui-datepicker-cover" frameborder="0"></iframe>':""),a._keyEvent=!1,K},_generateMonthYearHeader:function(a,b,c,d,e,f,g,h){var i=this._get(a,"changeMonth"),j=this._get(a,"changeYear"),k=this._get(a,"showMonthAfterYear"),l='<div class="ui-datepicker-title">',m="";if(f||!i)m+='<span class="ui-datepicker-month">'+g[b]+"</span>";else{var n=d&&d.getFullYear()==c,o=e&&e.getFullYear()==c;m+='<select class="ui-datepicker-month" onchange="DP_jQuery_'+dpuuid+".datepicker._selectMonthYear('#"+a.id+"', this, 'M');\" "+">";for(var p=0;p<12;p++)(!n||p>=d.getMonth())&&(!o||p<=e.getMonth())&&(m+='<option value="'+p+'"'+(p==b?' selected="selected"':"")+">"+h[p]+"</option>");m+="</select>"}k||(l+=m+(f||!i||!j?"&#xa0;":""));if(!a.yearshtml){a.yearshtml="";if(f||!j)l+='<span class="ui-datepicker-year">'+c+"</span>";else{var q=this._get(a,"yearRange").split(":"),r=(new Date).getFullYear(),s=function(a){var b=a.match(/c[+-].*/)?c+parseInt(a.substring(1),10):a.match(/[+-].*/)?r+parseInt(a,10):parseInt(a,10);return isNaN(b)?r:b},t=s(q[0]),u=Math.max(t,s(q[1]||""));t=d?Math.max(t,d.getFullYear()):t,u=e?Math.min(u,e.getFullYear()):u,a.yearshtml+='<select class="ui-datepicker-year" onchange="DP_jQuery_'+dpuuid+".datepicker._selectMonthYear('#"+a.id+"', this, 'Y');\" "+">";for(;t<=u;t++)a.yearshtml+='<option value="'+t+'"'+(t==c?' selected="selected"':"")+">"+t+"</option>";a.yearshtml+="</select>",l+=a.yearshtml,a.yearshtml=null}}return l+=this._get(a,"yearSuffix"),k&&(l+=(f||!i||!j?"&#xa0;":"")+m),l+="</div>",l},_adjustInstDate:function(a,b,c){var d=a.drawYear+(c=="Y"?b:0),e=a.drawMonth+(c=="M"?b:0),f=Math.min(a.selectedDay,this._getDaysInMonth(d,e))+(c=="D"?b:0),g=this._restrictMinMax(a,this._daylightSavingAdjust(new Date(d,e,f)));a.selectedDay=g.getDate(),a.drawMonth=a.selectedMonth=g.getMonth(),a.drawYear=a.selectedYear=g.getFullYear(),(c=="M"||c=="Y")&&this._notifyChange(a)},_restrictMinMax:function(a,b){var c=this._getMinMaxDate(a,"min"),d=this._getMinMaxDate(a,"max"),e=c&&b<c?c:b;return e=d&&e>d?d:e,e},_notifyChange:function(a){var b=this._get(a,"onChangeMonthYear");b&&b.apply(a.input?a.input[0]:null,[a.selectedYear,a.selectedMonth+1,a])},_getNumberOfMonths:function(a){var b=this._get(a,"numberOfMonths");return b==null?[1,1]:typeof b=="number"?[1,b]:b},_getMinMaxDate:function(a,b){return this._determineDate(a,this._get(a,b+"Date"),null)},_getDaysInMonth:function(a,b){return 32-this._daylightSavingAdjust(new Date(a,b,32)).getDate()},_getFirstDayOfMonth:function(a,b){return(new Date(a,b,1)).getDay()},_canAdjustMonth:function(a,b,c,d){var e=this._getNumberOfMonths(a),f=this._daylightSavingAdjust(new Date(c,d+(b<0?b:e[0]*e[1]),1));return b<0&&f.setDate(this._getDaysInMonth(f.getFullYear(),f.getMonth())),this._isInRange(a,f)},_isInRange:function(a,b){var c=this._getMinMaxDate(a,"min"),d=this._getMinMaxDate(a,"max");return(!c||b.getTime()>=c.getTime())&&(!d||b.getTime()<=d.getTime())},_getFormatConfig:function(a){var b=this._get(a,"shortYearCutoff");return b=typeof b!="string"?b:(new Date).getFullYear()%100+parseInt(b,10),{shortYearCutoff:b,dayNamesShort:this._get(a,"dayNamesShort"),dayNames:this._get(a,"dayNames"),monthNamesShort:this._get(a,"monthNamesShort"),monthNames:this._get(a,"monthNames")}},_formatDate:function(a,b,c,d){b||(a.currentDay=a.selectedDay,a.currentMonth=a.selectedMonth,a.currentYear=a.selectedYear);var e=b?typeof b=="object"?b:this._daylightSavingAdjust(new Date(d,c,b)):this._daylightSavingAdjust(new Date(a.currentYear,a.currentMonth,a.currentDay));return this.formatDate(this._get(a,"dateFormat"),e,this._getFormatConfig(a))}}),$.fn.datepicker=function(a){if(!this.length)return this;$.datepicker.initialized||($(document).mousedown($.datepicker._checkExternalClick).find("body").append($.datepicker.dpDiv),$.datepicker.initialized=!0);var b=Array.prototype.slice.call(arguments,1);return typeof a!="string"||a!="isDisabled"&&a!="getDate"&&a!="widget"?a=="option"&&arguments.length==2&&typeof arguments[1]=="string"?$.datepicker["_"+a+"Datepicker"].apply($.datepicker,[this[0]].concat(b)):this.each(function(){typeof a=="string"?$.datepicker["_"+a+"Datepicker"].apply($.datepicker,[this].concat(b)):$.datepicker._attachDatepicker(this,a)}):$.datepicker["_"+a+"Datepicker"].apply($.datepicker,[this[0]].concat(b))},$.datepicker=new Datepicker,$.datepicker.initialized=!1,$.datepicker.uuid=(new Date).getTime(),$.datepicker.version="1.8.21",window["DP_jQuery_"+dpuuid]=$}(jQuery),function(a,b){var c="ui-dialog ui-widget ui-widget-content ui-corner-all ",d={buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},e={maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0},f=a.attrFn||{val:!0,css:!0,html:!0,text:!0,data:!0,width:!0,height:!0,offset:!0,click:!0};a.widget("ui.dialog",{options:{autoOpen:!0,buttons:{},closeOnEscape:!0,closeText:"close",dialogClass:"",draggable:!0,hide:null,height:"auto",maxHeight:!1,maxWidth:!1,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",collision:"fit",using:function(b){var c=a(this).css(b).offset().top;c<0&&a(this).css("top",b.top-c)}},resizable:!0,show:null,stack:!0,title:"",width:300,zIndex:1e3},_create:function(){this.originalTitle=this.element.attr("title"),typeof this.originalTitle!="string"&&(this.originalTitle=""),this.options.title=this.options.title||this.originalTitle;var b=this,d=b.options,e=d.title||"&#160;",f=a.ui.dialog.getTitleId(b.element),g=(b.uiDialog=a("<div></div>")).appendTo(document.body).hide().addClass(c+d.dialogClass).css({zIndex:d.zIndex}).attr("tabIndex",-1).css("outline",0).keydown(function(c){d.closeOnEscape&&!c.isDefaultPrevented()&&c.keyCode&&c.keyCode===a.ui.keyCode.ESCAPE&&(b.close(c),c.preventDefault())}).attr({role:"dialog","aria-labelledby":f}).mousedown(function(a){b.moveToTop(!1,a)}),h=b.element.show().removeAttr("title").addClass("ui-dialog-content ui-widget-content").appendTo(g),i=(b.uiDialogTitlebar=a("<div></div>")).addClass("ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix").prependTo(g),j=a('<a href="#"></a>').addClass("ui-dialog-titlebar-close ui-corner-all").attr("role","button").hover(function(){j.addClass("ui-state-hover")},function(){j.removeClass("ui-state-hover")}).focus(function(){j.addClass("ui-state-focus")}).blur(function(){j.removeClass("ui-state-focus")}).click(function(a){return b.close(a),!1}).appendTo(i),k=(b.uiDialogTitlebarCloseText=a("<span></span>")).addClass("ui-icon ui-icon-closethick").text(d.closeText).appendTo(j),l=a("<span></span>").addClass("ui-dialog-title").attr("id",f).html(e).prependTo(i);a.isFunction(d.beforeclose)&&!a.isFunction(d.beforeClose)&&(d.beforeClose=d.beforeclose),i.find("*").add(i).disableSelection(),d.draggable&&a.fn.draggable&&b._makeDraggable(),d.resizable&&a.fn.resizable&&b._makeResizable(),b._createButtons(d.buttons),b._isOpen=!1,a.fn.bgiframe&&g.bgiframe()},_init:function(){this.options.autoOpen&&this.open()},destroy:function(){var a=this;return a.overlay&&a.overlay.destroy(),a.uiDialog.hide(),a.element.unbind(".dialog").removeData("dialog").removeClass("ui-dialog-content ui-widget-content").hide().appendTo("body"),a.uiDialog.remove(),a.originalTitle&&a.element.attr("title",a.originalTitle),a},widget:function(){return this.uiDialog},close:function(b){var c=this,d,e;if(!1===c._trigger("beforeClose",b))return;return c.overlay&&c.overlay.destroy(),c.uiDialog.unbind("keypress.ui-dialog"),c._isOpen=!1,c.options.hide?c.uiDialog.hide(c.options.hide,function(){c._trigger("close",b)}):(c.uiDialog.hide(),c._trigger("close",b)),a.ui.dialog.overlay.resize(),c.options.modal&&(d=0,a(".ui-dialog").each(function(){this!==c.uiDialog[0]&&(e=a(this).css("z-index"),isNaN(e)||(d=Math.max(d,e)))}),a.ui.dialog.maxZ=d),c},isOpen:function(){return this._isOpen},moveToTop:function(b,c){var d=this,e=d.options,f;return e.modal&&!b||!e.stack&&!e.modal?d._trigger("focus",c):(e.zIndex>a.ui.dialog.maxZ&&(a.ui.dialog.maxZ=e.zIndex),d.overlay&&(a.ui.dialog.maxZ+=1,d.overlay.$el.css("z-index",a.ui.dialog.overlay.maxZ=a.ui.dialog.maxZ)),f={scrollTop:d.element.scrollTop(),scrollLeft:d.element.scrollLeft()},a.ui.dialog.maxZ+=1,d.uiDialog.css("z-index",a.ui.dialog.maxZ),d.element.attr(f),d._trigger("focus",c),d)},open:function(){if(this._isOpen)return;var b=this,c=b.options,d=b.uiDialog;return b.overlay=c.modal?new a.ui.dialog.overlay(b):null,b._size(),b._position(c.position),d.show(c.show),b.moveToTop(!0),c.modal&&d.bind("keydown.ui-dialog",function(b){if(b.keyCode!==a.ui.keyCode.TAB)return;var c=a(":tabbable",this),d=c.filter(":first"),e=c.filter(":last");if(b.target===e[0]&&!b.shiftKey)return d.focus(1),!1;if(b.target===d[0]&&b.shiftKey)return e.focus(1),!1}),a(b.element.find(":tabbable").get().concat(d.find(".ui-dialog-buttonpane :tabbable").get().concat(d.get()))).eq(0).focus(),b._isOpen=!0,b._trigger("open"),b},_createButtons:function(b){var c=this,d=!1,e=a("<div></div>").addClass("ui-dialog-buttonpane ui-widget-content ui-helper-clearfix"),g=a("<div></div>").addClass("ui-dialog-buttonset").appendTo(e);c.uiDialog.find(".ui-dialog-buttonpane").remove(),typeof b=="object"&&b!==null&&a.each(b,function(){return!(d=!0)}),d&&(a.each(b,function(b,d){d=a.isFunction(d)?{click:d,text:b}:d;var e=a('<button type="button"></button>').click(function(){d.click.apply(c.element[0],arguments)}).appendTo(g);a.each(d,function(a,b){if(a==="click")return;a in f?e[a](b):e.attr(a,b)}),a.fn.button&&e.button()}),e.appendTo(c.uiDialog))},_makeDraggable:function(){function f(a){return{position:a.position,offset:a.offset}}var b=this,c=b.options,d=a(document),e;b.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(d,g){e=c.height==="auto"?"auto":a(this).height(),a(this).height(a(this).height()).addClass("ui-dialog-dragging"),b._trigger("dragStart",d,f(g))},drag:function(a,c){b._trigger("drag",a,f(c))},stop:function(g,h){c.position=[h.position.left-d.scrollLeft(),h.position.top-d.scrollTop()],a(this).removeClass("ui-dialog-dragging").height(e),b._trigger("dragStop",g,f(h)),a.ui.dialog.overlay.resize()}})},_makeResizable:function(c){function h(a){return{originalPosition:a.originalPosition,originalSize:a.originalSize,position:a.position,size:a.size}}c=c===b?this.options.resizable:c;var d=this,e=d.options,f=d.uiDialog.css("position"),g=typeof c=="string"?c:"n,e,s,w,se,sw,ne,nw";d.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:d.element,maxWidth:e.maxWidth,maxHeight:e.maxHeight,minWidth:e.minWidth,minHeight:d._minHeight(),handles:g,start:function(b,c){a(this).addClass("ui-dialog-resizing"),d._trigger("resizeStart",b,h(c))},resize:function(a,b){d._trigger("resize",a,h(b))},stop:function(b,c){a(this).removeClass("ui-dialog-resizing"),e.height=a(this).height(),e.width=a(this).width(),d._trigger("resizeStop",b,h(c)),a.ui.dialog.overlay.resize()}}).css("position",f).find(".ui-resizable-se").addClass("ui-icon ui-icon-grip-diagonal-se")},_minHeight:function(){var a=this.options;return a.height==="auto"?a.minHeight:Math.min(a.minHeight,a.height)},_position:function(b){var c=[],d=[0,0],e;if(b){if(typeof b=="string"||typeof b=="object"&&"0"in b)c=b.split?b.split(" "):[b[0],b[1]],c.length===1&&(c[1]=c[0]),a.each(["left","top"],function(a,b){+c[a]===c[a]&&(d[a]=c[a],c[a]=b)}),b={my:c.join(" "),at:c.join(" "),offset:d.join(" ")};b=a.extend({},a.ui.dialog.prototype.options.position,b)}else b=a.ui.dialog.prototype.options.position;e=this.uiDialog.is(":visible"),e||this.uiDialog.show(),this.uiDialog.css({top:0,left:0}).position(a.extend({of:window},b)),e||this.uiDialog.hide()},_setOptions:function(b){var c=this,f={},g=!1;a.each(b,function(a,b){c._setOption(a,b),a in d&&(g=!0),a in e&&(f[a]=b)}),g&&this._size(),this.uiDialog.is(":data(resizable)")&&this.uiDialog.resizable("option",f)},_setOption:function(b,d){var e=this,f=e.uiDialog;switch(b){case"beforeclose":b="beforeClose";break;case"buttons":e._createButtons(d);break;case"closeText":e.uiDialogTitlebarCloseText.text(""+d);break;case"dialogClass":f.removeClass(e.options.dialogClass).addClass(c+d);break;case"disabled":d?f.addClass("ui-dialog-disabled"):f.removeClass("ui-dialog-disabled");break;case"draggable":var g=f.is(":data(draggable)");g&&!d&&f.draggable("destroy"),!g&&d&&e._makeDraggable();break;case"position":e._position(d);break;case"resizable":var h=f.is(":data(resizable)");h&&!d&&f.resizable("destroy"),h&&typeof d=="string"&&f.resizable("option","handles",d),!h&&d!==!1&&e._makeResizable(d);break;case"title":a(".ui-dialog-title",e.uiDialogTitlebar).html(""+(d||"&#160;"))}a.Widget.prototype._setOption.apply(e,arguments)},_size:function(){var b=this.options,c,d,e=this.uiDialog.is(":visible");this.element.show().css({width:"auto",minHeight:0,height:0}),b.minWidth>b.width&&(b.width=b.minWidth),c=this.uiDialog.css({height:"auto",width:b.width}).height(),d=Math.max(0,b.minHeight-c);if(b.height==="auto")if(a.support.minHeight)this.element.css({minHeight:d,height:"auto"});else{this.uiDialog.show();var f=this.element.css("height","auto").height();e||this.uiDialog.hide(),this.element.height(Math.max(f,d))}else this.element.height(Math.max(b.height-c,0));this.uiDialog.is(":data(resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())}}),a.extend(a.ui.dialog,{version:"1.8.21",uuid:0,maxZ:0,getTitleId:function(a){var b=a.attr("id");return b||(this.uuid+=1,b=this.uuid),"ui-dialog-title-"+b},overlay:function(b){this.$el=a.ui.dialog.overlay.create(b)}}),a.extend(a.ui.dialog.overlay,{instances:[],oldInstances:[],maxZ:0,events:a.map("focus,mousedown,mouseup,keydown,keypress,click".split(","),function(a){return a+".dialog-overlay"}).join(" "),create:function(b){this.instances.length===0&&(setTimeout(function(){a.ui.dialog.overlay.instances.length&&a(document).bind(a.ui.dialog.overlay.events,function(b){if(a(b.target).zIndex()<a.ui.dialog.overlay.maxZ)return!1})},1),a(document).bind("keydown.dialog-overlay",function(c){b.options.closeOnEscape&&!c.isDefaultPrevented()&&c.keyCode&&c.keyCode===a.ui.keyCode.ESCAPE&&(b.close(c),c.preventDefault())}),a(window).bind("resize.dialog-overlay",a.ui.dialog.overlay.resize));var c=(this.oldInstances.pop()||a("<div></div>").addClass("ui-widget-overlay")).appendTo(document.body).css({width:this.width(),height:this.height()});return a.fn.bgiframe&&c.bgiframe(),this.instances.push(c),c},destroy:function(b){var c=a.inArray(b,this.instances);c!=-1&&this.oldInstances.push(this.instances.splice(c,1)[0]),this.instances.length===0&&a([document,window]).unbind(".dialog-overlay"),b.remove();var d=0;a.each(this.instances,function(){d=Math.max(d,this.css("z-index"))}),this.maxZ=d},height:function(){var b,c;return a.browser.msie&&a.browser.version<7?(b=Math.max(document.documentElement.scrollHeight,document.body.scrollHeight),c=Math.max(document.documentElement.offsetHeight,document.body.offsetHeight),b<c?a(window).height()+"px":b+"px"):a(document).height()+"px"},width:function(){var b,c;return a.browser.msie?(b=Math.max(document.documentElement.scrollWidth,document.body.scrollWidth),c=Math.max(document.documentElement.offsetWidth,document.body.offsetWidth),b<c?a(window).width()+"px":b+"px"):a(document).width()+"px"},resize:function(){var b=a([]);a.each(a.ui.dialog.overlay.instances,function(){b=b.add(this)}),b.css({width:0,height:0}).css({width:a.ui.dialog.overlay.width(),height:a.ui.dialog.overlay.height()})}}),a.extend(a.ui.dialog.overlay.prototype,{destroy:function(){a.ui.dialog.overlay.destroy(this.$el)}})}(jQuery),function(a,b){a.ui=a.ui||{};var c=/left|center|right/,d=/top|center|bottom/,e="center",f={},g=a.fn.position,h=a.fn.offset;a.fn.position=function(b){if(!b||!b.of)return g.apply(this,arguments);b=a.extend({},b);var h=a(b.of),i=h[0],j=(b.collision||"flip").split(" "),k=b.offset?b.offset.split(" "):[0,0],l,m,n;return i.nodeType===9?(l=h.width(),m=h.height(),n={top:0,left:0}):i.setTimeout?(l=h.width(),m=h.height(),n={top:h.scrollTop(),left:h.scrollLeft()}):i.preventDefault?(b.at="left top",l=m=0,n={top:b.of.pageY,left:b.of.pageX}):(l=h.outerWidth(),m=h.outerHeight(),n=h.offset()),a.each(["my","at"],function(){var a=(b[this]||"").split(" ");a.length===1&&(a=c.test(a[0])?a.concat([e]):d.test(a[0])?[e].concat(a):[e,e]),a[0]=c.test(a[0])?a[0]:e,a[1]=d.test(a[1])?a[1]:e,b[this]=a}),j.length===1&&(j[1]=j[0]),k[0]=parseInt(k[0],10)||0,k.length===1&&(k[1]=k[0]),k[1]=parseInt(k[1],10)||0,b.at[0]==="right"?n.left+=l:b.at[0]===e&&(n.left+=l/2),b.at[1]==="bottom"?n.top+=m:b.at[1]===e&&(n.top+=m/2),n.left+=k[0],n.top+=k[1],this.each(function(){var c=a(this),d=c.outerWidth(),g=c.outerHeight(),h=parseInt(a.curCSS(this,"marginLeft",!0))||0,i=parseInt(a.curCSS(this,"marginTop",!0))||0,o=d+h+(parseInt(a.curCSS(this,"marginRight",!0))||0),p=g+i+(parseInt(a.curCSS(this,"marginBottom",!0))||0),q=a.extend({},n),r;b.my[0]==="right"?q.left-=d:b.my[0]===e&&(q.left-=d/2),b.my[1]==="bottom"?q.top-=g:b.my[1]===e&&(q.top-=g/2),f.fractions||(q.left=Math.round(q.left),q.top=Math.round(q.top)),r={left:q.left-h,top:q.top-i},a.each(["left","top"],function(c,e){a.ui.position[j[c]]&&a.ui.position[j[c]][e](q,{targetWidth:l,targetHeight:m,elemWidth:d,elemHeight:g,collisionPosition:r,collisionWidth:o,collisionHeight:p,offset:k,my:b.my,at:b.at})}),a.fn.bgiframe&&c.bgiframe(),c.offset(a.extend(q,{using:b.using}))})},a.ui.position={fit:{left:function(b,c){var d=a(window),e=c.collisionPosition.left+c.collisionWidth-d.width()-d.scrollLeft();b.left=e>0?b.left-e:Math.max(b.left-c.collisionPosition.left,b.left)},top:function(b,c){var d=a(window),e=c.collisionPosition.top+c.collisionHeight-d.height()-d.scrollTop();b.top=e>0?b.top-e:Math.max(b.top-c.collisionPosition.top,b.top)}},flip:{left:function(b,c){if(c.at[0]===e)return;var d=a(window),f=c.collisionPosition.left+c.collisionWidth-d.width()-d.scrollLeft(),g=c.my[0]==="left"?-c.elemWidth:c.my[0]==="right"?c.elemWidth:0,h=c.at[0]==="left"?c.targetWidth:-c.targetWidth,i=-2*c.offset[0];b.left+=c.collisionPosition.left<0?g+h+i:f>0?g+h+i:0},top:function(b,c){if(c.at[1]===e)return;var d=a(window),f=c.collisionPosition.top+c.collisionHeight-d.height()-d.scrollTop(),g=c.my[1]==="top"?-c.elemHeight:c.my[1]==="bottom"?c.elemHeight:0,h=c.at[1]==="top"?c.targetHeight:-c.targetHeight,i=-2*c.offset[1];b.top+=c.collisionPosition.top<0?g+h+i:f>0?g+h+i:0}}},a.offset.setOffset||(a.offset.setOffset=function(b,c){/static/.test(a.curCSS(b,"position"))&&(b.style.position="relative");var d=a(b),e=d.offset(),f=parseInt(a.curCSS(b,"top",!0),10)||0,g=parseInt(a.curCSS(b,"left",!0),10)||0,h={top:c.top-e.top+f,left:c.left-e.left+g};"using"in c?c.using.call(b,h):d.css(h)},a.fn.offset=function(b){var c=this[0];return!c||!c.ownerDocument?null:b?a.isFunction(b)?this.each(function(c){a(this).offset(b.call(this,c,a(this).offset()))}):this.each(function(){a.offset.setOffset(this,b)}):h.call(this)}),function(){var b=document.getElementsByTagName("body")[0],c=document.createElement("div"),d,e,g,h,i;d=document.createElement(b?"div":"body"),g={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"},b&&a.extend(g,{position:"absolute",left:"-1000px",top:"-1000px"});for(var j in g)d.style[j]=g[j];d.appendChild(c),e=b||document.documentElement,e.insertBefore(d,e.firstChild),c.style.cssText="position: absolute; left: 10.7432222px; top: 10.432325px; height: 30px; width: 201px;",h=a(c).offset(function(a,b){return b}).offset(),d.innerHTML="",e.removeChild(d),i=h.top+h.left+(b?2e3:0),f.fractions=i>21&&i<22}()}(jQuery),function(a,b){a.widget("ui.progressbar",{options:{value:0,max:100},min:0,_create:function(){this.element.addClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").attr({role:"progressbar","aria-valuemin":this.min,"aria-valuemax":this.options.max,"aria-valuenow":this._value()}),this.valueDiv=a("<div class='ui-progressbar-value ui-widget-header ui-corner-left'></div>").appendTo(this.element),this.oldValue=this._value(),this._refreshValue()},destroy:function(){this.element.removeClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.valueDiv.remove(),a.Widget.prototype.destroy.apply(this,arguments)},value:function(a){return a===b?this._value():(this._setOption("value",a),this)},_setOption:function(b,c){b==="value"&&(this.options.value=c,this._refreshValue(),this._value()===this.options.max&&this._trigger("complete")),a.Widget.prototype._setOption.apply(this,arguments)},_value:function(){var a=this.options.value;return typeof a!="number"&&(a=0),Math.min(this.options.max,Math.max(this.min,a))},_percentage:function(){return 100*this._value()/this.options.max},_refreshValue:function(){var a=this.value(),b=this._percentage();this.oldValue!==a&&(this.oldValue=a,this._trigger("change")),this.valueDiv.toggle(a>this.min).toggleClass("ui-corner-right",a===this.options.max).width(b.toFixed(0)+"%"),this.element.attr("aria-valuenow",a)}}),a.extend(a.ui.progressbar,{version:"1.8.21"})}(jQuery),function(a,b){var c=5;a.widget("ui.slider",a.ui.mouse,{widgetEventPrefix:"slide",options:{animate:!1,distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null},_create:function(){var b=this,d=this.options,e=this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"),f="<a class='ui-slider-handle ui-state-default ui-corner-all' href='#'></a>",g=d.values&&d.values.length||1,h=[];this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this.element.addClass("ui-slider ui-slider-"+this.orientation+" ui-widget"+" ui-widget-content"+" ui-corner-all"+(d.disabled?" ui-slider-disabled ui-disabled":"")),this.range=a([]),d.range&&(d.range===!0&&(d.values||(d.values=[this._valueMin(),this._valueMin()]),d.values.length&&d.values.length!==2&&(d.values=[d.values[0],d.values[0]])),this.range=a("<div></div>").appendTo(this.element).addClass("ui-slider-range ui-widget-header"+(d.range==="min"||d.range==="max"?" ui-slider-range-"+d.range:"")));for(var i=e.length;i<g;i+=1)h.push(f);this.handles=e.add(a(h.join("")).appendTo(b.element)),this.handle=this.handles.eq(0),this.handles.add(this.range).filter("a").click(function(a){a.preventDefault()}).hover(function(){d.disabled||a(this).addClass("ui-state-hover")},function(){a(this).removeClass("ui-state-hover")}).focus(function(){d.disabled?a(this).blur():(a(".ui-slider .ui-state-focus").removeClass("ui-state-focus"),a(this).addClass("ui-state-focus"))}).blur(function(){a(this).removeClass("ui-state-focus")}),this.handles.each(function(b){a(this).data("index.ui-slider-handle",b)}),this.handles.keydown(function(d){var e=a(this).data("index.ui-slider-handle"),f,g,h,i;if(b.options.disabled)return;switch(d.keyCode){case a.ui.keyCode.HOME:case a.ui.keyCode.END:case a.ui.keyCode.PAGE_UP:case a.ui.keyCode.PAGE_DOWN:case a.ui.keyCode.UP:case a.ui.keyCode.RIGHT:case a.ui.keyCode.DOWN:case a.ui.keyCode.LEFT:d.preventDefault();if(!b._keySliding){b._keySliding=!0,a(this).addClass("ui-state-active"),f=b._start(d,e);if(f===!1)return}}i=b.options.step,b.options.values&&b.options.values.length?g=h=b.values(e):g=h=b.value();switch(d.keyCode){case a.ui.keyCode.HOME:h=b._valueMin();break;case a.ui.keyCode.END:h=b._valueMax();break;case a.ui.keyCode.PAGE_UP:h=b._trimAlignValue(g+(b._valueMax()-b._valueMin())/c);break;case a.ui.keyCode.PAGE_DOWN:h=b._trimAlignValue(g-(b._valueMax()-b._valueMin())/c);break;case a.ui.keyCode.UP:case a.ui.keyCode.RIGHT:if(g===b._valueMax())return;h=b._trimAlignValue(g+i);break;case a.ui.keyCode.DOWN:case a.ui.keyCode.LEFT:if(g===b._valueMin())return;h=b._trimAlignValue(g-i)}b._slide(d,e,h)}).keyup(function(c){var d=a(this).data("index.ui-slider-handle");b._keySliding&&(b._keySliding=!1,b._stop(c,d),b._change(c,d),a(this).removeClass("ui-state-active"))}),this._refreshValue(),this._animateOff=!1},destroy:function(){return this.handles.remove(),this.range.remove(),this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-slider-disabled ui-widget ui-widget-content ui-corner-all").removeData("slider").unbind(".slider"),this._mouseDestroy(),this},_mouseCapture:function(b){var c=this.options,d,e,f,g,h,i,j,k,l;return c.disabled?!1:(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),d={x:b.pageX,y:b.pageY},e=this._normValueFromMouse(d),f=this._valueMax()-this._valueMin()+1,h=this,this.handles.each(function(b){var c=Math.abs(e-h.values(b));f>c&&(f=c,g=a(this),i=b)}),c.range===!0&&this.values(1)===c.min&&(i+=1,g=a(this.handles[i])),j=this._start(b,i),j===!1?!1:(this._mouseSliding=!0,h._handleIndex=i,g.addClass("ui-state-active").focus(),k=g.offset(),l=!a(b.target).parents().andSelf().is(".ui-slider-handle"),this._clickOffset=l?{left:0,top:0}:{left:b.pageX-k.left-g.width()/2,top:b.pageY-k.top-g.height()/2-(parseInt(g.css("borderTopWidth"),10)||0)-(parseInt(g.css("borderBottomWidth"),10)||0)+(parseInt(g.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(b,i,e),this._animateOff=!0,!0))},_mouseStart:function(a){return!0},_mouseDrag:function(a){var b={x:a.pageX,y:a.pageY},c=this._normValueFromMouse(b);return this._slide(a,this._handleIndex,c),!1},_mouseStop:function(a){return this.handles.removeClass("ui-state-active"),this._mouseSliding=!1,this._stop(a,this._handleIndex),this._change(a,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation=this.options.orientation==="vertical"?"vertical":"horizontal"},_normValueFromMouse:function(a){var b,c,d,e,f;return this.orientation==="horizontal"?(b=this.elementSize.width,c=a.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(b=this.elementSize.height,c=a.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),d=c/b,d>1&&(d=1),d<0&&(d=0),this.orientation==="vertical"&&(d=1-d),e=this._valueMax()-this._valueMin(),f=this._valueMin()+d*e,this._trimAlignValue(f)},_start:function(a,b){var c={handle:this.handles[b],value:this.value()};return this.options.values&&this.options.values.length&&(c.value=this.values(b),c.values=this.values()),this._trigger("start",a,c)},_slide:function(a,b,c){var d,e,f;this.options.values&&this.options.values.length?(d=this.values(b?0:1),this.options.values.length===2&&this.options.range===!0&&(b===0&&c>d||b===1&&c<d)&&(c=d),c!==this.values(b)&&(e=this.values(),e[b]=c,f=this._trigger("slide",a,{handle:this.handles[b],value:c,values:e}),d=this.values(b?0:1),f!==!1&&this.values(b,c,!0))):c!==this.value()&&(f=this._trigger("slide",a,{handle:this.handles[b],value:c}),f!==!1&&this.value(c))},_stop:function(a,b){var c={handle:this.handles[b],value:this.value()};this.options.values&&this.options.values.length&&(c.value=this.values(b),c.values=this.values()),this._trigger("stop",a,c)},_change:function(a,b){if(!this._keySliding&&!this._mouseSliding){var c={handle:this.handles[b],value:this.value()};this.options.values&&this.options.values.length&&(c.value=this.values(b),c.values=this.values()),this._trigger("change",a,c)}},value:function(a){if(arguments.length){this.options.value=this._trimAlignValue(a),this._refreshValue(),this._change(null,0);return}return this._value()},values:function(b,c){var d,e,f;if(arguments.length>1){this.options.values[b]=this._trimAlignValue(c),this._refreshValue(),this._change(null,b);return}if(!arguments.length)return this._values();if(!a.isArray(arguments[0]))return this.options.values&&this.options.values.length?this._values(b):this.value();d=this.options.values,e=arguments[0];for(f=0;f<d.length;f+=1)d[f]=this._trimAlignValue(e[f]),this._change(null,f);this._refreshValue()},_setOption:function(b,c){var d,e=0;a.isArray(this.options.values)&&(e=this.options.values.length),a.Widget.prototype._setOption.apply(this,arguments);switch(b){case"disabled":c?(this.handles.filter(".ui-state-focus").blur(),this.handles.removeClass("ui-state-hover"),this.handles.propAttr("disabled",!0),this.element.addClass("ui-disabled")):(this.handles.propAttr("disabled",!1),this.element.removeClass("ui-disabled"));break;case"orientation":this._detectOrientation(),this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+this.orientation),this._refreshValue();break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":this._animateOff=!0,this._refreshValue();for(d=0;d<e;d+=1)this._change(null,d);this._animateOff=!1}},_value:function(){var a=this.options.value;return a=this._trimAlignValue(a),a},_values:function(a){var b,c,d;if(arguments.length)return b=this.options.values[a],b=this._trimAlignValue(b),b;c=this.options.values.slice();for(d=0;d<c.length;d+=1)c[d]=this._trimAlignValue(c[d]);return c},_trimAlignValue:function(a){if(a<=this._valueMin())return this._valueMin();if(a>=this._valueMax())return this._valueMax();var b=this.options.step>0?this.options.step:1,c=(a-this._valueMin())%b,d=a-c;return Math.abs(c)*2>=b&&(d+=c>0?b:-b),parseFloat(d.toFixed(5))},_valueMin:function(){return this.options.min},_valueMax:function(){return this.options.max},_refreshValue:function(){var b=this.options.range,c=this.options,d=this,e=this._animateOff?!1:c.animate,f,g={},h,i,j,k;this.options.values&&this.options.values.length?this.handles.each(function(b,i){f=(d.values(b)-d._valueMin())/(d._valueMax()-d._valueMin())*100,g[d.orientation==="horizontal"?"left":"bottom"]=f+"%",a(this).stop(1,1)[e?"animate":"css"](g,c.animate),d.options.range===!0&&(d.orientation==="horizontal"?(b===0&&d.range.stop(1,1)[e?"animate":"css"]({left:f+"%"},c.animate),b===1&&d.range[e?"animate":"css"]({width:f-h+"%"},{queue:!1,duration:c.animate})):(b===0&&d.range.stop(1,1)[e?"animate":"css"]({bottom:f+"%"},c.animate),b===1&&d.range[e?"animate":"css"]({height:f-h+"%"},{queue:!1,duration:c.animate}))),h=f}):(i=this.value(),j=this._valueMin(),k=this._valueMax(),f=k!==j?(i-j)/(k-j)*100:0,g[d.orientation==="horizontal"?"left":"bottom"]=f+"%",this.handle.stop(1,1)[e?"animate":"css"](g,c.animate),b==="min"&&this.orientation==="horizontal"&&this.range.stop(1,1)[e?"animate":"css"]({width:f+"%"},c.animate),b==="max"&&this.orientation==="horizontal"&&this.range[e?"animate":"css"]({width:100-f+"%"},{queue:!1,duration:c.animate}),b==="min"&&this.orientation==="vertical"&&this.range.stop(1,1)[e?"animate":"css"]({height:f+"%"},c.animate),b==="max"&&this.orientation==="vertical"&&this.range[e?"animate":"css"]({height:100-f+"%"},{queue:!1,duration:c.animate}))}}),a.extend(a.ui.slider,{version:"1.8.21"})}(jQuery),function(a,b){function e(){return++c}function f(){return++d}var c=0,d=0;a.widget("ui.tabs",{options:{add:null,ajaxOptions:null,cache:!1,cookie:null,collapsible:!1,disable:null,disabled:[],enable:null,event:"click",fx:null,idPrefix:"ui-tabs-",load:null,panelTemplate:"<div></div>",remove:null,select:null,show:null,spinner:"<em>Loading&#8230;</em>",tabTemplate:"<li><a href='#{href}'><span>#{label}</span></a></li>"},_create:function(){this._tabify(!0)},_setOption:function(a,b){if(a=="selected"){if(this.options.collapsible&&b==this.options.selected)return;this.select(b)}else this.options[a]=b,this._tabify()},_tabId:function(a){return a.title&&a.title.replace(/\s/g,"_").replace(/[^\w\u00c0-\uFFFF-]/g,"")||this.options.idPrefix+e()},_sanitizeSelector:function(a){return a.replace(/:/g,"\\:")},_cookie:function(){var b=this.cookie||(this.cookie=this.options.cookie.name||"ui-tabs-"+f());return a.cookie.apply(null,[b].concat(a.makeArray(arguments)))},_ui:function(a,b){return{tab:a,panel:b,index:this.anchors.index(a)}},_cleanup:function(){this.lis.filter(".ui-state-processing").removeClass("ui-state-processing").find("span:data(label.tabs)").each(function(){var b=a(this);b.html(b.data("label.tabs")).removeData("label.tabs")})},_tabify:function(c){function m(b,c){b.css("display",""),!a.support.opacity&&c.opacity&&b[0].style.removeAttribute("filter")}var d=this,e=this.options,f=/^#.+/;this.list=this.element.find("ol,ul").eq(0),this.lis=a(" > li:has(a[href])",this.list),this.anchors=this.lis.map(function(){return a("a",this)[0]}),this.panels=a([]),this.anchors.each(function(b,c){var g=a(c).attr("href"),h=g.split("#")[0],i;h&&(h===location.toString().split("#")[0]||(i=a("base")[0])&&h===i.href)&&(g=c.hash,c.href=g);if(f.test(g))d.panels=d.panels.add(d.element.find(d._sanitizeSelector(g)));else if(g&&g!=="#"){a.data(c,"href.tabs",g),a.data(c,"load.tabs",g.replace(/#.*$/,""));var j=d._tabId(c);c.href="#"+j;var k=d.element.find("#"+j);k.length||(k=a(e.panelTemplate).attr("id",j).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").insertAfter(d.panels[b-1]||d.list),k.data("destroy.tabs",!0)),d.panels=d.panels.add(k)}else e.disabled.push(b)}),c?(this.element.addClass("ui-tabs ui-widget ui-widget-content ui-corner-all"),this.list.addClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all"),this.lis.addClass("ui-state-default ui-corner-top"),this.panels.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom"),e.selected===b?(location.hash&&this.anchors.each(function(a,b){if(b.hash==location.hash)return e.selected=a,!1}),typeof e.selected!="number"&&e.cookie&&(e.selected=parseInt(d._cookie(),10)),typeof e.selected!="number"&&this.lis.filter(".ui-tabs-selected").length&&(e.selected=this.lis.index(this.lis.filter(".ui-tabs-selected"))),e.selected=e.selected||(this.lis.length?0:-1)):e.selected===null&&(e.selected=-1),e.selected=e.selected>=0&&this.anchors[e.selected]||e.selected<0?e.selected:0,e.disabled=a.unique(e.disabled.concat(a.map(this.lis.filter(".ui-state-disabled"),function(a,b){return d.lis.index(a)}))).sort(),a.inArray(e.selected,e.disabled)!=-1&&e.disabled.splice(a.inArray(e.selected,e.disabled),1),this.panels.addClass("ui-tabs-hide"),this.lis.removeClass("ui-tabs-selected ui-state-active"),e.selected>=0&&this.anchors.length&&(d.element.find(d._sanitizeSelector(d.anchors[e.selected].hash)).removeClass("ui-tabs-hide"),this.lis.eq(e.selected).addClass("ui-tabs-selected ui-state-active"),d.element.queue("tabs",function(){d._trigger("show",null,d._ui(d.anchors[e.selected],d.element.find(d._sanitizeSelector(d.anchors[e.selected].hash))[0]))}),this.load(e.selected)),a(window).bind("unload",function(){d.lis.add(d.anchors).unbind(".tabs"),d.lis=d.anchors=d.panels=null})):e.selected=this.lis.index(this.lis.filter(".ui-tabs-selected")),this.element[e.collapsible?"addClass":"removeClass"]("ui-tabs-collapsible"),e.cookie&&this._cookie(e.selected,e.cookie);for(var g=0,h;h=this.lis[g];g++)a(h)[a.inArray(g,e.disabled)!=-1&&!a(h).hasClass("ui-tabs-selected")?"addClass":"removeClass"]("ui-state-disabled");e.cache===!1&&this.anchors.removeData("cache.tabs"),this.lis.add(this.anchors).unbind(".tabs");if(e.event!=="mouseover"){var i=function(a,b){b.is(":not(.ui-state-disabled)")&&b.addClass("ui-state-"+a)},j=function(a,b){b.removeClass("ui-state-"+a)};this.lis.bind("mouseover.tabs",function(){i("hover",a(this))}),this.lis.bind("mouseout.tabs",function(){j("hover",a(this))}),this.anchors.bind("focus.tabs",function(){i("focus",a(this).closest("li"))}),this.anchors.bind("blur.tabs",function(){j("focus",a(this).closest("li"))})}var k,l;e.fx&&(a.isArray(e.fx)?(k=e.fx[0],l=e.fx[1]):k=l=e.fx);var n=l?function(b,c){a(b).closest("li").addClass("ui-tabs-selected ui-state-active"),c.hide().removeClass("ui-tabs-hide").animate(l,l.duration||"normal",function(){m(c,l),d._trigger("show",null,d._ui(b,c[0]))})}:function(b,c){a(b).closest("li").addClass("ui-tabs-selected ui-state-active"),c.removeClass("ui-tabs-hide"),d._trigger("show",null,d._ui(b,c[0]))},o=k?function(a,b){b.animate(k,k.duration||"normal",function(){d.lis.removeClass("ui-tabs-selected ui-state-active"),b.addClass("ui-tabs-hide"),m(b,k),d.element.dequeue("tabs")})}:function(a,b,c){d.lis.removeClass("ui-tabs-selected ui-state-active"),b.addClass("ui-tabs-hide"),d.element.dequeue("tabs")};this.anchors.bind(e.event+".tabs",function(){var b=this,c=a(b).closest("li"),f=d.panels.filter(":not(.ui-tabs-hide)"),g=d.element.find(d._sanitizeSelector(b.hash));if(c.hasClass("ui-tabs-selected")&&!e.collapsible||c.hasClass("ui-state-disabled")||c.hasClass("ui-state-processing")||d.panels.filter(":animated").length||d._trigger("select",null,d._ui(this,g[0]))===!1)return this.blur(),!1;e.selected=d.anchors.index(this),d.abort();if(e.collapsible){if(c.hasClass("ui-tabs-selected"))return e.selected=-1,e.cookie&&d._cookie(e.selected,e.cookie),d.element.queue("tabs",function(){o(b,f)}).dequeue("tabs"),this.blur(),!1;if(!f.length)return e.cookie&&d._cookie(e.selected,e.cookie),d.element.queue("tabs",function(){n(b,g)}),d.load(d.anchors.index(this)),this.blur(),!1}e.cookie&&d._cookie(e.selected,e.cookie);if(g.length)f.length&&d.element.queue("tabs",function(){o(b,f)}),d.element.queue("tabs",function(){n(b,g)}),d.load(d.anchors.index(this));else throw"jQuery UI Tabs: Mismatching fragment identifier.";a.browser.msie&&this.blur()}),this.anchors.bind("click.tabs",function(){return!1})},_getIndex:function(a){return typeof a=="string"&&(a=this.anchors.index(this.anchors.filter("[href$='"+a+"']"))),a},destroy:function(){var b=this.options;return this.abort(),this.element.unbind(".tabs").removeClass("ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-collapsible").removeData("tabs"),this.list.removeClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all"),this.anchors.each(function(){var b=a.data(this,"href.tabs");b&&(this.href=b);var c=a(this).unbind(".tabs");a.each(["href","load","cache"],function(a,b){c.removeData(b+".tabs")})}),this.lis.unbind(".tabs").add(this.panels).each(function(){a.data(this,"destroy.tabs")?a(this).remove():a(this).removeClass(["ui-state-default","ui-corner-top","ui-tabs-selected","ui-state-active","ui-state-hover","ui-state-focus","ui-state-disabled","ui-tabs-panel","ui-widget-content","ui-corner-bottom","ui-tabs-hide"].join(" "))}),b.cookie&&this._cookie(null,b.cookie),this},add:function(c,d,e){e===b&&(e=this.anchors.length);var f=this,g=this.options,h=a(g.tabTemplate.replace(/#\{href\}/g,c).replace(/#\{label\}/g,d)),i=c.indexOf("#")?this._tabId(a("a",h)[0]):c.replace("#","");h.addClass("ui-state-default ui-corner-top").data("destroy.tabs",!0);var j=f.element.find("#"+i);return j.length||(j=a(g.panelTemplate).attr("id",i).data("destroy.tabs",!0)),j.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom ui-tabs-hide"),e>=this.lis.length?(h.appendTo(this.list),j.appendTo(this.list[0].parentNode)):(h.insertBefore(this.lis[e]),j.insertBefore(this.panels[e])),g.disabled=a.map(g.disabled,function(a,b){return a>=e?++a:a}),this._tabify(),this.anchors.length==1&&(g.selected=0,h.addClass("ui-tabs-selected ui-state-active"),j.removeClass("ui-tabs-hide"),this.element.queue("tabs",function(){f._trigger("show",null,f._ui(f.anchors[0],f.panels[0]))}),this.load(0)),this._trigger("add",null,this._ui(this.anchors[e],this.panels[e])),this},remove:function(b){b=this._getIndex(b);var c=this.options,d=this.lis.eq(b).remove(),e=this.panels.eq(b).remove();return d.hasClass("ui-tabs-selected")&&this.anchors.length>1&&this.select(b+(b+1<this.anchors.length?1:-1)),c.disabled=a.map(a.grep(c.disabled,function(a,c){return a!=b}),function(a,c){return a>=b?--a:a}),this._tabify(),this._trigger("remove",null,this._ui(d.find("a")[0],e[0])),this},enable:function(b){b=this._getIndex(b);var c=this.options;if(a.inArray(b,c.disabled)==-1)return;return this.lis.eq(b).removeClass("ui-state-disabled"),c.disabled=a.grep(c.disabled,function(a,c){return a!=b}),this._trigger("enable",null,this._ui(this.anchors[b],this.panels[b])),this},disable:function(a){a=this._getIndex(a);var b=this,c=this.options;return a!=c.selected&&(this.lis.eq(a).addClass("ui-state-disabled"),c.disabled.push(a),c.disabled.sort(),this._trigger("disable",null,this._ui(this.anchors[a],this.panels[a]))),this},select:function(a){a=this._getIndex(a);if(a==-1)if(this.options.collapsible&&this.options.selected!=-1)a=this.options.selected;else return this;return this.anchors.eq(a).trigger(this.options.event+".tabs"),this},load:function(b){b=this._getIndex(b);var c=this,d=this.options,e=this.anchors.eq(b)[0],f=a.data(e,"load.tabs");this.abort();if(!f||this.element.queue("tabs").length!==0&&a.data(e,"cache.tabs")){this.element.dequeue("tabs");return}this.lis.eq(b).addClass("ui-state-processing");if(d.spinner){var g=a("span",e);g.data("label.tabs",g.html()).html(d.spinner)}return this.xhr=a.ajax(a.extend({},d.ajaxOptions,{url:f,success:function(f,g){c.element.find(c._sanitizeSelector(e.hash)).html(f),c._cleanup(),d.cache&&a.data(e,"cache.tabs",!0),c._trigger("load",null,c._ui(c.anchors[b],c.panels[b]));try{d.ajaxOptions.success(f,g)}catch(h){}},error:function(a,f,g){c._cleanup(),c._trigger("load",null,c._ui(c.anchors[b],c.panels[b]));try{d.ajaxOptions.error(a,f,b,e)}catch(g){}}})),c.element.dequeue("tabs"),this},abort:function(){return this.element.queue([]),this.panels.stop(!1,!0),this.element.queue("tabs",this.element.queue("tabs").splice(-2,2)),this.xhr&&(this.xhr.abort(),delete this.xhr),this._cleanup(),this},url:function(a,b){return this.anchors.eq(a).removeData("cache.tabs").data("load.tabs",b),this},length:function(){return this.anchors.length}}),a.extend(a.ui.tabs,{version:"1.8.21"}),a.extend(a.ui.tabs.prototype,{rotation:null,rotate:function(a,b){var c=this,d=this.options,e=c._rotate||(c._rotate=function(b){clearTimeout(c.rotation),c.rotation=setTimeout(function(){var a=d.selected;c.select(++a<c.anchors.length?a:0)},a),b&&b.stopPropagation()}),f=c._unrotate||(c._unrotate=b?function(a){e()}:function(a){a.clientX&&c.rotate(null)});return a?(this.element.bind("tabsshow",e),this.anchors.bind(d.event+".tabs",f),e()):(clearTimeout(c.rotation),this.element.unbind("tabsshow",e),this.anchors.unbind(d.event+".tabs",f),delete this._rotate,delete this._unrotate),this}})}(jQuery);
;function _scollTopHeader(){var a=$(window).scrollTop();window.fSetting&&a>window.fSetting.Header.height?$("header.header .header-toolbar").addClass("fixed"):$("header.header .header-toolbar").removeClass("fixed")}function _scollTopToolbar(){var a=$(".foody-toolbar");if(a.length<1)return;var b=$(window).scrollTop(),c=$(".header-toolbar").height();for(var d=0;d<a.length;d++){var e=$(a[d]),f=e.offset(),g=e.data("padding-top");g=g?g:0,b+c>f.top-g?e.find(">div").css("top",b+c-f.top+g):e.find(">div").css("top",0)}}function _scollMenuReview(){if($("#left-column-review").length<1)return;var a=$(window).scrollTop();window.fSetting&&a>window.fSetting.Header.height?($("#left-column-review,#right-column-review").css("position","fixed"),$("#left-column-review,#right-column-review").css("top",$("header.header .header-toolbar").height()+20),$("#right-column-review").css("left",$("#review-list").offset().left+$("#review-list").width()+20)):$("#left-column-review,#right-column-review").css("position","")}function noscripts(a){if(typeof a!="undefined")return a=a.replace(/<\s*script[^>]*>[\s\S]*?(<\s*\/script[^>]*>|$)/ig,""),a=a.replace(/[><"]/g,""),a=a.replace("&#",""),a}function noscriptstag(a){if(typeof a!="undefined")return a=a.replace(/[><"]/g,""),a=a.replace("&#",""),a}function validateScript(a){if(typeof a!="undefined")return a=a.replace(/[><"]/g,""),a}function htmlEncode(a){return $("<div/>").text(a).html()}function htmlDecode(a){return $("<div/>").html(a).text()}$(window).ready(function(){window.fSetting={Header:{height:$(".header.header").height()}},$(".foody-banner .bxslider").bxSlider({mode:"vertical",captions:!1,auto:!0,useCSS:!1,pager:!1,controls:!1}),_scollTopHeader(),_scollTopToolbar()}),$(function(){$("#searchFormTop").submit(function(){var a=$("#pkeywords").val(),b=noscripts(a);return $("#pkeywords").val(b),!0}),_scollTopHeader(),_scollTopToolbar()}),$(window).scroll(function(){_scollTopHeader(),_scollTopToolbar()}),document.cookie="fd.sk=; expires=Thu, 01 Jan 1970 00:00:01 GMT;"
;(function(a,b){typeof define=="function"&&define.amd?define(["jquery"],function(a){return b(a)}):typeof exports=="object"?module.exports=b(require("jquery")):b(jQuery)})(this,function(a){function f(a){this.$container,this.constraints=null,this.__$tooltip,this.__init(a)}function g(b,c){var d=!0;return a.each(b,function(a,e){if(c[a]===undefined||b[a]!==c[a])return d=!1,!1}),d}function h(b){var c=b.attr("id"),e=c?d.window.document.getElementById(c):null;return e?e===b[0]:a.contains(d.window.document.body,b[0])}function j(){if(!c)return!1;var a=c.document.body||c.document.documentElement,b=a.style,d="transition",e=["Moz","Webkit","Khtml","O","ms"];if(typeof b[d]=="string")return!0;d=d.charAt(0).toUpperCase()+d.substr(1);for(var f=0;f<e.length;f++)if(typeof b[e[f]+d]=="string")return!0;return!1}var b={animation:"fade",animationDuration:350,content:null,contentAsHTML:!1,contentCloning:!1,debug:!0,delay:300,delayTouch:[300,500],functionInit:null,functionBefore:null,functionReady:null,functionAfter:null,functionFormat:null,IEmin:6,interactive:!1,multiple:!1,parent:"body",plugins:["sideTip"],repositionOnScroll:!1,restoration:"none",selfDestruction:!0,theme:[],timer:0,trackerInterval:500,trackOrigin:!1,trackTooltip:!1,trigger:"hover",triggerClose:{click:!1,mouseleave:!1,originClick:!1,scroll:!1,tap:!1,touchleave:!1},triggerOpen:{click:!1,mouseenter:!1,tap:!1,touchstart:!1},updateAnimation:"rotate",zIndex:9999999},c=typeof window!="undefined"?window:null,d={hasTouchCapability:!!c&&!!("ontouchstart"in c||c.DocumentTouch&&c.document instanceof c.DocumentTouch||c.navigator.maxTouchPoints),hasTransitions:j(),IE:!1,semVer:"4.1.6",window:c},e=function(){this.__$emitterPrivate=a({}),this.__$emitterPublic=a({}),this.__instancesLatestArr=[],this.__plugins={},this._env=d};e.prototype={__bridge:function(c,d,e){if(!d[e]){var f=function(){};f.prototype=c;var g=new f;g.__init&&g.__init(d),a.each(c,function(a,c){a.indexOf("__")!=0&&(d[a]?b.debug&&console.log("The "+a+" method of the "+e+" plugin conflicts with another plugin or native methods"):(d[a]=function(){return g[a].apply(g,Array.prototype.slice.apply(arguments))},d[a].bridged=g))}),d[e]=g}return this},__setWindow:function(a){return d.window=a,this},_getRuler:function(a){return new f(a)},_off:function(){return this.__$emitterPrivate.off.apply(this.__$emitterPrivate,Array.prototype.slice.apply(arguments)),this},_on:function(){return this.__$emitterPrivate.on.apply(this.__$emitterPrivate,Array.prototype.slice.apply(arguments)),this},_one:function(){return this.__$emitterPrivate.one.apply(this.__$emitterPrivate,Array.prototype.slice.apply(arguments)),this},_plugin:function(b){var c=this;if(typeof b=="string"){var d=b,e=null;return d.indexOf(".")>0?e=c.__plugins[d]:a.each(c.__plugins,function(a,b){if(b.name.substring(b.name.length-d.length-1)=="."+d)return e=b,!1}),e}if(b.name.indexOf(".")<0)throw new Error("Plugins must be namespaced");return c.__plugins[b.name]=b,b.core&&c.__bridge(b.core,c,b.name),this},_trigger:function(){var a=Array.prototype.slice.apply(arguments);return typeof a[0]=="string"&&(a[0]={type:a[0]}),this.__$emitterPrivate.trigger.apply(this.__$emitterPrivate,a),this.__$emitterPublic.trigger.apply(this.__$emitterPublic,a),this},instances:function(b){var c=[],d=b||".tooltipstered";return a(d).each(function(){var b=a(this),d=b.data("tooltipster-ns");d&&a.each(d,function(a,d){c.push(b.data(d))})}),c},instancesLatest:function(){return this.__instancesLatestArr},off:function(){return this.__$emitterPublic.off.apply(this.__$emitterPublic,Array.prototype.slice.apply(arguments)),this},on:function(){return this.__$emitterPublic.on.apply(this.__$emitterPublic,Array.prototype.slice.apply(arguments)),this},one:function(){return this.__$emitterPublic.one.apply(this.__$emitterPublic,Array.prototype.slice.apply(arguments)),this},origins:function(b){var c=b?b+" ":"";return a(c+".tooltipstered").toArray()},setDefaults:function(c){return a.extend(b,c),this},triggerHandler:function(){return this.__$emitterPublic.triggerHandler.apply(this.__$emitterPublic,Array.prototype.slice.apply(arguments)),this}},a.tooltipster=new e,a.Tooltipster=function(b,c){this.__callbacks={close:[],open:[]},this.__closingTime,this.__Content,this.__contentBcr,this.__destroyed=!1,this.__destroying=!1,this.__$emitterPrivate=a({}),this.__$emitterPublic=a({}),this.__enabled=!0,this.__garbageCollector,this.__Geometry,this.__lastPosition,this.__namespace="tooltipster-"+Math.round(Math.random()*1e6),this.__options,this.__$originParents,this.__pointerIsOverOrigin=!1,this.__previousThemes=[],this.__state="closed",this.__timeouts={close:[],open:null},this.__touchEvents=[],this.__tracker=null,this._$origin,this._$tooltip,this.__init(b,c)},a.Tooltipster.prototype={__init:function(c,e){var f=this;f._$origin=a(c),f.__options=a.extend(!0,{},b,e),f.__optionsFormat();if(!d.IE||d.IE>=f.__options.IEmin){var g=null;f._$origin.data("tooltipster-initialTitle")===undefined&&(g=f._$origin.attr("title"),g===undefined&&(g=null),f._$origin.data("tooltipster-initialTitle",g));if(f.__options.content!==null)f.__contentSet(f.__options.content);else{var h=f._$origin.attr("data-tooltip-content"),i;h&&(i=a(h)),i&&i[0]?f.__contentSet(i.first()):f.__contentSet(g)}f._$origin.removeAttr("title").addClass("tooltipstered"),f.__prepareOrigin(),f.__prepareGC(),a.each(f.__options.plugins,function(a,b){f._plug(b)}),d.hasTouchCapability&&a("body").on("touchmove."+f.__namespace+"-triggerOpen",function(a){f._touchRecordEvent(a)}),f._on("created",function(){f.__prepareTooltip()})._on("repositioned",function(a){f.__lastPosition=a.position})}else f.__options.disabled=!0},__contentInsert:function(){var a=this,b=a._$tooltip.find(".tooltipster-content"),c=a.__Content,d=function(a){c=a};return a._trigger({type:"format",content:a.__Content,format:d}),a.__options.functionFormat&&(c=a.__options.functionFormat.call(a,a,{origin:a._$origin[0]},a.__Content)),typeof c=="string"&&!a.__options.contentAsHTML?b.text(c):b.empty().append(c),a},__contentSet:function(b){return b instanceof a&&this.__options.contentCloning&&(b=b.clone(!0)),this.__Content=b,this._trigger({type:"updated",content:b}),this},__destroyError:function(){throw new Error("This tooltip has been destroyed and cannot execute your method call.")},__geometry:function(){var b=this,c=b._$origin,e=b._$origin.is("area");if(e){var f=b._$origin.parent().attr("name");c=a('img[usemap="#'+f+'"]')}var g=c[0].getBoundingClientRect(),h=a(d.window.document),i=a(d.window),j=c,k={available:{document:null,window:null},document:{size:{height:h.height(),width:h.width()}},window:{scroll:{left:d.window.scrollX||d.window.document.documentElement.scrollLeft,top:d.window.scrollY||d.window.document.documentElement.scrollTop},size:{height:i.height(),width:i.width()}},origin:{fixedLineage:!1,offset:{},size:{height:g.bottom-g.top,width:g.right-g.left},usemapImage:e?c[0]:null,windowOffset:{bottom:g.bottom,left:g.left,right:g.right,top:g.top}}},l=!1;if(e){var m=b._$origin.attr("shape"),n=b._$origin.attr("coords");n&&(n=n.split(","),a.map(n,function(a,b){n[b]=parseInt(a)}));if(m!="default")switch(m){case"circle":var o=n[0],p=n[1],q=n[2],r=p-q,s=o-q;k.origin.size.height=q*2,k.origin.size.width=k.origin.size.height,k.origin.windowOffset.left+=s,k.origin.windowOffset.top+=r;break;case"rect":var t=n[0],u=n[1],v=n[2],w=n[3];k.origin.size.height=w-u,k.origin.size.width=v-t,k.origin.windowOffset.left+=t,k.origin.windowOffset.top+=u;break;case"poly":var x=0,y=0,z=0,A=0,B="even";for(var C=0;C<n.length;C++){var D=n[C];B=="even"?(D>z&&(z=D,C===0&&(x=z)),D<x&&(x=D),B="odd"):(D>A&&(A=D,C==1&&(y=A)),D<y&&(y=D),B="even")}k.origin.size.height=A-y,k.origin.size.width=z-x,k.origin.windowOffset.left+=x,k.origin.windowOffset.top+=y}}var E=function(a){k.origin.size.height=a.height,k.origin.windowOffset.left=a.left,k.origin.windowOffset.top=a.top,k.origin.size.width=a.width};b._trigger({type:"geometry",edit:E,geometry:{height:k.origin.size.height,left:k.origin.windowOffset.left,top:k.origin.windowOffset.top,width:k.origin.size.width}}),k.origin.windowOffset.right=k.origin.windowOffset.left+k.origin.size.width,k.origin.windowOffset.bottom=k.origin.windowOffset.top+k.origin.size.height,k.origin.offset.left=k.origin.windowOffset.left+k.window.scroll.left,k.origin.offset.top=k.origin.windowOffset.top+k.window.scroll.top,k.origin.offset.bottom=k.origin.offset.top+k.origin.size.height,k.origin.offset.right=k.origin.offset.left+k.origin.size.width,k.available.document={bottom:{height:k.document.size.height-k.origin.offset.bottom,width:k.document.size.width},left:{height:k.document.size.height,width:k.origin.offset.left},right:{height:k.document.size.height,width:k.document.size.width-k.origin.offset.right},top:{height:k.origin.offset.top,width:k.document.size.width}},k.available.window={bottom:{height:Math.max(k.window.size.height-Math.max(k.origin.windowOffset.bottom,0),0),width:k.window.size.width},left:{height:k.window.size.height,width:Math.max(k.origin.windowOffset.left,0)},right:{height:k.window.size.height,width:Math.max(k.window.size.width-Math.max(k.origin.windowOffset.right,0),0)},top:{height:Math.max(k.origin.windowOffset.top,0),width:k.window.size.width}};while(j[0].tagName.toLowerCase()!="html"){if(j.css("position")=="fixed"){k.origin.fixedLineage=!0;break}j=j.parent()}return k},__optionsFormat:function(){return typeof this.__options.animationDuration=="number"&&(this.__options.animationDuration=[this.__options.animationDuration,this.__options.animationDuration]),typeof this.__options.delay=="number"&&(this.__options.delay=[this.__options.delay,this.__options.delay]),typeof this.__options.delayTouch=="number"&&(this.__options.delayTouch=[this.__options.delayTouch,this.__options.delayTouch]),typeof this.__options.theme=="string"&&(this.__options.theme=[this.__options.theme]),typeof this.__options.parent=="string"&&(this.__options.parent=a(this.__options.parent)),this.__options.trigger=="hover"?(this.__options.triggerOpen={mouseenter:!0,touchstart:!0},this.__options.triggerClose={mouseleave:!0,originClick:!0,touchleave:!0}):this.__options.trigger=="click"&&(this.__options.triggerOpen={click:!0,tap:!0},this.__options.triggerClose={click:!0,tap:!0}),this._trigger("options"),this},__prepareGC:function(){var b=this;return b.__options.selfDestruction?b.__garbageCollector=setInterval(function(){var c=(new Date).getTime();b.__touchEvents=a.grep(b.__touchEvents,function(a,b){return c-a.time>6e4}),h(b._$origin)||b.destroy()},2e4):clearInterval(b.__garbageCollector),b},__prepareOrigin:function(){var a=this;a._$origin.off("."+a.__namespace+"-triggerOpen"),d.hasTouchCapability&&a._$origin.on("touchstart."+a.__namespace+"-triggerOpen "+"touchend."+a.__namespace+"-triggerOpen "+"touchcancel."+a.__namespace+"-triggerOpen",function(b){a._touchRecordEvent(b)});if(a.__options.triggerOpen.click||a.__options.triggerOpen.tap&&d.hasTouchCapability){var b="";a.__options.triggerOpen.click&&(b+="click."+a.__namespace+"-triggerOpen "),a.__options.triggerOpen.tap&&d.hasTouchCapability&&(b+="touchend."+a.__namespace+"-triggerOpen"),a._$origin.on(b,function(b){a._touchIsMeaningfulEvent(b)&&a._open(b)})}if(a.__options.triggerOpen.mouseenter||a.__options.triggerOpen.touchstart&&d.hasTouchCapability){var b="";a.__options.triggerOpen.mouseenter&&(b+="mouseenter."+a.__namespace+"-triggerOpen "),a.__options.triggerOpen.touchstart&&d.hasTouchCapability&&(b+="touchstart."+a.__namespace+"-triggerOpen"),a._$origin.on(b,function(b){if(a._touchIsTouchEvent(b)||!a._touchIsEmulatedEvent(b))a.__pointerIsOverOrigin=!0,a._openShortly(b)})}if(a.__options.triggerClose.mouseleave||a.__options.triggerClose.touchleave&&d.hasTouchCapability){var b="";a.__options.triggerClose.mouseleave&&(b+="mouseleave."+a.__namespace+"-triggerOpen "),a.__options.triggerClose.touchleave&&d.hasTouchCapability&&(b+="touchend."+a.__namespace+"-triggerOpen touchcancel."+a.__namespace+"-triggerOpen"),a._$origin.on(b,function(b){a._touchIsMeaningfulEvent(b)&&(a.__pointerIsOverOrigin=!1)})}return a},__prepareTooltip:function(){var b=this,c=b.__options.interactive?"auto":"";return b._$tooltip.attr("id",b.__namespace).css({"pointer-events":c,zIndex:b.__options.zIndex}),a.each(b.__previousThemes,function(a,c){b._$tooltip.removeClass(c)}),a.each(b.__options.theme,function(a,c){b._$tooltip.addClass(c)}),b.__previousThemes=a.merge([],b.__options.theme),b},__scrollHandler:function(b){var c=this;if(c.__options.triggerClose.scroll)c._close(b);else{if(b.target===d.window.document)c.__Geometry.origin.fixedLineage||c.__options.repositionOnScroll&&c.reposition(b);else{var e=c.__geometry(),f=!1;c._$origin.css("position")!="fixed"&&c.__$originParents.each(function(b,c){var d=a(c),g=d.css("overflow-x"),h=d.css("overflow-y");if(g!="visible"||h!="visible"){var i=c.getBoundingClientRect();if(g!="visible")if(e.origin.windowOffset.left<i.left||e.origin.windowOffset.right>i.right)return f=!0,!1;if(h!="visible")if(e.origin.windowOffset.top<i.top||e.origin.windowOffset.bottom>i.bottom)return f=!0,!1}if(d.css("position")=="fixed")return!1});if(f)c._$tooltip.css("visibility","hidden");else{c._$tooltip.css("visibility","visible");if(c.__options.repositionOnScroll)c.reposition(b);else{var g=e.origin.offset.left-c.__Geometry.origin.offset.left,h=e.origin.offset.top-c.__Geometry.origin.offset.top;c._$tooltip.css({left:c.__lastPosition.coord.left+g,top:c.__lastPosition.coord.top+h})}}}c._trigger({type:"scroll",event:b})}return c},__stateSet:function(a){return this.__state=a,this._trigger({type:"state",state:a}),this},__timeoutsClear:function(){return clearTimeout(this.__timeouts.open),this.__timeouts.open=null,a.each(this.__timeouts.close,function(a,b){clearTimeout(b)}),this.__timeouts.close=[],this},__trackerStart:function(){var a=this,b=a._$tooltip.find(".tooltipster-content");return a.__options.trackTooltip&&(a.__contentBcr=b[0].getBoundingClientRect()),a.__tracker=setInterval(function(){if(!h(a._$origin)||!h(a._$tooltip))a._close();else{if(a.__options.trackOrigin){var c=a.__geometry(),d=!1;g(c.origin.size,a.__Geometry.origin.size)&&(a.__Geometry.origin.fixedLineage?g(c.origin.windowOffset,a.__Geometry.origin.windowOffset)&&(d=!0):g(c.origin.offset,a.__Geometry.origin.offset)&&(d=!0)),d||(a.__options.triggerClose.mouseleave?a._close():a.reposition())}if(a.__options.trackTooltip){var e=b[0].getBoundingClientRect();if(e.height!==a.__contentBcr.height||e.width!==a.__contentBcr.width)a.reposition(),a.__contentBcr=e}}},a.__options.trackerInterval),a},_close:function(b,c){var e=this,f=!0;e._trigger({type:"close",event:b,stop:function(){f=!1}});if(f||e.__destroying){c&&e.__callbacks.close.push(c),e.__callbacks.open=[],e.__timeoutsClear();var g=function(){a.each(e.__callbacks.close,function(a,c){c.call(e,e,{event:b,origin:e._$origin[0]})}),e.__callbacks.close=[]};if(e.__state!="closed"){var h=!0,i=new Date,j=i.getTime(),k=j+e.__options.animationDuration[1];e.__state=="disappearing"&&k>e.__closingTime&&(h=!1);if(h){e.__closingTime=k,e.__state!="disappearing"&&e.__stateSet("disappearing");var l=function(){clearInterval(e.__tracker),e._trigger({type:"closing",event:b}),e._$tooltip.off("."+e.__namespace+"-triggerClose").removeClass("tooltipster-dying"),a(d.window).off("."+e.__namespace+"-triggerClose"),e.__$originParents.each(function(b,c){a(c).off("scroll."+e.__namespace+"-triggerClose")}),e.__$originParents=null,a("body").off("."+e.__namespace+"-triggerClose"),e._$origin.off("."+e.__namespace+"-triggerClose"),e._off("dismissable"),e.__stateSet("closed"),e._trigger({type:"after",event:b}),e.__options.functionAfter&&e.__options.functionAfter.call(e,e,{event:b,origin:e._$origin[0]}),g()};d.hasTransitions?(e._$tooltip.css({"-moz-animation-duration":e.__options.animationDuration[1]+"ms","-ms-animation-duration":e.__options.animationDuration[1]+"ms","-o-animation-duration":e.__options.animationDuration[1]+"ms","-webkit-animation-duration":e.__options.animationDuration[1]+"ms","animation-duration":e.__options.animationDuration[1]+"ms","transition-duration":e.__options.animationDuration[1]+"ms"}),e._$tooltip.clearQueue().removeClass("tooltipster-show").addClass("tooltipster-dying"),e.__options.animationDuration[1]>0&&e._$tooltip.delay(e.__options.animationDuration[1]),e._$tooltip.queue(l)):e._$tooltip.stop().fadeOut(e.__options.animationDuration[1],l)}}else g()}return e},_off:function(){return this.__$emitterPrivate.off.apply(this.__$emitterPrivate,Array.prototype.slice.apply(arguments)),this},_on:function(){return this.__$emitterPrivate.on.apply(this.__$emitterPrivate,Array.prototype.slice.apply(arguments)),this},_one:function(){return this.__$emitterPrivate.one.apply(this.__$emitterPrivate,Array.prototype.slice.apply(arguments)),this},_open:function(b,c){var e=this;if(!e.__destroying&&h(e._$origin)&&e.__enabled){var f=!0;e.__state=="closed"&&(e._trigger({type:"before",event:b,stop:function(){f=!1}}),f&&e.__options.functionBefore&&(f=e.__options.functionBefore.call(e,e,{event:b,origin:e._$origin[0]})));if(f!==!1&&e.__Content!==null){c&&e.__callbacks.open.push(c),e.__callbacks.close=[],e.__timeoutsClear();var g,i=function(){e.__state!="stable"&&e.__stateSet("stable"),a.each(e.__callbacks.open,function(a,b){b.call(e,e,{origin:e._$origin[0],tooltip:e._$tooltip[0]})}),e.__callbacks.open=[]};if(e.__state!=="closed")g=0,e.__state==="disappearing"?(e.__stateSet("appearing"),d.hasTransitions?(e._$tooltip.clearQueue().removeClass("tooltipster-dying").addClass("tooltipster-show"),e.__options.animationDuration[0]>0&&e._$tooltip.delay(e.__options.animationDuration[0]),e._$tooltip.queue(i)):e._$tooltip.stop().fadeIn(i)):e.__state=="stable"&&i();else{e.__stateSet("appearing"),g=e.__options.animationDuration[0],e.__contentInsert(),e.reposition(b,!0),d.hasTransitions?(e._$tooltip.addClass("tooltipster-"+e.__options.animation).addClass("tooltipster-initial").css({"-moz-animation-duration":e.__options.animationDuration[0]+"ms","-ms-animation-duration":e.__options.animationDuration[0]+"ms","-o-animation-duration":e.__options.animationDuration[0]+"ms","-webkit-animation-duration":e.__options.animationDuration[0]+"ms","animation-duration":e.__options.animationDuration[0]+"ms","transition-duration":e.__options.animationDuration[0]+"ms"}),setTimeout(function(){e.__state!="closed"&&(e._$tooltip.addClass("tooltipster-show").removeClass("tooltipster-initial"),e.__options.animationDuration[0]>0&&e._$tooltip.delay(e.__options.animationDuration[0]),e._$tooltip.queue(i))},0)):e._$tooltip.css("display","none").fadeIn(e.__options.animationDuration[0],i),e.__trackerStart(),a(d.window).on("resize."+e.__namespace+"-triggerClose",function(b){var c=a(document.activeElement);(!c.is("input")&&!c.is("textarea")||!a.contains(e._$tooltip[0],c[0]))&&e.reposition(b)}).on("scroll."+e.__namespace+"-triggerClose",function(a){e.__scrollHandler(a)}),e.__$originParents=e._$origin.parents(),e.__$originParents.each(function(b,c){a(c).on("scroll."+e.__namespace+"-triggerClose",function(a){e.__scrollHandler(a)})});if(e.__options.triggerClose.mouseleave||e.__options.triggerClose.touchleave&&d.hasTouchCapability){e._on("dismissable",function(a){a.dismissable?a.delay?(m=setTimeout(function(){e._close(a.event)},a.delay),e.__timeouts.close.push(m)):e._close(a):clearTimeout(m)});var j=e._$origin,k="",l="",m=null;e.__options.interactive&&(j=j.add(e._$tooltip)),e.__options.triggerClose.mouseleave&&(k+="mouseenter."+e.__namespace+"-triggerClose ",l+="mouseleave."+e.__namespace+"-triggerClose "),e.__options.triggerClose.touchleave&&d.hasTouchCapability&&(k+="touchstart."+e.__namespace+"-triggerClose",l+="touchend."+e.__namespace+"-triggerClose touchcancel."+e.__namespace+"-triggerClose"),j.on(l,function(a){if(e._touchIsTouchEvent(a)||!e._touchIsEmulatedEvent(a)){var b=a.type=="mouseleave"?e.__options.delay:e.__options.delayTouch;e._trigger({delay:b[1],dismissable:!0,event:a,type:"dismissable"})}}).on(k,function(a){(e._touchIsTouchEvent(a)||!e._touchIsEmulatedEvent(a))&&e._trigger({dismissable:!1,event:a,type:"dismissable"})})}e.__options.triggerClose.originClick&&e._$origin.on("click."+e.__namespace+"-triggerClose",function(a){!e._touchIsTouchEvent(a)&&!e._touchIsEmulatedEvent(a)&&e._close(a)}),(e.__options.triggerClose.click||e.__options.triggerClose.tap&&d.hasTouchCapability)&&setTimeout(function(){if(e.__state!="closed"){var b="";e.__options.triggerClose.click&&(b+="click."+e.__namespace+"-triggerClose "),e.__options.triggerClose.tap&&d.hasTouchCapability&&(b+="touchend."+e.__namespace+"-triggerClose"),a("body").on(b,function(b){e._touchIsMeaningfulEvent(b)&&(e._touchRecordEvent(b),(!e.__options.interactive||!a.contains(e._$tooltip[0],b.target))&&e._close(b))}),e.__options.triggerClose.tap&&d.hasTouchCapability&&a("body").on("touchstart."+e.__namespace+"-triggerClose",function(a){e._touchRecordEvent(a)})}},0),e._trigger("ready"),e.__options.functionReady&&e.__options.functionReady.call(e,e,{origin:e._$origin[0],tooltip:e._$tooltip[0]})}if(e.__options.timer>0){var m=setTimeout(function(){e._close()},e.__options.timer+g);e.__timeouts.close.push(m)}}}return e},_openShortly:function(a){var b=this,c=!0;if(b.__state!="stable"&&b.__state!="appearing"&&!b.__timeouts.open){b._trigger({type:"start",event:a,stop:function(){c=!1}});if(c){var d=a.type.indexOf("touch")==0?b.__options.delayTouch:b.__options.delay;d[0]?b.__timeouts.open=setTimeout(function(){b.__timeouts.open=null,b.__pointerIsOverOrigin&&b._touchIsMeaningfulEvent(a)?(b._trigger("startend"),b._open(a)):b._trigger("startcancel")},d[0]):(b._trigger("startend"),b._open(a))}}return b},_optionsExtract:function(b,c){var d=this,e=a.extend(!0,{},c),f=d.__options[b];return f||(f={},a.each(c,function(a,b){var c=d.__options[a];c!==undefined&&(f[a]=c)})),a.each(e,function(b,c){f[b]!==undefined&&(typeof c!="object"||c instanceof Array||c==null||typeof f[b]!="object"||f[b]instanceof Array||f[b]==null?e[b]=f[b]:a.extend(e[b],f[b]))}),e},_plug:function(b){var c=a.tooltipster._plugin(b);if(c)c.instance&&a.tooltipster.__bridge(c.instance,this,c.name);else throw new Error('The "'+b+'" plugin is not defined');return this},_touchIsEmulatedEvent:function(a){var b=!1,c=(new Date).getTime();for(var d=this.__touchEvents.length-1;d>=0;d--){var e=this.__touchEvents[d];if(c-e.time<500)e.target===a.target&&(b=!0);else break}return b},_touchIsMeaningfulEvent:function(a){return this._touchIsTouchEvent(a)&&!this._touchSwiped(a.target)||!this._touchIsTouchEvent(a)&&!this._touchIsEmulatedEvent(a)},_touchIsTouchEvent:function(a){return a.type.indexOf("touch")==0},_touchRecordEvent:function(a){return this._touchIsTouchEvent(a)&&(a.time=(new Date).getTime(),this.__touchEvents.push(a)),this},_touchSwiped:function(a){var b=!1;for(var c=this.__touchEvents.length-1;c>=0;c--){var d=this.__touchEvents[c];if(d.type=="touchmove"){b=!0;break}if(d.type=="touchstart"&&a===d.target)break}return b},_trigger:function(){var b=Array.prototype.slice.apply(arguments);return typeof b[0]=="string"&&(b[0]={type:b[0]}),b[0].instance=this,b[0].origin=this._$origin?this._$origin[0]:null,b[0].tooltip=this._$tooltip?this._$tooltip[0]:null,this.__$emitterPrivate.trigger.apply(this.__$emitterPrivate,b),a.tooltipster._trigger.apply(a.tooltipster,b),this.__$emitterPublic.trigger.apply(this.__$emitterPublic,b),this},_unplug:function(b){var c=this;if(c[b]){var d=a.tooltipster._plugin(b);d.instance&&a.each(d.instance,function(a,d){c[a]&&c[a].bridged===c[b]&&delete c[a]}),c[b].__destroy&&c[b].__destroy(),delete c[b]}return c},close:function(a){return this.__destroyed?this.__destroyError():this._close(null,a),this},content:function(a){var b=this;if(a===undefined)return b.__Content;if(!b.__destroyed){b.__contentSet(a);if(b.__Content!==null){if(b.__state!=="closed"){b.__contentInsert(),b.reposition();if(b.__options.updateAnimation)if(d.hasTransitions){var c=b.__options.updateAnimation;b._$tooltip.addClass("tooltipster-update-"+c),setTimeout(function(){b.__state!="closed"&&b._$tooltip.removeClass("tooltipster-update-"+c)},1e3)}else b._$tooltip.fadeTo(200,.5,function(){b.__state!="closed"&&b._$tooltip.fadeTo(200,1)})}}else b._close()}else b.__destroyError();return b},destroy:function(){var b=this;return b.__destroyed?b.__destroyError():b.__destroying||(b.__destroying=!0,b._close(null,function(){b._trigger("destroy"),b.__destroying=!1,b.__destroyed=!0,b._$origin.removeData(b.__namespace).off("."+b.__namespace+"-triggerOpen"),a("body").off("."+b.__namespace+"-triggerOpen");var c=b._$origin.data("tooltipster-ns");if(c)if(c.length===1){var d=null;b.__options.restoration=="previous"?d=b._$origin.data("tooltipster-initialTitle"):b.__options.restoration=="current"&&(d=typeof b.__Content=="string"?b.__Content:a("<div></div>").append(b.__Content).html()),d&&b._$origin.attr("title",d),b._$origin.removeClass("tooltipstered"),b._$origin.removeData("tooltipster-ns").removeData("tooltipster-initialTitle")}else c=a.grep(c,function(a,c){return a!==b.__namespace}),b._$origin.data("tooltipster-ns",c);b._trigger("destroyed"),b._off(),b.off(),b.__Content=null,b.__$emitterPrivate=null,b.__$emitterPublic=null,b.__options.parent=null,b._$origin=null,b._$tooltip=null,a.tooltipster.__instancesLatestArr=a.grep(a.tooltipster.__instancesLatestArr,function(a,c){return b!==a}),clearInterval(b.__garbageCollector)})),b},disable:function(){return this.__destroyed?(this.__destroyError(),this):(this._close(),this.__enabled=!1,this)},elementOrigin:function(){if(!this.__destroyed)return this._$origin[0];this.__destroyError()},elementTooltip:function(){return this._$tooltip?this._$tooltip[0]:null},enable:function(){return this.__enabled=!0,this},hide:function(a){return this.close(a)},instance:function(){return this},off:function(){return this.__destroyed||this.__$emitterPublic.off.apply(this.__$emitterPublic,Array.prototype.slice.apply(arguments)),this},on:function(){return this.__destroyed?this.__destroyError():this.__$emitterPublic.on.apply(this.__$emitterPublic,Array.prototype.slice.apply(arguments)),this},one:function(){return this.__destroyed?this.__destroyError():this.__$emitterPublic.one.apply(this.__$emitterPublic,Array.prototype.slice.apply(arguments)),this},open:function(a){return!this.__destroyed&&!this.__destroying?this._open(null,a):this.__destroyError(),this},option:function(b,c){return c===undefined?this.__options[b]:(this.__destroyed?this.__destroyError():(this.__options[b]=c,this.__optionsFormat(),a.inArray(b,["trigger","triggerClose","triggerOpen"])>=0&&this.__prepareOrigin(),b==="selfDestruction"&&this.__prepareGC()),this)},reposition:function(a,b){var c=this;return c.__destroyed?c.__destroyError():c.__state!="closed"&&h(c._$origin)&&(b||h(c._$tooltip))&&(b||c._$tooltip.detach(),c.__Geometry=c.__geometry(),c._trigger({type:"reposition",event:a,helper:{geo:c.__Geometry}})),c},show:function(a){return this.open(a)},status:function(){return{destroyed:this.__destroyed,destroying:this.__destroying,enabled:this.__enabled,open:this.__state!=="closed",state:this.__state}},triggerHandler:function(){return this.__destroyed?this.__destroyError():this.__$emitterPublic.triggerHandler.apply(this.__$emitterPublic,Array.prototype.slice.apply(arguments)),this}},a.fn.tooltipster=function(){var c=Array.prototype.slice.apply(arguments),d="You are using a single HTML element as content for several tooltips. You probably want to set the contentCloning option to TRUE.";if(this.length===0)return this;if(typeof c[0]=="string"){var e="#*$~&";return this.each(function(){var b=a(this).data("tooltipster-ns"),f=b?a(this).data(b[0]):null;if(!f)throw new Error("You called Tooltipster's \""+c[0]+'" method on an uninitialized element');if(typeof f[c[0]]!="function")throw new Error('Unknown method "'+c[0]+'"');this.length>1&&c[0]=="content"&&(c[1]instanceof a||typeof c[1]=="object"&&c[1]!=null&&c[1].tagName)&&!f.__options.contentCloning&&f.__options.debug&&console.log(d);var g=f[c[0]](c[1],c[2]);if(g!==f||c[0]==="instance")return e=g,!1}),e!=="#*$~&"?e:this}a.tooltipster.__instancesLatestArr=[];var f=c[0]&&c[0].multiple!==undefined,g=f&&c[0].multiple||!f&&b.multiple,h=c[0]&&c[0].content!==undefined,i=h&&c[0].content||!h&&b.content,j=c[0]&&c[0].contentCloning!==undefined,k=j&&c[0].contentCloning||!j&&b.contentCloning,l=c[0]&&c[0].debug!==undefined,m=l&&c[0].debug||!l&&b.debug;return this.length>1&&(i instanceof a||typeof i=="object"&&i!=null&&i.tagName)&&!k&&m&&console.log(d),this.each(function(){var b=!1,d=a(this),e=d.data("tooltipster-ns"),f=null;e?g?b=!0:m&&(console.log("Tooltipster: one or more tooltips are already attached to the element below. Ignoring."),console.log(this)):b=!0,b&&(f=new a.Tooltipster(this,c[0]),e||(e=[]),e.push(f.__namespace),d.data("tooltipster-ns",e),d.data(f.__namespace,f),f.__options.functionInit&&f.__options.functionInit.call(f,f,{origin:this}),f._trigger("init")),a.tooltipster.__instancesLatestArr.push(f)}),this},f.prototype={__init:function(b){this.__$tooltip=b,this.__$tooltip.css({left:0,overflow:"hidden",position:"absolute",top:0}).find(".tooltipster-content").css("overflow","auto"),this.$container=a('<div class="tooltipster-ruler"></div>').append(this.__$tooltip).appendTo("body")},__forceRedraw:function(){var a=this.__$tooltip.parent();this.__$tooltip.detach(),this.__$tooltip.appendTo(a)},constrain:function(a,b){return this.constraints={width:a,height:b},this.__$tooltip.css({display:"block",height:"",overflow:"auto",width:a}),this},destroy:function(){this.__$tooltip.detach().find(".tooltipster-content").css({display:"",overflow:""}),this.$container.remove()},free:function(){return this.constraints=null,this.__$tooltip.css({display:"",height:"",overflow:"visible",width:""}),this},measure:function(){this.__forceRedraw();var a=this.__$tooltip[0].getBoundingClientRect(),b={size:{height:a.height||a.bottom,width:a.width||a.right}};if(this.constraints){var c=this.__$tooltip.find(".tooltipster-content"),e=this.__$tooltip.outerHeight(),f=c[0].getBoundingClientRect(),g={height:e<=this.constraints.height,width:a.width<=this.constraints.width&&f.width>=c[0].scrollWidth-1};b.fits=g.height&&g.width}return d.IE&&d.IE<=11&&b.size.width!==d.window.document.documentElement.clientWidth&&(b.size.width=Math.ceil(b.size.width)+1),b}};var i=navigator.userAgent.toLowerCase();i.indexOf("msie")!=-1?d.IE=parseInt(i.split("msie")[1]):i.toLowerCase().indexOf("trident")!==-1&&i.indexOf(" rv:11")!==-1?d.IE=11:i.toLowerCase().indexOf("edge/")!=-1&&(d.IE=parseInt(i.toLowerCase().split("edge/")[1]));var k="tooltipster.sideTip";return a.tooltipster._plugin({name:k,instance:{__defaults:function(){return{arrow:!0,distance:6,functionPosition:null,maxWidth:null,minIntersection:16,minWidth:0,position:null,side:"top",viewportAware:!0}},__init:function(a){var b=this;b.__instance=a,b.__namespace="tooltipster-sideTip-"+Math.round(Math.random()*1e6),b.__previousState="closed",b.__options,b.__optionsFormat(),b.__instance._on("state."+b.__namespace,function(a){a.state=="closed"?b.__close():a.state=="appearing"&&b.__previousState=="closed"&&b.__create(),b.__previousState=a.state}),b.__instance._on("options."+b.__namespace,function(){b.__optionsFormat()}),b.__instance._on("reposition."+b.__namespace,function(a){b.__reposition(a.event,a.helper)})},__close:function(){this.__instance.content()instanceof a&&this.__instance.content().detach(),this.__instance._$tooltip.remove(),this.__instance._$tooltip=null},__create:function(){var b=a('<div class="tooltipster-base tooltipster-sidetip"><div class="tooltipster-box"><div class="tooltipster-content"></div></div><div class="tooltipster-arrow"><div class="tooltipster-arrow-uncropped"><div class="tooltipster-arrow-border"></div><div class="tooltipster-arrow-background"></div></div></div></div>');this.__options.arrow||b.find(".tooltipster-box").css("margin",0).end().find(".tooltipster-arrow").hide(),this.__options.minWidth&&b.css("min-width",this.__options.minWidth+"px"),this.__options.maxWidth&&b.css("max-width",this.__options.maxWidth+"px"),this.__instance._$tooltip=b,this.__instance._trigger("created")},__destroy:function(){this.__instance._off("."+self.__namespace)},__optionsFormat:function(){var b=this;b.__options=b.__instance._optionsExtract(k,b.__defaults()),b.__options.position&&(b.__options.side=b.__options.position),typeof b.__options.distance!="object"&&(b.__options.distance=[b.__options.distance]),b.__options.distance.length<4&&(b.__options.distance[1]===undefined&&(b.__options.distance[1]=b.__options.distance[0]),b.__options.distance[2]===undefined&&(b.__options.distance[2]=b.__options.distance[0]),b.__options.distance[3]===undefined&&(b.__options.distance[3]=b.__options.distance[1]),b.__options.distance={top:b.__options.distance[0],right:b.__options.distance[1],bottom:b.__options.distance[2],left:b.__options.distance[3]});if(typeof b.__options.side=="string"){var c={top:"bottom",right:"left",bottom:"top",left:"right"};b.__options.side=[b.__options.side,c[b.__options.side]],b.__options.side[0]=="left"||b.__options.side[0]=="right"?b.__options.side.push("top","bottom"):b.__options.side.push("right","left")}a.tooltipster._env.IE===6&&b.__options.arrow!==!0&&(b.__options.arrow=!1)},__reposition:function(b,c){var d=this,e,f=d.__targetFind(c),g=[];d.__instance._$tooltip.detach();var h=d.__instance._$tooltip.clone(),i=a.tooltipster._getRuler(h),j=!1,k=d.__instance.option("animation");k&&h.removeClass("tooltipster-"+k),a.each(["window","document"],function(e,k){var l=null;d.__instance._trigger({container:k,helper:c,satisfied:j,takeTest:function(a){l=a},results:g,type:"positionTest"});if(l==1||l!=0&&j==0&&(k!="window"||d.__options.viewportAware))for(var e=0;e<d.__options.side.length;e++){var m={horizontal:0,vertical:0},n=d.__options.side[e];n=="top"||n=="bottom"?m.vertical=d.__options.distance[n]:m.horizontal=d.__options.distance[n],d.__sideChange(h,n),a.each(["natural","constrained"],function(a,e){l=null,d.__instance._trigger({container:k,event:b,helper:c,mode:e,results:g,satisfied:j,side:n,takeTest:function(a){l=a},type:"positionTest"});if(l==1||l!=0&&j==0){var h={container:k,distance:m,fits:null,mode:e,outerSize:null,side:n,size:null,target:f[n],whole:null},o=e=="natural"?i.free():i.constrain(c.geo.available[k][n].width-m.horizontal,c.geo.available[k][n].height-m.vertical),p=o.measure();h.size=p.size,h.outerSize={height:p.size.height+m.vertical,width:p.size.width+m.horizontal},e=="natural"?c.geo.available[k][n].width>=h.outerSize.width&&c.geo.available[k][n].height>=h.outerSize.height?h.fits=!0:h.fits=!1:h.fits=p.fits,k=="window"&&(h.fits?n=="top"||n=="bottom"?h.whole=c.geo.origin.windowOffset.right>=d.__options.minIntersection&&c.geo.window.size.width-c.geo.origin.windowOffset.left>=d.__options.minIntersection:h.whole=c.geo.origin.windowOffset.bottom>=d.__options.minIntersection&&c.geo.window.size.height-c.geo.origin.windowOffset.top>=d.__options.minIntersection:h.whole=!1),g.push(h);if(h.whole)j=!0;else if(h.mode=="natural"&&(h.fits||h.size.width<=c.geo.available[k][n].width))return!1}})}}),d.__instance._trigger({edit:function(a){g=a},event:b,helper:c,results:g,type:"positionTested"}),g.sort(function(a,b){if(a.whole&&!b.whole)return-1;if(!a.whole&&b.whole)return 1;if(a.whole&&b.whole){var c=d.__options.side.indexOf(a.side),e=d.__options.side.indexOf(b.side);return c<e?-1:c>e?1:a.mode=="natural"?-1:1}if(a.fits&&!b.fits)return-1;if(!a.fits&&b.fits)return 1;if(a.fits&&b.fits){var c=d.__options.side.indexOf(a.side),e=d.__options.side.indexOf(b.side);return c<e?-1:c>e?1:a.mode=="natural"?-1:1}return a.container=="document"&&a.side=="bottom"&&a.mode=="natural"?-1:1}),e=g[0],e.coord={};switch(e.side){case"left":case"right":e.coord.top=Math.floor(e.target-e.size.height/2);break;case"bottom":case"top":e.coord.left=Math.floor(e.target-e.size.width/2)}switch(e.side){case"left":e.coord.left=c.geo.origin.windowOffset.left-e.outerSize.width;break;case"right":e.coord.left=c.geo.origin.windowOffset.right+e.distance.horizontal;break;case"top":e.coord.top=c.geo.origin.windowOffset.top-e.outerSize.height;break;case"bottom":e.coord.top=c.geo.origin.windowOffset.bottom+e.distance.vertical}e.container=="window"?e.side=="top"||e.side=="bottom"?e.coord.left<0?c.geo.origin.windowOffset.right-this.__options.minIntersection>=0?e.coord.left=0:e.coord.left=c.geo.origin.windowOffset.right-this.__options.minIntersection-1:e.coord.left>c.geo.window.size.width-e.size.width&&(c.geo.origin.windowOffset.left+this.__options.minIntersection<=c.geo.window.size.width?e.coord.left=c.geo.window.size.width-e.size.width:e.coord.left=c.geo.origin.windowOffset.left+this.__options.minIntersection+1-e.size.width):e.coord.top<0?c.geo.origin.windowOffset.bottom-this.__options.minIntersection>=0?e.coord.top=0:e.coord.top=c.geo.origin.windowOffset.bottom-this.__options.minIntersection-1:e.coord.top>c.geo.window.size.height-e.size.height&&(c.geo.origin.windowOffset.top+this.__options.minIntersection<=c.geo.window.size.height?e.coord.top=c.geo.window.size.height-e.size.height:e.coord.top=c.geo.origin.windowOffset.top+this.__options.minIntersection+1-e.size.height):(e.coord.left>c.geo.window.size.width-e.size.width&&(e.coord.left=c.geo.window.size.width-e.size.width),e.coord.left<0&&(e.coord.left=0)),d.__sideChange(h,e.side),c.tooltipClone=h[0],c.tooltipParent=d.__instance.option("parent").parent[0],c.mode=e.mode,c.whole=e.whole,c.origin=d.__instance._$origin[0],c.tooltip=d.__instance._$tooltip[0],delete e.container,delete e.fits,delete e.mode,delete e.outerSize,delete e.whole,e.distance=e.distance.horizontal||e.distance.vertical;var l=a.extend(!0,{},e);d.__instance._trigger({edit:function(a){e=a},event:b,helper:c,position:l,type:"position"});if(d.__options.functionPosition){var m=d.__options.functionPosition.call(d,d.__instance,c,l);m&&(e=m)}i.destroy();var n,o;e.side=="top"||e.side=="bottom"?(n={prop:"left",val:e.target-e.coord.left},o=e.size.width-this.__options.minIntersection):(n={prop:"top",val:e.target-e.coord.top},o=e.size.height-this.__options.minIntersection),n.val<this.__options.minIntersection?n.val=this.__options.minIntersection:n.val>o&&(n.val=o);var p;c.geo.origin.fixedLineage?p=c.geo.origin.windowOffset:p={left:c.geo.origin.windowOffset.left+c.geo.window.scroll.left,top:c.geo.origin.windowOffset.top+c.geo.window.scroll.top},e.coord={left:p.left+(e.coord.left-c.geo.origin.windowOffset.left),top:p.top+(e.coord.top-c.geo.origin.windowOffset.top)},d.__sideChange(d.__instance._$tooltip,e.side),c.geo.origin.fixedLineage?d.__instance._$tooltip.css("position","fixed"):d.__instance._$tooltip.css("position",""),d.__instance._$tooltip.css({left:e.coord.left,top:e.coord.top,height:e.size.height,width:e.size.width}).find(".tooltipster-arrow").css({left:"",top:""}).css(n.prop,n.val),d.__instance._$tooltip.appendTo(d.__instance.option("parent")),d.__instance._trigger({type:"repositioned",event:b,position:e})},__sideChange:function(a,b){a.removeClass("tooltipster-bottom").removeClass("tooltipster-left").removeClass("tooltipster-right").removeClass("tooltipster-top").addClass("tooltipster-"+b)},__targetFind:function(a){var b={},c=this.__instance._$origin[0].getClientRects();if(c.length>1){var d=this.__instance._$origin.css("opacity");d==1&&(this.__instance._$origin.css("opacity",.99),c=this.__instance._$origin[0].getClientRects(),this.__instance._$origin.css("opacity",1))}if(c.length<2)b.top=Math.floor(a.geo.origin.windowOffset.left+a.geo.origin.size.width/2),b.bottom=b.top,b.left=Math.floor(a.geo.origin.windowOffset.top+a.geo.origin.size.height/2),b.right=b.left;else{var e=c[0];b.top=Math.floor(e.left+(e.right-e.left)/2),c.length>2?e=c[Math.ceil(c.length/2)-1]:e=c[0],b.right=Math.floor(e.top+(e.bottom-e.top)/2),e=c[c.length-1],b.bottom=Math.floor(e.left+(e.right-e.left)/2),c.length>2?e=c[Math.ceil((c.length+1)/2)-1]:e=c[c.length-1],b.left=Math.floor(e.top+(e.bottom-e.top)/2)}return b}}}),a})
;manageCookie={setCookie:function(a,b,c){if(c){var d=new Date;d.setTime(d.getTime()+c*24*60*60*1e3);var e="; expires="+d.toGMTString()}else var e="";document.cookie=a+"="+b+e+"; path=/"},getCookie:function(a){var b=a+"=",c=document.cookie.split(";");for(var d=0;d<c.length;d++){var e=c[d];e=e.replace(/^\s+/,"");if(e.indexOf(b)==0)return e.substring(b.length,e.length)}return null},removeCookie:function(a){manageCookie.setCookie(a,"",-1)},getAll:function(){var a=document.cookie.split(";"),b={};for(var c=0;c<a.length;c++){var d=a[c].split("=");b[d[0]]=unescape(d[1])}return b},removeAll:function(){var a=manageCookie.getAll();for(var b in a)obj.hasOwnProperty(b)&&manageCookie.removeCookie()}}
;function bindSocialLoginLink(a){var b=$(a).attr("provider");return loginSocial(b),!1}function loginSocial(a){var b=640,c=450,d=screen.width/2-b/2,e=screen.height/2-c/2;if(typeof ssoEnable!="undefined"&&ssoEnable)var f=window.open(ssoDomainAuthorize+a,"socialauthlogin","height="+c+",width="+b+", scrollbars=no, top = "+e+", left="+d,!0);else var f=window.open(defualtDomainAuthorize+a,"socialauthlogin","height="+c+",width="+b+", scrollbars=no, top = "+e+", left="+d,!0)}function getRequestParam(a){if(a=(new RegExp("[?&]"+encodeURIComponent(a)+"=([^&]*)")).exec(location.search))return decodeURIComponent(a[1])}$(".social-icon-login a").live("click",function(){bindSocialLoginLink(this)}),$(".login-social-writereview a").live("click",function(){bindSocialLoginLink(this)}),$(".social-icon a").live("click",function(){bindSocialLoginLink(this)}),$("a.facebook-login").live("click",function(){bindSocialLoginLink(this)})
;(function(a,b,c){var d="watermark",e="watermarkClass",f="watermarkFocus",g="watermarkSubmit",h="watermarkMaxLength",i="watermarkPassword",j="watermarkText",k=/\r/g,l="input:data("+d+"),textarea:data("+d+")",m="input:text,input:password,input[type=search],input:not([type]),textarea",n=["Page_ClientValidate"],o=!1,p="placeholder"in document.createElement("input");a.watermark=a.watermark||{version:"3.1.3",runOnce:!0,options:{className:"watermark",useNative:!1,hideBeforeUnload:!0},hide:function(b){a(b).filter(l).each(function(){a.watermark._hide(a(this))})},_hide:function(a,c){var d=a[0],f=(d.value||"").replace(k,""),g=a.data(j)||"",l=a.data(h)||0,m=a.data(e);if(g.length&&f==g){d.value="";if(a.data(i)&&(a.attr("type")||"")==="text"){var n=a.data(i)||[],o=a.parent()||[];n.length&&o.length&&(o[0].removeChild(a[0]),o[0].appendChild(n[0]),a=n)}l&&(a.attr("maxLength",l),a.removeData(h)),c&&(a.attr("autocomplete","off"),b.setTimeout(function(){a.select()},1))}m&&a.removeClass(m)},show:function(b){a(b).filter(l).each(function(){a.watermark._show(a(this))})},_show:function(b){var c=b[0],d=(c.value||"").replace(k,""),g=b.data(j)||"",l=b.attr("type")||"",m=b.data(e);if(d.length!=0&&d!=g||!!b.data(f))a.watermark._hide(b);else{o=!0;if(b.data(i)&&l==="password"){var n=b.data(i)||[],p=b.parent()||[];n.length&&p.length&&(p[0].removeChild(b[0]),p[0].appendChild(n[0]),b=n,b.attr("maxLength",g.length),c=b[0])}if(l==="text"||l==="search"){var q=b.attr("maxLength")||0;q>0&&g.length>q&&(b.data(h,q),b.attr("maxLength",g.length))}m&&b.addClass(m),c.value=g}},hideAll:function(){o&&(a.watermark.hide(m),o=!1)},showAll:function(){a.watermark.show(m)}},a.fn.watermark=a.fn.watermark||function(c,h){if(!this.length)return this;var l=!1,n=typeof c=="string";return n&&(c=c.replace(k,"")),typeof h=="object"?(l=typeof h.className=="string",h=a.extend({},a.watermark.options,h)):typeof h=="string"?(l=!0,h=a.extend({},a.watermark.options,{className:h})):h=a.watermark.options,typeof h.useNative!="function"&&(h.useNative=h.useNative?function(){return!0}:function(){return!1}),this.each(function(){var o=a(this);if(!o.is(m))return;if(o.data(d)){if(n||l)a.watermark._hide(o),n&&o.data(j,c),l&&o.data(e,h.className)}else{if(p&&h.useNative.call(this,o)&&(o.attr("tagName")||"")!=="TEXTAREA"){n&&o.attr("placeholder",c);return}o.data(j,n?c:""),o.data(e,h.className),o.data(d,1);if((o.attr("type")||"")==="password"){var q=o.wrap("<span>").parent(),r=a(q.html().replace(/type=["']?password["']?/i,'type="text"'));r.data(j,o.data(j)),r.data(e,o.data(e)),r.data(d,1),r.attr("maxLength",c.length),r.focus(function(){a.watermark._hide(r,!0)}).bind("dragenter",function(){a.watermark._hide(r)}).bind("dragend",function(){b.setTimeout(function(){r.blur()},1)}),o.blur(function(){a.watermark._show(o)}).bind("dragleave",function(){a.watermark._show(o)}),r.data(i,o),o.data(i,r)}else o.focus(function(){o.data(f,1),a.watermark._hide(o,!0)}).blur(function(){o.data(f,0),a.watermark._show(o)}).bind("dragenter",function(){a.watermark._hide(o)}).bind("dragleave",function(){a.watermark._show(o)}).bind("dragend",function(){b.setTimeout(function(){a.watermark._show(o)},1)}).bind("drop",function(a){var b=o[0],c=a.originalEvent.dataTransfer.getData("Text");(b.value||"").replace(k,"").replace(c,"")===o.data(j)&&(b.value=c),o.focus()});if(this.form){var s=this.form,t=a(s);t.data(g)||(t.submit(a.watermark.hideAll),s.submit?(t.data(g,s.submit),s.submit=function(b,c){return function(){var d=c.data(g);a.watermark.hideAll(),d.apply?d.apply(b,Array.prototype.slice.call(arguments)):d()}}(s,t)):(t.data(g,1),s.submit=function(b){return function(){a.watermark.hideAll(),delete b.submit,b.submit()}}(s)))}}a.watermark._show(o)})},a.watermark.runOnce&&(a.watermark.runOnce=!1,a.extend(a.expr[":"],{data:function(b,c,d){return!!a.data(b,d[3])}}),function(b){a.fn.val=function(){if(!this.length)return arguments.length?this:c;if(!arguments.length){if(this.data(d)){var e=(this[0].value||"").replace(k,"");return e===(this.data(j)||"")?"":e}return b.apply(this,arguments)}return b.apply(this,arguments),a.watermark.show(this),this}}(a.fn.val),n.length&&a(function(){var c,d,e;for(c=n.length-1;c>=0;c--)d=n[c],e=b[d],typeof e=="function"&&(b[d]=function(b){return function(){return a.watermark.hideAll(),b.apply(null,Array.prototype.slice.call(arguments))}}(e))}),a(b).bind("beforeunload",function(){a.watermark.options.hideBeforeUnload&&a.watermark.hideAll()}))})(jQuery,window)
;function commonLoginCallback(a){a.isSuccess?($(".popupLoginLoading").css("display","none"),typeof loginSuccessCallback=="function"&&loginSuccessCallback()):$(".popupLoginLoading").css("display","none")}function setupHeaderAccountMenu(){$(".signin").click(function(a){a.preventDefault(),$("#signin_menu").toggle(),$(".signin").toggleClass("menu-open")}),$("#signin_menu").mouseup(function(){return!1}),$(document).mouseup(function(a){$(a.target).parent("a.signin").length==0&&($(".signin").removeClass("menu-open"),$("#signin_menu").hide()),$(a.target).parent("a.acemail").length==0&&$("#account_menu").hide()});var a=!1;$(".acemail").click(function(b){b.preventDefault(),angular.element('div[ng-controller="HelperCtrl"]').scope().ShowDlgLogin(function(b){b.LoggedIn&&($("#account_menu").load("/common/HeaderUserSubMenuBeta",{},function(){a=!0}),window.advanceSearchModel&&advanceSearchModel.isLoading(!1))}),$("#account_menu").toggle(),$(".acc_ico").toggleClass("menu-open"),$(".search-div").hide()}),$("#account_menu").mouseup(function(){return!1})}function updateLoginStatus(){var a=new Date;$("#accountmanager").load("/account/loginform?"+a.getTime(),function(){setupHeaderAccountMenu()}),typeof updateFavouriteRestaurantStatus!="undefined"&&updateFavouriteRestaurantStatus(),typeof updateRestaurantCheckedInStatus!="undefined"&&updateRestaurantCheckedInStatus(),typeof errorReport!="undefined"&&errorReport!=null&&errorReport.InitWithLogined(),typeof bindReviewReportErrorWithLogined!="undefined"&&bindReviewReportErrorWithLogined(),typeof updateFriendStatus!="undefined"&&updateFriendStatus(),typeof updateRestaurantSummaryCanView!="undefined"&&updateRestaurantSummaryCanView()}function login(a,b,c,d,e){typeof d=="function"&&(e=d,d=""),$.post(routeConfig.account.loginUrl,{email:a,password:b,rememberMe:c,reCaptchaResponse:d},function(a){a.isSuccess?updateLoginStatus():a.message=="inactive"?window.location="/khoa-tai-khoan":alert(a.message),typeof e=="function"&&e(a)})}function SocialAction(){var a=this;a.addFriend=function(a){var b=a.UserID,c={friendid:b};$.post("/friend/addfriend?nonHtml=true",c,function(b){if(b.success)a.FriendStatusId(parseInt(b.html));else switch(b.errorType){case 1:loginSuccessCallback=function(){$.modal.close(),window.location=window.location.href},LoginPopup.Show();break;default:}})},a.cancelAddFriend=function(a){var b=a.UserID,c={friendid:b};$.post("/friend/canceladdfriend?nonHtml=true",c,function(b){b.success&&a.FriendStatusId(parseInt(b.html))})},a.acceptFriendRequest=function(a){var b=a.UserID,c={friendid:b};$.post("/friend/acceptaddfriend?nonHtml=true",c,function(b){b.success&&a.FriendStatusId(parseInt(b.html))})},a.removeFriend=function(a){if(confirm("Bạn thực sự muốn hủy kết bạn?")){var b=a.UserID,c={friendid:b};$.post("/friend/removefriend?nonHtml=true",c,function(b){b.success&&a.FriendStatusId(parseInt(b.html))})}},a.follow=function(a,b){angular.element('div[ng-controller="HelperCtrl"]').scope().ShowDlgLogin(function(c){c.LoggedIn&&$.ajax({type:"POST",url:"/follow/"+a.UserID,data:{},success:function(a){b(a)},dataType:"json"})})}}function LinkToFacebook(a){var b=640,c=450,d=screen.width/2-b/2,e=screen.height/2-c/2,f=window.open("/Account/Link?provider=facebook","socialauthlink","height="+c+",width="+b+", scrollbars=no, top = "+e+", left="+d,!0);linkFacebookSuccessCallback=a}function CalculatingReviewPostedTime(){$('.address[itemprop="datePublished"]').each(function(){calculatingPostedTime(currentTimeStamp,this)}),timerCalculator||(timerCalculator=setInterval(function(){UpdatePostedTime(10)},1e4))}function UpdatePostedTime(a){IncreaseCurrentTimeStamp(a),$(".address").each(function(){calculatingPostedTime(currentTimeStamp,this)})}function IncreaseCurrentTimeStamp(a){currentTimeStamp+=a}function calculatingPostedTime(a,b){var c=parseInt($(b).attr("data-utime")),d=getDiffTimeString(a-c);d==0||d==""?$(b).text($(b).attr("title")):($(b).text(d),$(b).fadeIn())}function getDiffTimeString(a){var b="";return a<60?b=CommonText.PostedTime_AFewSecondsAgo:a<120?b=CommonText.PostedTime_About1MinuteAgo:a<3600?b=Math.floor(a/60)+" "+CommonText.PostedTime_MinutesAgo:a<7200?b=CommonText.PostedTime_About1HourAgo:a<86400&&(b=Math.floor(a/3600)+" "+CommonText.PostedTime_HoursAgo),b}function bindPostedTime(a){var b=$('div[reviewid="'+a+'"] .address');b.length==0&&(b=$('div[checkinid="'+a+'"] .address')),calculatingPostedTime(currentTimeStamp,b)}function bindCommentPostedTime(a){$("#commentBox_"+a+" span.address").each(function(){calculatingPostedTime(currentTimeStamp,this)})}function parseLocalNum(a){return a?(a+="",a.replace(",",".")):"0"}function isNumberKey(a){var b=a.which?a.which:event.keyCode;return b>31&&(b<48||b>57)?!1:!0}function iRemovePriceMin(){var a=document.getElementById("PriceMin");a.value=a.value.replace(".",""),a.value=a.value.replace(",","")}function iRemovePriceMax(){var a=document.getElementById("PriceMax");a.value=a.value.replace(".",""),a.value=a.value.replace(",","")}function getCurrentEmail(){var a=new Date;advanceSearchModel.isLoading(!0),$.get("/account/getcurrentemail?t="+a.getTime(),function(a){a.success&&advanceSearchModel.email(a.data),advanceSearchModel.isLoading(!1)})}function openFacebookFriends(){if($("#facebookFriendsPopup").length==0){$("#facebookFriendsPopupContainer").load("/common/facebookfriendspopup",function(){openFacebookFriends()});return}$("#facebookFriendsPopup").modal({persist:!0}),$("#simplemodal-container").css("height","310px"),$("#simplemodal-container").css("width","600px"),$(window).resize();var a=new Date;$("#facebookFriendsPopup.loading").show(),$.get("/account/GetFacebookFriends?t="+a.getTime(),function(a){a.success&&($("#facebookFriendsPopup .loading").hide(),$("#facebookFriendsPopup .content").html(a.html))})}function checkHideOrShowAdds(){$("#add-buttons").hover(function(){add_mouse_is_inside=!0},function(){add_mouse_is_inside=!1}),$(".nav-add-buttons").hover(function(){add_mouse_is_inside=!0},function(){add_mouse_is_inside=!1}),$("body").mouseup(function(){add_mouse_is_inside||($("#add-buttons").hide(),$("#add-buttons span.arrow").hide())})}var foody={};foody.utls={},foody.utls.mobile={android:function(){return navigator.userAgent.match(/Android/i)},blackBerry:function(){return navigator.userAgent.match(/BlackBerry/i)},iOS:function(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)},opera:function(){return navigator.userAgent.match(/Opera Mini/i)},windows:function(){return navigator.userAgent.match(/IEMobile/i)},any:function(){return foody.utls.mobile.android()||foody.utls.mobile.blackBerry()||foody.utls.mobile.iOS()||foody.utls.mobile.opera()||foody.utls.mobile.windows()}},$(function(){setupHeaderAccountMenu();var a=!1,b=!1;$("#head-province>.rn-nav-name,#allLocationPopupContent").on("mouseover",function(){b=!0}),$("#head-province>.rn-nav-name,#allLocationPopupContent").on("mouseout",function(){b=!1}),$("body").on("click",function(){b==0&&$("#allLocationPopupContent").hide()}),$(document).on("click","#head-province",function(){$("#allLocationPopupContent").toggle(),a||$("#allLocationPopupContent").load("/common/AllLocationPopup",{},function(){a=!0})}),$("#popupLoginForm").live("submit",function(a){a.preventDefault();var b=$("#Email",this),c=$("#Password",this),d=$("#RememberMe",this),e="";$.trim(b.val())==""&&(e+=ErrorText.Input_Email,b.focus()),$.trim(c.val())==""&&(e==""?(e+=ErrorText.Input_Password,c.focus()):e+="\n"+ErrorText.Input_Password),e!=""?alert(e):($(".popupLoginLoading").css("display","block"),login(b.val(),c.val(),d.val(),commonLoginCallback))}),$(".home-suggest-more a").click(function(){angular.element('div[ng-controller="HelperCtrl"]').scope().ShowDlgLogin(function(a){a.LoggedIn&&UpdateProfileModel.loadUpdateProfilePopup()})}),$(".join-foody").click(function(){LoginPopup.Show(function(){$.modal.close(),$(".join-foody").parent().hide()})})});var linkFacebookSuccessCallback,currentTimeStamp,timerCalculator;$("#update-profile-link").live("click",function(){UpdateProfileModel.loadUpdateProfilePopup()}),$(function(){$(".advanceSearch").click(function(){$("#advanceSearchPopup").modal({persist:!0});var a=new Date;advanceSearchModel.isLoading(!0),advanceSearchModel.reset(),angular.element('div[ng-controller="HelperCtrl"]').scope().ShowDlgLogin(function(a){a.LoggedIn&&window.advanceSearchModel&&advanceSearchModel.isLoading(!1)}),getCurrentEmail()}),$("#advanceSearchDiv").length>0&&(advanceSearchModel=new AdvanceSearchModel,ko.applyBindings(advanceSearchModel,document.getElementById("advanceSearchDiv")))});var advanceSearchModel=null,AdvanceSearchModel=function(a){var b=this;b.purpose=ko.observable(""),b.areas=ko.observable(""),b.time=ko.observable(""),b.people=ko.observable(""),b.price=ko.observable(""),b.more=ko.observable(""),b.phone=ko.observable(""),b.email=ko.observable(""),b.isSubscribe=ko.observable(!0),b.isPublic=ko.observable(!0),b.isLoading=ko.observable(!1),b.post=function(){!b.isposting()&&b.isValidForm()&&(b.isposting(!0),$.ajax({type:"POST",url:"/Directory/AddAdvanceSearch",data:ko.mapping.toJSON(b),success:function(a){a.success?b.requestSuccess(!0):b.hasError(!0),b.isposting(!1)},dataType:"json",contentType:"application/json"}))},b.isposting=ko.observable(!1),b.requestSuccess=ko.observable(!1),b.hasError=ko.observable(!1),b.reset=function(){b.purpose(""),b.areas(""),b.time(""),b.people(""),b.price(""),b.more(""),b.phone(""),b.isSubscribe=ko.observable(!0),b.isPublic=ko.observable(!0),b.requestSuccess(!1),b.hasError(!1)},b.close=function(){$.modal.close()},b.isValidEmail=ko.computed(function(){return/^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}$/.test(b.email())?!0:!1}),b.isValidForm=function(){return b.isValidEmail()&&$.trim(b.purpose())!=""&&$.trim(b.areas())!=""&&$.trim(b.time())!=""&&$.trim(b.people())!=""&&$.trim(b.price())!=""&&$.trim(b.phone())!=""}};$(".nav-add-buttons").live("click",function(){$("#add-buttons").is(":visible")?($("#add-buttons").hide(),$("#add-buttons span.arrow").hide()):($("#add-buttons").show(),$("#add-buttons span.arrow").show())});var add_mouse_is_inside=!1;$(function(){checkHideOrShowAdds()}),Number.prototype.format=function a(a){return this._toFormattedString(a)},Number.prototype.formatK=function b(a){var b=this,c,d,e=["k","M","G","T","P","E"];return window.isNaN(b)?null:b<1e3?b:(c=Math.floor(Math.log(b)/Math.log(1e3)),(b/Math.pow(1e3,c)).toFixed(a)+e[c-1])},Number.prototype.formatPoint=function(){var a=this;return a*=1,window.isNaN(a)?"":a>=10?"10":a>0?a.format("n1"):"_._"},Number.prototype._toFormattedString=function d(a){function g(a,b,c){for(var d=a.length;d<b;d++)a=c?"0"+a:a+"0";return a}function h(a,b,c,d,e){var f=c[0],h=1,i=Math.pow(10,b),j=Math.round(a*i)/i;isFinite(j)||(j=a),a=j;var k=a.toString(),l="",m,n=k.split(/e/i);k=n[0],m=n.length>1?parseInt(n[1]):0,n=k.split("."),k=n[0],l=n.length>1?n[1]:"";var o;m>0?(l=g(l,m,!1),k+=l.slice(0,m),l=l.substr(m)):m<0&&(m=-m,k=g(k,m+1,!0),l=k.slice(-m,k.length)+l,k=k.slice(0,-m)),b>0?(l.length>b?l=l.slice(0,b):l=g(l,b,!1),l=e+l):l="";var p=k.length-1,q="";while(p>=0){if(f===0||f>p)return q.length>0?k.slice(0,p+1)+d+q+l:k.slice(0,p+1)+l;q.length>0?q=k.slice(p-f+1,p+1)+d+q:q=k.slice(p-f+1,p+1),p-=f,h<c.length&&(f=c[h],h++)}return k.slice(0,p+1)+d+q+l}if(!a||a.length===0||a==="i")return this.toString();var b=["n %","n%","%n"],c=["-n %","-n%","-%n"],d=["(n)","-n","- n","n-","n -"],e=["$n","n$","$ n","n $"],f=["($n)","-$n","$-n","$n-","(n$)","-n$","n-$","n$-","-n $","-$ n","n $-","$ n-","$ -n","n- $","($ n)","(n $)"],i={CurrencyDecimalDigits:2,CurrencyDecimalSeparator:".",IsReadOnly:!0,CurrencyGroupSizes:[3],NumberGroupSizes:[3],PercentGroupSizes:[3],CurrencyGroupSeparator:",",CurrencySymbol:"¤",NaNSymbol:"NaN",CurrencyNegativePattern:0,NumberNegativePattern:1,PercentPositivePattern:0,PercentNegativePattern:0,NegativeInfinitySymbol:"-Infinity",NegativeSign:"-",NumberDecimalDigits:2,NumberDecimalSeparator:".",NumberGroupSeparator:",",CurrencyPositivePattern:0,PositiveInfinitySymbol:"Infinity",PositiveSign:"+",PercentDecimalDigits:2,PercentDecimalSeparator:".",PercentGroupSeparator:",",PercentSymbol:"%",PerMilleSymbol:"‰",NativeDigits:["0","1","2","3","4","5","6","7","8","9"],DigitSubstitution:1},j=Math.abs(this);a||(a="D");var k=-1;a.length>1&&(k=parseInt(a.slice(1),10));var l;switch(a[0]){case"d":case"D":l="n",k!==-1&&(j=g(""+j,k,!0)),this<0&&(j=-j);break;case"c":case"C":this<0?l=f[i.CurrencyNegativePattern]:l=e[i.CurrencyPositivePattern],k===-1&&(k=i.CurrencyDecimalDigits),j=h(Math.abs(this),k,i.CurrencyGroupSizes,i.CurrencyGroupSeparator,i.CurrencyDecimalSeparator);break;case"n":case"N":this<0?l=d[i.NumberNegativePattern]:l="n",k===-1&&(k=i.NumberDecimalDigits),j=h(Math.abs(this),k,i.NumberGroupSizes,i.NumberGroupSeparator,i.NumberDecimalSeparator);break;case"p":case"P":this<0?l=c[i.PercentNegativePattern]:l=b[i.PercentPositivePattern],k===-1&&(k=i.PercentDecimalDigits),j=h(Math.abs(this)*100,k,i.PercentGroupSizes,i.PercentGroupSeparator,i.PercentDecimalSeparator);break;default:throw"Invalid format string!"}var m=/n|\$|-|%/g,n="";for(;;){var o=m.lastIndex,p=m.exec(l);n+=l.slice(o,p?p.index:l.length);if(!p)break;switch(p[0]){case"n":n+=j;break;case"$":n+=i.CurrencySymbol;break;case"-":/[1-9]/.test(j)&&(n+=i.NegativeSign);break;case"%":n+=i.PercentSymbol}}return n},$(function(){function b(){window.location.href=a}$(".btn-show-all-annual-points").hover(function(){var a=this;if(!$(a).parent().find(".dropdown").length){var b=$(a).data("user-id");if(b>0){var c={userId:b};$.ajax({url:"/Reward/GetHtmlAllAnnualPointsByUser",data:JSON.stringify(c),type:"POST",contentType:"application/json",success:function(b){(b.Message==null||b.Message=="")&&b.Result!=null&&b.Result!=""&&($(a).parent().append(b.Result),$(a).parent().find(".dropdown").show())}})}}else $(a).parent().find(".dropdown").show()});var a;$("#btn-personal-suggestion-link").click(function(c){c.preventDefault();var d=this;return a=$(d).attr("href"),angular.element('div[ng-controller="HelperCtrl"]').scope().ShowDlgLogin(function(a){a.LoggedIn&&b()}),!1})});var guid=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(a){var b=Math.random()*16|0,c=a=="x"?b:b&3|8;return c.toString(16)})};$("body").bind("copy",function(a){var b=a.target;if(b.type!="text"&&b.type!="textarea"){if(typeof window.getSelection=="undefined")return;var c=document.getElementsByTagName("body")[0],d=window.getSelection();if((""+d).length<20)return;var e=document.createElement("div");e.style.position="absolute",e.style.left="-99999px",c.appendChild(e),e.appendChild(d.getRangeAt(0).cloneContents()),d.getRangeAt(0).commonAncestorContainer.nodeName=="PRE"?e.innerHTML="<pre>"+e.innerHTML+"</pre><br />"+CommonText.Source+": <a href='"+document.location.href+"' title='"+document.title+"'>"+document.location.href+"</a>":e.innerHTML+="<br /><br />"+CommonText.Source+": <a href='"+document.location.href+"' title='"+document.title+"'>"+document.location.href+"</a>",d.selectAllChildren(e),window.setTimeout(function(){c.removeChild(e)},200)}})
;(function(a){a.fn.extend({dropdown:function(b){return getSelectedValue=function(b){return a("#"+b).find("dt a span.value").html()},a(document).bind("click",function(b){var c=a(b.target);c.parents("dl").data("dropdown")!="true"&&a("dd ul").hide()}),this.each(function(){var c=this;c.options=b,a(document).height()<=a(c).offset().top+315&&a("dd",c).css("bottom","10px"),a(c).data("dropdown","true"),a("dt a",c).click(function(){a("dd ul:visible",c).length>0?(a("dd ul",c).hide(),typeof c.options.onHide=="function"&&c.options.onHide(a("dd ul",c))):(a("dd ul",c).show(),typeof c.options.onShow=="function"&&c.options.onShow(a("dd ul",c)))})})}})})(jQuery)
;(function(a,b,c){(function(a){"use strict",typeof define=="function"&&define.amd?define(["jquery"],a):jQuery&&!jQuery.fn.qtip&&a(jQuery)})(function(d){function I(a){var b=function(a){return a===g||"object"!=typeof a},c=function(a){return!d.isFunction(a)&&(!a&&!a.attr||a.length<1||"object"==typeof a&&!a.jquery)};if(!a||"object"!=typeof a)return f;b(a.metadata)&&(a.metadata={type:a.metadata});if("content"in a){if(b(a.content)||a.content.jquery)a.content={text:a.content};c(a.content.text||f)&&(a.content.text=f),"title"in a.content&&(b(a.content.title)&&(a.content.title={text:a.content.title}),c(a.content.title.text||f)&&(a.content.title.text=f))}return"position"in a&&b(a.position)&&(a.position={my:a.position,at:a.position}),"show"in a&&b(a.show)&&(a.show=a.show.jquery?{target:a.show}:{event:a.show}),"hide"in a&&b(a.hide)&&(a.hide=a.hide.jquery?{target:a.hide}:{event:a.hide}),"style"in a&&b(a.style)&&(a.style={classes:a.style}),d.each(u,function(){this.sanitize&&this.sanitize(a)}),a}function J(h,i,q,r){function Q(a){var b=0,c,d=i,e=a.split(".");while(d=d[e[b++]])b<e.length&&(c=d);return[c||i,e.pop()]}function R(a,b,c){var e=d.Event("tooltip"+a);return e.originalEvent=(c?d.extend({},c):g)||P.event||g,M.trigger(e,[s].concat(b||[])),!e.isDefaultPrevented()}function S(){var a=i.style.widget;M.toggleClass("ui-helper-reset "+y,a).toggleClass(B,i.style.def&&!a),O.content&&O.content.toggleClass(y+"-content",a),O.titlebar&&O.titlebar.toggleClass(y+"-header",a),O.button&&O.button.toggleClass(x+"-icon",!a)}function T(a){O.title&&(O.titlebar.remove(),O.titlebar=O.title=O.button=g,a!==f&&s.reposition())}function U(){var a=i.content.title.button,b=typeof a=="string",c=b?a:"Close tooltip";O.button&&O.button.remove(),a.jquery?O.button=a:O.button=d("<a />",{"class":"ui-state-default ui-tooltip-close "+(i.style.widget?"":x+"-icon"),title:c,"aria-label":c}).prepend(d("<span />",{"class":"ui-icon ui-icon-close",html:"&times;"})),O.button.appendTo(O.titlebar).attr("role","button").click(function(a){return M.hasClass(z)||s.hide(a),f}),s.redraw()}function V(){var a=J+"-title";O.titlebar&&T(),O.titlebar=d("<div />",{"class":x+"-titlebar "+(i.style.widget?"ui-widget-header":"")}).append(O.title=d("<div />",{id:a,"class":x+"-title","aria-atomic":e})).insertBefore(O.content).delegate(".ui-tooltip-close","mousedown keydown mouseup keyup mouseout",function(a){d(this).toggleClass("ui-state-active ui-state-focus",a.type.substr(-4)==="down")}).delegate(".ui-tooltip-close","mouseover mouseout",function(a){d(this).toggleClass("ui-state-hover",a.type==="mouseover")}),i.content.title.button?U():s.rendered&&s.redraw()}function W(a){var b=O.button,c=O.title;if(!s.rendered)return f;a?(c||V(),U()):b.remove()}function X(a,b){var c=O.title;if(!s.rendered||!a)return f;d.isFunction(a)&&(a=a.call(h,P.event,s));if(a===f||!a&&a!=="")return T(f);a.jquery&&a.length>0?c.empty().append(a.css({display:"block"})):c.html(a),s.redraw(),b!==f&&s.rendered&&M[0].offsetWidth>0&&s.reposition(P.event)}function Y(a,b){function g(a){function i(c){c&&(delete h[c.src],clearTimeout(s.timers.img[c.src]),d(c).unbind(N)),d.isEmptyObject(h)&&(s.redraw(),b!==f&&s.reposition(P.event),a())}var g,h={};if((g=e.find("img[src]:not([height]):not([width])")).length===0)return i();g.each(function(a,b){if(h[b.src]!==c)return;var e=0,f=3;(function g(){if(b.height||b.width||e>f)return i(b);e+=1,s.timers.img[b.src]=setTimeout(g,700)})(),d(b).bind("error"+N+" load"+N,function(){i(this)}),h[b.src]=b})}var e=O.content;return!s.rendered||!a?f:(d.isFunction(a)&&(a=a.call(h,P.event,s)||""),a.jquery&&a.length>0?e.empty().append(a.css({display:"block"})):e.html(a),s.rendered<0?M.queue("fx",g):(L=0,g(d.noop)),s)}function Z(){function l(a){if(M.hasClass(z))return f;clearTimeout(s.timers.show),clearTimeout(s.timers.hide);var b=function(){s.toggle(e,a)};i.show.delay>0?s.timers.show=setTimeout(b,i.show.delay):b()}function m(a){if(M.hasClass(z)||K||L)return f;var b=d(a.relatedTarget||a.target),e=b.closest(A)[0]===M[0],h=b[0]===g.show[0];clearTimeout(s.timers.show),clearTimeout(s.timers.hide);if(c.target==="mouse"&&e||i.hide.fixed&&/mouse(out|leave|move)/.test(a.type)&&(e||h)){try{a.preventDefault(),a.stopImmediatePropagation()}catch(j){}return}i.hide.delay>0?s.timers.hide=setTimeout(function(){s.hide(a)},i.hide.delay):s.hide(a)}function n(a){if(M.hasClass(z))return f;clearTimeout(s.timers.inactive),s.timers.inactive=setTimeout(function(){s.hide(a)},i.hide.inactive)}function o(a){s.rendered&&M[0].offsetWidth>0&&s.reposition(a)}var c=i.position,g={show:i.show.target,hide:i.hide.target,viewport:d(c.viewport),document:d(b),body:d(b.body),window:d(a)},j={show:d.trim(""+i.show.event).split(" "),hide:d.trim(""+i.hide.event).split(" ")},k=d.browser.msie&&parseInt(d.browser.version,10)===6;M.bind("mouseenter"+N+" mouseleave"+N,function(a){var b=a.type==="mouseenter";b&&s.focus(a),M.toggleClass(D,b)}),/mouse(out|leave)/i.test(i.hide.event)&&i.hide.leave==="window"&&g.window.bind("mouseout"+N+" blur"+N,function(a){!/select|option/.test(a.target.nodeName)&&!a.relatedTarget&&s.hide(a)}),i.hide.fixed?(g.hide=g.hide.add(M),M.bind("mouseover"+N,function(){M.hasClass(z)||clearTimeout(s.timers.hide)})):/mouse(over|enter)/i.test(i.show.event)&&g.hide.bind("mouseleave"+N,function(a){clearTimeout(s.timers.show)}),(""+i.hide.event).indexOf("unfocus")>-1&&c.container.closest("html").bind("mousedown"+N,function(a){var b=d(a.target),c=s.rendered&&!M.hasClass(z)&&M[0].offsetWidth>0,e=b.parents(A).filter(M[0]).length>0;b[0]!==h[0]&&b[0]!==M[0]&&!e&&!h.has(b[0]).length&&!b.attr("disabled")&&s.hide(a)}),"number"==typeof i.hide.inactive&&(g.show.bind("qtip-"+q+"-inactive",n),d.each(t.inactiveEvents,function(a,b){g.hide.add(O.tooltip).bind(b+N+"-inactive",n)})),d.each(j.hide,function(a,b){var c=d.inArray(b,j.show),e=d(g.hide);c>-1&&e.add(g.show).length===e.length||b==="unfocus"?(g.show.bind(b+N,function(a){M[0].offsetWidth>0?m(a):l(a)}),delete j.show[c]):g.hide.bind(b+N,m)}),d.each(j.show,function(a,b){g.show.bind(b+N,l)}),"number"==typeof i.hide.distance&&g.show.add(M).bind("mousemove"+N,function(a){var b=P.origin||{},c=i.hide.distance,d=Math.abs;(d(a.pageX-b.pageX)>=c||d(a.pageY-b.pageY)>=c)&&s.hide(a)}),c.target==="mouse"&&(g.show.bind("mousemove"+N,function(a){v={pageX:a.pageX,pageY:a.pageY,type:"mousemove"}}),c.adjust.mouse&&(i.hide.event&&(M.bind("mouseleave"+N,function(a){(a.relatedTarget||a.target)!==g.show[0]&&s.hide(a)}),O.target.bind("mouseenter"+N+" mouseleave"+N,function(a){P.onTarget=a.type==="mouseenter"})),g.document.bind("mousemove"+N,function(a){s.rendered&&P.onTarget&&!M.hasClass(z)&&M[0].offsetWidth>0&&s.reposition(a||v)}))),(c.adjust.resize||g.viewport.length)&&(d.event.special.resize?g.viewport:g.window).bind("resize"+N,o),(g.viewport.length||k&&M.css("position")==="fixed")&&g.viewport.bind("scroll"+N,o)}function _(){var c=[i.show.target[0],i.hide.target[0],s.rendered&&O.tooltip[0],i.position.container[0],i.position.viewport[0],i.position.container.closest("html")[0],a,b];s.rendered?d([]).pushStack(d.grep(c,function(a){return typeof a=="object"})).unbind(N):i.show.target.unbind(N+"-create")}var s=this,E=b.body,J=x+"-"+q,K=0,L=0,M=d(),N=".qtip-"+q,O,P;s.id=q,s.rendered=f,s.destroyed=f,s.elements=O={target:h},s.timers={img:{}},s.options=i,s.checks={},s.plugins={},s.cache=P={event:{},target:d(),disabled:f,attr:r,onTarget:f,lastClass:""},s.checks.builtin={"^id$":function(a,b,c){var g=c===e?t.nextid:c,h=x+"-"+g;g!==f&&g.length>0&&!d("#"+h).length&&(M[0].id=h,O.content[0].id=h+"-content",O.title[0].id=h+"-title")},"^content.text$":function(a,b,c){Y(c)},"^content.title.text$":function(a,b,c){if(!c)return T();!O.title&&c&&V(),X(c)},"^content.title.button$":function(a,b,c){W(c)},"^position.(my|at)$":function(a,b,c){"string"==typeof c&&(a[b]=new u.Corner(c))},"^position.container$":function(a,b,c){s.rendered&&M.appendTo(c)},"^show.ready$":function(){s.rendered?s.toggle(e):s.render(1)},"^style.classes$":function(a,b,c){M.attr("class",x+" qtip "+c)},"^style.widget|content.title":S,"^events.(render|show|move|hide|focus|blur)$":function(a,b,c){M[(d.isFunction(c)?"":"un")+"bind"]("tooltip"+b,c)},"^(show|hide|position).(event|target|fixed|inactive|leave|distance|viewport|adjust)":function(){var a=i.position;M.attr("tracking",a.target==="mouse"&&a.adjust.mouse),_(),Z()}},d.extend(s,{render:function(a){if(s.rendered)return s;var b=i.content.text,c=i.content.title.text,g=i.position;return d.attr(h[0],"aria-describedby",J),M=O.tooltip=d("<div/>",{id:J,"class":x+" qtip "+B+" "+i.style.classes+" "+x+"-pos-"+i.position.my.abbrev(),width:i.style.width||"",height:i.style.height||"",tracking:g.target==="mouse"&&g.adjust.mouse,role:"alert","aria-live":"polite","aria-atomic":f,"aria-describedby":J+"-content","aria-hidden":e}).toggleClass(z,P.disabled).data("qtip",s).appendTo(i.position.container).append(O.content=d("<div />",{"class":x+"-content",id:J+"-content","aria-atomic":e})),s.rendered=-1,L=1,K=1,c&&(V(),d.isFunction(c)||X(c,f)),d.isFunction(b)||Y(b,f),s.rendered=e,S(),d.each(i.events,function(a,b){d.isFunction(b)&&M.bind(a==="toggle"?"tooltipshow tooltiphide":"tooltip"+a,b)}),d.each(u,function(){this.initialize==="render"&&this(s)}),Z(),M.queue("fx",function(b){R("render"),L=0,K=0,s.redraw(),(i.show.ready||a)&&s.toggle(e,P.event,f),b()}),s},get:function(a){var b,c;switch(a.toLowerCase()){case"dimensions":b={height:M.outerHeight(),width:M.outerWidth()};break;case"offset":b=u.offset(M,i.position.container);break;default:c=Q(a.toLowerCase()),b=c[0][c[1]],b=b.precedance?b.string():b}return b},set:function(a,b){function n(a,b){var c,d,e;for(c in l)for(d in l[c])if(e=(new RegExp(d,"i")).exec(a))b.push(e),l[c][d].apply(s,b)}var c=/^position\.(my|at|adjust|target|container)|style|content|show\.ready/i,h=/^content\.(title|attr)|style/i,j=f,k=f,l=s.checks,m;return"string"==typeof a?(m=a,a={},a[m]=b):a=d.extend(e,{},a),d.each(a,function(b,e){var f=Q(b.toLowerCase()),g;g=f[0][f[1]],f[0][f[1]]="object"==typeof e&&e.nodeType?d(e):e,a[b]=[f[0],f[1],e,g],j=c.test(b)||j,k=h.test(b)||k}),I(i),K=L=1,d.each(a,n),K=L=0,s.rendered&&M[0].offsetWidth>0&&(j&&s.reposition(i.position.target==="mouse"?g:P.event),k&&s.redraw()),s},toggle:function(a,c){function t(){a?(d.browser.msie&&M[0].style.removeAttribute("filter"),M.css("overflow",""),"string"==typeof h.autofocus&&d(h.autofocus,M).focus(),h.target.trigger("qtip-"+q+"-inactive")):M.css({display:"",visibility:"",opacity:"",left:"",top:""}),R(a?"visible":"hidden")}if(!s.rendered)return a?s.render(1):s;var g=a?"show":"hide",h=i[g],j=i[a?"hide":"show"],k=i.position,l=i.content,m=M[0].offsetWidth>0,n=a||h.target.length===1,o=!c||h.target.length<2||P.target[0]===c.target,p,r;(typeof a).search("boolean|number")&&(a=!m);if(!M.is(":animated")&&m===a&&o)return s;if(c){if(/over|enter/.test(c.type)&&/out|leave/.test(P.event.type)&&i.show.target.add(c.target).length===i.show.target.length&&M.has(c.relatedTarget).length)return s;P.event=d.extend({},c)}return R(g,[90])?(d.attr(M[0],"aria-hidden",!a),a?(P.origin=d.extend({},v),s.focus(c),d.isFunction(l.text)&&Y(l.text,f),d.isFunction(l.title.text)&&X(l.title.text,f),!G&&k.target==="mouse"&&k.adjust.mouse&&(d(b).bind("mousemove.qtip",function(a){v={pageX:a.pageX,pageY:a.pageY,type:"mousemove"}}),G=e),s.reposition(c,arguments[2]),!h.solo||d(A,h.solo).not(M).qtip("hide",d.Event("tooltipsolo"))):(clearTimeout(s.timers.show),delete P.origin,G&&!d(A+'[tracking="true"]:visible',h.solo).not(M).length&&(d(b).unbind("mousemove.qtip"),G=f),s.blur(c)),h.effect===f||n===f?(M[g](),t.call(M)):d.isFunction(h.effect)?(M.stop(1,1),h.effect.call(M,s),M.queue("fx",function(a){t(),a()})):M.fadeTo(90,a?1:0,t),a&&h.target.trigger("qtip-"+q+"-inactive"),s):s},show:function(a){return s.toggle(e,a)},hide:function(a){return s.toggle(f,a)},focus:function(a){if(!s.rendered)return s;var b=d(A),c=parseInt(M[0].style.zIndex,10),e=t.zindex+b.length,f=d.extend({},a),g;return M.hasClass(C)||R("focus",[e],f)&&(c!==e&&(b.each(function(){this.style.zIndex>c&&(this.style.zIndex=this.style.zIndex-1)}),b.filter("."+C).qtip("blur",f)),M.addClass(C)[0].style.zIndex=e),s},blur:function(a){return M.removeClass(C),R("blur",[M.css("zIndex")],a),s},reposition:function(c,e){if(!s.rendered||K)return s;K=1;var g=i.position.target,h=i.position,j=h.my,k=h.at,q=h.adjust,r=q.method.split(" "),t=M.outerWidth(),w=M.outerHeight(),x=0,y=0,z=M.css("position")==="fixed",A=h.viewport,B={left:0,top:0},C=h.container,D=M[0].offsetWidth>0,E,F,G;if(d.isArray(g)&&g.length===2)k={x:m,y:l},B={left:g[0],top:g[1]};else if(g==="mouse"&&(c&&c.pageX||P.event.pageX))k={x:m,y:l},c=(!c||c.type!=="resize"&&c.type!=="scroll"?c&&c.pageX&&c.type==="mousemove"?c:v&&v.pageX&&(q.mouse||!c||!c.pageX)?{pageX:v.pageX,pageY:v.pageY}:!q.mouse&&P.origin&&P.origin.pageX&&i.show.distance?P.origin:c:P.event)||c||P.event||v||{},B={top:c.pageY,left:c.pageX};else{g==="event"&&c&&c.target&&c.type!=="scroll"&&c.type!=="resize"?P.target=d(c.target):g!=="event"&&(P.target=d(g.jquery?g:O.target)),g=P.target,g=d(g).eq(0);if(g.length===0)return s;g[0]===b||g[0]===a?(x=u.iOS?a.innerWidth:g.width(),y=u.iOS?a.innerHeight:g.height(),g[0]===a&&(B={top:(A||g).scrollTop(),left:(A||g).scrollLeft()})):u.imagemap&&g.is("area")?E=u.imagemap(s,g,k,u.viewport?r:f):u.svg&&typeof g[0].xmlbase=="string"?E=u.svg(s,g,k,u.viewport?r:f):(x=g.outerWidth(),y=g.outerHeight(),B=u.offset(g,C)),E&&(x=E.width,y=E.height,F=E.offset,B=E.position);if(u.iOS>3.1&&u.iOS<4.1||u.iOS>=4.3&&u.iOS<4.33||!u.iOS&&z)G=d(a),B.left-=G.scrollLeft(),B.top-=G.scrollTop();B.left+=k.x===o?x:k.x===p?x/2:0,B.top+=k.y===n?y:k.y===p?y/2:0}return B.left+=q.x+(j.x===o?-t:j.x===p?-t/2:0),B.top+=q.y+(j.y===n?-w:j.y===p?-w/2:0),u.viewport?(B.adjusted=u.viewport(s,B,h,x,y,t,w),F&&B.adjusted.left&&(B.left+=F.left),F&&B.adjusted.top&&(B.top+=F.top)):B.adjusted={left:0,top:0},R("move",[B,A.elem||A],c)?(delete B.adjusted,e===f||!D||isNaN(B.left)||isNaN(B.top)||g==="mouse"||!d.isFunction(h.effect)?M.css(B):d.isFunction(h.effect)&&(h.effect.call(M,s,d.extend({},B)),M.queue(function(a){d(this).css({opacity:"",height:""}),d.browser.msie&&this.style.removeAttribute("filter"),a()})),K=0,s):s},redraw:function(){if(s.rendered<1||L)return s;var a=i.style,b=i.position.container,c,d,e,f;return L=1,R("redraw"),a.height&&M.css(k,a.height),a.width?M.css(j,a.width):(M.css(j,"").appendTo(H),d=M.width(),d%2<1&&(d+=1),e=M.css("max-width")||"",f=M.css("min-width")||"",c=(e+f).indexOf("%")>-1?b.width()/100:0,e=(e.indexOf("%")>-1?c:1)*parseInt(e,10)||d,f=(f.indexOf("%")>-1?c:1)*parseInt(f,10)||0,d=e+f?Math.min(Math.max(d,f),e):d,M.css(j,Math.round(d)).appendTo(b)),R("redrawn"),L=0,s},disable:function(a){return"boolean"!=typeof a&&(a=!M.hasClass(z)&&!P.disabled),s.rendered?(M.toggleClass(z,a),d.attr(M[0],"aria-disabled",a)):P.disabled=!!a,s},enable:function(){return s.disable(f)},destroy:function(){var a=h[0],b=d.attr(a,F),c=h.data("qtip");s.destroyed=e,s.rendered&&(M.stop(1,0).remove(),d.each(s.plugins,function(){this.destroy&&this.destroy()})),clearTimeout(s.timers.show),clearTimeout(s.timers.hide),_();if(!c||s===c)d.removeData(a,"qtip"),i.suppress&&b&&(d.attr(a,"title",b),h.removeAttr(F)),h.removeAttr("aria-describedby");return h.unbind(".qtip-"+q),delete w[s.id],h}})}function K(a,c){var h,i,j,k,l,m=d(this),n=d(b.body),o=this===b?n:m,p=m.metadata?m.metadata(c.metadata):g,q=c.metadata.type==="html5"&&p?p[c.metadata.name]:g,r=m.data(c.metadata.name||"qtipopts");try{r=typeof r=="string"?d.parseJSON(r):r}catch(s){}k=d.extend(e,{},t.defaults,c,typeof r=="object"?I(r):g,I(q||p)),i=k.position,k.id=a;if("boolean"==typeof k.content.text){j=m.attr(k.content.attr);if(k.content.attr!==f&&j)k.content.text=j;else return f}i.container.length||(i.container=n),i.target===f&&(i.target=o),k.show.target===f&&(k.show.target=o),k.show.solo===e&&(k.show.solo=i.container.closest("body")),k.hide.target===f&&(k.hide.target=o),k.position.viewport===e&&(k.position.viewport=i.container),i.container=i.container.eq(0),i.at=new u.Corner(i.at),i.my=new u.Corner(i.my);if(d.data(this,"qtip"))if(k.overwrite)m.qtip("destroy");else if(k.overwrite===f)return f;return k.suppress&&(l=d.attr(this,"title"))&&d(this).removeAttr("title").attr(F,l).attr("title",""),h=new J(m,k,a,!!j),d.data(this,"qtip",h),m.bind("remove.qtip-"+a+" removeqtip.qtip-"+a,function(){h.destroy()}),h}function L(a){var b=this,c=a.elements.tooltip,g=a.options.content.ajax,h=t.defaults.content.ajax,i=".qtip-ajax",j=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,k=e,l=f,m;a.checks.ajax={"^content.ajax":function(a,d,e){d==="ajax"&&(g=e),d==="once"?b.init():g&&g.url?b.load():c.unbind(i)}},d.extend(b,{init:function(){return g&&g.url&&c.unbind(i)[g.once?"one":"bind"]("tooltipshow"+i,b.load),b},load:function(c){function r(){var b;if(a.destroyed)return;k=f,p&&(l=e,a.show(c.originalEvent)),(b=h.complete||g.complete)&&d.isFunction(b)&&b.apply(g.context||a,arguments)}function s(b,c,e){var f;if(a.destroyed)return;o&&"string"==typeof b&&(b=d("<div/>").append(b.replace(j,"")).find(o)),(f=h.success||g.success)&&d.isFunction(f)?f.call(g.context||a,b,c,e):a.set("content.text",b)}function t(b,c,d){if(a.destroyed||b.status===0)return;a.set("content.text",c+": "+d)}if(l){l=f;return}var i=g.url.lastIndexOf(" "),n=g.url,o,p=!g.loading&&k;if(p)try{c.preventDefault()}catch(q){}else if(c&&c.isDefaultPrevented())return b;m&&m.abort&&m.abort(),i>-1&&(o=n.substr(i),n=n.substr(0,i)),m=d.ajax(d.extend({error:h.error||t,context:a},g,{url:n,success:s,complete:r}))},destroy:function(){m&&m.abort&&m.abort(),a.destroyed=e}}),b.init()}function M(a,b,c){var d=Math.ceil(b/2),e=Math.ceil(c/2),f={bottomright:[[0,0],[b,c],[b,0]],bottomleft:[[0,0],[b,0],[0,c]],topright:[[0,c],[b,0],[b,c]],topleft:[[0,0],[0,c],[b,c]],topcenter:[[0,c],[d,0],[b,c]],bottomcenter:[[0,0],[b,0],[d,c]],rightcenter:[[0,0],[b,e],[0,c]],leftcenter:[[b,0],[b,c],[0,e]]};return f.lefttop=f.bottomright,f.righttop=f.bottomleft,f.leftbottom=f.topright,f.rightbottom=f.topleft,f[a.string()]}function N(a,b){function D(a){var b=v.is(":visible");v.show(),a(),v.toggle(b)}function E(){x.width=r.height,x.height=r.width}function F(){x.width=r.width,x.height=r.height}function G(b,d,g,j){if(!t.tip)return;var k=q.corner.clone(),u=g.adjusted,v=a.options.position.adjust.method.split(" "),x=v[0],y=v[1]||v[0],z={left:f,top:f,x:0,y:0},A,B={},C;q.corner.fixed!==e&&(x===s&&k.precedance===h&&u.left&&k.y!==p?k.precedance=k.precedance===h?i:h:x!==s&&u.left&&(k.x=k.x===p?u.left>0?m:o:k.x===m?o:m),y===s&&k.precedance===i&&u.top&&k.x!==p?k.precedance=k.precedance===i?h:i:y!==s&&u.top&&(k.y=k.y===p?u.top>0?l:n:k.y===l?n:l),k.string()!==w.corner.string()&&(w.top!==u.top||w.left!==u.left)&&q.update(k,f)),A=q.position(k,u),A[k.x]+=I(k,k.x),A[k.y]+=I(k,k.y),A.right!==c&&(A.left=-A.right),A.bottom!==c&&(A.top=-A.bottom),A.user=Math.max(0,r.offset);if(z.left=x===s&&!!u.left)k.x===p?B["margin-left"]=z.x=A["margin-left"]-u.left:(C=A.right!==c?[u.left,-A.left]:[-u.left,A.left],(z.x=Math.max(C[0],C[1]))>C[0]&&(g.left-=u.left,z.left=f),B[A.right!==c?o:m]=z.x);if(z.top=y===s&&!!u.top)k.y===p?B["margin-top"]=z.y=A["margin-top"]-u.top:(C=A.bottom!==c?[u.top,-A.top]:[-u.top,A.top],(z.y=Math.max(C[0],C[1]))>C[0]&&(g.top-=u.top,z.top=f),B[A.bottom!==c?n:l]=z.y);t.tip.css(B).toggle(!(z.x&&z.y||k.x===p&&z.y||k.y===p&&z.x)),g.left-=A.left.charAt?A.user:x!==s||z.top||!z.left&&!z.top?A.left:0,g.top-=A.top.charAt?A.user:y!==s||z.left||!z.left&&!z.top?A.top:0,w.left=u.left,w.top=u.top,w.corner=k.clone()}function H(){var b=r.corner,c=a.options.position,d=c.at,g=c.my.string?c.my.string():c.my;return b===f||g===f&&d===f?f:(b===e?q.corner=new u.Corner(g):b.string||(q.corner=new u.Corner(b),q.corner.fixed=e),w.corner=new u.Corner(q.corner.string()),q.corner.string()!=="centercenter")}function I(a,b,c){b=b?b:a[a.precedance];var d=t.titlebar&&a.y===l,e=d?t.titlebar:v,f="border-"+b+"-width",g=function(a){return parseInt(a.css(f),10)},h;return D(function(){h=(c?g(c):g(t.content)||g(e)||g(v))||0}),h}function J(a){var b=t.titlebar&&a.y===l,c=b?t.titlebar:t.content,e=d.browser.mozilla,f=e?"-moz-":d.browser.webkit?"-webkit-":"",g="border-radius-"+a.y+a.x,h="border-"+a.y+"-"+a.x+"-radius",i=function(a){return parseInt(c.css(a),10)||parseInt(v.css(a),10)},j;return D(function(){j=i(h)||i(f+h)||i(f+g)||i(g)||0}),j}function K(a){function z(a,b,c){var d=a.css(b)||n;return c&&d===a.css(c)?f:j.test(d)?f:d}var b,c,g,h=t.tip.css("cssText",""),i=a||q.corner,j=/rgba?\(0, 0, 0(, 0)?\)|transparent|#123456/i,k="border-"+i[i.precedance]+"-color",m="background-color",n="transparent",o=" !important",s=t.titlebar,u=s&&(i.y===l||i.y===p&&h.position().top+x.height/2+r.offset<s.outerHeight(e)),w=u?s:t.content;D(function(){y.fill=z(h,m)||z(w,m)||z(t.content,m)||z(v,m)||h.css(m),y.border=z(h,k,"color")||z(w,k,"color")||z(t.content,k,"color")||z(v,k,"color")||v.css(k),d("*",h).add(h).css("cssText",m+":"+n+o+";border:0"+o+";")})}function L(a){var b=a.precedance===i,c=x[b?j:k],d=x[b?k:j],e=a.string().indexOf(p)>-1,f=c*(e?.5:1),g=Math.pow,h=Math.round,l,m,n,o=Math.sqrt(g(f,2)+g(d,2)),q=[z/f*o,z/d*o];return q[2]=Math.sqrt(g(q[0],2)-g(z,2)),q[3]=Math.sqrt(g(q[1],2)-g(z,2)),l=o+q[2]+q[3]+(e?0:q[0]),m=l/o,n=[h(m*d),h(m*c)],{height:n[b?0:1],width:n[b?1:0]}}function N(a,b,c){return"<qvml:"+a+' xmlns="urn:schemas-microsoft.com:vml" class="qtip-vml" '+(b||"")+' style="behavior: url(#default#VML); '+(c||"")+'" />'}var q=this,r=a.options.style.tip,t=a.elements,v=t.tooltip,w={top:0,left:0},x={width:r.width,height:r.height},y={},z=r.border||0,A=".qtip-tip",B=!!(d("<canvas />")[0]||{}).getContext,C;q.corner=g,q.mimic=g,q.border=z,q.offset=r.offset,q.size=x,a.checks.tip={"^position.my|style.tip.(corner|mimic|border)$":function(){q.init()||q.destroy(),a.reposition()},"^style.tip.(height|width)$":function(){x={width:r.width,height:r.height},q.create(),q.update(),a.reposition()},"^content.title.text|style.(classes|widget)$":function(){t.tip&&t.tip.length&&q.update()}},d.extend(q,{init:function(){var a=H()&&(B||d.browser.msie);return a&&(q.create(),q.update(),v.unbind(A).bind("tooltipmove"+A,G),B||v.bind("tooltipredraw tooltipredrawn",function(a){a.type==="tooltipredraw"?(C=t.tip.html(),t.tip.html("")):t.tip.html(C)})),a},create:function(){var a=x.width,b=x.height,c;t.tip&&t.tip.remove(),t.tip=d("<div />",{"class":"ui-tooltip-tip"}).css({width:a,height:b}).prependTo(v),B?d("<canvas />").appendTo(t.tip)[0].getContext("2d").save():(c=N("shape",'coordorigin="0,0"',"position:absolute;"),t.tip.html(c+c),d("*",t.tip).bind("click mousedown",function(a){a.stopPropagation()}))},update:function(a,b){var c=t.tip,j=c.children(),k=x.width,s=x.height,A=r.mimic,C=Math.round,D,G,H,J,O;a||(a=w.corner||q.corner),A===f?A=a:(A=new u.Corner(A),A.precedance=a.precedance,A.x==="inherit"?A.x=a.x:A.y==="inherit"?A.y=a.y:A.x===A.y&&(A[a.precedance]=a[a.precedance])),D=A.precedance,a.precedance===h?E():F(),t.tip.css({width:k=x.width,height:s=x.height}),K(a),y.border!=="transparent"?(z=I(a,g),r.border===0&&z>0&&(y.fill=y.border),q.border=z=r.border!==e?r.border:z):q.border=z=0,H=M(A,k,s),q.size=O=L(a),c.css(O),a.precedance===i?J=[C(A.x===m?z:A.x===o?O.width-k-z:(O.width-k)/2),C(A.y===l?O.height-s:0)]:J=[C(A.x===m?O.width-k:0),C(A.y===l?z:A.y===n?O.height-s-z:(O.height-s)/2)],B?(j.attr(O),G=j[0].getContext("2d"),G.restore(),G.save(),G.clearRect(0,0,3e3,3e3),G.fillStyle=y.fill,G.strokeStyle=y.border,G.lineWidth=z*2,G.lineJoin="miter",G.miterLimit=100,G.translate(J[0],J[1]),G.beginPath(),G.moveTo(H[0][0],H[0][1]),G.lineTo(H[1][0],H[1][1]),G.lineTo(H[2][0],H[2][1]),G.closePath(),z&&(v.css("background-clip")==="border-box"&&(G.strokeStyle=y.fill,G.stroke()),G.strokeStyle=y.border,G.stroke()),G.fill()):(H="m"+H[0][0]+","+H[0][1]+" l"+H[1][0]+","+H[1][1]+" "+H[2][0]+","+H[2][1]+" xe",J[2]=z&&/^(r|b)/i.test(a.string())?parseFloat(d.browser.version,10)===8?2:1:0,j.css({coordsize:k+z+" "+(s+z),antialias:""+(A.string().indexOf(p)>-1),left:J[0],top:J[1],width:k+z,height:s+z}).each(function(a){var b=d(this);b[b.prop?"prop":"attr"]({coordsize:k+z+" "+(s+z),path:H,fillcolor:y.fill,filled:!!a,stroked:!a}).toggle(!!z||!!a),!a&&b.html()===""&&b.html(N("stroke",'weight="'+z*2+'px" color="'+y.border+'" miterlimit="1000" joinstyle="miter"'))})),b!==f&&q.position(a)},position:function(a){var b=t.tip,c={},e=Math.max(0,r.offset),g,n,o;return r.corner===f||!b?f:(a=a||q.corner,g=a.precedance,n=L(a),o=[a.x,a.y],g===h&&o.reverse(),d.each(o,function(b,d){var f,h,o;d===p?(f=g===i?m:l,c[f]="50%",c["margin-"+f]=-Math.round(n[g===i?j:k]/2)+e):(f=I(a,d),h=I(a,d,t.content),o=J(a),c[d]=b?h:e+(o>f?o:-f))}),c[a[g]]-=n[g===h?j:k],b.css({top:"",bottom:"",left:"",right:"",margin:""}).css(c),c)},destroy:function(){t.tip&&t.tip.remove(),t.tip=!1,v.unbind(A)}}),q.init()}function O(c){function s(){q=d(p,j).not("[disabled]").map(function(){return typeof this.focus=="function"?this:null})}function t(a){q.length<1&&a.length?a.not("body").blur():q.first().focus()}function v(a){var b=d(a.target),c=b.closest(".qtip"),e;e=c.length<1?f:parseInt(c[0].style.zIndex,10)>parseInt(j[0].style.zIndex,10),!e&&d(a.target).closest(A)[0]!==j[0]&&t(b)}var g=this,h=c.options.show.modal,i=c.elements,j=i.tooltip,k="#qtip-overlay",l=".qtipmodal",m=l+c.id,n="is-modal-qtip",o=d(b.body),p=u.modal.focusable.join(","),q={},r;c.checks.modal={"^show.modal.(on|blur)$":function(){g.init(),i.overlay.toggle(j.is(":visible"))},"^content.text$":function(){s()}},d.extend(g,{init:function(){return h.on?(r=g.create(),j.attr(n,e).css("z-index",u.modal.zindex+d(A+"["+n+"]").length).unbind(l).unbind(m).bind("tooltipshow"+l+" tooltiphide"+l,function(a,b,c){var e=a.originalEvent;if(a.target===j[0])if(e&&a.type==="tooltiphide"&&/mouse(leave|enter)/.test(e.type)&&d(e.relatedTarget).closest(r[0]).length)try{a.preventDefault()}catch(f){}else(!e||e&&!e.solo)&&g[a.type.replace("tooltip","")](a,c)}).bind("tooltipfocus"+l,function(a){if(a.isDefaultPrevented()||a.target!==j[0])return;var b=d(A).filter("["+n+"]"),c=u.modal.zindex+b.length,e=parseInt(j[0].style.zIndex,10);r[0].style.zIndex=c-2,b.each(function(){this.style.zIndex>e&&(this.style.zIndex-=1)}),b.end().filter("."+C).qtip("blur",a.originalEvent),j.addClass(C)[0].style.zIndex=c;try{a.preventDefault()}catch(f){}}).bind("tooltiphide"+l,function(a){a.target===j[0]&&d("["+n+"]").filter(":visible").not(j).last().qtip("focus",a)}),h.escape&&d(b).unbind(m).bind("keydown"+m,function(a){a.keyCode===27&&j.hasClass(C)&&c.hide(a)}),h.blur&&i.overlay.unbind(m).bind("click"+m,function(a){j.hasClass(C)&&c.hide(a)}),s(),g):g},create:function(){function c(){r.css({height:d(a).height(),width:d(a).width()})}var b=d(k);return b.length?i.overlay=b.insertAfter(d(A).last()):(r=i.overlay=d("<div />",{id:k.substr(1),html:"<div></div>",mousedown:function(){return f}}).hide().insertAfter(d(A).last()),d(a).unbind(l).bind("resize"+l,c),c(),r)},toggle:function(a,b,c){if(a&&a.isDefaultPrevented())return g;var i=h.effect,k=b?"show":"hide",l=r.is(":visible"),p=d("["+n+"]").filter(":visible").not(j),q;return r||(r=g.create()),r.is(":animated")&&l===b||!b&&p.length?g:(b?(r.css({left:0,top:0}),r.toggleClass("blurs",h.blur),h.stealfocus!==f&&(o.bind("focusin"+m,v),t(d("body :focus")))):o.unbind("focusin"+m),r.stop(e,f),d.isFunction(i)?i.call(r,b):i===f?r[k]():r.fadeTo(parseInt(c,10)||90,b?1:0,function(){b||d(this).hide()}),b||r.queue(function(a){r.css({left:"",top:""}),a()}),g)},show:function(a,b){return g.toggle(a,e,b)},hide:function(a,b){return g.toggle(a,f,b)},destroy:function(){var a=r;return a&&(a=d("["+n+"]").not(j).length<1,a?(i.overlay.remove(),d(b).unbind(l)):i.overlay.unbind(l+c.id),o.undelegate("*","focusin"+m)),j.removeAttr(n).unbind(l)}}),g.init()}function P(a){var b=this,c=a.elements,e=c.tooltip,f=".bgiframe-"+a.id;d.extend(b,{init:function(){c.bgiframe=d('<iframe class="ui-tooltip-bgiframe" frameborder="0" tabindex="-1" src="javascript:\'\';"  style="display:block; position:absolute; z-index:-1; filter:alpha(opacity=0); -ms-filter:"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";"></iframe>'),c.bgiframe.appendTo(e),e.bind("tooltipmove"+f,b.adjust)},adjust:function(){var b=a.get("dimensions"),d=a.plugins.tip,f=c.tip,g,h;h=parseInt(e.css("border-left-width"),10)||0,h={left:-h,top:-h},d&&f&&(g=d.corner.precedance==="x"?["width","left"]:["height","top"],h[g[1]]-=f[g[0]]()),c.bgiframe.css(h).css(b)},destroy:function(){c.bgiframe.remove(),e.unbind(f)}}),b.init()}var e=!0,f=!1,g=null,h="x",i="y",j="width",k="height",l="top",m="left",n="bottom",o="right",p="center",q="flip",r="flipinvert",s="shift",t,u,v,w={},x="ui-tooltip",y="ui-widget",z="ui-state-disabled",A="div.qtip."+x,B=x+"-default",C=x+"-focus",D=x+"-hover",E="_replacedByqTip",F="oldtitle",G,H;H=d("<div/>",{id:"qtip-rcontainer"}),d(function(){H.appendTo(b.body)}),t=d.fn.qtip=function(a,b,h){var i=(""+a).toLowerCase(),j=g,k=d.makeArray(arguments).slice(1),l=k[k.length-1],m=this[0]?d.data(this[0],"qtip"):g;if(!arguments.length&&m||i==="api")return m;if("string"==typeof a)return this.each(function(){var a=d.data(this,"qtip");if(!a)return e;l&&l.timeStamp&&(a.cache.event=l);if(i!=="option"&&i!=="options"||!b)a[i]&&a[i].apply(a[i],k);else if(d.isPlainObject(b)||h!==c)a.set(b,h);else return j=a.get(b),f}),j!==g?j:this;if("object"==typeof a||!arguments.length)return m=I(d.extend(e,{},a)),t.bind.call(this,m,l)},t.bind=function(a,b){return this.each(function(g){function n(a){function b(){l.render(typeof a=="object"||h.show.ready),i.show.add(i.hide).unbind(k)}if(l.cache.disabled)return f;l.cache.event=d.extend({},a),l.cache.target=a?d(a.target):[c],h.show.delay>0?(clearTimeout(l.timers.show),l.timers.show=setTimeout(b,h.show.delay),j.show!==j.hide&&i.hide.bind(j.hide,function(){clearTimeout(l.timers.show)})):b()}var h,i,j,k,l,m;m=d.isArray(a.id)?a.id[g]:a.id,m=!m||m===f||m.length<1||w[m]?t.nextid++:w[m]=m,k=".qtip-"+m+"-create",l=K.call(this,m,a);if(l===f)return e;h=l.options,d.each(u,function(){this.initialize==="initialize"&&this(l)}),i={show:h.show.target,hide:h.hide.target},j={show:d.trim(""+h.show.event).replace(/ /g,k+" ")+k,hide:d.trim(""+h.hide.event).replace(/ /g,k+" ")+k},/mouse(over|enter)/i.test(j.show)&&!/mouse(out|leave)/i.test(j.hide)&&(j.hide+=" mouseleave"+k),i.show.bind("mousemove"+k,function(a){v={pageX:a.pageX,pageY:a.pageY,type:"mousemove"},l.cache.onTarget=e}),i.show.bind(j.show,n),(h.show.ready||h.prerender)&&n(b)})},u=t.plugins={Corner:function(a){a=(""+a).replace(/([A-Z])/," $1").replace(/middle/gi,p).toLowerCase(),this.x=(a.match(/left|right/i)||a.match(/center/)||["inherit"])[0].toLowerCase(),this.y=(a.match(/top|bottom|center/i)||["inherit"])[0].toLowerCase();var b=a.charAt(0);this.precedance=b==="t"||b==="b"?i:h,this.string=function(){return this.precedance===i?this.y+this.x:this.x+this.y},this.abbrev=function(){var a=this.x.substr(0,1),b=this.y.substr(0,1);return a===b?a:this.precedance===i?b+a:a+b},this.invertx=function(a){this.x=this.x===m?o:this.x===o?m:a||this.x},this.inverty=function(a){this.y=this.y===l?n:this.y===n?l:a||this.y},this.clone=function(){return{x:this.x,y:this.y,precedance:this.precedance,string:this.string,abbrev:this.abbrev,clone:this.clone,invertx:this.invertx,inverty:this.inverty}}},offset:function(a,b){function j(a,b){c.left+=b*a.scrollLeft(),c.top+=b*a.scrollTop()}var c=a.offset(),e=a.closest("body")[0],f=b,g,h,i;if(f){do f.css("position")!=="static"&&(h=f.position(),c.left-=h.left+(parseInt(f.css("borderLeftWidth"),10)||0)+(parseInt(f.css("marginLeft"),10)||0),c.top-=h.top+(parseInt(f.css("borderTopWidth"),10)||0)+(parseInt(f.css("marginTop"),10)||0),!g&&(i=f.css("overflow"))!=="hidden"&&i!=="visible"&&(g=f));while((f=d(f[0].offsetParent)).length);g&&g[0]!==e&&j(g,1)}return c},iOS:parseFloat((""+(/CPU.*OS ([0-9_]{1,5})|(CPU like).*AppleWebKit.*Mobile/i.exec(navigator.userAgent)||[0,""])[1]).replace("undefined","3_2").replace("_",".").replace("_",""))||f,fn:{attr:function(a,b){if(this.length){var c=this[0],e="title",f=d.data(c,"qtip");if(a===e&&f&&"object"==typeof f&&f.options.suppress)return arguments.length<2?d.attr(c,F):(f&&f.options.content.attr===e&&f.cache.attr&&f.set("content.text",b),this.attr(F,b))}return d.fn["attr"+E].apply(this,arguments)},clone:function(a){var b=d([]),c="title",e=d.fn["clone"+E].apply(this,arguments);return a||e.filter("["+F+"]").attr("title",function(){return d.attr(this,F)}).removeAttr(F),e}}},d.each(u.fn,function(a,b){if(!b||d.fn[a+E])return e;var c=d.fn[a+E]=d.fn[a];d.fn[a]=function(){return b.apply(this,arguments)||c.apply(this,arguments)}}),d.ui||(d["cleanData"+E]=d.cleanData,d.cleanData=function(a){for(var b=0,e;(e=a[b])!==c;b++)try{d(e).triggerHandler("removeqtip")}catch(f){}d["cleanData"+E](a)}),t.version="@VERSION",t.nextid=0,t.inactiveEvents="click dblclick mousedown mouseup mousemove mouseleave mouseenter".split(" "),t.zindex=15e3,t.defaults={prerender:f,id:f,overwrite:e,suppress:e,content:{text:e,attr:"title",title:{text:f,button:f}},position:{my:"top left",at:"bottom right",target:f,container:f,viewport:f,adjust:{x:0,y:0,mouse:e,resize:e,method:"flip flip"},effect:function(a,b,c){d(this).animate(b,{duration:200,queue:f})}},show:{target:f,event:"mouseenter",effect:e,delay:90,solo:f,ready:f,autofocus:f},hide:{target:f,event:"mouseleave",effect:e,delay:0,fixed:f,inactive:f,leave:"window",distance:f},style:{classes:"",widget:f,width:f,height:f,def:e},events:{render:g,move:g,show:g,hide:g,toggle:g,visible:g,hidden:g,focus:g,blur:g}},u.svg=function(a,c,e,f){var g=d(b),h=c[0],i={width:0,height:0,position:{top:1e10,left:1e10}},j,k,l,m,n;while(!h.getBBox)h=h.parentNode;if(h.getBBox&&h.parentNode){j=h.getBBox(),k=h.getScreenCTM(),l=h.farthestViewportElement||h;if(!l.createSVGPoint)return i;m=l.createSVGPoint(),m.x=j.x,m.y=j.y,n=m.matrixTransform(k),i.position.left=n.x,i.position.top=n.y,m.x+=j.width,m.y+=j.height,n=m.matrixTransform(k),i.width=n.x-i.position.left,i.height=n.y-i.position.top,i.position.left+=g.scrollLeft(),i.position.top+=g.scrollTop()}return i},u.ajax=function(a){var b=a.plugins.ajax;return"object"==typeof b?b:a.plugins.ajax=new L(a)},u.ajax.initialize="render",u.ajax.sanitize=function(a){var b=a.content,c;b&&"ajax"in b&&(c=b.ajax,typeof c!="object"&&(c=a.content.ajax={url:c}),"boolean"!=typeof c.once&&c.once&&(c.once=!!c.once))},d.extend(e,t.defaults,{content:{ajax:{loading:e,once:e}}}),u.tip=function(a){var b=a.plugins.tip;return"object"==typeof b?b:a.plugins.tip=new N(a)},u.tip.initialize="render",u.tip.sanitize=function(a){var b=a.style,c;b&&"tip"in b&&(c=a.style.tip,typeof c!="object"&&(a.style.tip={corner:c}),/string|boolean/i.test(typeof c.corner)||(c.corner=e),typeof c.width!="number"&&delete c.width,typeof c.height!="number"&&delete c.height,typeof c.border!="number"&&c.border!==e&&delete c.border,typeof c.offset!="number"&&delete c.offset)},d.extend(e,t.defaults,{style:{tip:{corner:e,mimic:f,width:6,height:6,border:e,offset:0}}}),u.modal=function(a){var b=a.plugins.modal;return"object"==typeof b?b:a.plugins.modal=new O(a)},u.modal.initialize="render",u.modal.sanitize=function(a){a.show&&(typeof a.show.modal!="object"?a.show.modal={on:!!a.show.modal}:typeof a.show.modal.on=="undefined"&&(a.show.modal.on=e))},u.modal.zindex=t.zindex-200,u.modal.focusable=["a[href]","area[href]","input","select","textarea","button","iframe","object","embed","[tabindex]","[contenteditable]"],d.extend(e,t.defaults,{show:{modal:{on:f,effect:e,blur:e,stealfocus:e,escape:e}}}),u.viewport=function(c,d,e,f,g,q,t){function L(a,b,c,e,f,g,h,i,j){var k=d[f],l=w[a],m=y[a],n=c===s,o=-E.offset[f]+D.offset[f]+D["scroll"+f],q=l===f?j:l===g?-j:-j/2,t=m===f?i:m===g?-i:-i/2,u=G&&G.size?G.size[h]||0:0,v=G&&G.corner&&G.corner.precedance===a&&!n?u:0,x=o-k+v,z=k+j-D[h]-o+v,A=q-(w.precedance===a||l===w[b]?t:0)-(m===p?i/2:0);return n?(v=G&&G.corner&&G.corner.precedance===b?u:0,A=(l===f?1:-1)*q-v,d[f]+=x>0?x:z>0?-z:0,d[f]=Math.max(-E.offset[f]+D.offset[f]+(v&&G.corner[a]===p?G.offset:0),k-A,Math.min(Math.max(-E.offset[f]+D.offset[f]+D[h],k+A),d[f]))):(e*=c===r?2:0,x>0&&(l!==f||z>0)?(d[f]-=A+e,J["invert"+a](f)):z>0&&(l!==g||x>0)&&(d[f]-=(l===p?-A:A)+e,J["invert"+a](g)),d[f]<o&&-d[f]>z&&(d[f]=k,J=w.clone())),d[f]-k}var u=e.target,v=c.elements.tooltip,w=e.my,y=e.at,z=e.adjust,A=z.method.split(" "),B=A[0],C=A[1]||A[0],D=e.viewport,E=e.container,F=c.cache,G=c.plugins.tip,H={left:0,top:0},I,J,K;if(!D.jquery||u[0]===a||u[0]===b.body||z.method==="none")return H;I=v.css("position")==="fixed",D={elem:D,height:D[(D[0]===a?"h":"outerH")+"eight"](),width:D[(D[0]===a?"w":"outerW")+"idth"](),scrollleft:I?0:D.scrollLeft(),scrolltop:I?0:D.scrollTop(),offset:D.offset()||{left:0,top:0}},E={elem:E,scrollLeft:E.scrollLeft(),scrollTop:E.scrollTop(),offset:E.offset()||{left:0,top:0}};if(B!=="shift"||C!=="shift")J=w.clone();return H={left:B!=="none"?L(h,i,B,z.x,m,o,j,f,q):0,top:C!=="none"?L(i,h,C,z.y,l,n,k,g,t):0},J&&F.lastClass!==(K=x+"-pos-"+J.abbrev())&&v.removeClass(c.cache.lastClass).addClass(c.cache.lastClass=K),H},u.imagemap=function(a,b,c,e){function v(a,b,c){var d=0,e=1,f=1,g=0,h=0,i=a.width,j=a.height;while(i>0&&j>0&&e>0&&f>0){i=Math.floor(i/2),j=Math.floor(j/2),c.x===m?e=i:c.x===o?e=a.width-i:e+=Math.floor(i/2),c.y===l?f=j:c.y===n?f=a.height-j:f+=Math.floor(j/2),d=b.length;while(d--){if(b.length<2)break;g=b[d][0]-a.position.left,h=b[d][1]-a.position.top,(c.x===m&&g>=e||c.x===o&&g<=e||c.x===p&&(g<e||g>a.width-e)||c.y===l&&h>=f||c.y===n&&h<=f||c.y===p&&(h<f||h>a.height-f))&&b.splice(d,1)}}return{left:b[0][0],top:b[0][1]}}b.jquery||(b=d(b));var f=a.cache.areas={},g=(b[0].shape||b.attr("shape")).toLowerCase(),h=b[0].coords||b.attr("coords"),i=h.split(","),j=[],k=d('img[usemap="#'+b.parent("map").attr("name")+'"]'),q=k.offset(),r={width:0,height:0,position:{top:1e10,right:0,bottom:0,left:1e10}},s=0,t=0,u;q.left+=Math.ceil((k.outerWidth()-k.width())/2),q.top+=Math.ceil((k.outerHeight()-k.height())/2);if(g==="poly"){s=i.length;while(s--)t=[parseInt(i[--s],10),parseInt(i[s+1],10)],t[0]>r.position.right&&(r.position.right=t[0]),t[0]<r.position.left&&(r.position.left=t[0]),t[1]>r.position.bottom&&(r.position.bottom=t[1]),t[1]<r.position.top&&(r.position.top=t[1]),j.push(t)}else{s=-1;while(s++<i.length)j.push(parseInt(i[s],10))}switch(g){case"rect":r={width:Math.abs(j[2]-j[0]),height:Math.abs(j[3]-j[1]),position:{left:Math.min(j[0],j[2]),top:Math.min(j[1],j[3])}};break;case"circle":r={width:j[2]+2,height:j[2]+2,position:{left:j[0],top:j[1]}};break;case"poly":r.width=Math.abs(r.position.right-r.position.left),r.height=Math.abs(r.position.bottom-r.position.top),c.abbrev()==="c"?r.position={left:r.position.left+r.width/2,top:r.position.top+r.height/2}:(f[c+h]||(r.position=v(r,j.slice(),c),e&&(e[0]==="flip"||e[1]==="flip")&&(r.offset=v(r,j.slice(),{x:c.x===m?o:c.x===o?m:p,y:c.y===l?n:c.y===n?l:p}),r.offset.left-=r.position.left,r.offset.top-=r.position.top),f[c+h]=r),r=f[c+h]),r.width=r.height=0}return r.position.left+=q.left,r.position.top+=q.top,r},u.bgiframe=function(a){var b=d.browser,c=a.plugins.bgiframe;return d("select, object").length<1||!b.msie||(""+b.version).charAt(0)!=="6"?f:"object"==typeof c?c:a.plugins.bgiframe=new P(a)},u.bgiframe.initialize="render"})})(window,document)
;function noty(a){var b=0,c={animateOpen:"animation.open",animateClose:"animation.close",easing:"animation.easing",speed:"animation.speed",onShow:"callback.onShow",onShown:"callback.afterShow",onClose:"callback.onClose",onClosed:"callback.afterClose"};return jQuery.each(a,function(d,e){if(c[d]){b++;var f=c[d].split(".");a[f[0]]||(a[f[0]]={}),a[f[0]][f[1]]=e?e:function(){},delete a[d]}}),a.closeWith||(a.closeWith=jQuery.noty.defaults.closeWith),a.hasOwnProperty("closeButton")&&(b++,a.closeButton&&a.closeWith.push("button"),delete a.closeButton),a.hasOwnProperty("closeOnSelfClick")&&(b++,a.closeOnSelfClick&&a.closeWith.push("click"),delete a.closeOnSelfClick),a.hasOwnProperty("closeOnSelfOver")&&(b++,a.closeOnSelfOver&&a.closeWith.push("hover"),delete a.closeOnSelfOver),a.hasOwnProperty("custom")&&(b++,a.custom.container!="null"&&(a.custom=a.custom.container)),a.hasOwnProperty("cssPrefix")&&(b++,delete a.cssPrefix),a.theme=="noty_theme_default"&&(b++,a.theme="defaultTheme"),a.hasOwnProperty("dismissQueue")||(a.layout=="topLeft"||a.layout=="topRight"||a.layout=="bottomLeft"||a.layout=="bottomRight"?a.dismissQueue=!0:a.dismissQueue=!1),a.buttons&&jQuery.each(a.buttons,function(a,c){c.click&&(b++,c.onClick=c.click,delete c.click),c.type&&(b++,c.addClass=c.type,delete c.type)}),b&&typeof console!="undefined"&&console.warn&&console.warn("You are using noty v2 with v1.x.x options. @deprecated until v2.2.0 - Please update your options."),jQuery.notyRenderer.init(a)}typeof Object.create!="function"&&(Object.create=function(a){function b(){}return b.prototype=a,new b}),function(a){var b={init:function(b){return this.options=a.extend({},a.noty.defaults,b),this.options.layout=this.options.custom?a.noty.layouts.inline:a.noty.layouts[this.options.layout],this.options.theme=a.noty.themes[this.options.theme],delete b.layout,delete b.theme,this.options=a.extend({},this.options,this.options.layout.options),this.options.id="noty_"+(new Date).getTime()*Math.floor(Math.random()*1e6),this.options=a.extend({},this.options,b),this._build(),this},_build:function(){var b=a('<div class="noty_bar"></div>').attr("id",this.options.id);b.append(this.options.template).find(".noty_text").html(this.options.text),this.$bar=this.options.layout.parent.object!==null?a(this.options.layout.parent.object).css(this.options.layout.parent.css).append(b):b;if(this.options.buttons){this.options.closeWith=[],this.options.timeout=!1;var c=a("<div/>").addClass("noty_buttons");this.options.layout.parent.object!==null?this.$bar.find(".noty_bar").append(c):this.$bar.append(c);var d=this;a.each(this.options.buttons,function(b,c){var e=a("<button/>").addClass(c.addClass?c.addClass:"gray").html(c.text).appendTo(d.$bar.find(".noty_buttons")).bind("click",function(){a.isFunction(c.onClick)&&c.onClick.call(e,d)})})}this.$message=this.$bar.find(".noty_message"),this.$closeButton=this.$bar.find(".noty_close"),this.$buttons=this.$bar.find(".noty_buttons"),a.noty.store[this.options.id]=this},show:function(){var b=this;return a(b.options.layout.container.selector).append(b.$bar),b.options.theme.style.apply(b),a.type(b.options.layout.css)==="function"?this.options.layout.css.apply(b.$bar):b.$bar.css(this.options.layout.css||{}),b.$bar.addClass(b.options.layout.addClass),b.options.layout.container.style.apply(a(b.options.layout.container.selector)),b.options.theme.callback.onShow.apply(this),a.inArray("click",b.options.closeWith)>-1&&b.$bar.css("cursor","pointer").one("click",function(){b.close()}),a.inArray("hover",b.options.closeWith)>-1&&b.$bar.one("mouseenter",function(){b.close()}),a.inArray("button",b.options.closeWith)>-1&&b.$closeButton.one("click",function(){b.close()}),a.inArray("button",b.options.closeWith)==-1&&b.$closeButton.remove(),b.options.callback.onShow&&b.options.callback.onShow.apply(b),b.$bar.animate(b.options.animation.open,b.options.animation.speed,b.options.animation.easing,function(){b.options.callback.afterShow&&b.options.callback.afterShow.apply(b),b.shown=!0}),b.options.timeout&&b.$bar.delay(b.options.timeout).promise().done(function(){b.close()}),this},close:function(){if(this.closed)return;var b=this;if(!this.shown){var c=[];a.each(a.noty.queue,function(a,d){d.options.id!=b.options.id&&c.push(d)}),a.noty.queue=c;return}b.$bar.addClass("i-am-closing-now"),b.options.callback.onClose&&b.options.callback.onClose.apply(b),b.$bar.clearQueue().stop().animate(b.options.animation.close,b.options.animation.speed,b.options.animation.easing,function(){b.options.callback.afterClose&&b.options.callback.afterClose.apply(b)}).promise().done(function(){b.options.modal&&(a.notyRenderer.setModalCount(-1),a.notyRenderer.getModalCount()==0&&a(".noty_modal").fadeOut("fast",function(){a(this).remove()})),a.notyRenderer.setLayoutCountFor(b,-1),a.notyRenderer.getLayoutCountFor(b)==0&&a(b.options.layout.container.selector).remove(),typeof b.$bar!="undefined"&&b.$bar!==null&&(b.$bar.remove(),b.$bar=null,b.closed=!0),delete a.noty.store[b.options.id],b.options.theme.callback.onClose.apply(b),b.options.dismissQueue||(a.noty.ontap=!0,a.notyRenderer.render())})},setText:function(a){return this.closed||(this.options.text=a,this.$bar.find(".noty_text").html(a)),this},setType:function(a){return this.closed||(this.options.type=a,this.options.theme.style.apply(this),this.options.theme.callback.onShow.apply(this)),this},setTimeout:function(a){if(!this.closed){var b=this;this.options.timeout=a,b.$bar.delay(b.options.timeout).promise().done(function(){b.close()})}return this},closed:!1,shown:!1};a.notyRenderer={},a.notyRenderer.init=function(c){var d=Object.create(b).init(c);return d.options.force?a.noty.queue.unshift(d):a.noty.queue.push(d),a.notyRenderer.render(),a.noty.returns=="object"?d:d.options.id},a.notyRenderer.render=function(){var b=a.noty.queue[0];a.type(b)==="object"?b.options.dismissQueue?a.notyRenderer.show(a.noty.queue.shift()):a.noty.ontap&&(a.notyRenderer.show(a.noty.queue.shift()),a.noty.ontap=!1):a.noty.ontap=!0},a.notyRenderer.show=function(b){b.options.modal&&(a.notyRenderer.createModalFor(b),a.notyRenderer.setModalCount(1)),a(b.options.layout.container.selector).length==0?b.options.custom?b.options.custom.append(a(b.options.layout.container.object).addClass("i-am-new")):a("body").append(a(b.options.layout.container.object).addClass("i-am-new")):a(b.options.layout.container.selector).removeClass("i-am-new"),a.notyRenderer.setLayoutCountFor(b,1),b.show()},a.notyRenderer.createModalFor=function(b){a(".noty_modal").length==0&&a("<div/>").addClass("noty_modal").data("noty_modal_count",0).css(b.options.theme.modal.css).prependTo(a("body")).fadeIn("fast")},a.notyRenderer.getLayoutCountFor=function(b){return a(b.options.layout.container.selector).data("noty_layout_count")||0},a.notyRenderer.setLayoutCountFor=function(b,c){return a(b.options.layout.container.selector).data("noty_layout_count",a.notyRenderer.getLayoutCountFor(b)+c)},a.notyRenderer.getModalCount=function(){return a(".noty_modal").data("noty_modal_count")||0},a.notyRenderer.setModalCount=function(b){return a(".noty_modal").data("noty_modal_count",a.notyRenderer.getModalCount()+b)},a.fn.noty=function(b){return b.custom=a(this),a.notyRenderer.init(b)},a.noty={},a.noty.queue=[],a.noty.ontap=!0,a.noty.layouts={},a.noty.themes={},a.noty.returns="object",a.noty.store={},a.noty.get=function(b){return a.noty.store.hasOwnProperty(b)?a.noty.store[b]:!1},a.noty.close=function(b){return a.noty.get(b)?a.noty.get(b).close():!1},a.noty.setText=function(b,c){return a.noty.get(b)?a.noty.get(b).setText(c):!1},a.noty.setType=function(b,c){return a.noty.get(b)?a.noty.get(b).setType(c):!1},a.noty.clearQueue=function(){a.noty.queue=[]},a.noty.closeAll=function(){a.noty.clearQueue(),a.each(a.noty.store,function(a,b){b.close()})};var c=window.alert;a.noty.consumeAlert=function(b){window.alert=function(c){b?b.text=c:b={text:c},a.notyRenderer.init(b)}},a.noty.stopConsumeAlert=function(){window.alert=c},a.noty.defaults={layout:"top",theme:"defaultTheme",type:"alert",text:"",dismissQueue:!0,template:'<div class="noty_message"><span class="noty_text"></span><div class="noty_close"></div></div>',animation:{open:{height:"toggle"},close:{height:"toggle"},easing:"swing",speed:500},timeout:!1,force:!1,modal:!1,closeWith:["click"],callback:{onShow:function(){},afterShow:function(){},onClose:function(){},afterClose:function(){}},buttons:!1},a(window).resize(function(){a.each(a.noty.layouts,function(b,c){c.container.style.apply(a(c.container.selector))})})}(jQuery)
;(function(a){a.noty.layouts.bottomRight={name:"bottomRight",options:{},container:{object:'<ul id="noty_bottomRight_layout_container" />',selector:"ul#noty_bottomRight_layout_container",style:function(){a(this).css({bottom:0,right:60,position:"fixed",width:"200px",height:"auto",margin:0,padding:0,listStyleType:"none",zIndex:1e4}),window.innerWidth<600&&a(this).css({right:5})}},parent:{object:"<li />",selector:"li",css:{}},css:{display:"none",width:"200px"},addClass:""}})(jQuery)
;(function(a){a.noty.layouts.bottomRightPoint={name:"bottomRightPoint",options:{},container:{object:'<ul id="noty_bottomRightPoint_layout_container" />',selector:"ul#noty_bottomRightPoint_layout_container",style:function(){a(this).css({bottom:0,right:347,position:"fixed",width:"50px",height:"auto",margin:0,padding:0,listStyleType:"none",zIndex:1e5}),window.innerWidth<600&&a(this).css({right:5})}},parent:{object:"<li />",selector:"li",css:{}},css:{display:"none",width:"50px"},addClass:""}})(jQuery)
;(function(a){a.noty.themes.defaultTheme={name:"defaultTheme",helpers:{borderFix:function(){if(this.options.dismissQueue){var b=this.options.layout.container.selector+" "+this.options.layout.parent.selector;switch(this.options.layout.name){case"top":a(b).css({borderRadius:"0px 0px 0px 0px"}),a(b).last().css({borderRadius:"0px 0px 5px 5px"});break;case"topCenter":case"topLeft":case"topRight":case"bottomCenter":case"bottomLeft":case"bottomRight":case"bottomRightPoint":case"center":case"centerLeft":case"centerRight":case"inline":a(b).first().css({"border-top-left-radius":"5px","border-top-right-radius":"5px"}),a(b).last().css({"border-bottom-left-radius":"0px","border-bottom-right-radius":"0px"});break;case"bottom":a(b).css({borderRadius:"0px 0px 0px 0px"}),a(b).first().css({borderRadius:"5px 5px 0px 0px"});break;default:}}}},modal:{css:{position:"fixed",width:"100%",height:"100%",backgroundColor:"#000",zIndex:1e4,opacity:.6,display:"none",left:0,top:0}},style:function(){this.$bar.css({overflow:"hidden",background:"#EDEDED"}),this.$message.css({fontSize:"13px",lineHeight:"16px",textAlign:"center",padding:"8px 10px 9px",width:"auto",position:"relative"}),this.$closeButton.css({position:"absolute",top:4,right:4,width:10,height:10,background:"url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAACXBIWXMAAAsTAAALEwEAmpwYAAAKT2lDQ1BQaG90b3Nob3AgSUNDIHByb2ZpbGUAAHjanVNnVFPpFj333vRCS4iAlEtvUhUIIFJCi4AUkSYqIQkQSoghodkVUcERRUUEG8igiAOOjoCMFVEsDIoK2AfkIaKOg6OIisr74Xuja9a89+bN/rXXPues852zzwfACAyWSDNRNYAMqUIeEeCDx8TG4eQuQIEKJHAAEAizZCFz/SMBAPh+PDwrIsAHvgABeNMLCADATZvAMByH/w/qQplcAYCEAcB0kThLCIAUAEB6jkKmAEBGAYCdmCZTAKAEAGDLY2LjAFAtAGAnf+bTAICd+Jl7AQBblCEVAaCRACATZYhEAGg7AKzPVopFAFgwABRmS8Q5ANgtADBJV2ZIALC3AMDOEAuyAAgMADBRiIUpAAR7AGDIIyN4AISZABRG8lc88SuuEOcqAAB4mbI8uSQ5RYFbCC1xB1dXLh4ozkkXKxQ2YQJhmkAuwnmZGTKBNA/g88wAAKCRFRHgg/P9eM4Ors7ONo62Dl8t6r8G/yJiYuP+5c+rcEAAAOF0ftH+LC+zGoA7BoBt/qIl7gRoXgugdfeLZrIPQLUAoOnaV/Nw+H48PEWhkLnZ2eXk5NhKxEJbYcpXff5nwl/AV/1s+X48/Pf14L7iJIEyXYFHBPjgwsz0TKUcz5IJhGLc5o9H/LcL//wd0yLESWK5WCoU41EScY5EmozzMqUiiUKSKcUl0v9k4t8s+wM+3zUAsGo+AXuRLahdYwP2SycQWHTA4vcAAPK7b8HUKAgDgGiD4c93/+8//UegJQCAZkmScQAAXkQkLlTKsz/HCAAARKCBKrBBG/TBGCzABhzBBdzBC/xgNoRCJMTCQhBCCmSAHHJgKayCQiiGzbAdKmAv1EAdNMBRaIaTcA4uwlW4Dj1wD/phCJ7BKLyBCQRByAgTYSHaiAFiilgjjggXmYX4IcFIBBKLJCDJiBRRIkuRNUgxUopUIFVIHfI9cgI5h1xGupE7yAAygvyGvEcxlIGyUT3UDLVDuag3GoRGogvQZHQxmo8WoJvQcrQaPYw2oefQq2gP2o8+Q8cwwOgYBzPEbDAuxsNCsTgsCZNjy7EirAyrxhqwVqwDu4n1Y8+xdwQSgUXACTYEd0IgYR5BSFhMWE7YSKggHCQ0EdoJNwkDhFHCJyKTqEu0JroR+cQYYjIxh1hILCPWEo8TLxB7iEPENyQSiUMyJ7mQAkmxpFTSEtJG0m5SI+ksqZs0SBojk8naZGuyBzmULCAryIXkneTD5DPkG+Qh8lsKnWJAcaT4U+IoUspqShnlEOU05QZlmDJBVaOaUt2ooVQRNY9aQq2htlKvUYeoEzR1mjnNgxZJS6WtopXTGmgXaPdpr+h0uhHdlR5Ol9BX0svpR+iX6AP0dwwNhhWDx4hnKBmbGAcYZxl3GK+YTKYZ04sZx1QwNzHrmOeZD5lvVVgqtip8FZHKCpVKlSaVGyovVKmqpqreqgtV81XLVI+pXlN9rkZVM1PjqQnUlqtVqp1Q61MbU2epO6iHqmeob1Q/pH5Z/YkGWcNMw09DpFGgsV/jvMYgC2MZs3gsIWsNq4Z1gTXEJrHN2Xx2KruY/R27iz2qqaE5QzNKM1ezUvOUZj8H45hx+Jx0TgnnKKeX836K3hTvKeIpG6Y0TLkxZVxrqpaXllirSKtRq0frvTau7aedpr1Fu1n7gQ5Bx0onXCdHZ4/OBZ3nU9lT3acKpxZNPTr1ri6qa6UbobtEd79up+6Ynr5egJ5Mb6feeb3n+hx9L/1U/W36p/VHDFgGswwkBtsMzhg8xTVxbzwdL8fb8VFDXcNAQ6VhlWGX4YSRudE8o9VGjUYPjGnGXOMk423GbcajJgYmISZLTepN7ppSTbmmKaY7TDtMx83MzaLN1pk1mz0x1zLnm+eb15vft2BaeFostqi2uGVJsuRaplnutrxuhVo5WaVYVVpds0atna0l1rutu6cRp7lOk06rntZnw7Dxtsm2qbcZsOXYBtuutm22fWFnYhdnt8Wuw+6TvZN9un2N/T0HDYfZDqsdWh1+c7RyFDpWOt6azpzuP33F9JbpL2dYzxDP2DPjthPLKcRpnVOb00dnF2e5c4PziIuJS4LLLpc+Lpsbxt3IveRKdPVxXeF60vWdm7Obwu2o26/uNu5p7ofcn8w0nymeWTNz0MPIQ+BR5dE/C5+VMGvfrH5PQ0+BZ7XnIy9jL5FXrdewt6V3qvdh7xc+9j5yn+M+4zw33jLeWV/MN8C3yLfLT8Nvnl+F30N/I/9k/3r/0QCngCUBZwOJgUGBWwL7+Hp8Ib+OPzrbZfay2e1BjKC5QRVBj4KtguXBrSFoyOyQrSH355jOkc5pDoVQfujW0Adh5mGLw34MJ4WHhVeGP45wiFga0TGXNXfR3ENz30T6RJZE3ptnMU85ry1KNSo+qi5qPNo3ujS6P8YuZlnM1VidWElsSxw5LiquNm5svt/87fOH4p3iC+N7F5gvyF1weaHOwvSFpxapLhIsOpZATIhOOJTwQRAqqBaMJfITdyWOCnnCHcJnIi/RNtGI2ENcKh5O8kgqTXqS7JG8NXkkxTOlLOW5hCepkLxMDUzdmzqeFpp2IG0yPTq9MYOSkZBxQqohTZO2Z+pn5mZ2y6xlhbL+xW6Lty8elQfJa7OQrAVZLQq2QqboVFoo1yoHsmdlV2a/zYnKOZarnivN7cyzytuQN5zvn//tEsIS4ZK2pYZLVy0dWOa9rGo5sjxxedsK4xUFK4ZWBqw8uIq2Km3VT6vtV5eufr0mek1rgV7ByoLBtQFr6wtVCuWFfevc1+1dT1gvWd+1YfqGnRs+FYmKrhTbF5cVf9go3HjlG4dvyr+Z3JS0qavEuWTPZtJm6ebeLZ5bDpaql+aXDm4N2dq0Dd9WtO319kXbL5fNKNu7g7ZDuaO/PLi8ZafJzs07P1SkVPRU+lQ27tLdtWHX+G7R7ht7vPY07NXbW7z3/T7JvttVAVVN1WbVZftJ+7P3P66Jqun4lvttXa1ObXHtxwPSA/0HIw6217nU1R3SPVRSj9Yr60cOxx++/p3vdy0NNg1VjZzG4iNwRHnk6fcJ3/ceDTradox7rOEH0x92HWcdL2pCmvKaRptTmvtbYlu6T8w+0dbq3nr8R9sfD5w0PFl5SvNUyWna6YLTk2fyz4ydlZ19fi753GDborZ752PO32oPb++6EHTh0kX/i+c7vDvOXPK4dPKy2+UTV7hXmq86X23qdOo8/pPTT8e7nLuarrlca7nuer21e2b36RueN87d9L158Rb/1tWeOT3dvfN6b/fF9/XfFt1+cif9zsu72Xcn7q28T7xf9EDtQdlD3YfVP1v+3Njv3H9qwHeg89HcR/cGhYPP/pH1jw9DBY+Zj8uGDYbrnjg+OTniP3L96fynQ89kzyaeF/6i/suuFxYvfvjV69fO0ZjRoZfyl5O/bXyl/erA6xmv28bCxh6+yXgzMV70VvvtwXfcdx3vo98PT+R8IH8o/2j5sfVT0Kf7kxmTk/8EA5jz/GMzLdsAAAAgY0hSTQAAeiUAAICDAAD5/wAAgOkAAHUwAADqYAAAOpgAABdvkl/FRgAAATpJREFUeNoszrFqVFEUheG19zlz7sQ7ijMQBAvfYBqbpJCoZSAQbOwEE1IHGytbLQUJ8SUktW8gCCFJMSGSNxCmFBJO7j5rpXD6n5/P5vM53H3b3T9LOiB5AQDuDjM7BnA7DMPHDGBH0nuSzwHsRcRVRNRSysuU0i6AOwA/02w2+9Fae00SEbEh6SGAR5K+k3zWWptKepCm0+kpyRoRGyRBcpPkDsn1iEBr7drdP2VJZyQXERGSPpiZAViTBACXKaV9kqd5uVzCzO5KKb/d/UZSDwD/eyxqree1VqSu6zKAF2Z2RPJJaw0rAkjOJT0m+SuT/AbgDcmnkmBmfwAsJL1dXQ8lWY6IGwB1ZbrOOb8zs8thGP4COFwx/mE8Ho9Go9ErMzvJOW/1fY/JZIJSypqZfXX3L13X9fcDAKJct1sx3OiuAAAAAElFTkSuQmCC)",display:"none",cursor:"pointer"}),this.$buttons.css({padding:5,textAlign:"right",borderTop:"1px solid #ccc",backgroundColor:"#fff"}),this.$buttons.find("button").css({marginLeft:5}),this.$buttons.find("button:first").css({marginLeft:0}),this.$bar.bind({mouseenter:function(){a(this).find(".noty_close").fadeIn()},mouseleave:function(){a(this).find(".noty_close").fadeOut()}});switch(this.options.layout.name){case"top":this.$bar.css({borderRadius:"0px 0px 5px 5px",borderBottom:"2px solid #eee",borderLeft:"2px solid #eee",borderRight:"2px solid #eee",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.1)"});break;case"topCenter":case"center":case"bottomCenter":case"inline":this.$bar.css({borderRadius:"5px",border:"1px solid #eee",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.1)"}),this.$message.css({fontSize:"13px",textAlign:"center"});break;case"topLeft":case"topRight":case"bottomLeft":case"bottomRight":case"bottomRightPoint":case"centerLeft":case"centerRight":this.$bar.css({borderRadius:"5px 5px 0px 0px",border:"1px solid #eee",borderBottom:"0px",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.1)"}),this.$message.css({fontSize:"13px",textAlign:"left"});break;case"bottom":this.$bar.css({borderRadius:"5px 5px 0px 0px",borderTop:"2px solid #eee",borderLeft:"2px solid #eee",borderRight:"2px solid #eee",boxShadow:"0 -2px 4px rgba(0, 0, 0, 0.1)"});break;default:this.$bar.css({border:"2px solid #eee",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.1)"})}switch(this.options.type){case"alert":case"notification":this.$bar.css({backgroundColor:"#FFF",borderColor:"#CCC",color:"#444"});break;case"warning":this.$bar.css({backgroundColor:"#FFEAA8",borderColor:"#FFC237",color:"#826200"}),this.$buttons.css({borderTop:"1px solid #FFC237"});break;case"error":this.$bar.css({backgroundColor:"red",borderColor:"darkred",color:"#FFF"}),this.$message.css({fontWeight:"bold"}),this.$buttons.css({borderTop:"1px solid darkred"});break;case"information":this.$bar.css({backgroundColor:"#57B7E2",borderColor:"#0B90C4",color:"#FFF"}),this.$buttons.css({borderTop:"1px solid #0B90C4"});break;case"success":this.$bar.css({backgroundColor:"lightgreen",borderColor:"#50C24E",color:"darkgreen"}),this.$buttons.css({borderTop:"1px solid #50C24E"});break;default:this.$bar.css({backgroundColor:"#FFF",borderColor:"#CCC",color:"#444"})}},callback:{onShow:function(){a.noty.themes.defaultTheme.helpers.borderFix.apply(this)},onClose:function(){a.noty.themes.defaultTheme.helpers.borderFix.apply(this)}}}})(jQuery)
;function PointNotify(){}PointNotify.AddedPointNotify=function(a){a>0&&(window.ReviewLanguages?noty({text:ReviewLanguages.Common_You_Have+' <b style="color:#06a703;">+'+a+" "+ReviewLanguages.Common_Points+"</b> "+ReviewLanguages.Redeem_OrderStatus_Pending+"!",type:"Information",dismissQueue:!0,layout:"bottomRight",theme:"defaultTheme",timeout:1e4}):noty({text:'Bạn có <b style="color:#06a703;">+'+a+" điểm</b> chờ duyệt!",type:"Information",dismissQueue:!0,layout:"bottomRight",theme:"defaultTheme",timeout:1e4}))},PointNotify.RemovedPointNotify=function(a){a>0&&(window.ReviewLanguages?noty({text:ReviewLanguages.Review_You_Lose+' <b style="color:#cc0000;">-'+a+" "+ReviewLanguages.Common_Points+"</b>!",type:"Information",dismissQueue:!0,layout:"bottomRight",theme:"defaultTheme",timeout:1e4}):noty({text:'Bạn đã bị <b style="color:#cc0000;">-'+a+" điểm</b>!",type:"Information",dismissQueue:!0,layout:"bottomRight",theme:"defaultTheme",timeout:1e4}))}
;var BoxNotification=function(a){function e(a){return!a||a.indexOf(location.origin)===0||a.indexOf("/")===0?"":"_blank"}function f(a){return a}function g(a){return a.Target=e(a.Url),a}function h(a){return a}function i(a){$(".notifications-box.tab-idx-"+a).animate({scrollTop:$(".notifications-box.tab-idx-"+a)[0].scrollHeight},"slow")}function j(a){if(!a)return;for(var c in a.Items){var d=a.Items[c];b.ListNotification.Items.push(f(d))}b.ListNotification.Total(a.TotalResult),b.ListNotification.LastId(a.LastId),i(1)}function k(a){if(!a)return;for(var c in a.Items){var d=a.Items[c];b.ListNews.Items.push(g(d))}b.ListNews.Total(a.TotalResult),b.ListNews.LastId(a.LastId),i(2)}function l(a){if(!a)return;for(var c in a.Items){var d=a.Items[c];b.ListActivity.Items.push(h(d))}b.ListActivity.Total(a.TotalResult),b.ListActivity.LastId(a.LastId),i(3)}function m(a,c){if(!a)return;c=c?c*1:0,setTimeout(function(){b.Summary.Notify.Total(a.TotalNotify),b.Summary.Notify.UnRead(a.TotalNotifyUnRead),b.Summary.News.Total(a.TotalNews),b.Summary.News.UnRead(a.TotalNewsUnRead)},c)}function n(a){$.post("/Notification/GetSummary",{},function(b){if(!b||b.error){console.log(b);return}a(b)}).error(function(a){console.log(a)})}function o(a){$.post("/Notification/Notifications",{},function(b){if(!b||b.error){console.log(b);return}a(b)}).error(function(a){console.log(a)})}function p(a){b.ListNotification.IsLoading(!0),$.post("/Notification/ListNotification",{lastId:b.ListNotification.LastId()},function(a){if(!a||a.error){console.log(a);return}j(a),b.ListNotification.IsLoading(!1)}).error(function(a){console.log(a)})}function q(a){b.ListNews.IsLoading(!0),$.post("/Notification/ListNews",{lastId:b.ListNews.LastId()},function(a){if(!a||a.error){console.log(a);return}k(a),b.ListNews.IsLoading(!1)}).error(function(a){console.log(a)})}function r(a){b.ListActivity.IsLoading(!0),$.post("/Notification/ListActivity",{lastId:b.ListActivity.LastId()},function(a){if(!a||a.error){console.log(a);return}l(a),b.ListActivity.IsLoading(!1)}).error(function(a){console.log(a)})}function s(){if(b.IsLoginRequire()||b.Summary.Notify.UnRead()==0)return;$.post("/Notification/MarkAsRead",{type:1},function(a){if(!a||a.error){console.log(a);return}setTimeout(function(){b.Summary.Notify.UnRead(0)},2e3)}).error(function(a){console.log(a)})}function t(){if(b.IsLoginRequire()||b.Summary.News.UnRead()==0)return;$.post("/Notification/MarkAsRead",{type:2},function(a){if(!a||a.error){console.log(a);return}setTimeout(function(){b.Summary.News.UnRead(0)},2e3)}).error(function(a){console.log(a)})}function u(){}function v(a){if(b.IsInit())return;b.IsLoading(!0),b.ListNotification.IsLoading(!0),b.ListNews.IsLoading(!0),b.ListActivity.IsLoading(!0),o(function(a){j(a.LstNotify),k(a.LstNews),l(a.LstActivity),m(a.Summary,2e3),b.ListNotification.IsLoading(!1),b.ListNews.IsLoading(!1),b.ListActivity.IsLoading(!1),b.IsLoginRequire()==0?b.fnTabClick(1):b.fnTabClick(2),b.IsLoading(!1),b.IsInit(!0)})}function w(){if(b.IsLoginRequire())return;n(function(a){m(a)})}var b=this,c=function(a){var b=this;b.Total=ko.observable(0),b.LastId=ko.observable(0),b.Count=ko.observable(0),b.Items=ko.observableArray([]),b.CountUnread=ko.observable(0),b.IsLoading=ko.observable(!1),b.TotalRemain=function(){return b.Total()-b.Items().length},b.fnReset=function(){b.Total(0),b.LastId(null),b.Items([]),b.CountUnread(0),b.IsLoading(!1)}},d="#notificationsFlyout";b.ListNotification=new c(b),b.ListNews=new c(b),b.ListActivity=new c(b),b.Summary={Notify:{Total:ko.observable(0),UnRead:ko.observable(0)},News:{Total:ko.observable(0),UnRead:ko.observable(0)}},b.Summary.TotalUnread=function(){var a=b.Summary.Notify.UnRead()+b.Summary.News.UnRead();return a>0?a:""},b.ActiveTab=ko.observable(null),b.IsActiveTab=function(a){return a==b.ActiveTab()},b.UserId=ko.observable(a.UserId),b.IsLoginRequire=ko.observable(!(b.UserId()>0)),b.IsLoading=ko.observable(!1),b.IsInit=ko.observable(!1),b.fnTabClick=function(a){a=a?a*1:1,b.ActiveTab(a);switch(a){case 1:s();break;case 2:t();break;case 3:u()}},b.fnLogin=function(){angular.element('div[ng-controller="HelperCtrl"]').scope().ShowDlgLogin(function(a){a.LoggedIn&&(b.IsLoginRequire(!1),b.fnReset())})},b.fnLoadMore=function(a){a=a?a*1:1;switch(a){case 1:p();break;case 2:q();break;case 3:r()}},b.fnReset=function(){b.ListNotification.fnReset(),b.ListNews.fnReset(),b.ListActivity.fnReset(),b.IsInit(!1),b.fnShowToggle()},w(),b.fnShowToggle=function(){$(d).toggle(),v()},b.fnHide=function(){$(d).hide()},b.fnShow=function(){$(d).show()}}
;/*! Copyright (c) 2011 Brandon Aaron (http://brandonaaron.net)
 * Licensed under the MIT License (LICENSE.txt).
 *
 * Thanks to: http://adomas.org/javascript-mouse-wheel/ for some pointers.
 * Thanks to: Mathias Bank(http://www.mathias-bank.de) for a scope bug fix.
 * Thanks to: Seamus Leahy for adding deltaX and deltaY
 *
 * Version: 3.0.6
 * 
 * Requires: 1.2.2+
 */
(function(a){function d(b){var c=b||window.event,d=[].slice.call(arguments,1),e=0,f=!0,g=0,h=0;return b=a.event.fix(c),b.type="mousewheel",c.wheelDelta&&(e=c.wheelDelta/120),c.detail&&(e=-c.detail/3),h=e,c.axis!==undefined&&c.axis===c.HORIZONTAL_AXIS&&(h=0,g=-1*e),c.wheelDeltaY!==undefined&&(h=c.wheelDeltaY/120),c.wheelDeltaX!==undefined&&(g=-1*c.wheelDeltaX/120),d.unshift(b,e,g,h),(a.event.dispatch||a.event.handle).apply(this,d)}var b=["DOMMouseScroll","mousewheel"];if(a.event.fixHooks)for(var c=b.length;c;)a.event.fixHooks[b[--c]]=a.event.mouseHooks;a.event.special.mousewheel={setup:function(){if(this.addEventListener)for(var a=b.length;a;)this.addEventListener(b[--a],d,!1);else this.onmousewheel=d},teardown:function(){if(this.removeEventListener)for(var a=b.length;a;)this.removeEventListener(b[--a],d,!1);else this.onmousewheel=null}},a.fn.extend({mousewheel:function(a){return a?this.bind("mousewheel",a):this.trigger("mousewheel")},unmousewheel:function(a){return this.unbind("mousewheel",a)}})})(jQuery)

;(function(a){var b={init:function(b){function d(){return"ontouchstart"in window?1:0}var c={set_width:!1,set_height:!1,horizontalScroll:!1,scrollInertia:550,scrollEasing:"easeOutCirc",mouseWheel:"auto",autoDraggerLength:!0,scrollButtons:{enable:!1,scrollType:"continuous",scrollSpeed:20,scrollAmount:40},advanced:{updateOnBrowserResize:!0,updateOnContentResize:!1,autoExpandHorizontalScroll:!1},callbacks:{onScroll:function(){},onTotalScroll:function(){},onTotalScrollOffset:0}},b=a.extend(!0,c,b);return a(document).data("mCS-is-touch-device",!1),d()&&a(document).data("mCS-is-touch-device",!0),this.each(function(){var c=a(this);b.set_width&&c.css("width",b.set_width),b.set_height&&c.css("height",b.set_height);if(!a(document).data("mCustomScrollbar-index"))a(document).data("mCustomScrollbar-index","1");else{var e=parseInt(a(document).data("mCustomScrollbar-index"));a(document).data("mCustomScrollbar-index",e+1)}c.wrapInner("<div class='mCustomScrollBox' style='position:relative; height:100%; overflow:hidden; max-width:100%;' />").addClass("mCustomScrollbar _mCS_"+a(document).data("mCustomScrollbar-index"));var f=c.children(".mCustomScrollBox");if(b.horizontalScroll){f.addClass("mCSB_horizontal").wrapInner("<div class='mCSB_h_wrapper' style='position:relative; left:0; width:999999px;' />");var g=f.children(".mCSB_h_wrapper");g.wrapInner("<div class='mCSB_container' style='position:absolute; left:0;' />").children(".mCSB_container").css({width:g.children().outerWidth(),position:"relative"}).unwrap()}else f.wrapInner("<div class='mCSB_container' style='position:relative; top:0;' />");var h=f.children(".mCSB_container");if(!a(document).data("mCS-is-touch-device")){h.after("<div class='mCSB_scrollTools' style='position:absolute;'><div class='mCSB_draggerContainer' style='position:relative;'><div class='mCSB_dragger' style='position:absolute;'><div class='mCSB_dragger_bar' style='position:relative;'></div></div><div class='mCSB_draggerRail'></div></div></div>");var i=f.children(".mCSB_scrollTools"),j=i.children(".mCSB_draggerContainer"),k=j.children(".mCSB_dragger");b.horizontalScroll?k.data("minDraggerWidth",k.width()):k.data("minDraggerHeight",k.height()),b.scrollButtons.enable&&(b.horizontalScroll?i.prepend("<a class='mCSB_buttonLeft' style='display:block; position:relative;'></a>").append("<a class='mCSB_buttonRight' style='display:block; position:relative;'></a>"):i.prepend("<a class='mCSB_buttonUp' style='display:block; position:relative;'></a>").append("<a class='mCSB_buttonDown' style='display:block; position:relative;'></a>")),f.bind("scroll",function(){f.scrollTop(0).scrollLeft(0)}),c.data({horizontalScroll:b.horizontalScroll,scrollInertia:b.scrollInertia,scrollEasing:b.scrollEasing,mouseWheel:b.mouseWheel,autoDraggerLength:b.autoDraggerLength,"scrollButtons-enable":b.scrollButtons.enable,"scrollButtons-scrollType":b.scrollButtons.scrollType,"scrollButtons-scrollSpeed":b.scrollButtons.scrollSpeed,"scrollButtons-scrollAmount":b.scrollButtons.scrollAmount,autoExpandHorizontalScroll:b.advanced.autoExpandHorizontalScroll,"onScroll-Callback":b.callbacks.onScroll,"onTotalScroll-Callback":b.callbacks.onTotalScroll,"onTotalScroll-Offset":b.callbacks.onTotalScrollOffset}).mCustomScrollbar("update");if(b.advanced.updateOnBrowserResize){var l;a(window).resize(function(){l&&clearTimeout(l),l=setTimeout(function(){c.mCustomScrollbar("update")},150)})}}else f.css({overflow:"auto","-webkit-overflow-scrolling":"touch"}),h.addClass("mCS_no_scrollbar mCS_touch"),c.data({horizontalScroll:b.horizontalScroll,scrollInertia:b.scrollInertia,scrollEasing:b.scrollEasing,autoExpandHorizontalScroll:b.advanced.autoExpandHorizontalScroll,"onScroll-Callback":b.callbacks.onScroll,"onTotalScroll-Callback":b.callbacks.onTotalScroll,"onTotalScroll-Offset":b.callbacks.onTotalScrollOffset}),f.scroll(function(){c.mCustomScrollbar("callbacks",f,h)});if(b.advanced.updateOnContentResize){var m;if(b.horizontalScroll){var n=h.outerWidth();d()&&f.css({"-webkit-overflow-scrolling":"auto"})}else var n=h.outerHeight();m=setInterval(function(){if(b.horizontalScroll){b.advanced.autoExpandHorizontalScroll&&h.css({position:"absolute",width:"auto"}).wrap("<div class='mCSB_h_wrapper' style='position:relative; left:0; width:999999px;' />").css({width:h.outerWidth(),position:"relative"}).unwrap();var a=h.outerWidth()}else var a=h.outerHeight();a!=n&&(c.mCustomScrollbar("update"),n=a)},300)}})},update:function(){var b=a(this),c=b.children(".mCustomScrollBox"),d=c.children(".mCSB_container");a(document).data("mCS-is-touch-device")||d.removeClass("mCS_no_scrollbar");var e=c.children(".mCSB_scrollTools"),f=e.children(".mCSB_draggerContainer"),g=f.children(".mCSB_dragger");if(b.data("horizontalScroll")){var h=e.children(".mCSB_buttonLeft"),i=e.children(".mCSB_buttonRight"),j=c.width();b.data("autoExpandHorizontalScroll")&&d.css({position:"absolute",width:"auto"}).wrap("<div class='mCSB_h_wrapper' style='position:relative; left:0; width:999999px;' />").css({width:d.outerWidth(),position:"relative"}).unwrap();var k=d.outerWidth()}else var l=e.children(".mCSB_buttonUp"),m=e.children(".mCSB_buttonDown"),n=c.height(),o=d.outerHeight();if(o>n&&!b.data("horizontalScroll")&&!a(document).data("mCS-is-touch-device")){e.css("display","block");var p=f.height();if(b.data("autoDraggerLength")){var q=Math.round(o-(o-n)*1.3),r=g.data("minDraggerHeight");if(q<=r)g.css({height:r});else if(q>=p-10){var s=p-10;g.css({height:s})}else g.css({height:q});g.children(".mCSB_dragger_bar").css({"line-height":g.height()+"px"})}var t=g.height(),u=(o-n)/(p-t);b.data("scrollAmount",u),b.mCustomScrollbar("scrolling",c,d,f,g,l,m,h,i),g.position().top>p-t&&g.css("top",p-t),b.mCustomScrollbar("scroll",!0)}else if(k>j&&b.data("horizontalScroll")&&!a(document).data("mCS-is-touch-device")){e.css("display","block");var v=f.width();if(b.data("autoDraggerLength")){var w=Math.round(k-(k-j)*1.3),x=g.data("minDraggerWidth");if(w<=x)g.css({width:x});else if(w>=v-10){var y=v-10;g.css({width:y})}else g.css({width:w})}var z=g.width(),u=(k-j)/(v-z);b.data("scrollAmount",u),b.mCustomScrollbar("scrolling",c,d,f,g,l,m,h,i),g.position().left>v-z&&g.css("left",v-z),b.mCustomScrollbar("scroll",!0)}else c.unbind("mousewheel"),c.unbind("focusin"),b.data("horizontalScroll")?g.add(d).css("left",0):g.add(d).css("top",0),e.css("display","none"),d.addClass("mCS_no_scrollbar")},scrolling:function(b,c,d,e,f,g,h,i){var j=a(this);if(!e.hasClass("ui-draggable")){if(j.data("horizontalScroll"))var k="x";else var k="y";e.draggable({axis:k,containment:"parent",drag:function(a,b){j.mCustomScrollbar("scroll"),e.addClass("mCSB_dragger_onDrag")},stop:function(a,b){e.removeClass("mCSB_dragger_onDrag")}})}d.unbind("click").bind("click",function(a){if(j.data("horizontalScroll")){var b=a.pageX-d.offset().left;if(b<e.position().left||b>e.position().left+e.width()){var c=b;c>=d.width()-e.width()&&(c=d.width()-e.width()),e.css("left",c),j.mCustomScrollbar("scroll")}}else{var b=a.pageY-d.offset().top;if(b<e.position().top||b>e.position().top+e.height()){var c=b;c>=d.height()-e.height()&&(c=d.height()-e.height()),e.css("top",c),j.mCustomScrollbar("scroll")}}});if(j.data("mouseWheel")){var l=j.data("mouseWheel");if(j.data("mouseWheel")==="auto"){l=8;var m=navigator.userAgent;m.indexOf("Mac")!=-1&&m.indexOf("Safari")!=-1&&m.indexOf("AppleWebKit")!=-1&&m.indexOf("Chrome")==-1&&(l=1)}b.unbind("mousewheel").bind("mousewheel",function(a,b){a.preventDefault();var c=Math.abs(b*l);if(j.data("horizontalScroll")){var f=e.position().left-b*c;e.css("left",f),e.position().left<0&&e.css("left",0);var g=d.width(),h=e.width();e.position().left>g-h&&e.css("left",g-h)}else{var i=e.position().top-b*c;e.css("top",i),e.position().top<0&&e.css("top",0);var k=d.height(),m=e.height();e.position().top>k-m&&e.css("top",k-m)}j.mCustomScrollbar("scroll")})}if(j.data("scrollButtons-enable"))if(j.data("scrollButtons-scrollType")==="pixels"){var n;a.browser.msie&&parseInt(a.browser.version)<9&&j.data("scrollInertia",0),j.data("horizontalScroll")?(i.add(h).unbind("click mousedown mouseup mouseout",r,t),i.bind("click",function(a){a.preventDefault(),c.is(":animated")||(n=Math.abs(c.position().left)+j.data("scrollButtons-scrollAmount"),j.mCustomScrollbar("scrollTo",n))}),h.bind("click",function(a){a.preventDefault(),c.is(":animated")||(n=Math.abs(c.position().left)-j.data("scrollButtons-scrollAmount"),c.position().left>=-j.data("scrollButtons-scrollAmount")&&(n="left"),j.mCustomScrollbar("scrollTo",n))})):(g.add(f).unbind("click mousedown mouseup mouseout",x,z),g.bind("click",function(a){a.preventDefault(),c.is(":animated")||(n=Math.abs(c.position().top)+j.data("scrollButtons-scrollAmount"),j.mCustomScrollbar("scrollTo",n))}),f.bind("click",function(a){a.preventDefault(),c.is(":animated")||(n=Math.abs(c.position().top)-j.data("scrollButtons-scrollAmount"),c.position().top>=-j.data("scrollButtons-scrollAmount")&&(n="top"),j.mCustomScrollbar("scrollTo",n))}))}else if(j.data("horizontalScroll")){i.add(h).unbind("click mousedown mouseup mouseout",r,t);var o,p=d.width(),q=e.width();i.bind("mousedown",function(a){a.preventDefault();var b=p-q;o=setInterval(function(){var a=Math.abs(e.position().left-b)*(100/j.data("scrollButtons-scrollSpeed"));e.stop().animate({left:b},a,"linear"),j.mCustomScrollbar("scroll")},20)});var r=function(a){a.preventDefault(),clearInterval(o),e.stop()};i.bind("mouseup mouseout",r);var s;h.bind("mousedown",function(a){a.preventDefault();var b=0;s=setInterval(function(){var a=Math.abs(e.position().left-b)*(100/j.data("scrollButtons-scrollSpeed"));e.stop().animate({left:b},a,"linear"),j.mCustomScrollbar("scroll")},20)});var t=function(a){a.preventDefault(),clearInterval(s),e.stop()};h.bind("mouseup mouseout",t)}else{g.add(f).unbind("click mousedown mouseup mouseout",x,z);var u,v=d.height(),w=e.height();g.bind("mousedown",function(a){a.preventDefault();var b=v-w;u=setInterval(function(){var a=Math.abs(e.position().top-b)*(100/j.data("scrollButtons-scrollSpeed"));e.stop().animate({top:b},a,"linear"),j.mCustomScrollbar("scroll")},20)});var x=function(a){a.preventDefault(),clearInterval(u),e.stop()};g.bind("mouseup mouseout",x);var y;f.bind("mousedown",function(a){a.preventDefault();var b=0;y=setInterval(function(){var a=Math.abs(e.position().top-b)*(100/j.data("scrollButtons-scrollSpeed"));e.stop().animate({top:b},a,"linear"),j.mCustomScrollbar("scroll")},20)});var z=function(a){a.preventDefault(),clearInterval(y),e.stop()};f.bind("mouseup mouseout",z)}b.unbind("focusin").bind("focusin",function(){b.scrollTop(0).scrollLeft(0);var f=a(document.activeElement);if(f.is("input,textarea,select,button,a,area,object"))if(j.data("horizontalScroll")){var g=c.position().left,h=f.position().left,i=b.width(),k=f.outerWidth();if(!(g+h>=0&&g+h<=i-k)){var l=h/j.data("scrollAmount");l>=d.width()-e.width()&&(l=d.width()-e.width()),e.css("left",l),j.mCustomScrollbar("scroll")}}else{var m=c.position().top,n=f.position().top,o=b.height(),p=f.outerHeight();if(!(m+n>=0&&m+n<=o-p)){var l=n/j.data("scrollAmount");l>=d.height()-e.height()&&(l=d.height()-e.height()),e.css("top",l),j.mCustomScrollbar("scroll")}}})},scroll:function(b){var c=a(this),d=c.find(".mCSB_dragger"),e=c.find(".mCSB_container"),f=c.find(".mCustomScrollBox");if(c.data("horizontalScroll"))var g=d.position().left,h=-g*c.data("scrollAmount"),i=e.position().left,j=Math.round(i-h);else var k=d.position().top,l=-k*c.data("scrollAmount"),m=e.position().top,n=Math.round(m-l);if(a.browser.webkit)var o=(window.outerWidth-8)/window.innerWidth,p=o<.98||o>1.02;c.data("scrollInertia")===0||p?(c.data("horizontalScroll")?e.css("left",h):e.css("top",l),b||c.mCustomScrollbar("callbacks",f,e)):c.data("horizontalScroll")?e.stop().animate({left:"-="+j},c.data("scrollInertia"),c.data("scrollEasing"),function(){b||c.mCustomScrollbar("callbacks",f,e)}):e.stop().animate({top:"-="+n},c.data("scrollInertia"),c.data("scrollEasing"),function(){b||c.mCustomScrollbar("callbacks",f,e)})},scrollTo:function(b,c){var d={moveDragger:!1,callback:!0},c=a.extend(d,c),e=a(this),f,g=e.find(".mCustomScrollBox"),h=g.children(".mCSB_container");if(!a(document).data("mCS-is-touch-device"))var i=e.find(".mCSB_draggerContainer"),j=i.children(".mCSB_dragger");var k;if(b){if(typeof b=="number")c.moveDragger?f=b:(k=b,f=Math.round(k/e.data("scrollAmount")));else if(typeof b=="string"){var l;b==="top"?l=0:b==="bottom"&&!e.data("horizontalScroll")?l=h.outerHeight()-g.height():b==="left"?l=0:b==="right"&&e.data("horizontalScroll")?l=h.outerWidth()-g.width():b==="first"?l=e.find(".mCSB_container").find(":first"):b==="last"?l=e.find(".mCSB_container").find(":last"):l=e.find(b),l.length===1?(e.data("horizontalScroll")?k=l.position().left:k=l.position().top,a(document).data("mCS-is-touch-device")?f=k:f=Math.ceil(k/e.data("scrollAmount"))):f=l}a(document).data("mCS-is-touch-device")?e.data("horizontalScroll")?g.stop().animate({scrollLeft:f},e.data("scrollInertia"),e.data("scrollEasing"),function(){c.callback&&e.mCustomScrollbar("callbacks",g,h)}):g.stop().animate({scrollTop:f},e.data("scrollInertia"),e.data("scrollEasing"),function(){c.callback&&e.mCustomScrollbar("callbacks",g,h)}):(e.data("horizontalScroll")?(f>=i.width()-j.width()&&(f=i.width()-j.width()),j.css("left",f)):(f>=i.height()-j.height()&&(f=i.height()-j.height()),j.css("top",f)),c.callback?e.mCustomScrollbar("scroll"):e.mCustomScrollbar("scroll",!0))}},callbacks:function(b,c){var d=a(this);if(!a(document).data("mCS-is-touch-device"))if(d.data("horizontalScroll")){var e=Math.round(c.position().left);e<0&&e<=b.width()-c.outerWidth()+d.data("onTotalScroll-Offset")?d.data("onTotalScroll-Callback").call():d.data("onScroll-Callback").call()}else{var f=Math.round(c.position().top);f<0&&f<=b.height()-c.outerHeight()+d.data("onTotalScroll-Offset")?d.data("onTotalScroll-Callback").call():d.data("onScroll-Callback").call()}else if(d.data("horizontalScroll")){var g=Math.round(b.scrollLeft());g>0&&g>=c.outerWidth()-d.width()-d.data("onTotalScroll-Offset")?d.data("onTotalScroll-Callback").call():d.data("onScroll-Callback").call()}else{var h=Math.round(b.scrollTop());h>0&&h>=c.outerHeight()-d.height()-d.data("onTotalScroll-Offset")?d.data("onTotalScroll-Callback").call():d.data("onScroll-Callback").call()}}};a.fn.mCustomScrollbar=function(c){if(b[c])return b[c].apply(this,Array.prototype.slice.call(arguments,1));if(typeof c=="object"||!c)return b.init.apply(this,arguments);a.error("Method "+c+" does not exist")}})(jQuery)
;function AutoCompleteMode(a,b,c){var d=this;d.inputElement=$(a),d.panel=$(b),d.options=c||{},d.options.minLength=c.minLength||2,d.options.delay=c.delay||300,d.options.showImg=ko.observable(c.showImg),d.options.showAddress=ko.observable(c.showAddress),d.options.goDetailsOnSelect=ko.observable(c.goDetailsOnSelect),d.options.detailsLinkText=ko.observable(c.detailsLinkText||"Details"),d.options.allResultLinkText=ko.observable(c.allResultLinkText||"Show all result"),d.options.viewMoreLinkText=ko.observable(c.viewMoreLinkText||"View more"),d.options.closedLinkText=ko.observable(c.closedLinkText||"Closed"),d.currentIndex=ko.observable(-1),d.isShow=ko.observable(!1),d.items=ko.observableArray([]),d.selectItem=function(a,b){var c=d.inputElement.val();d.inputElement.data("keyword",a.name),d.isShow(!1);if(a.type!="Restaurant"&&a.type!="User"&&a.type!="Brand"&&a.type!="List"&&a.type!="Article"&&a.type!="Directory"&&a.type!="Picture"&&a.type!="PhotoCollection")d.options.onItemSelected&&d.options.onItemSelected(a,b);else if(b.which!=13&&d.options.goDetailsOnSelect()||a.city||b.target.className=="foo-au-item-details-link"||b.target.className=="foo-au-item-img"){var e=d.inputElement.parents("form").attr("action");ga("send","pageview",e+"?q="+c),setTimeout(function(){location.href=a.link},200)}else d.isShow(!1),d.options.onItemSelected&&d.options.onItemSelected(a,b)},d.refreshPanel=function(){var b=d.inputElement.offset(),c=b.left+(d.options.offsetLeft||0)-80,e=b.top+a.height()+parseInt(d.inputElement.css("padding-top"))+parseInt(d.inputElement.css("padding-bottom"))+parseInt(d.inputElement.css("border-top-width"))+parseInt(d.inputElement.css("border-bottom-width")+1)+(d.options.offsetTop||0),f=a.width()+parseInt(d.inputElement.css("padding-left"))+parseInt(d.inputElement.css("padding-right"))+parseInt(d.inputElement.css("border-left-width"))+parseInt(d.inputElement.css("border-right-width"))+(d.options.offsetWidth||0)+40;d.panel.width(f).offset({top:e,left:c})},d.hoverItem=function(a,b){a.selected(!1),d.currentIndex(-1)},d.handleShowAllItem=function(a,b){$("li",b.currentTarget.parentNode).show(),$(b.currentTarget).hide()},d.keyword=ko.computed(function(){if(d.currentIndex()>=0){var b=d.items()[d.currentIndex()].name;return d.inputElement.data("keyword")||d.inputElement.data("keyword",d.inputElement.val()),a.val(b),b}return userInput=d.inputElement.data("keyword"),d.inputElement.data("keyword",""),userInput&&a.val(userInput),userInput}),d.categories=ko.computed(function(){var a={};for(var b=0;b<d.items().length;b++){var c=d.items()[b];a[c.category]||(a[c.category]={name:c.category||"&nbsp;",categoryIcon:c.categoryIcon,categoryLink:c.categoryLink,hasMoreItem:ko.observable(c.hasMoreItem),items:[]}),a[c.category].items.push(c)}var e=[];for(var f in a)e.push(a[f]);return e.length>0&&(_isFilterBoxShow()?d.isShow(!1):(d.isShow(!0),_hideSearchFilter()),$(".suggestion-box").hide(),d.refreshPanel()),e}),d.lastAjax=null,d.lastLoadTimer=0,d.filterKeyword=function(a,b){if(b.which==8||b.which==9||b.which==13||b.which==16||b.which==17||b.which==18||b.which==19||b.which==20||b.which==27||b.which==33||b.which==34||b.which==35||b.which==36||b.which==37||b.which==38||b.which==39||b.which==40||b.which==45||b.which==46){d.items().length>0&&!d.isShow()&&b.which!=27&&(_isFilterBoxShow()?d.isShow(!1):(d.isShow(!0),_hideSearchFilter()),$(".suggestion-box").hide(),d.refreshPanel());switch(b.which){case 13:d.currentIndex()>=0&&d.selectItem(d.items()[d.currentIndex()],b);break;case 40:d.currentIndex()<d.items().length-1?d.currentIndex(d.currentIndex()+1):d.currentIndex(-1);break;case 38:d.currentIndex()>0?d.currentIndex(d.currentIndex()-1):d.currentIndex()==-1?d.currentIndex(d.items().length-1):d.currentIndex(-1);break;case 27:d.currentIndex(-1),d.isShow(!1)}for(var c=0;c<d.items().length;c++)c==d.currentIndex()?d.items()[c].selected(!0):d.items()[c].selected(!1);return d.currentTerm()==d.inputElement.val()||d.currentIndex()>=0&&d.items()[d.currentIndex()].name==d.inputElement.val()?!0:(d.loadSource(d.inputElement.val().trim()),!0)}return d.loadSource(d.inputElement.val().trim()),!0},d.currentTerm=ko.observable(""),d.caches={},d.loadSource=function(a){if(a==d.currentTerm()||a.length<d.options.minLength)return a.length<d.options.minLength&&d.isShow(!1),!0;d.lastLoadTimer&&clearTimeout(d.lastLoadTimer),d.inputElement.data("keyword",d.inputElement.val()),d.currentIndex(-1),d.lastLoadTimer=setTimeout(function(){var b=d.caches[a];if(!b){var c={term:a};if(typeof d.options.source=="function")d.currentTerm(a),d.options.source(c,d.processResult);else if(typeof d.options.source=="string"||typeof d.options.source=="undefined"){var e=d.options.source||d.inputElement.data("autocomplete-url");if(!e)return;d.lastAjax&&(d.lastAjax.abort(),d.lastAjax=null),d.lastAjax=$.getJSON(e,c,function(b){d.currentTerm(a),d.caches[a]=b,d.processResult(b)})}else d.currentTerm(a),d.processResult(d.options.source)}else d.currentTerm(a),d.processResult(b)},d.options.delay)},d.processResult=function(a){d.items.removeAll();if(a.length==0){d.isShow(!1);return}var b={};for(var c=0;c<a.length;c++){var e=a[c];b[e.category]||(b[e.category]={name:e.category,items:[]}),b[e.category].items.push(e)}for(var f in b)for(var c=0;c<b[f].items.length;c++)d.items.push({name:b[f].items[c].name,status:b[f].items[c].status,city:b[f].items[c].city,address:b[f].items[c].address,img:b[f].items[c].img,link:b[f].items[c].link,category:b[f].items[c].category,categoryIcon:b[f].items[c].categoryIcon,categoryLink:b[f].items[c].categoryLink,type:b[f].items[c].type,selected:ko.observable(!1),hasMoreItem:b[f].items[c].hasMoreItem,isOpening:b[f].items[c].isOpening,openString:b[f].items[c].openString,closeString:b[f].items[c].closeString})},d.showElement=function(a){a.nodeType===1&&$(a).hide().slideDown()},d.hideElement=function(a){a.nodeType===1&&$(a).slideUp(function(){$(a).remove()})},$(window).scroll(function(){d.refreshPanel()})}function _hideSearchFilter(){if(window.angular){var a=angular.element($('div[ng-controller="DlgSearchFilterCtrl"]')[0]).scope();a&&a.Hide()}}function _isFilterBoxShow(){var a=!0;if(window.angular){var b=angular.element($('div[ng-controller="DlgSearchFilterCtrl"]')[0]).scope();b&&(a=b.IsShow)}return a}function DefaultKeyword(a,b,c){var d=this;d.id=a,d.name=b,this.items=ko.observableArray([]),d.index=c,d.hasLoadItem=!1,d.currentIndex=ko.observable(-1),d.loadData=function(a){d.hasLoadItem?typeof a=="function"&&a(d):$.getJSON("/directory/restaurantsbydefaultkeyword",{keywordId:this.id},function(b){if(b.length>0){for(var c=0;c<b.length;c++)b[c].index=c,d.items.push(b[c]);d.currentIndex(0)}typeof a=="function"&&a(d),d.hasLoadItem=!0})},d.handleItemHover=function(a,b){d.currentIndex(a.index)}}function DefaultKeywordModel(a,b){var c=this;c.panel=b.panel||$("#defaultkeyword"),c.options=b,c.items=ko.observableArray([]),c.currentIndex=ko.observable(-1),c.isShow=ko.observable(!1),c.input=$(a),c.isActive=ko.observable(!0),c.input.focus(function(a){c.input.val().length>0?c.isShow(!1):c.items().length>0?(_isFilterBoxShow()?c.isShow(!1):(c.isShow(!0),_hideSearchFilter()),$(".suggestion-box").hide()):c.loadData(function(){c.items().length>0&&(_isFilterBoxShow()?c.isShow(!1):(c.isShow(!0),_hideSearchFilter()),$(".suggestion-box").hide())})}).keyup(function(a){if(c.input.val().length>0)return c.isShow(!1),!0;if(event.which==8||event.which==9||event.which==13||event.which==16||event.which==17||event.which==18||event.which==19||event.which==20||event.which==27||event.which==33||event.which==34||event.which==35||event.which==36||event.which==37||event.which==38||event.which==39||event.which==40||event.which==45||event.which==46){switch(event.which){case 40:if(c.isActive())c.currentIndex()<c.items().length-1?c.currentIndex(c.currentIndex()+1):c.currentIndex(-1);else if(c.currentIndex()>=0){var b=c.items()[c.currentIndex()];b.currentIndex()<b.items().length-1?b.currentIndex(b.currentIndex()+1):b.currentIndex(-1)}break;case 38:if(c.isActive())c.currentIndex()>0?c.currentIndex(c.currentIndex()-1):c.currentIndex()==-1?c.currentIndex(c.items().length-1):c.currentIndex(-1);else if(c.currentIndex()>=0){var b=c.items()[c.currentIndex()];b.currentIndex()>0?b.currentIndex(b.currentIndex()-1):b.currentIndex()==-1?b.currentIndex(b.items().length-1):b.currentIndex(-1)}break;case 27:c.isActive()&&(c.currentIndex(-1),c.isShow(!1));break;case 37:c.isActive()||c.isActive(!0);break;case 39:c.isActive()&&c.isActive(!1)}c.currentIndex()>=0&&(c.selectedItem(c.items()[c.currentIndex()]),c.selectedItem().loadData())}}),c.selectedItem=ko.observable({id:-1,items:[]}),c.handleItemClick=function(a,b){c.currentIndex(a.index),c.selectedItem(a),a.loadData()},c.loadData=function(a){$.getJSON("/directory/defaultkeywords",{provinceId:provinceId},function(b){if(b.length>0){for(var d=0;d<b.length;d++)c.items.push(new DefaultKeyword(b[d].id,b[d].name,d));c.selectedItem(c.items()[0]),c.selectedItem().loadData(),c.currentIndex(0)}typeof a=="function"&&a()})};var d=c.input.offset(),e=d.left+(c.options.offsetLeft||0)-1-80,f=d.top+c.input.height()+parseInt(c.input.css("padding-top"))+parseInt(c.input.css("padding-bottom"))+parseInt(c.input.css("border-top-width"))+parseInt(c.input.css("border-bottom-width")+1)+(c.options.offsetTop||0)+1,g=c.input.width()+parseInt(c.input.css("padding-left"))+parseInt(c.input.css("padding-right"))+parseInt(c.input.css("border-left-width"))+parseInt(c.input.css("border-right-width"))+(c.options.offsetWidth||0)+40;c.panel.width(g).offset({top:f,left:e})}(function(a){a.fn.foodyAutocomplete=function(b){var c=a('<div class="foo-au-suggest-panel" data-bind="fadeVisible:isShow()"><ul class="group" data-bind="foreach: categories()"><li><div class="left"><span data-bind="attr:{class: categoryIcon}"></span><a data-bind="attr:{href:categoryLink},html: name" class="foo-au-group-name"></a><a class="fod-au-viewmore" data-bind="text:$root.options.viewMoreLinkText(), attr:{href: categoryLink+\'?q=\'+$root.inputElement.val()}, visible: hasMoreItem()"/></div><ul class="foo-au-items"><!-- ko template:{foreach: items} --><li style="position: relative;" data-bind="visible:$index()<=3,css:{\'foo-au-item-selected\':selected(), \'foo-au-item-keyword\': type!=\'Restaurant\'}, event:{mouseover: $root.hoverItem, click:$root.selectItem}" class="foo-au-item"><a data-bind="text:$root.options.allResultLinkText(), visible: type!=\'Restaurant\'&&type!=\'User\'&&type!=\'Article\'&&type!=\'List\'&&type!=\'Directory\'&&type!=\'Picture\'&&type!=\'PhotoCollection\'&&type!=\'Brand\'&&link, attr:{href: link||\'javascript:void(0)\'}" class="foo-au-item-details-link"></a><img data-bind="css:{\'user-avatar\':type==\'User\'} ,attr:{title:$root.options.detailsLinkText },visible: img && $root.options.showImg(), attr:{src: img}" class="foo-au-item-img" /><span data-bind="text: name" class="foo-au-keyword-text"></span><span data-bind="visible:city, text: \' \' + city + \'\'" class="foo-au-item-city"></span><span class="res-closed" data-bind="visible: status==4, text: $root.options.closedLinkText"></span><br /><address data-bind="text: address, visible:$root.options.showAddress()" class="foo-au-item-address"></address><div data-bind="visible:type==\'Restaurant\' && isOpening && status!=4" class="suggest-opentime" style="top: 26px;"><span class="suggest-online"></span><span class="suggest-opentime-text" data-bind="text:openString"></span></div><div data-bind="visible:type==\'Restaurant\' && !isOpening && status!=4" class="suggest-opentime" style="top: 26px;color:#959595;"><span class="suggest-offline"></span><span class="suggest-opentime-text" data-bind="text:closeString"></span></div></li><!--/ko--><li class="show-all-item" data-bind="visible:items.length>3,  click:$root.handleShowAllItem"><a class="fa fa-angle-double-down"></a></li></ul></li></ul></div>'),d=a('<div class="default-keyword" style="position: absolute" data-bind="visible: isShow"><ul data-bind="foreach: items" class="left"><li data-bind="text: name, css:{\'selected\':$root.currentIndex()==index}, click: $root.handleItemClick, event:{mouseover: $root.handleItemClick} "></li></ul><!--ko with: selectedItem()--><ul data-bind="foreach: items" class="right"><li data-bind="css:{\'selected\':$parent.currentIndex()==index}, event:{mouseover: $parent.handleItemHover}"><a data-bind="text: name, attr:{href: link}"></a></li></ul><!--/ko--></div>');this.options=b;var e={},f=this;this.each(function(g,h){var i=a(this),j=a(a(f.options.panel).html());if(!j||j.length==0)j=c.clone();j.appendTo("body"),i.data("index",g),i.data("fod-au","fod-au"+g),i.attr("autocomplete","off"),j.data("fod-au","fod-au"+g);var k=d.clone();k.data("fod-au","fod-au"+g),k.appendTo("body"),i.focus(function(){a(this).click()}).click(function(){var b=e["model"+a(this).data("index")],c=e["keywordModel"+a(this).data("index")];for(var d in e)e[d]!=b&&typeof e[d].isShow=="function"&&e[d].isShow(!1),e[d]!=c&&typeof e[d].isShow=="function"&&e[d].isShow(!1);b.items().length>0&&a(this).val().length>0&&(_isFilterBoxShow()?b.isShow(!1):(b.isShow(!0),_hideSearchFilter()),a(".suggestion-box").hide(),b.refreshPanel()),c&&(c.items().length>0&&a(this).val().length==0?(_isFilterBoxShow()?c.isShow(!1):(c.isShow(!0),_hideSearchFilter()),a(".suggestion-box").hide()):c.isShow(!1))}).keyup(function(b){var c=e["model"+a(this).data("index")];c&&c.filterKeyword(this,b)}),a(document).click(function(b){var c=a(b.target),d=0,f=!0;while(c.length>0&&d++<10){if(c[0].tagName=="BODY")break;if(c.data("fod-au")){f=!1;break}c=c.parent()}if(f){var g=e["model"+a(i).data("index")];g&&(g.isShow(!1),g.refreshPanel());var h=e["keywordModel"+a(i).data("index")];h&&h.isShow(!1)}});var l=new AutoCompleteMode(i,j,b);e["model"+g]=l,i.data("model",l),ko.applyBindings(l,j[0]);if(b.showDefaultKeywords){var m=new DefaultKeywordModel(i,{panel:k});ko.applyBindings(m,k[0]),e["keywordModel"+g]=m,i.data("keywordModel",m)}})}})(jQuery),ko.bindingHandlers.fadeVisible={init:function(a,b){var c=b();$(a).toggle(ko.utils.unwrapObservable(c))},update:function(a,b){var c=b();ko.utils.unwrapObservable(c)?$(a).fadeIn(200):$(a).fadeOut(100)}}
;function checkHideOrShowFeeds(){$("#feedsFlyout").hover(function(){feed_mouse_is_inside=!0},function(){feed_mouse_is_inside=!1}),$("#feedbtn").hover(function(){feed_mouse_is_inside=!0},function(){feed_mouse_is_inside=!1}),$("body").mouseup(function(){feed_mouse_is_inside||($("#feedsFlyout").hide(),$(".feedBox span.arrow").hide())})}var FeedsModel=function(a){var b=this;b.newestId=ko.observable(a.NewestId),b.feeds=ko.observableArray(a.Feeds),b.lastId=ko.observable(a.LastId),b.total=ko.observable(a.Total),b.currentTimestamp=a.CurrentTimeStamp,b.isLoadingMore=ko.observable(!1),b.pageSize=ko.observable(a.PageSize),b.loadMore=function(){if(b.total()-b.pageSize()>0){b.isLoadingMore(!0);var a=new Date;$.get("/feed/feeds?lastId="+b.lastId()+"&t="+a.getTime(),function(a){if(a.success){for(var c=0;c<a.data.Feeds.length;c++)b.feeds.push(a.data.Feeds[c]);b.total(a.data.Total),b.lastId(a.data.LastId),b.calculateFeedPostedTime()}b.isLoadingMore(!1)})}},b.getDiffTime=function(a){var b="";return a<60?b=CommonText.PostedTime_AFewSecondsAgo:a<120?b=CommonText.PostedTime_About1MinuteAgo:a<3600?b=Math.floor(a/60)+" "+CommonText.PostedTime_MinutesAgo:a<7200?b=CommonText.PostedTime_About1HourAgo:a<86400&&(b=Math.floor(a/3600)+" "+CommonText.PostedTime_HoursAgo),b},b.setUpdatedTime=function(a){setInterval(function(){b.currentTimestamp+=a/1e3,b.calculateFeedPostedTime()},a)},b.calculateFeedPostedTime=function(){var a=parseInt(b.currentTimestamp);$(".feed-posted-time").each(function(c,d){var e=parseInt($(this).attr("utime")),f=b.getDiffTime(a-e);f==0||f==""?$(this).text($(this).attr("title")):($(this).text(f),$(this).fadeIn())})},b.getDetailLink=function(a){var b="";switch(a.Type){case 1:break;case 2:b="/thanh-vien/"+a.FounderUserName;break;case 3:case 4:case 5:b=a.Url;break;case 7:b="http://www.foody.vn";break;case 8:b=a.ResUrl+"/album-anh-"+a.GroupId;break;case 9:case 10:b=a.Url;break;case 6:case 11:b=a.ResUrl;break;case 12:case 13:case 14:case 17:case 18:case 19:case 20:case 21:case 22:b=a.Url}return b}},isviewingfeeds=!1,feedsModel=null;$("#feedbtn").live("click",function(){if(!$("#feedsFlyout").is(":visible")){var a=new Date;isviewingfeeds=!0,$("#feedsFlyout").show(),$(".feedBox span.arrow").show(),feedsModel==null?($("#feed-loading").show(),$(".feed-content").hide(),$.get("/feed/feeds?t="+a.getTime(),function(a){a.success&&(feedsModel=new FeedsModel(a.data),ko.applyBindings(feedsModel,document.getElementById("feedsFlyout")),$("#feed-loading").hide(),$("#feed-box").show(),$(".feed-content").show(),feedsModel.calculateFeedPostedTime(),feedsModel.setUpdatedTime(5e3))})):($("#feed-loading").show(),a=new Date,$.get("/feed/feeds?newestId="+feedsModel.newestId()+"&t="+a.getTime(),function(a){if(a.success){if(a.data.Feeds.length>0){for(var b=a.data.Feeds.length-1;b>=0;b--)feedsModel.feeds.unshift(a.data.Feeds[b]);feedsModel.newestId(a.data.NewestId),feedsModel.calculateFeedPostedTime(),$("#feeds-box-container").scrollTop(0)}$("#feed-loading").hide()}}))}else $("#feedsFlyout").hide(),$(".feedBox span.arrow").hide(),isviewingfeeds=!1});var feed_mouse_is_inside=!1;$(function(){$("#feeds-box-container").scroll(function(){$("#feeds-box-container")[0].scrollHeight*1/4<$("#feeds-box-container").scrollTop()&&(feedsModel.isLoadingMore()||feedsModel.loadMore())})}),FeedsModel.Init=function(){checkHideOrShowFeeds()}
;function checkPopupFirstName(a){return!a||a.length==0||$.trim(a)==""?(updatePopupValid("firstName",!1,ErrorText.Mem_Err1),!1):$.trim(a).length<2?(updatePopupValid("firstName",!1,ErrorText.Mem_Err2),!1):/^([a-zA-Z ]|[\u00C0-\u1EF9])+([\w\d-_]|[\u00C0-\u1EF9]|[\s]+)*$/.test(a)?(updatePopupValid("firstName",!0,ErrorText.Mem_Err4),!0):(updatePopupValid("firstName",!1,ErrorText.Mem_Err3),!1)}function checkPopupLastName(a){return!a||a.length==0||$.trim(a)==""?(updatePopupValid("lastName",!1,ErrorText.Mem_Err5),!1):$.trim(a).length<2?(updatePopupValid("lastName",!1,ErrorText.Mem_Err6),!1):/^([a-zA-Z ]|[\u00C0-\u1EF9])+([\w\d-_]|[\u00C0-\u1EF9]|[\s]+)*$/.test(a)?(updatePopupValid("lastName",!0,ErrorText.Mem_Err8),!0):(updatePopupValid("lastName",!1,ErrorText.Mem_Err7),!1)}function checkPopupPassword(a){return!a||a.length==0?(updatePopupValid("password",!1,ErrorText.Mem_Err9),!1):a.length<4||a.length>20?(updatePopupValid("password",!1,ErrorText.Mem_Err10),!1):(updatePopupValid("password",!0,ErrorText.Mem_Err11),checkPopupConfirmPassword($("#ConfirmPassword").val(),$("#Password").val()),!0)}function checkPopupConfirmPassword(a,b){return!a||a.length==0?(updatePopupValid("confirmPassword",!1,ErrorText.Mem_Err12),!1):a!==b?(updatePopupValid("confirmPassword",!1,ErrorText.Mem_Err13),!1):(updatePopupValid("confirmPassword",!0,ErrorText.Mem_Err14),!0)}function checkTermAndCondition(){return $("#Reg_TermAndCondition").is(":checked")?!0:!1}function checkPopupEmail(a){isValidMail=!0;if(!a||a.length==0||$.trim(a)=="")return updatePopupValid("email",!1,ErrorText.Mem_Err15),isValidMail=!1,!1;var b=/^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}$/;return b.test(a)?(showWaiting("email"),$.post("/Account/IsValidField",{fieldType:"email",fieldName:"Email",fieldValue:a},function(a){hideWaiting("email"),updatePopupValid("email",a.isValid,a.message),isValidMail=a.isValid}),isValidMail):(updatePopupValid("email",!1,ErrorText.Mem_Err16),isValidMail=!1,!1)}function hideWaiting(){}function showWaiting(a){}function updatePopupValid(a,b,c){var d=staticPath+"style/images/icons/correct-icon.png",e=staticPath+"style/images/icons/uncorrect-icon.png",f="";switch(a){case"email":f="emailPopupValid";break;case"firstName":f="firstNamePopupValid";break;case"lastName":f="lastNamePopupValid";break;case"password":f="passwordPopupValid";break;case"confirmPassword":f="confirmPasswordPopupValid"}var g=$("#"+f+" img");g.attr("original-title",c),b?g.attr("src",d):g.attr("src",e),g.fadeIn()}var LoginPopup=function(){},justRegister=!1;LoginPopup.RequiredLogin=function(a,b){angular.element('div[ng-controller="HelperCtrl"]').scope().ShowDlgLogin(function(b){b.LoggedIn&&window.successCallback&&a()})},LoginPopup.ShowFacebookRecommendedLogin=function(a,b){$.modal.close(),$("#loginFacebookPopup").modal({persist:!0,onClose:function(a){$.modal.close(),typeof b!="undefined"&&b!=null&&b()}}),$("#simplemodal-container").css("height","400px");var c=new Date;$.get("/account/GetFacebookRecommendLogin?t="+c.getTime(),function(a){a.success&&($("#loginFacebookPopup").html(a.html),FB.XFBML.parse($("#loginFacebookPopup")[0]))}),$(window).resize(),typeof a!="undefined"&&a!=null&&(loginSuccessCallback=a)},LoginPopup.initPopup=function(){$("img.registerStatus").tipsy({gravity:"w"}),$("#popup-register-div #bt-cancel").click(function(){$("#popup-login-div").show(),$("#popup-register-div").hide(),$("#simplemodal-container").css("height","280px"),$(window).resize()});var a=$("#popup-register-div");a.length>0&&(registerPopupModel=new RegisterPopupModel,ko.applyBindings(registerPopupModel,document.getElementById("popup-register-div")))},LoginPopup.Show=function(a,b){angular.element('div[ng-controller="HelperCtrl"]').scope().ShowDlgLogin(function(c){c.LoggedIn?window.successCallback&&a():b&&b()})};var validImgs=new Array("emailPopupValid","firstNamePopupValid","lastNamePopupValid","passwordPopupValid","confirmPasswordPopupValid"),RegisterPopupModel=function(){var a=this;a.FirstName=ko.observable(""),a.LastName=ko.observable(""),a.Email=ko.observable(""),a.Password=ko.observable(""),a.ConfirmPassword=ko.observable(""),a.TermAndCondition=ko.observable(!0),a.IsRegistering=ko.observable(!1),a.IsSuccess=ko.observable(!1),a.IsFail=ko.observable(!1),a.checkFirstName=ko.computed(function(){return checkPopupFirstName(a.FirstName())}),a.checkLastName=ko.computed(function(){return checkPopupLastName(a.LastName())}),a.checkEmail=ko.computed(function(){return checkPopupEmail(a.Email())}),a.checkPassword=ko.computed(function(){var b=checkPopupPassword(a.Password());return b=b&&checkPopupConfirmPassword(a.ConfirmPassword(),a.Password()),b}),a.checkConfirmPassword=ko.computed(function(){return checkPopupConfirmPassword(a.ConfirmPassword(),a.Password())}),a.checkTermAndCondition=ko.computed(function(){return a.TermAndCondition()}),a.register=function(){if(!a.checkTermAndCondition()){alert(ErrorText.Mem_Err17);return}checkPopupFirstName(a.FirstName()),checkPopupLastName(a.LastName()),checkPopupEmail(a.Email()),checkPopupPassword(a.Password()),checkPopupConfirmPassword(a.ConfirmPassword(),a.Password()),!a.IsRegistering()&&a.checkFirstName()&&a.checkLastName()&&a.checkEmail()&&a.checkConfirmPassword()&&a.checkPassword()&&(a.IsRegistering(!0),$.ajax({type:"POST",url:"/Account/RegisterAjax",data:ko.mapping.toJSON(a),success:function(b){b.success?(justRegister=!0,a.IsSuccess(!0),login(a.Email(),a.Password(),!0,commonLoginCallback)):a.IsFail(!0),a.IsRegistering(!1)},dataType:"json",contentType:"application/json"}))},a.reset=function(){a.FirstName(""),a.LastName(""),a.Email(""),a.Password(""),a.ConfirmPassword("");for(var b=0;b<validImgs.length;b++){var c=$("#"+validImgs[b]+" img");c.css("display","none"),c.attr("original-title",""),c.attr("src","")}LoginPopup.BindingsWatermark()}},registerPopupModel=null;$(function(){$("img.registerStatus").tipsy({gravity:"w"}),$("#popup-register-div #bt-cancel").click(function(){$("#popup-login-div").show(),$("#popup-register-div").hide(),$("#simplemodal-container").css("height","280px"),$(window).resize()});var a=$("#popup-register-div");a.length>0&&(registerPopupModel=new RegisterPopupModel,ko.applyBindings(registerPopupModel,document.getElementById("popup-register-div"))),LoginPopup.LoginDialog=new Foody.Ko.LoginDialog({LoginUrl:"/Account/Login"})});var isValidMail=!0;$("#registerForm").submit(function(a){var b=checkPopupFirstName($("#Reg_FirstName").val()),c=checkPopupLastName($("#Reg_LastName").val()),d=checkPopupEmail($("#Reg_Email").val()),e=checkPopupPassword($("#Reg_Password").val()),f=checkPopupConfirmPassword($("#Reg_Password").val(),$("#Reg_ConfirmPassword").val());return b&&c&&isValidMail&&e&&f?checkTermAndCondition()?!0:(alert(ErrorText.Mem_Err17),!1):!1})
;(function(a){a.fn.tipsy=function(b){return b=a.extend({},a.fn.tipsy.defaults,b),this.each(function(){var c=a.fn.tipsy.elementOptions(this,b);a(this).hover(function(){a.data(this,"cancel.tipsy",!0);var b=a.data(this,"active.tipsy");b||(b=a('<div class="tipsy"><div class="tipsy-inner"/></div>'),b.css({position:"absolute",zIndex:1e5}),a.data(this,"active.tipsy",b)),(a(this).attr("title")||typeof a(this).attr("original-title")!="string")&&a(this).attr("original-title",a(this).attr("title")||"").removeAttr("title");var d;typeof c.title=="string"?d=a(this).attr(c.title=="title"?"original-title":c.title):typeof c.title=="function"&&(d=c.title.call(this)),b.find(".tipsy-inner")[c.html?"html":"text"](d||c.fallback);var e=a.extend({},a(this).offset(),{width:this.offsetWidth,height:this.offsetHeight});b.get(0).className="tipsy",b.remove().css({top:0,left:0,visibility:"hidden",display:"block"}).appendTo(document.body);var f=b[0].offsetWidth,g=b[0].offsetHeight,h=typeof c.gravity=="function"?c.gravity.call(this):c.gravity;switch(h.charAt(0)){case"n":b.css({top:e.top+e.height,left:e.left+e.width/2-f/2}).addClass("tipsy-north");break;case"s":b.css({top:e.top-g,left:e.left+e.width/2-f/2}).addClass("tipsy-south");break;case"e":b.css({top:e.top+e.height/2-g/2,left:e.left-f}).addClass("tipsy-east");break;case"w":b.css({top:e.top+e.height/2-g/2,left:e.left+e.width}).addClass("tipsy-west")}c.fade?b.css({opacity:0,display:"block",visibility:"visible"}).animate({opacity:.8}):b.css({visibility:"visible"})},function(){a.data(this,"cancel.tipsy",!1);var b=this;setTimeout(function(){if(a.data(this,"cancel.tipsy"))return;var d=a.data(b,"active.tipsy");c.fade?d.stop().fadeOut(function(){a(this).remove()}):d.remove()},100)})})},a.fn.tipsy.elementOptions=function(b,c){return a.metadata?a.extend({},c,a(b).metadata()):c},a.fn.tipsy.defaults={fade:!1,fallback:"",gravity:"n",html:!1,title:"title"},a.fn.tipsy.autoNS=function(){return a(this).offset().top>a(document).scrollTop()+a(window).height()/2?"s":"n"},a.fn.tipsy.autoWE=function(){return a(this).offset().left>a(document).scrollLeft()+a(window).width()/2?"e":"w"}})(jQuery)
;/*!
 * jQuery Tools v1.2.7 - The missing UI library for the Web
 * 
 * overlay/overlay.js
 * overlay/overlay.apple.js
 * scrollable/scrollable.js
 * scrollable/scrollable.autoscroll.js
 * scrollable/scrollable.navigator.js
 * tabs/tabs.js
 * tooltip/tooltip.js
 * tooltip/tooltip.dynamic.js
 * tooltip/tooltip.slide.js
 * 
 * NO COPYRIGHTS OR LICENSES. DO WHAT YOU LIKE.
 * 
 * http://flowplayer.org/tools/
 * 
 */
(function(a){a.tools=a.tools||{version:"v1.2.7"},a.tools.overlay={addEffect:function(a,b,d){c[a]=[b,d]},conf:{close:null,closeOnClick:!0,closeOnEsc:!0,closeSpeed:"fast",effect:"default",fixed:!a.browser.msie||a.browser.version>6,left:"center",load:!1,mask:null,oneInstance:!0,speed:"normal",target:null,top:"10%"}};var b=[],c={};a.tools.overlay.addEffect("default",function(b,c){var d=this.getConf(),e=a(window);d.fixed||(b.top+=e.scrollTop(),b.left+=e.scrollLeft()),b.position=d.fixed?"fixed":"absolute",this.getOverlay().css(b).fadeIn(d.speed,c)},function(a){this.getOverlay().fadeOut(this.getConf().closeSpeed,a)});function d(d,e){var f=this,g=d.add(f),h=a(window),i,j,k,l=a.tools.expose&&(e.mask||e.expose),m=Math.random().toString().slice(10);l&&(typeof l=="string"&&(l={color:l}),l.closeOnClick=l.closeOnEsc=!1);var n=e.target||d.attr("rel");j=n?a(n):null||d;if(!j.length)throw"Could not find Overlay: "+n;d&&d.index(j)==-1&&d.click(function(a){f.load(a);return a.preventDefault()}),a.extend(f,{load:function(d){if(f.isOpened())return f;var i=c[e.effect];if(!i)throw"Overlay: cannot find effect : \""+e.effect+"\"";e.oneInstance&&a.each(b,function(){this.close(d)}),d=d||a.Event(),d.type="onBeforeLoad",g.trigger(d);if(d.isDefaultPrevented())return f;k=!0,l&&a(j).expose(l);var n=e.top,o=e.left,p=j.outerWidth({margin:!0}),q=j.outerHeight({margin:!0});typeof n=="string"&&(n=n=="center"?Math.max((h.height()-q)/2,0):parseInt(n,10)/100*h.height()),o=="center"&&(o=Math.max((h.width()-p)/2,0)),i[0].call(f,{top:n,left:o},function(){k&&(d.type="onLoad",g.trigger(d))}),l&&e.closeOnClick&&a.mask.getMask().one("click",f.close),e.closeOnClick&&a(document).on("click."+m,function(b){a(b.target).parents(j).length||f.close(b)}),e.closeOnEsc&&a(document).on("keydown."+m,function(a){a.keyCode==27&&f.close(a)});return f},close:function(b){if(!f.isOpened())return f;b=b||a.Event(),b.type="onBeforeClose",g.trigger(b);if(!b.isDefaultPrevented()){k=!1,c[e.effect][1].call(f,function(){b.type="onClose",g.trigger(b)}),a(document).off("click."+m+" keydown."+m),l&&a.mask.close();return f}},getOverlay:function(){return j},getTrigger:function(){return d},getClosers:function(){return i},isOpened:function(){return k},getConf:function(){return e}}),a.each("onBeforeLoad,onStart,onLoad,onBeforeClose,onClose".split(","),function(b,c){a.isFunction(e[c])&&a(f).on(c,e[c]),f[c]=function(b){b&&a(f).on(c,b);return f}}),i=j.find(e.close||".close"),!i.length&&!e.close&&(i=a("<a class=\"close\"></a>"),j.prepend(i)),i.click(function(a){f.close(a)}),e.load&&f.load()}a.fn.overlay=function(c){var e=this.data("overlay");if(e)return e;a.isFunction(c)&&(c={onBeforeLoad:c}),c=a.extend(!0,{},a.tools.overlay.conf,c),this.each(function(){e=new d(a(this),c),b.push(e),a(this).data("overlay",e)});return c.api?e:this}})(jQuery);
(function(a){var b=a.tools.overlay,c=a(window);a.extend(b.conf,{start:{top:null,left:null},fadeInSpeed:"fast",zIndex:9999});function d(a){var b=a.offset();return{top:b.top+a.height()/2,left:b.left+a.width()/2}}var e=function(b,e){var f=this.getOverlay(),g=this.getConf(),h=this.getTrigger(),i=this,j=f.outerWidth({margin:!0}),k=f.data("img"),l=g.fixed?"fixed":"absolute";if(!k){var m=f.css("backgroundImage");if(!m)throw"background-image CSS property not set for overlay";m=m.slice(m.indexOf("(")+1,m.indexOf(")")).replace(/\"/g,""),f.css("backgroundImage","none"),k=a("<img src=\""+m+"\"/>"),k.css({border:0,display:"none"}).width(j),a("body").append(k),f.data("img",k)}var n=g.start.top||Math.round(c.height()/2),o=g.start.left||Math.round(c.width()/2);if(h){var p=d(h);n=p.top,o=p.left}g.fixed?(n-=c.scrollTop(),o-=c.scrollLeft()):(b.top+=c.scrollTop(),b.left+=c.scrollLeft()),k.css({position:"absolute",top:n,left:o,width:0,zIndex:g.zIndex}).show(),b.position=l,f.css(b),k.animate({top:b.top,left:b.left,width:j},g.speed,function(){f.css("zIndex",g.zIndex+1).fadeIn(g.fadeInSpeed,function(){i.isOpened()&&!a(this).index(f)?e.call():f.hide()})}).css("position",l)},f=function(b){var e=this.getOverlay().hide(),f=this.getConf(),g=this.getTrigger(),h=e.data("img"),i={top:f.start.top,left:f.start.left,width:0};g&&a.extend(i,d(g)),f.fixed&&h.css({position:"absolute"}).animate({top:"+="+c.scrollTop(),left:"+="+c.scrollLeft()},0),h.animate(i,f.closeSpeed,b)};b.addEffect("apple",e,f)})(jQuery);
(function(a){a.tools=a.tools||{version:"v1.2.7"},a.tools.scrollable={conf:{activeClass:"active",circular:!1,clonedClass:"cloned",disabledClass:"disabled",easing:"swing",initialIndex:0,item:"> *",items:".items",keyboard:!0,mousewheel:!1,next:".next",prev:".prev",size:1,speed:400,vertical:!1,touch:!0,wheelSpeed:0}};function b(a,b){var c=parseInt(a.css(b),10);if(c)return c;var d=a[0].currentStyle;return d&&d.width&&parseInt(d.width,10)}function c(b,c){var d=a(c);return d.length<2?d:b.parent().find(c)}var d;function e(b,e){var f=this,g=b.add(f),h=b.children(),i=0,j=e.vertical;d||(d=f),h.length>1&&(h=a(e.items,b)),e.size>1&&(e.circular=!1),a.extend(f,{getConf:function(){return e},getIndex:function(){return i},getSize:function(){return f.getItems().size()},getNaviButtons:function(){return n.add(o)},getRoot:function(){return b},getItemWrap:function(){return h},getItems:function(){return h.find(e.item).not("."+e.clonedClass)},move:function(a,b){return f.seekTo(i+a,b)},next:function(a){return f.move(e.size,a)},prev:function(a){return f.move(-e.size,a)},begin:function(a){return f.seekTo(0,a)},end:function(a){return f.seekTo(f.getSize()-1,a)},focus:function(){d=f;return f},addItem:function(b){b=a(b),e.circular?(h.children().last().before(b),h.children().first().replaceWith(b.clone().addClass(e.clonedClass))):(h.append(b),o.removeClass("disabled")),g.trigger("onAddItem",[b]);return f},seekTo:function(b,c,k){b.jquery||(b*=1);if(e.circular&&b===0&&i==-1&&c!==0)return f;if(!e.circular&&b<0||b>f.getSize()||b<-1)return f;var l=b;b.jquery?b=f.getItems().index(b):l=f.getItems().eq(b);var m=a.Event("onBeforeSeek");if(!k){g.trigger(m,[b,c]);if(m.isDefaultPrevented()||!l.length)return f}var n=j?{top:-l.position().top}:{left:-l.position().left};i=b,d=f,c===undefined&&(c=e.speed),h.animate(n,c,e.easing,k||function(){g.trigger("onSeek",[b])});return f}}),a.each(["onBeforeSeek","onSeek","onAddItem"],function(b,c){a.isFunction(e[c])&&a(f).on(c,e[c]),f[c]=function(b){b&&a(f).on(c,b);return f}});if(e.circular){var k=f.getItems().slice(-1).clone().prependTo(h),l=f.getItems().eq(1).clone().appendTo(h);k.add(l).addClass(e.clonedClass),f.onBeforeSeek(function(a,b,c){if(!a.isDefaultPrevented()){if(b==-1){f.seekTo(k,c,function(){f.end(0)});return a.preventDefault()}b==f.getSize()&&f.seekTo(l,c,function(){f.begin(0)})}});var m=b.parents().add(b).filter(function(){if(a(this).css("display")==="none")return!0});m.length?(m.show(),f.seekTo(0,0,function(){}),m.hide()):f.seekTo(0,0,function(){})}var n=c(b,e.prev).click(function(a){a.stopPropagation(),f.prev()}),o=c(b,e.next).click(function(a){a.stopPropagation(),f.next()});e.circular||(f.onBeforeSeek(function(a,b){setTimeout(function(){a.isDefaultPrevented()||(n.toggleClass(e.disabledClass,b<=0),o.toggleClass(e.disabledClass,b>=f.getSize()-1))},1)}),e.initialIndex||n.addClass(e.disabledClass)),f.getSize()<2&&n.add(o).addClass(e.disabledClass),e.mousewheel&&a.fn.mousewheel&&b.mousewheel(function(a,b){if(e.mousewheel){f.move(b<0?1:-1,e.wheelSpeed||50);return!1}});if(e.touch){var p={};h[0].ontouchstart=function(a){var b=a.touches[0];p.x=b.clientX,p.y=b.clientY},h[0].ontouchmove=function(a){if(a.touches.length==1&&!h.is(":animated")){var b=a.touches[0],c=p.x-b.clientX,d=p.y-b.clientY;f[j&&d>0||!j&&c>0?"next":"prev"](),a.preventDefault()}}}e.keyboard&&a(document).on("keydown.scrollable",function(b){if(!(!e.keyboard||b.altKey||b.ctrlKey||b.metaKey||a(b.target).is(":input"))){if(e.keyboard!="static"&&d!=f)return;var c=b.keyCode;if(j&&(c==38||c==40)){f.move(c==38?-1:1);return b.preventDefault()}if(!j&&(c==37||c==39)){f.move(c==37?-1:1);return b.preventDefault()}}}),e.initialIndex&&f.seekTo(e.initialIndex,0,function(){})}a.fn.scrollable=function(b){var c=this.data("scrollable");if(c)return c;b=a.extend({},a.tools.scrollable.conf,b),this.each(function(){c=new e(a(this),b),a(this).data("scrollable",c)});return b.api?c:this}})(jQuery);
(function(a){var b=a.tools.scrollable;b.autoscroll={conf:{autoplay:!0,interval:3e3,autopause:!0}},a.fn.autoscroll=function(c){typeof c=="number"&&(c={interval:c});var d=a.extend({},b.autoscroll.conf,c),e;this.each(function(){var b=a(this).data("scrollable"),c=b.getRoot(),f,g=!1;function h(){f&&clearTimeout(f),f=setTimeout(function(){b.next()},d.interval)}b&&(e=b),b.play=function(){f||(g=!1,c.on("onSeek",h),h())},b.pause=function(){f=clearTimeout(f),c.off("onSeek",h)},b.resume=function(){g||b.play()},b.stop=function(){g=!0,b.pause()},d.autopause&&c.add(b.getNaviButtons()).hover(b.pause,b.resume),d.autoplay&&b.play()});return d.api?e:this}})(jQuery);
(function(a){var b=a.tools.scrollable;b.navigator={conf:{navi:".navi",naviItem:null,activeClass:"active",indexed:!1,idPrefix:null,history:!1}};function c(b,c){var d=a(c);return d.length<2?d:b.parent().find(c)}a.fn.navigator=function(d){typeof d=="string"&&(d={navi:d}),d=a.extend({},b.navigator.conf,d);var e;this.each(function(){var b=a(this).data("scrollable"),f=d.navi.jquery?d.navi:c(b.getRoot(),d.navi),g=b.getNaviButtons(),h=d.activeClass,i=d.history&&history.pushState,j=b.getConf().size;b&&(e=b),b.getNaviButtons=function(){return g.add(f)},i&&(history.pushState({i:0},""),a(window).on("popstate",function(a){var c=a.originalEvent.state;c&&b.seekTo(c.i)}));function k(a,c,d){b.seekTo(c),d.preventDefault(),i&&history.pushState({i:c},"")}function l(){return f.find(d.naviItem||"> *")}function m(b){var c=a("<"+(d.naviItem||"a")+"/>").click(function(c){k(a(this),b,c)});b===0&&c.addClass(h),d.indexed&&c.text(b+1),d.idPrefix&&c.attr("id",d.idPrefix+b);return c.appendTo(f)}l().length?l().each(function(b){a(this).click(function(c){k(a(this),b,c)})}):a.each(b.getItems(),function(a){a%j==0&&m(a)}),b.onBeforeSeek(function(a,b){setTimeout(function(){if(!a.isDefaultPrevented()){var c=b/j,d=l().eq(c);d.length&&l().removeClass(h).eq(c).addClass(h)}},1)}),b.onAddItem(function(a,c){var d=b.getItems().index(c);d%j==0&&m(d)})});return d.api?e:this}})(jQuery);
(function(a){a.tools=a.tools||{version:"v1.2.7"},a.tools.tabs={conf:{tabs:"a",current:"current",onBeforeClick:null,onClick:null,effect:"default",initialEffect:!1,initialIndex:0,event:"click",rotate:!1,slideUpSpeed:400,slideDownSpeed:400,history:!1},addEffect:function(a,c){b[a]=c}};var b={"default":function(a,b){this.getPanes().hide().eq(a).show(),b.call()},fade:function(a,b){var c=this.getConf(),d=c.fadeOutSpeed,e=this.getPanes();d?e.fadeOut(d):e.hide(),e.eq(a).fadeIn(c.fadeInSpeed,b)},slide:function(a,b){var c=this.getConf();this.getPanes().slideUp(c.slideUpSpeed),this.getPanes().eq(a).slideDown(c.slideDownSpeed,b)},ajax:function(a,b){this.getPanes().eq(0).load(this.getTabs().eq(a).attr("href"),b)}},c,d;a.tools.tabs.addEffect("horizontal",function(b,e){if(!c){var f=this.getPanes().eq(b),g=this.getCurrentPane();d||(d=this.getPanes().eq(0).width()),c=!0,f.show(),g.animate({width:0},{step:function(a){f.css("width",d-a)},complete:function(){a(this).hide(),e.call(),c=!1}}),g.length||(e.call(),c=!1)}});function e(c,d,e){var f=this,g=c.add(this),h=c.find(e.tabs),i=d.jquery?d:c.children(d),j;h.length||(h=c.children()),i.length||(i=c.parent().find(d)),i.length||(i=a(d)),a.extend(this,{click:function(d,i){var k=h.eq(d),l=!c.data("tabs");typeof d=="string"&&d.replace("#","")&&(k=h.filter("[href*=\""+d.replace("#","")+"\"]"),d=Math.max(h.index(k),0));if(e.rotate){var m=h.length-1;if(d<0)return f.click(m,i);if(d>m)return f.click(0,i)}if(!k.length){if(j>=0)return f;d=e.initialIndex,k=h.eq(d)}if(d===j)return f;i=i||a.Event(),i.type="onBeforeClick",g.trigger(i,[d]);if(!i.isDefaultPrevented()){var n=l?e.initialEffect&&e.effect||"default":e.effect;b[n].call(f,d,function(){j=d,i.type="onClick",g.trigger(i,[d])}),h.removeClass(e.current),k.addClass(e.current);return f}},getConf:function(){return e},getTabs:function(){return h},getPanes:function(){return i},getCurrentPane:function(){return i.eq(j)},getCurrentTab:function(){return h.eq(j)},getIndex:function(){return j},next:function(){return f.click(j+1)},prev:function(){return f.click(j-1)},destroy:function(){h.off(e.event).removeClass(e.current),i.find("a[href^=\"#\"]").off("click.T");return f}}),a.each("onBeforeClick,onClick".split(","),function(b,c){a.isFunction(e[c])&&a(f).on(c,e[c]),f[c]=function(b){b&&a(f).on(c,b);return f}}),e.history&&a.fn.history&&(a.tools.history.init(h),e.event="history"),h.each(function(b){a(this).on(e.event,function(a){f.click(b,a);return a.preventDefault()})}),i.find("a[href^=\"#\"]").on("click.T",function(b){f.click(a(this).attr("href"),b)}),location.hash&&e.tabs=="a"&&c.find("[href=\""+location.hash+"\"]").length?f.click(location.hash):(e.initialIndex===0||e.initialIndex>0)&&f.click(e.initialIndex)}a.fn.tabs=function(b,c){var d=this.data("tabs");d&&(d.destroy(),this.removeData("tabs")),a.isFunction(c)&&(c={onBeforeClick:c}),c=a.extend({},a.tools.tabs.conf,c),this.each(function(){d=new e(a(this),b,c),a(this).data("tabs",d)});return c.api?d:this}})(jQuery);
(function(a){a.tools=a.tools||{version:"v1.2.7"},a.tools.tooltip={conf:{effect:"toggle",fadeOutSpeed:"fast",predelay:0,delay:30,opacity:1,tip:0,fadeIE:!1,position:["top","center"],offset:[0,0],relative:!1,cancelDefault:!0,events:{def:"mouseenter,mouseleave",input:"focus,blur",widget:"focus mouseenter,blur mouseleave",tooltip:"mouseenter,mouseleave"},layout:"<div/>",tipClass:"tooltip"},addEffect:function(a,c,d){b[a]=[c,d]}};var b={toggle:[function(a){var b=this.getConf(),c=this.getTip(),d=b.opacity;d<1&&c.css({opacity:d}),c.show(),a.call()},function(a){this.getTip().hide(),a.call()}],fade:[function(b){var c=this.getConf();!a.browser.msie||c.fadeIE?this.getTip().fadeTo(c.fadeInSpeed,c.opacity,b):(this.getTip().show(),b())},function(b){var c=this.getConf();!a.browser.msie||c.fadeIE?this.getTip().fadeOut(c.fadeOutSpeed,b):(this.getTip().hide(),b())}]};function c(b,c,d){var e=d.relative?b.position().top:b.offset().top,f=d.relative?b.position().left:b.offset().left,g=d.position[0];e-=c.outerHeight()-d.offset[0],f+=b.outerWidth()+d.offset[1],/iPad/i.test(navigator.userAgent)&&(e-=a(window).scrollTop());var h=c.outerHeight()+b.outerHeight();g=="center"&&(e+=h/2),g=="bottom"&&(e+=h),g=d.position[1];var i=c.outerWidth()+b.outerWidth();g=="center"&&(f-=i/2),g=="left"&&(f-=i);return{top:e,left:f}}function d(d,e){var f=this,g=d.add(f),h,i=0,j=0,k=d.attr("title"),l=d.attr("data-tooltip"),m=b[e.effect],n,o=d.is(":input"),p=o&&d.is(":checkbox, :radio, select, :button, :submit"),q=d.attr("type"),r=e.events[q]||e.events[o?p?"widget":"input":"def"];if(!m)throw"Nonexistent effect \""+e.effect+"\"";r=r.split(/,\s*/);if(r.length!=2)throw"Tooltip: bad events configuration for "+q;d.on(r[0],function(a){clearTimeout(i),e.predelay?j=setTimeout(function(){f.show(a)},e.predelay):f.show(a)}).on(r[1],function(a){clearTimeout(j),e.delay?i=setTimeout(function(){f.hide(a)},e.delay):f.hide(a)}),k&&e.cancelDefault&&(d.removeAttr("title"),d.data("title",k)),a.extend(f,{show:function(b){if(!h){l?h=a(l):e.tip?h=a(e.tip).eq(0):k?h=a(e.layout).addClass(e.tipClass).appendTo(document.body).hide().append(k):(h=d.next(),h.length||(h=d.parent().next()));if(!h.length)throw"Cannot find tooltip for "+d}if(f.isShown())return f;h.stop(!0,!0);var o=c(d,h,e);e.tip&&h.html(d.data("title")),b=a.Event(),b.type="onBeforeShow",g.trigger(b,[o]);if(b.isDefaultPrevented())return f;o=c(d,h,e),h.css({position:"absolute",top:o.top,left:o.left}),n=!0,m[0].call(f,function(){b.type="onShow",n="full",g.trigger(b)});var p=e.events.tooltip.split(/,\s*/);h.data("__set")||(h.off(p[0]).on(p[0],function(){clearTimeout(i),clearTimeout(j)}),p[1]&&!d.is("input:not(:checkbox, :radio), textarea")&&h.off(p[1]).on(p[1],function(a){a.relatedTarget!=d[0]&&d.trigger(r[1].split(" ")[0])}),e.tip||h.data("__set",!0));return f},hide:function(c){if(!h||!f.isShown())return f;c=a.Event(),c.type="onBeforeHide",g.trigger(c);if(!c.isDefaultPrevented()){n=!1,b[e.effect][1].call(f,function(){c.type="onHide",g.trigger(c)});return f}},isShown:function(a){return a?n=="full":n},getConf:function(){return e},getTip:function(){return h},getTrigger:function(){return d}}),a.each("onHide,onBeforeShow,onShow,onBeforeHide".split(","),function(b,c){a.isFunction(e[c])&&a(f).on(c,e[c]),f[c]=function(b){b&&a(f).on(c,b);return f}})}a.fn.tooltip=function(b){var c=this.data("tooltip");if(c)return c;b=a.extend(!0,{},a.tools.tooltip.conf,b),typeof b.position=="string"&&(b.position=b.position.split(/,?\s/)),this.each(function(){c=new d(a(this),b),a(this).data("tooltip",c)});return b.api?c:this}})(jQuery);
(function(a){var b=a.tools.tooltip;b.dynamic={conf:{classNames:"top right bottom left"}};function c(b){var c=a(window),d=c.width()+c.scrollLeft(),e=c.height()+c.scrollTop();return[b.offset().top<=c.scrollTop(),d<=b.offset().left+b.width(),e<=b.offset().top+b.height(),c.scrollLeft()>=b.offset().left]}function d(a){var b=a.length;while(b--)if(a[b])return!1;return!0}a.fn.dynamic=function(e){typeof e=="number"&&(e={speed:e}),e=a.extend({},b.dynamic.conf,e);var f=a.extend(!0,{},e),g=e.classNames.split(/\s/),h;this.each(function(){var b=a(this).tooltip().onBeforeShow(function(b,e){var i=this.getTip(),j=this.getConf();h||(h=[j.position[0],j.position[1],j.offset[0],j.offset[1],a.extend({},j)]),a.extend(j,h[4]),j.position=[h[0],h[1]],j.offset=[h[2],h[3]],i.css({visibility:"hidden",position:"absolute",top:e.top,left:e.left}).show();var k=a.extend(!0,{},f),l=c(i);if(!d(l)){l[2]&&(a.extend(j,k.top),j.position[0]="top",i.addClass(g[0])),l[3]&&(a.extend(j,k.right),j.position[1]="right",i.addClass(g[1])),l[0]&&(a.extend(j,k.bottom),j.position[0]="bottom",i.addClass(g[2])),l[1]&&(a.extend(j,k.left),j.position[1]="left",i.addClass(g[3]));if(l[0]||l[2])j.offset[0]*=-1;if(l[1]||l[3])j.offset[1]*=-1}i.css({visibility:"visible"}).hide()});b.onBeforeShow(function(){var a=this.getConf(),b=this.getTip();setTimeout(function(){a.position=[h[0],h[1]],a.offset=[h[2],h[3]]},0)}),b.onHide(function(){var a=this.getTip();a.removeClass(e.classNames)}),ret=b});return e.api?ret:this}})(jQuery);
(function(a){var b=a.tools.tooltip;a.extend(b.conf,{direction:"up",bounce:!1,slideOffset:10,slideInSpeed:200,slideOutSpeed:200,slideFade:!a.browser.msie});var c={up:["-","top"],down:["+","top"],left:["-","left"],right:["+","left"]};b.addEffect("slide",function(a){var b=this.getConf(),d=this.getTip(),e=b.slideFade?{opacity:b.opacity}:{},f=c[b.direction]||c.up;e[f[1]]=f[0]+"="+b.slideOffset,b.slideFade&&d.css({opacity:0}),d.show().animate(e,b.slideInSpeed,a)},function(b){var d=this.getConf(),e=d.slideOffset,f=d.slideFade?{opacity:0}:{},g=c[d.direction]||c.up,h=""+g[0];d.bounce&&(h=h=="+"?"-":"+"),f[g[1]]=h+"="+e,this.getTip().animate(f,d.slideOutSpeed,function(){a(this).hide(),b.call()})})})(jQuery);

;(function(a){var b={onresize:function(){},buffer:1,minRows:4,animate:!0,animationDuration:50,limitHeight:!1,resizeOnStart:!1};a.fn.autoresize=function(c){return this.each(function(){var d=a.extend({},b,c||{}),e=a(this).css({"overflow-y":"hidden"}),f=function(){var b={position:"absolute",top:-9999,left:-9999};return a.each(["height","width","lineHeight","letterSpacing","fontFamily","fontSize","fontWeight"],function(a,c){b[c]=e.css(c)}),e.clone().css(b).removeAttr("id").removeAttr("name").attr("tabIndex","-1").appendTo(a("body"))}(),g=function(){var a=f.val(),b=13;f.val("");for(var c=0;c<10;c++){f.val(f.val()+"\n"),f.scrollTop(1e4);if(f.scrollTop()>0){b=f.scrollTop();break}}return f.val(a),b}(),h=null,i=function(){f.val(e.val()).scrollTop(1e4);var b=Math.max(f.height()+f.scrollTop()+d.buffer*g,d.minRows*g);d.limitHeight&&b>d.limitHeight&&(b=d.limitHeight),b!==h&&(e.scrollTop(0),d.animate?a(this).animate({height:b},d.animationDuration,function(){d.onresize.call(this)}):(e.height(b),d.onresize.call(this)),h=b)};e.unbind(".autoresize").bind("focus.autoresize",i).bind("change.autoresize",i).bind("keyup.autoresize",i).bind("keydown.autoresize",i),d.resizeOnStart&&e.keydown()})}})(jQuery)
;jQuery(function(a){a("a[data-filtermore]").click(function(b){return a(a(this).attr("data-filtermore")).modal({persist:!0}),!1})})
;(function(a){a.expander={version:"1.4.3",defaults:{slicePoint:100,preserveWords:!0,widow:4,expandText:"read more",expandPrefix:"&hellip; ",expandAfterSummary:!1,summaryClass:"summary",detailClass:"details",moreClass:"read-more",lessClass:"read-less",collapseTimer:0,expandEffect:"slideDown",expandSpeed:250,collapseEffect:"slideUp",collapseSpeed:200,userCollapse:!0,userCollapseText:"read less",userCollapsePrefix:" ",onSlice:null,beforeExpand:null,afterExpand:null,onCollapse:null}},a.fn.expander=function(b){function n(a,b){var c="span",d=a.summary;return b?(c="div",j.test(d)&&!a.expandAfterSummary?d=d.replace(j,a.moreLabel+"$1"):d+=a.moreLabel,d='<div class="'+a.summaryClass+'">'+d+"</div>"):d+=a.moreLabel,[d,"<",c+' class="'+a.detailClass+'"',">",a.details,"</"+c+">"].join("")}function o(a){var b='<span class="'+a.moreClass+'">'+a.expandPrefix;return b+='<a href="#">'+a.expandText+"</a></span>",b}function p(b,c){return b.lastIndexOf("<")>b.lastIndexOf(">")&&(b=b.slice(0,b.lastIndexOf("<"))),c&&(b=b.replace(f,"")),a.trim(b)}function q(a,b){b.stop(!0,!0)[a.collapseEffect](a.collapseSpeed,function(){var c=b.prev("span."+a.moreClass).show();c.length||b.parent().children("div."+a.summaryClass).show().find("span."+a.moreClass).show()})}function r(b,c,d){b.collapseTimer&&(l=setTimeout(function(){q(b,c),a.isFunction(b.onCollapse)&&b.onCollapse.call(d,!1)},b.collapseTimer))}var c="init";typeof b=="string"&&(c=b,b={});var d=a.extend({},a.expander.defaults,b),e=/^<(?:area|br|col|embed|hr|img|input|link|meta|param).*>$/i,f=d.wordEnd||/(&(?:[^;]+;)?|[a-zA-Z\u00C0-\u0100]+)$/,g=/<\/?(\w+)[^>]*>/g,h=/<(\w+)[^>]*>/g,i=/<\/(\w+)>/g,j=/(<\/[^>]+>)\s*$/,k=/^<[^>]+>.?/,l,m={init:function(){this.each(function(){function Q(a){a.preventDefault(),y.hide(),E.hide(),B.beforeExpand&&F.beforeExpand.call(C),x.stop(!1,!0)[F.expandEffect](L,function(){x.css({zoom:""}),B.afterExpand&&F.afterExpand.call(C),r(F,x,C)})}var b,c,f,j,m,s,t,u,v,w,x,y,z=[],A=[],B={},C=this,D=a(this),E=a([]),F=a.extend({},d,D.data("expander")||a.meta&&D.data()||{}),G=!!D.find("."+F.detailClass).length,H=!!D.find("*").filter(function(){var b=a(this).css("display");return/^block|table|list/.test(b)}).length,I=H?"div":"span",J=I+"."+F.detailClass,K="span."+F.moreClass,L=F.expandSpeed||0,M=a.trim(D.html()),N=a.trim(D.text()),O=M.slice(0,F.slicePoint);if(a.data(this,"expanderInit"))return;a.data(this,"expanderInit",!0),a.each(["onSlice","beforeExpand","afterExpand","onCollapse"],function(b,c){B[c]=a.isFunction(F[c])}),O=p(O),m=O.replace(g,"").length;while(m<F.slicePoint)j=M.charAt(O.length),j=="<"&&(j=M.slice(O.length).match(k)[0]),O+=j,m++;O=p(O,F.preserveWords),s=O.match(h)||[],t=O.match(i)||[],f=[],a.each(s,function(a,b){e.test(b)||f.push(b)}),s=f,c=t.length;for(b=0;b<c;b++)t[b]=t[b].replace(i,"$1");a.each(s,function(b,c){var d=c.replace(h,"$1"),e=a.inArray(d,t);e===-1?(z.push(c),A.push("</"+d+">")):t.splice(e,1)}),A.reverse();if(!G){v=M.slice(O.length),w=a.trim(v.replace(g,""));if(w===""||w.split(/\s+/).length<F.widow)return;u=A.pop()||"",O+=A.join(""),v=z.join("")+v}else v=D.find(J).remove().html(),O=D.html(),M=O+v,u="";F.moreLabel=D.find(K).length?"":o(F),H&&(v=M),O+=u,F.summary=O,F.details=v,F.lastCloseTag=u,B.onSlice&&(f=F.onSlice.call(C,F),F=f&&f.details?f:F);var P=n(F,H);D.html(P),x=D.find(J),y=D.find(K),x[F.collapseEffect](0),y.find("a").unbind("click.expander").bind("click.expander",Q),E=D.find("div."+F.summaryClass),F.userCollapse&&!D.find("span."+F.lessClass).length&&D.find(J).append('<span class="'+F.lessClass+'">'+F.userCollapsePrefix+'<a href="#">'+F.userCollapseText+"</a></span>"),D.find("span."+F.lessClass+" a").unbind("click.expander").bind("click.expander",function(b){b.preventDefault(),clearTimeout(l);var c=a(this).closest(J);q(F,c),B.onCollapse&&F.onCollapse.call(C,!0)})})},destroy:function(){if(!this.data("expander"))return;this.removeData("expander"),this.each(function(){var b=a(this),c=a.meta?a.extend({},d,b.data()):d,e=b.find("."+c.detailClass).contents();b.find("."+c.moreClass).remove(),b.find("."+c.summaryClass).remove(),b.find("."+c.detailClass).after(e).remove(),b.find("."+c.lessClass).remove()})}};return m[c]&&m[c].call(this),this},a.fn.expander.defaults=a.expander.defaults})(jQuery)
;function bindReviewContentExpander(){$("article.micro-home-review-item .desc").expander(),$(".reviews-main-item .desc").expander(),$("div.review-reply-item-content i").expander(),$('div.desc[itemprop="description"]').expander(),$("div.micro-home-expert-left .commentcontent").expander({slicePoint:480}),$('span[itemprop="description"]').expander()}$.expander.defaults={slicePoint:800,preserveWords:!0,widow:4,expandText:Text.Readmore,expandPrefix:"… <br/>",summaryClass:"summary",detailClass:"details",moreClass:"read-more",lessClass:"read-less",collapseTimer:0,expandEffect:"fadeIn",expandSpeed:250,collapseEffect:"fadeOut",collapseSpeed:200,userCollapse:!1,userCollapseText:"",userCollapsePrefix:"",onSlice:null,beforeExpand:null,afterExpand:null,onCollapse:null},$(function(){bindReviewContentExpander()})
;function sendMessageToFriend(){FB.ui({method:"send",link:"http://www.foody.id/"})}function sendRequestViaMultiFriendSelector(){FB.ui({method:"apprequests",message:"Foody App Request",data:"test"},requestCallback)}function requestCallback(a){}function loadSocialSharingPlugin(a){var b='<fb:like send="false" layout="button_count" href="'+a+'" width="120" show_faces="false"></fb:like>',c=encodeURIComponent(b),d='<div class="g-plusone" data-size="medium" href="'+a+'"></div><script type="text/javascript">(function () {var po = document.createElement("script"); po.type = "text/javascript"; po.async = true;po.src = "https://apis.google.com/js/plusone.js";var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(po, s);})();</script>',e=encodeURIComponent(d),f='<script src="//platform.linkedin.com/in.js" type="text/javascript"></script><script type="IN/Share" data-counter="right" data-url="'+a+'"></script>',g=encodeURIComponent(f);setTimeout(function(){jQuery("#facebook-like").append(decodeURIComponent(c)),jQuery("#google-like").append(decodeURIComponent(e)),FB&&FB.XFBML.parse()},3e3)}function postToFacebookFeed(a){function d(a){}var b=$("#review-"+$(a).attr("reviewId")+" .desc").first().text(),c={method:"feed",link:decodeURIComponent($(a).attr("shareUrl")),picture:"",name:decodeURIComponent($(a).attr("shareName")),caption:"",description:b};FB.ui(c,null)}function postToGoogleFeed(a){var b="https://plus.google.com/share?url="+$(a).attr("shareUrl");return window.open(b,"","menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height=600,width=600"),!1}function postToTwitterFeed(a){var b=$("#review-"+$(a).attr("reviewId")+" .desc").first().text(),c=$(a).attr("shareName");b=decodeURIComponent(c)+"\r\n"+b,b=b.substr(0,120);var d="https://twitter.com/intent/tweet?url="+$(a).attr("shareUrl")+"&text="+encodeURIComponent(b);return window.open(d,"","menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height=600,width=600"),!1}function postToLinkedInFeed(a){var b=$("#review-"+$(a).attr("reviewId")+" .desc").first().text(),c=$(a).attr("shareName");b=b.substr(0,200);var d="http://www.linkedin.com/shareArticle?mini=true&url="+$(a).attr("shareUrl")+"&title="+c+"&summary="+encodeURIComponent(b)+"&source=Foody.vn";return window.open(d,"","menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height=600,width=600"),!1}window.fbAsyncInit=function(){FB.init({appId:window.fbAppId||"395614663835338",channelUrl:"http://www.foody.vn/channel.html",status:!0,cookie:!0,xfbml:!0,frictionlessRequests:!0,version:"v2.3"})},function(a){var b,c="facebook-jssdk",d=a.getElementsByTagName("script")[0];if(a.getElementById(c))return;b=a.createElement("script"),b.id=c,b.async=!0,b.src="//connect.facebook.net/en_US/all.js",d.parentNode.insertBefore(b,d)}(document),function(){var a=document.createElement("script");a.type="text/javascript",a.async=!0,a.src="https://apis.google.com/js/plusone.js";var b=document.getElementsByTagName("script")[0];b.parentNode.insertBefore(a,b)}()
;function BindingSuggestReviewTitle(){$('[data-autocomplete-type="reviews"]').autocomplete({delay:100,autoFocus:!1,html:!0,minLength:0,source:function(a,b){var c=a.term,d=this.element.data("autocomplete-type");typeof reviewcache[d]=="undefined"&&(reviewcache[d]={});if(c in reviewcache[d]){b(reviewcache[d][c]);return}reviewlastXhr=$.getJSON(this.element.data("autocomplete-url"),a,function(a,e,f){for(var g=0;g<a.length;g++)a[g].label=unescape(a[g].label);reviewcache[d][c]=a,f===reviewlastXhr&&b(a)})}})}var reviewcache={},reviewlastXhr;$('[data-autocomplete-type="reviews"]').live("focus",function(){$(this).val()==""?$('[data-autocomplete-type="reviews"]').autocomplete("search",""):$('[data-autocomplete-type="reviews"]').autocomplete("search",$(this).val())})
;var swfobject=function(){function A(){if(t)return;try{var a=i.getElementsByTagName("body")[0].appendChild(Q("span"));a.parentNode.removeChild(a)}catch(b){return}t=!0;var c=l.length;for(var d=0;d<c;d++)l[d]()}function B(a){t?a():l[l.length]=a}function C(b){if(typeof h.addEventListener!=a)h.addEventListener("load",b,!1);else if(typeof i.addEventListener!=a)i.addEventListener("load",b,!1);else if(typeof h.attachEvent!=a)R(h,"onload",b);else if(typeof h.onload=="function"){var c=h.onload;h.onload=function(){c(),b()}}else h.onload=b}function D(){k?E():F()}function E(){var c=i.getElementsByTagName("body")[0],d=Q(b);d.setAttribute("type",e);var f=c.appendChild(d);if(f){var g=0;(function(){if(typeof f.GetVariable!=a){var b=f.GetVariable("$version");b&&(b=b.split(" ")[1].split(","),y.pv=[parseInt(b[0],10),parseInt(b[1],10),parseInt(b[2],10)])}else if(g<10){g++,setTimeout(arguments.callee,10);return}c.removeChild(d),f=null,F()})()}else F()}function F(){var b=m.length;if(b>0)for(var c=0;c<b;c++){var d=m[c].id,e=m[c].callbackFn,f={success:!1,id:d};if(y.pv[0]>0){var g=P(d);if(g)if(S(m[c].swfVersion)&&!(y.wk&&y.wk<312))U(d,!0),e&&(f.success=!0,f.ref=G(d),e(f));else if(m[c].expressInstall&&H()){var h={};h.data=m[c].expressInstall,h.width=g.getAttribute("width")||"0",h.height=g.getAttribute("height")||"0",g.getAttribute("class")&&(h.styleclass=g.getAttribute("class")),g.getAttribute("align")&&(h.align=g.getAttribute("align"));var i={},j=g.getElementsByTagName("param"),k=j.length;for(var l=0;l<k;l++)j[l].getAttribute("name").toLowerCase()!="movie"&&(i[j[l].getAttribute("name")]=j[l].getAttribute("value"));I(h,i,d,e)}else J(g),e&&e(f)}else{U(d,!0);if(e){var n=G(d);n&&typeof n.SetVariable!=a&&(f.success=!0,f.ref=n),e(f)}}}}function G(c){var d=null,e=P(c);if(e&&e.nodeName=="OBJECT")if(typeof e.SetVariable!=a)d=e;else{var f=e.getElementsByTagName(b)[0];f&&(d=f)}return d}function H(){return!u&&S("6.0.65")&&(y.win||y.mac)&&!(y.wk&&y.wk<312)}function I(b,c,d,e){u=!0,r=e||null,s={success:!1,id:d};var g=P(d);if(g){g.nodeName=="OBJECT"?(p=K(g),q=null):(p=g,q=d),b.id=f;if(typeof b.width==a||!/%$/.test(b.width)&&parseInt(b.width,10)<310)b.width="310";if(typeof b.height==a||!/%$/.test(b.height)&&parseInt(b.height,10)<137)b.height="137";i.title=i.title.slice(0,47)+" - Flash Player Installation";var j=y.ie&&y.win?"ActiveX":"PlugIn",k="MMredirectURL="+h.location.toString().replace(/&/g,"%26")+"&MMplayerType="+j+"&MMdoctitle="+i.title;typeof c.flashvars!=a?c.flashvars+="&"+k:c.flashvars=k;if(y.ie&&y.win&&g.readyState!=4){var l=Q("div");d+="SWFObjectNew",l.setAttribute("id",d),g.parentNode.insertBefore(l,g),g.style.display="none",function(){g.readyState==4?g.parentNode.removeChild(g):setTimeout(arguments.callee,10)}()}L(b,c,d)}}function J(a){if(y.ie&&y.win&&a.readyState!=4){var b=Q("div");a.parentNode.insertBefore(b,a),b.parentNode.replaceChild(K(a),b),a.style.display="none",function(){a.readyState==4?a.parentNode.removeChild(a):setTimeout(arguments.callee,10)}()}else a.parentNode.replaceChild(K(a),a)}function K(a){var c=Q("div");if(y.win&&y.ie)c.innerHTML=a.innerHTML;else{var d=a.getElementsByTagName(b)[0];if(d){var e=d.childNodes;if(e){var f=e.length;for(var g=0;g<f;g++)(e[g].nodeType!=1||e[g].nodeName!="PARAM")&&e[g].nodeType!=8&&c.appendChild(e[g].cloneNode(!0))}}}return c}function L(c,d,f){var g,h=P(f);if(y.wk&&y.wk<312)return g;if(h){typeof c.id==a&&(c.id=f);if(y.ie&&y.win){var i="";for(var j in c)c[j]!=Object.prototype[j]&&(j.toLowerCase()=="data"?d.movie=c[j]:j.toLowerCase()=="styleclass"?i+=' class="'+c[j]+'"':j.toLowerCase()!="classid"&&(i+=" "+j+'="'+c[j]+'"'));var k="";for(var l in d)d[l]!=Object.prototype[l]&&(k+='<param name="'+l+'" value="'+d[l]+'" />');h.outerHTML='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"'+i+">"+k+"</object>",n[n.length]=c.id,g=P(c.id)}else{var m=Q(b);m.setAttribute("type",e);for(var o in c)c[o]!=Object.prototype[o]&&(o.toLowerCase()=="styleclass"?m.setAttribute("class",c[o]):o.toLowerCase()!="classid"&&m.setAttribute(o,c[o]));for(var p in d)d[p]!=Object.prototype[p]&&p.toLowerCase()!="movie"&&M(m,p,d[p]);h.parentNode.replaceChild(m,h),g=m}}return g}function M(a,b,c){var d=Q("param");d.setAttribute("name",b),d.setAttribute("value",c),a.appendChild(d)}function N(a){var b=P(a);b&&b.nodeName=="OBJECT"&&(y.ie&&y.win?(b.style.display="none",function(){b.readyState==4?O(a):setTimeout(arguments.callee,10)}()):b.parentNode.removeChild(b))}function O(a){var b=P(a);if(b){for(var c in b)typeof b[c]=="function"&&(b[c]=null);b.parentNode.removeChild(b)}}function P(a){var b=null;try{b=i.getElementById(a)}catch(c){}return b}function Q(a){return i.createElement(a)}function R(a,b,c){a.attachEvent(b,c),o[o.length]=[a,b,c]}function S(a){var b=y.pv,c=a.split(".");return c[0]=parseInt(c[0],10),c[1]=parseInt(c[1],10)||0,c[2]=parseInt(c[2],10)||0,b[0]>c[0]||b[0]==c[0]&&b[1]>c[1]||b[0]==c[0]&&b[1]==c[1]&&b[2]>=c[2]?!0:!1}function T(c,d,e,f){if(y.ie&&y.mac)return;var g=i.getElementsByTagName("head")[0];if(!g)return;var h=e&&typeof e=="string"?e:"screen";f&&(v=null,w=null);if(!v||w!=h){var j=Q("style");j.setAttribute("type","text/css"),j.setAttribute("media",h),v=g.appendChild(j),y.ie&&y.win&&typeof i.styleSheets!=a&&i.styleSheets.length>0&&(v=i.styleSheets[i.styleSheets.length-1]),w=h}y.ie&&y.win?v&&typeof v.addRule==b&&v.addRule(c,d):v&&typeof i.createTextNode!=a&&v.appendChild(i.createTextNode(c+" {"+d+"}"))}function U(a,b){if(!x)return;var c=b?"visible":"hidden";t&&P(a)?P(a).style.visibility=c:T("#"+a,"visibility:"+c)}function V(b){var c=/[\\\"<>\.;]/,d=c.exec(b)!=null;return d&&typeof encodeURIComponent!=a?encodeURIComponent(b):b}var a="undefined",b="object",c="Shockwave Flash",d="ShockwaveFlash.ShockwaveFlash",e="application/x-shockwave-flash",f="SWFObjectExprInst",g="onreadystatechange",h=window,i=document,j=navigator,k=!1,l=[D],m=[],n=[],o=[],p,q,r,s,t=!1,u=!1,v,w,x=!0,y=function(){var f=typeof i.getElementById!=a&&typeof i.getElementsByTagName!=a&&typeof i.createElement!=a,g=j.userAgent.toLowerCase(),l=j.platform.toLowerCase(),m=l?/win/.test(l):/win/.test(g),n=l?/mac/.test(l):/mac/.test(g),o=/webkit/.test(g)?parseFloat(g.replace(/^.*webkit\/(\d+(\.\d+)?).*$/,"$1")):!1,p=!1,q=[0,0,0],r=null;if(typeof j.plugins!=a&&typeof j.plugins[c]==b)r=j.plugins[c].description,r&&(typeof j.mimeTypes==a||!j.mimeTypes[e]||!!j.mimeTypes[e].enabledPlugin)&&(k=!0,p=!1,r=r.replace(/^.*\s+(\S+\s+\S+$)/,"$1"),q[0]=parseInt(r.replace(/^(.*)\..*$/,"$1"),10),q[1]=parseInt(r.replace(/^.*\.(.*)\s.*$/,"$1"),10),q[2]=/[a-zA-Z]/.test(r)?parseInt(r.replace(/^.*[a-zA-Z]+(.*)$/,"$1"),10):0);else if(typeof h.ActiveXObject!=a)try{var s=new ActiveXObject(d);s&&(r=s.GetVariable("$version"),r&&(p=!0,r=r.split(" ")[1].split(","),q=[parseInt(r[0],10),parseInt(r[1],10),parseInt(r[2],10)]))}catch(t){}return{w3:f,pv:q,wk:o,ie:p,win:m,mac:n}}(),z=function(){if(!y.w3)return;(typeof i.readyState!=a&&i.readyState=="complete"||typeof i.readyState==a&&(i.getElementsByTagName("body")[0]||i.body))&&A(),t||(typeof i.addEventListener!=a&&i.addEventListener("DOMContentLoaded",A,!1),y.ie&&y.win&&(i.attachEvent(g,function(){i.readyState=="complete"&&(i.detachEvent(g,arguments.callee),A())}),h==top&&function(){if(t)return;try{i.documentElement.doScroll("left")}catch(a){setTimeout(arguments.callee,0);return}A()}()),y.wk&&function(){if(t)return;if(!/loaded|complete/.test(i.readyState)){setTimeout(arguments.callee,0);return}A()}(),C(A))}(),W=function(){y.ie&&y.win&&window.attachEvent("onunload",function(){var a=o.length;for(var b=0;b<a;b++)o[b][0].detachEvent(o[b][1],o[b][2]);var c=n.length;for(var d=0;d<c;d++)N(n[d]);for(var e in y)y[e]=null;y=null;for(var f in swfobject)swfobject[f]=null;swfobject=null})}();return{registerObject:function(a,b,c,d){if(y.w3&&a&&b){var e={};e.id=a,e.swfVersion=b,e.expressInstall=c,e.callbackFn=d,m[m.length]=e,U(a,!1)}else d&&d({success:!1,id:a})},getObjectById:function(a){if(y.w3)return G(a)},embedSWF:function(c,d,e,f,g,h,i,j,k,l){var m={success:!1,id:d};y.w3&&!(y.wk&&y.wk<312)&&c&&d&&e&&f&&g?(U(d,!1),B(function(){e+="",f+="";var n={};if(k&&typeof k===b)for(var o in k)n[o]=k[o];n.data=c,n.width=e,n.height=f;var p={};if(j&&typeof j===b)for(var q in j)p[q]=j[q];if(i&&typeof i===b)for(var r in i)typeof p.flashvars!=a?p.flashvars+="&"+r+"="+i[r]:p.flashvars=r+"="+i[r];if(S(g)){var s=L(n,p,d);n.id==d&&U(d,!0),m.success=!0,m.ref=s}else{if(h&&H()){n.data=h,I(n,p,d,l);return}U(d,!0)}l&&l(m)})):l&&l(m)},switchOffAutoHideShow:function(){x=!1},ua:y,getFlashPlayerVersion:function(){return{major:y.pv[0],minor:y.pv[1],release:y.pv[2]}},hasFlashPlayerVersion:S,createSWF:function(a,b,c){return y.w3?L(a,b,c):undefined},showExpressInstall:function(a,b,c,d){y.w3&&H()&&I(a,b,c,d)},removeSWF:function(a){y.w3&&N(a)},createCSS:function(a,b,c,d){y.w3&&T(a,b,c,d)},addDomLoadEvent:B,addLoadEvent:C,getQueryParamValue:function(a){var b=i.location.search||i.location.hash;if(b){/\?/.test(b)&&(b=b.split("?")[1]);if(a==null)return V(b);var c=b.split("&");for(var d=0;d<c.length;d++)if(c[d].substring(0,c[d].indexOf("="))==a)return V(c[d].substring(c[d].indexOf("=")+1))}return""},expressInstallCallback:function(){if(u){var a=P(f);a&&p&&(a.parentNode.replaceChild(p,a),q&&(U(q,!0),y.ie&&y.win&&(p.style.display="block")),r&&r(s)),u=!1}}}}(),SWFUpload;SWFUpload==undefined&&(SWFUpload=function(a){this.initSWFUpload(a)}),SWFUpload.prototype.initSWFUpload=function(a){try{this.customSettings={},this.settings=a,this.eventQueue=[],this.movieName="SWFUpload_"+SWFUpload.movieCount++,this.movieElement=null,SWFUpload.instances[this.movieName]=this,this.initSettings(),this.loadFlash(),this.displayDebugInfo()}catch(b){throw delete SWFUpload.instances[this.movieName],b}},SWFUpload.instances={},SWFUpload.movieCount=0,SWFUpload.version="2.2.0 2009-03-25",SWFUpload.QUEUE_ERROR={QUEUE_LIMIT_EXCEEDED:-100,FILE_EXCEEDS_SIZE_LIMIT:-110,ZERO_BYTE_FILE:-120,INVALID_FILETYPE:-130},SWFUpload.UPLOAD_ERROR={HTTP_ERROR:-200,MISSING_UPLOAD_URL:-210,IO_ERROR:-220,SECURITY_ERROR:-230,UPLOAD_LIMIT_EXCEEDED:-240,UPLOAD_FAILED:-250,SPECIFIED_FILE_ID_NOT_FOUND:-260,FILE_VALIDATION_FAILED:-270,FILE_CANCELLED:-280,UPLOAD_STOPPED:-290},SWFUpload.FILE_STATUS={QUEUED:-1,IN_PROGRESS:-2,ERROR:-3,COMPLETE:-4,CANCELLED:-5},SWFUpload.BUTTON_ACTION={SELECT_FILE:-100,SELECT_FILES:-110,START_UPLOAD:-120},SWFUpload.CURSOR={ARROW:-1,HAND:-2},SWFUpload.WINDOW_MODE={WINDOW:"window",TRANSPARENT:"transparent",OPAQUE:"opaque"},SWFUpload.completeURL=function(a){if(typeof a!="string"||a.match(/^https?:\/\//i)||a.match(/^\//))return a;var b=window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:""),c=window.location.pathname.lastIndexOf("/");return c<=0?path="/":path=window.location.pathname.substr(0,c)+"/",path+a},SWFUpload.prototype.initSettings=function(){this.ensureDefault=function(a,b){this.settings[a]=this.settings[a]==undefined?b:this.settings[a]},this.ensureDefault("upload_url",""),this.ensureDefault("preserve_relative_urls",!1),this.ensureDefault("file_post_name","Filedata"),this.ensureDefault("post_params",{}),this.ensureDefault("use_query_string",!1),this.ensureDefault("requeue_on_error",!1),this.ensureDefault("http_success",[]),this.ensureDefault("assume_success_timeout",0),this.ensureDefault("file_types","*.*"),this.ensureDefault("file_types_description","All Files"),this.ensureDefault("file_size_limit",0),this.ensureDefault("file_upload_limit",0),this.ensureDefault("file_queue_limit",0),this.ensureDefault("flash_url","swfupload.swf"),this.ensureDefault("prevent_swf_caching",!0),this.ensureDefault("button_image_url",""),this.ensureDefault("button_width",1),this.ensureDefault("button_height",1),this.ensureDefault("button_text",""),this.ensureDefault("button_text_style","color: #000000; font-size: 16pt;"),this.ensureDefault("button_text_top_padding",0),this.ensureDefault("button_text_left_padding",0),this.ensureDefault("button_action",SWFUpload.BUTTON_ACTION.SELECT_FILES),this.ensureDefault("button_disabled",!1),this.ensureDefault("button_placeholder_id",""),this.ensureDefault("button_placeholder",null),this.ensureDefault("button_cursor",SWFUpload.CURSOR.ARROW),this.ensureDefault("button_window_mode",SWFUpload.WINDOW_MODE.WINDOW),this.ensureDefault("debug",!1),this.settings.debug_enabled=this.settings.debug,this.settings.return_upload_start_handler=this.returnUploadStart,this.ensureDefault("swfupload_loaded_handler",null),this.ensureDefault("file_dialog_start_handler",null),this.ensureDefault("file_queued_handler",null),this.ensureDefault("file_queue_error_handler",null),this.ensureDefault("file_dialog_complete_handler",null),this.ensureDefault("upload_start_handler",null),this.ensureDefault("upload_progress_handler",null),this.ensureDefault("upload_error_handler",null),this.ensureDefault("upload_success_handler",null),this.ensureDefault("upload_complete_handler",null),this.ensureDefault("debug_handler",this.debugMessage),this.ensureDefault("custom_settings",{}),this.customSettings=this.settings.custom_settings,!this.settings.prevent_swf_caching||(this.settings.flash_url=this.settings.flash_url+(this.settings.flash_url.indexOf("?")<0?"?":"&")+"preventswfcaching="+(new Date).getTime()),this.settings.preserve_relative_urls||(this.settings.upload_url=SWFUpload.completeURL(this.settings.upload_url),this.settings.button_image_url=SWFUpload.completeURL(this.settings.button_image_url)),delete this.ensureDefault},SWFUpload.prototype.loadFlash=function(){var a,b;if(document.getElementById(this.movieName)!==null)throw"ID "+this.movieName+" is already in use. The Flash Object could not be added";a=document.getElementById(this.settings.button_placeholder_id)||this.settings.button_placeholder;if(a==undefined)throw"Could not find the placeholder element: "+this.settings.button_placeholder_id;b=document.createElement("div"),b.innerHTML=this.getFlashHTML(),a.parentNode.replaceChild(b.firstChild,a),window[this.movieName]==undefined&&(window[this.movieName]=this.getMovieElement())},SWFUpload.prototype.getFlashHTML=function(){return['<object id="',this.movieName,'" type="application/x-shockwave-flash" data="',this.settings.flash_url,'" width="',this.settings.button_width,'" height="',this.settings.button_height,'" class="swfupload">','<param name="wmode" value="',this.settings.button_window_mode,'" />','<param name="movie" value="',this.settings.flash_url,'" />','<param name="quality" value="high" />','<param name="menu" value="false" />','<param name="allowScriptAccess" value="always" />','<param name="flashvars" value="'+this.getFlashVars()+'" />',"</object>"].join("")},SWFUpload.prototype.getFlashVars=function(){var a=this.buildParamString(),b=this.settings.http_success.join(",");return["movieName=",encodeURIComponent(this.movieName),"&amp;uploadURL=",encodeURIComponent(this.settings.upload_url),"&amp;useQueryString=",encodeURIComponent(this.settings.use_query_string),"&amp;requeueOnError=",encodeURIComponent(this.settings.requeue_on_error),"&amp;httpSuccess=",encodeURIComponent(b),"&amp;assumeSuccessTimeout=",encodeURIComponent(this.settings.assume_success_timeout),"&amp;params=",encodeURIComponent(a),"&amp;filePostName=",encodeURIComponent(this.settings.file_post_name),"&amp;fileTypes=",encodeURIComponent(this.settings.file_types),"&amp;fileTypesDescription=",encodeURIComponent(this.settings.file_types_description),"&amp;fileSizeLimit=",encodeURIComponent(this.settings.file_size_limit),"&amp;fileUploadLimit=",encodeURIComponent(this.settings.file_upload_limit),"&amp;fileQueueLimit=",encodeURIComponent(this.settings.file_queue_limit),"&amp;debugEnabled=",encodeURIComponent(this.settings.debug_enabled),"&amp;buttonImageURL=",encodeURIComponent(this.settings.button_image_url),"&amp;buttonWidth=",encodeURIComponent(this.settings.button_width),"&amp;buttonHeight=",encodeURIComponent(this.settings.button_height),"&amp;buttonText=",encodeURIComponent(this.settings.button_text),"&amp;buttonTextTopPadding=",encodeURIComponent(this.settings.button_text_top_padding),"&amp;buttonTextLeftPadding=",encodeURIComponent(this.settings.button_text_left_padding),"&amp;buttonTextStyle=",encodeURIComponent(this.settings.button_text_style),"&amp;buttonAction=",encodeURIComponent(this.settings.button_action),"&amp;buttonDisabled=",encodeURIComponent(this.settings.button_disabled),"&amp;buttonCursor=",encodeURIComponent(this.settings.button_cursor)].join("")},SWFUpload.prototype.getMovieElement=function(){this.movieElement==undefined&&(this.movieElement=document.getElementById(this.movieName));if(this.movieElement===null)throw"Could not find Flash element";return this.movieElement},SWFUpload.prototype.buildParamString=function(){var a=this.settings.post_params,b=[];if(typeof a=="object")for(var c in a)a.hasOwnProperty(c)&&b.push(encodeURIComponent(c.toString())+"="+encodeURIComponent(a[c].toString()));return b.join("&amp;")},SWFUpload.prototype.destroy=function(){try{this.cancelUpload(null,!1);var a=null;a=this.getMovieElement();if(a&&typeof a.CallFunction=="unknown"){for(var b in a)try{typeof a[b]=="function"&&(a[b]=null)}catch(c){}try{a.parentNode.removeChild(a)}catch(d){}}return window[this.movieName]=null,SWFUpload.instances[this.movieName]=null,delete SWFUpload.instances[this.movieName],this.movieElement=null,this.settings=null,this.customSettings=null,this.eventQueue=null,this.movieName=null,!0}catch(e){return!1}},SWFUpload.prototype.displayDebugInfo=function(){this.debug(["---SWFUpload Instance Info---\n","Version: ",SWFUpload.version,"\n","Movie Name: ",this.movieName,"\n","Settings:\n","\t","upload_url:               ",this.settings.upload_url,"\n","\t","flash_url:                ",this.settings.flash_url,"\n","\t","use_query_string:         ",this.settings.use_query_string.toString(),"\n","\t","requeue_on_error:         ",this.settings.requeue_on_error.toString(),"\n","\t","http_success:             ",this.settings.http_success.join(", "),"\n","\t","assume_success_timeout:   ",this.settings.assume_success_timeout,"\n","\t","file_post_name:           ",this.settings.file_post_name,"\n","\t","post_params:              ",this.settings.post_params.toString(),"\n","\t","file_types:               ",this.settings.file_types,"\n","\t","file_types_description:   ",this.settings.file_types_description,"\n","\t","file_size_limit:          ",this.settings.file_size_limit,"\n","\t","file_upload_limit:        ",this.settings.file_upload_limit,"\n","\t","file_queue_limit:         ",this.settings.file_queue_limit,"\n","\t","debug:                    ",this.settings.debug.toString(),"\n","\t","prevent_swf_caching:      ",this.settings.prevent_swf_caching.toString(),"\n","\t","button_placeholder_id:    ",this.settings.button_placeholder_id.toString(),"\n","\t","button_placeholder:       ",this.settings.button_placeholder?"Set":"Not Set","\n","\t","button_image_url:         ",this.settings.button_image_url.toString(),"\n","\t","button_width:             ",this.settings.button_width.toString(),"\n","\t","button_height:            ",this.settings.button_height.toString(),"\n","\t","button_text:              ",this.settings.button_text.toString(),"\n","\t","button_text_style:        ",this.settings.button_text_style.toString(),"\n","\t","button_text_top_padding:  ",this.settings.button_text_top_padding.toString(),"\n","\t","button_text_left_padding: ",this.settings.button_text_left_padding.toString(),"\n","\t","button_action:            ",this.settings.button_action.toString(),"\n","\t","button_disabled:          ",this.settings.button_disabled.toString(),"\n","\t","custom_settings:          ",this.settings.custom_settings.toString(),"\n","Event Handlers:\n","\t","swfupload_loaded_handler assigned:  ",(typeof this.settings.swfupload_loaded_handler=="function").toString(),"\n","\t","file_dialog_start_handler assigned: ",(typeof this.settings.file_dialog_start_handler=="function").toString(),"\n","\t","file_queued_handler assigned:       ",(typeof this.settings.file_queued_handler=="function").toString(),"\n","\t","file_queue_error_handler assigned:  ",(typeof this.settings.file_queue_error_handler=="function").toString(),"\n","\t","upload_start_handler assigned:      ",(typeof this.settings.upload_start_handler=="function").toString(),"\n","\t","upload_progress_handler assigned:   ",(typeof this.settings.upload_progress_handler=="function").toString(),"\n","\t","upload_error_handler assigned:      ",(typeof this.settings.upload_error_handler=="function").toString(),"\n","\t","upload_success_handler assigned:    ",(typeof this.settings.upload_success_handler=="function").toString(),"\n","\t","upload_complete_handler assigned:   ",(typeof this.settings.upload_complete_handler=="function").toString(),"\n","\t","debug_handler assigned:             ",(typeof this.settings.debug_handler=="function").toString(),"\n"].join(""))},SWFUpload.prototype.addSetting=function(a,b,c){return b==undefined?this.settings[a]=c:this.settings[a]=b},SWFUpload.prototype.getSetting=function(a){return this.settings[a]!=undefined?this.settings[a]:""},SWFUpload.prototype.callFlash=function(functionName,argumentArray){argumentArray=argumentArray||[];var movieElement=this.getMovieElement(),returnValue,returnString;try{returnString=movieElement.CallFunction('<invoke name="'+functionName+'" returntype="javascript">'+__flash__argumentsToXML(argumentArray,0)+"</invoke>"),returnValue=eval(returnString)}catch(ex){throw"Call to "+functionName+" failed"}return returnValue!=undefined&&typeof returnValue.post=="object"&&(returnValue=this.unescapeFilePostParams(returnValue)),returnValue},SWFUpload.prototype.selectFile=function(){this.callFlash("SelectFile")},SWFUpload.prototype.selectFiles=function(){this.callFlash("SelectFiles")},SWFUpload.prototype.startUpload=function(a){this.callFlash("StartUpload",[a])},SWFUpload.prototype.cancelUpload=function(a,b){b!==!1&&(b=!0),this.callFlash("CancelUpload",[a,b])},SWFUpload.prototype.stopUpload=function(){this.callFlash("StopUpload")},SWFUpload.prototype.getStats=function(){return this.callFlash("GetStats")},SWFUpload.prototype.setStats=function(a){this.callFlash("SetStats",[a])},SWFUpload.prototype.getFile=function(a){return typeof a=="number"?this.callFlash("GetFileByIndex",[a]):this.callFlash("GetFile",[a])},SWFUpload.prototype.addFileParam=function(a,b,c){return this.callFlash("AddFileParam",[a,b,c])},SWFUpload.prototype.removeFileParam=function(a,b){this.callFlash("RemoveFileParam",[a,b])},SWFUpload.prototype.setUploadURL=function(a){this.settings.upload_url=a.toString(),this.callFlash("SetUploadURL",[a])},SWFUpload.prototype.setPostParams=function(a){this.settings.post_params=a,this.callFlash("SetPostParams",[a])},SWFUpload.prototype.addPostParam=function(a,b){this.settings.post_params[a]=b,this.callFlash("SetPostParams",[this.settings.post_params])},SWFUpload.prototype.removePostParam=function(a){delete this.settings.post_params[a],this.callFlash("SetPostParams",[this.settings.post_params])},SWFUpload.prototype.setFileTypes=function(a,b){this.settings.file_types=a,this.settings.file_types_description=b,this.callFlash("SetFileTypes",[a,b])},SWFUpload.prototype.setFileSizeLimit=function(a){this.settings.file_size_limit=a,this.callFlash("SetFileSizeLimit",[a])},SWFUpload.prototype.setFileUploadLimit=function(a){this.settings.file_upload_limit=a,this.callFlash("SetFileUploadLimit",[a])},SWFUpload.prototype.setFileQueueLimit=function(a){this.settings.file_queue_limit=a,this.callFlash("SetFileQueueLimit",[a])},SWFUpload.prototype.setFilePostName=function(a){this.settings.file_post_name=a,this.callFlash("SetFilePostName",[a])},SWFUpload.prototype.setUseQueryString=function(a){this.settings.use_query_string=a,this.callFlash("SetUseQueryString",[a])},SWFUpload.prototype.setRequeueOnError=function(a){this.settings.requeue_on_error=a,this.callFlash("SetRequeueOnError",[a])},SWFUpload.prototype.setHTTPSuccess=function(a){typeof a=="string"&&(a=a.replace(" ","").split(",")),this.settings.http_success=a,this.callFlash("SetHTTPSuccess",[a])},SWFUpload.prototype.setAssumeSuccessTimeout=function(a){this.settings.assume_success_timeout=a,this.callFlash("SetAssumeSuccessTimeout",[a])},SWFUpload.prototype.setDebugEnabled=function(a){this.settings.debug_enabled=a,this.callFlash("SetDebugEnabled",[a])},SWFUpload.prototype.setButtonImageURL=function(a){a==undefined&&(a=""),this.settings.button_image_url=a,this.callFlash("SetButtonImageURL",[a])},SWFUpload.prototype.setButtonDimensions=function(a,b){this.settings.button_width=a,this.settings.button_height=b;var c=this.getMovieElement();c!=undefined&&(c.style.width=a+"px",c.style.height=b+"px"),this.callFlash("SetButtonDimensions",[a,b])},SWFUpload.prototype.setButtonText=function(a){this.settings.button_text=a,this.callFlash("SetButtonText",[a])},SWFUpload.prototype.setButtonTextPadding=function(a,b){this.settings.button_text_top_padding=b,this.settings.button_text_left_padding=a,this.callFlash("SetButtonTextPadding",[a,b])},SWFUpload.prototype.setButtonTextStyle=function(a){this.settings.button_text_style=a,this.callFlash("SetButtonTextStyle",[a])},SWFUpload.prototype.setButtonDisabled=function(a){this.settings.button_disabled=a,this.callFlash("SetButtonDisabled",[a])},SWFUpload.prototype.setButtonAction=function(a){this.settings.button_action=a,this.callFlash("SetButtonAction",[a])},SWFUpload.prototype.setButtonCursor=function(a){this.settings.button_cursor=a,this.callFlash("SetButtonCursor",[a])},SWFUpload.prototype.queueEvent=function(a,b){b==undefined?b=[]:b instanceof Array||(b=[b]);var c=this;if(typeof this.settings[a]=="function")this.eventQueue.push(function(){this.settings[a].apply(this,b)}),setTimeout(function(){c.executeNextEvent()},0);else if(this.settings[a]!==null)throw"Event handler "+a+" is unknown or is not a function"},SWFUpload.prototype.executeNextEvent=function(){var a=this.eventQueue?this.eventQueue.shift():null;typeof a=="function"&&a.apply(this)},SWFUpload.prototype.unescapeFilePostParams=function(a){var b=/[$]([0-9a-f]{4})/i,c={},d;if(a!=undefined){for(var e in a.post)if(a.post.hasOwnProperty(e)){d=e;var f;while((f=b.exec(d))!==null)d=d.replace(f[0],String.fromCharCode(parseInt("0x"+f[1],16)));c[d]=a.post[e]}a.post=c}return a},SWFUpload.prototype.testExternalInterface=function(){try{return this.callFlash("TestExternalInterface")}catch(a){return!1}},SWFUpload.prototype.flashReady=function(){var a=this.getMovieElement();if(!a){this.debug("Flash called back ready but the flash movie can't be found.");return}this.cleanUp(a),this.queueEvent("swfupload_loaded_handler")},SWFUpload.prototype.cleanUp=function(a){try{if(this.movieElement&&typeof a.CallFunction=="unknown"){this.debug("Removing Flash functions hooks (this should only run in IE and should prevent memory leaks)");for(var b in a)try{typeof a[b]=="function"&&(a[b]=null)}catch(c){}}}catch(d){}window.__flash__removeCallback=function(a,b){try{a&&(a[b]=null)}catch(c){}}},SWFUpload.prototype.fileDialogStart=function(){this.queueEvent("file_dialog_start_handler")},SWFUpload.prototype.fileQueued=function(a){a=this.unescapeFilePostParams(a),this.queueEvent("file_queued_handler",a)},SWFUpload.prototype.fileQueueError=function(a,b,c){a=this.unescapeFilePostParams(a),this.queueEvent("file_queue_error_handler",[a,b,c])},SWFUpload.prototype.fileDialogComplete=function(a,b,c){this.queueEvent("file_dialog_complete_handler",[a,b,c])},SWFUpload.prototype.uploadStart=function(a){a=this.unescapeFilePostParams(a),this.queueEvent("return_upload_start_handler",a)},SWFUpload.prototype.returnUploadStart=function(a){var b;if(typeof this.settings.upload_start_handler=="function")a=this.unescapeFilePostParams(a),b=this.settings.upload_start_handler.call(this,a);else if(this.settings.upload_start_handler!=undefined)throw"upload_start_handler must be a function";b===undefined&&(b=!0),b=!!b,this.callFlash("ReturnUploadStart",[b])},SWFUpload.prototype.uploadProgress=function(a,b,c){a=this.unescapeFilePostParams(a),this.queueEvent("upload_progress_handler",[a,b,c])},SWFUpload.prototype.uploadError=function(a,b,c){a=this.unescapeFilePostParams(a),this.queueEvent("upload_error_handler",[a,b,c])},SWFUpload.prototype.uploadSuccess=function(a,b,c){a=this.unescapeFilePostParams(a),this.queueEvent("upload_success_handler",[a,b,c])},SWFUpload.prototype.uploadComplete=function(a){a=this.unescapeFilePostParams(a),this.queueEvent("upload_complete_handler",a)},SWFUpload.prototype.debug=function(a){this.queueEvent("debug_handler",a)},SWFUpload.prototype.debugMessage=function(a){if(this.settings.debug){var b,c=[];if(typeof a=="object"&&typeof a.name=="string"&&typeof a.message=="string"){for(var d in a)a.hasOwnProperty(d)&&c.push(d+": "+a[d]);b=c.join("\n")||"",c=b.split("\n"),b="EXCEPTION: "+c.join("\nEXCEPTION: "),SWFUpload.Console.writeLine(b)}else SWFUpload.Console.writeLine(a)}},SWFUpload.Console={},SWFUpload.Console.writeLine=function(a){var b,c;try{b=document.getElementById("SWFUpload_Console"),b||(c=document.createElement("form"),document.getElementsByTagName("body")[0].appendChild(c),b=document.createElement("textarea"),b.id="SWFUpload_Console",b.style.fontFamily="monospace",b.setAttribute("wrap","off"),b.wrap="off",b.style.overflow="auto",b.style.width="700px",b.style.height="350px",b.style.margin="5px",c.appendChild(b)),b.value+=a+"\n",b.scrollTop=b.scrollHeight-b.clientHeight}catch(d){alert("Exception: "+d.name+" Message: "+d.message)}},function(a){var b={init:function(b,d){return this.each(function(){var e=a(this),f=e.clone(),g=a.extend({id:e.attr("id"),swf:"uploadify.swf",uploader:"uploadify.php",auto:!0,buttonClass:"",buttonCursor:"hand",buttonImage:null,buttonText:"SELECT FILES",checkExisting:!1,debug:!1,fileObjName:"Filedata",fileSizeLimit:0,fileTypeDesc:"All Files",fileTypeExts:"*.*",height:30,method:"post",multi:!0,formData:{},preventCaching:!0,progressData:"percentage",queueID:!1,queueSizeLimit:999,removeCompleted:!0,removeTimeout:3,requeueErrors:!1,successTimeout:300,uploadLimit:0,width:120,overrideEvents:[]},b),h={assume_success_timeout:g.successTimeout,button_placeholder_id:g.id,button_width:g.width,button_height:g.height,button_text:null,button_text_style:null,button_text_top_padding:0,button_text_left_padding:0,button_action:g.multi?SWFUpload.BUTTON_ACTION.SELECT_FILES:SWFUpload.BUTTON_ACTION.SELECT_FILE,button_disabled:!1,button_cursor:g.buttonCursor=="arrow"?SWFUpload.CURSOR.ARROW:SWFUpload.CURSOR.HAND,button_window_mode:SWFUpload.WINDOW_MODE.TRANSPARENT,debug:g.debug,requeue_on_error:g.requeueErrors,file_post_name:g.fileObjName,file_size_limit:g.fileSizeLimit,file_types:g.fileTypeExts,file_types_description:g.fileTypeDesc,file_queue_limit:g.queueSizeLimit,file_upload_limit:g.uploadLimit,flash_url:g.swf,prevent_swf_caching:g.preventCaching,post_params:g.formData,upload_url:g.uploader,use_query_string:g.method=="get",file_dialog_complete_handler:c.onDialogClose,file_dialog_start_handler:c.onDialogOpen,file_queued_handler:c.onSelect,file_queue_error_handler:c.onSelectError,swfupload_loaded_handler:g.onSWFReady,upload_complete_handler:c.onUploadComplete,upload_error_handler:c.onUploadError,upload_progress_handler:c.onUploadProgress,upload_start_handler:c.onUploadStart,upload_success_handler:c.onUploadSuccess};d&&(h=a.extend(h,d)),h=a.extend(h,g);var i=swfobject.getFlashPlayerVersion(),j=i.major>=9;if(j){window["uploadify_"+g.id]=new SWFUpload(h);var k=window["uploadify_"+g.id];e.data("uploadify",k);var l=a("<div />",{id:g.id,"class":"uploadify",css:{height:g.height+"px",width:g.width+"px"}});a("#"+k.movieName).wrap(l),l=a("#"+g.id),l.data("uploadify",k);var m=a("<div />",{id:g.id+"-button","class":"uploadify-button "+g.buttonClass});g.buttonImage&&m.css({"background-image":"url('"+g.buttonImage+"')","text-indent":"-9999px"}),m.html('<span class="uploadify-button-text">'+g.buttonText+"</span>").css({height:g.height+"px","line-height":g.height+"px",width:g.width+"px"}),l.append(m),a("#"+k.movieName).css({position:"absolute","z-index":1});if(!g.queueID){var n=a("<div />",{id:g.id+"-queue","class":"uploadify-queue"});l.after(n),k.settings.queueID=g.id+"-queue",k.settings.defaultQueue=!0}k.queueData={files:{},filesSelected:0,filesQueued:0,filesReplaced:0,filesCancelled:0,filesErrored:0,uploadsSuccessful:0,uploadsErrored:0,averageSpeed:0,queueLength:0,queueSize:0,uploadSize:0,queueBytesUploaded:0,uploadQueue:[],errorMsg:"Some files were not added to the queue:"},k.original=f,k.wrapper=l,k.button=m,k.queue=n,g.onInit&&g.onInit.call(e,k)}else g.onFallback&&g.onFallback.call(e)})},cancel:function(b,c){var d=arguments;this.each(function(){var b=a(this),c=b.data("uploadify"),e=c.settings,f=-1;if(d[0])if(d[0]=="*"){var g=c.queueData.queueLength;a("#"+e.queueID).find(".uploadify-queue-item").each(function(){f++,d[1]===!0?c.cancelUpload(a(this).attr("id"),!1):c.cancelUpload(a(this).attr("id")),a(this).find(".data").removeClass("data").html(" - Cancelled"),a(this).find(".uploadify-progress-bar").remove(),a(this).find(".uploadify-progress-bar-profile").remove(),a(this).delay(1e3+100*f).fadeOut(500,function(){a(this).remove()})}),c.queueData.queueSize=0,c.queueData.queueLength=0,e.onClearQueue&&e.onClearQueue.call(b,g)}else for(var h=0;h<d.length;h++)c.cancelUpload(d[h]),a("#"+d[h]).find(".data").removeClass("data").html(" - Cancelled"),a("#"+d[h]).find(".uploadify-progress-bar").remove(),a("#"+d[h]).find(".uploadify-progress-bar-profile").remove(),a("#"+d[h]).delay(1e3+100*h).fadeOut(50,function(){a(this).remove()});else{var i=a("#"+e.queueID).find(".uploadify-queue-item").get(0);$item=a(i),c.cancelUpload($item.attr("id")),$item.find(".data").removeClass("data").html(" - Cancelled"),$item.find(".uploadify-progress-bar").remove(),$item.find(".uploadify-progress-bar-profile").remove(),$item.delay(1e3).fadeOut(50,function(){a(this).remove()})}})},destroy:function(){this.each(function(){var b=a(this),c=b.data("uploadify"),d=c.settings;c.destroy(),d.defaultQueue&&a("#"+d.queueID).remove(),a("#"+d.id).replaceWith(c.original),d.onDestroy&&d.onDestroy.call(this),delete c})},disable:function(b){this.each(function(){var c=a(this),d=c.data("uploadify"),e=d.settings;b?(d.button.addClass("disabled"),e.onDisable&&e.onDisable.call(this)):(d.button.removeClass("disabled"),e.onEnable&&e.onEnable.call(this)),d.setButtonDisabled(b)})},settings:function(b,c,d){var e=arguments,f=c;this.each(function(){var g=a(this),h=g.data("uploadify"),i=h.settings;if(typeof e[0]=="object")for(var j in c)setData(j,c[j]);if(e.length===1)f=i[b];else{switch(b){case"uploader":h.setUploadURL(c);break;case"formData":d||(c=a.extend(i.formData,c)),h.setPostParams(i.formData);break;case"method":c=="get"?h.setUseQueryString(!0):h.setUseQueryString(!1);break;case"fileObjName":h.setFilePostName(c);break;case"fileTypeExts":h.setFileTypes(c,i.fileTypeDesc);break;case"fileTypeDesc":h.setFileTypes(i.fileTypeExts,c);break;case"fileSizeLimit":h.setFileSizeLimit(c);break;case"uploadLimit":h.setFileUploadLimit(c);break;case"queueSizeLimit":h.setFileQueueLimit(c);break;case"buttonImage":h.button.css("background-image",settingValue);break;case"buttonCursor":c=="arrow"?h.setButtonCursor(SWFUpload.CURSOR.ARROW):h.setButtonCursor(SWFUpload.CURSOR.HAND);break;case"buttonText":a("#"+i.id+"-button").find(".uploadify-button-text").html(c);break;case"width":h.setButtonDimensions(c,i.height);break;case"height":h.setButtonDimensions(i.width,c);break;case"multi":c?h.setButtonAction(SWFUpload.BUTTON_ACTION.SELECT_FILES):h.setButtonAction(SWFUpload.BUTTON_ACTION.SELECT_FILE)}i[b]=c}});if(e.length===1)return f},stop:function(){this.each(function(){var b=a(this),c=b.data("uploadify");c.queueData.averageSpeed=0,c.queueData.uploadSize=0,c.queueData.bytesUploaded=0,c.queueData.uploadQueue=[],c.stopUpload()})},upload:function(){var b=arguments;this.each(function(){var c=a(this),d=c.data("uploadify");d.queueData.averageSpeed=0,d.queueData.uploadSize=0,d.queueData.bytesUploaded=0,d.queueData.uploadQueue=[];if(b[0])if(b[0]=="*")d.queueData.uploadSize=d.queueData.queueSize,d.queueData.uploadQueue.push("*"),d.startUpload();else{for(var e=0;e<b.length;e++)d.queueData.uploadSize+=d.queueData.files[b[e]].size,d.queueData.uploadQueue.push(b[e]);d.startUpload(d.queueData.uploadQueue.shift())}else d.startUpload()})}},c={onDialogOpen:function(){var a=this.settings;this.queueData.errorMsg="Some files were not added to the queue:",this.queueData.filesReplaced=0,this.queueData.filesCancelled=0,a.onDialogOpen&&a.onDialogOpen.call(this)},onDialogClose:function(b,c,d){var e=this.settings;this.queueData.filesErrored=b-c,this.queueData.filesSelected=b,this.queueData.filesQueued=c-this.queueData.filesCancelled,this.queueData.queueLength=d,a.inArray("onDialogClose",e.overrideEvents)<0&&this.queueData.filesErrored>0&&alert(this.queueData.errorMsg),e.onDialogClose&&e.onDialogClose.call(this,this.queueData),e.auto&&a("#"+e.id).uploadify("upload","*")},onSelect:function(b){var c=this.settings,d=!1,e={};for(var f in this.queueData.files)e=this.queueData.files[f],e.uploaded!=1&&e.name==b.name&&(a("#"+e.id).remove(),this.cancelUpload(e.id),this.queueData.filesReplaced++);var g=Math.round(b.size/1024),h="KB";g>1e3&&(g=Math.round(g/1e3),h="MB");var i=g.toString().split(".");g=i[0],i.length>1&&(g+="."+i[1].substr(0,2)),g+=h;var j=b.name;j.length>25&&(j=j.substr(0,25)+"...");if(c.itemTemplate=="undefined"||c.itemTemplate==null||c.itemTemplate==0){if(a.inArray("onSelect",c.overrideEvents)<0){var k='<li class="template-upload uploadify-queue-item" id="'+b.id+'">'+'<div class="preview"><span class="fade"></span></div>';k+='<div class="picture-bar"><div class="progress progress-success progress-striped uploadify-progress active" style="width:auto;"><div class="uploadify-progress-bar bar" style="width:0%;height:10px;"></div></div><div style="font-size:11px;">Uploading...</div></div>',k+='<span class="data"></span>',k+='<div class="cancel remove"><a href="javascript:$(\'#'+c.id+"').uploadify('cancel', '"+b.id+"')\">X</a>"+"</div>"+"</li>",a("#"+c.queueID).append(k)}}else{itemData={fileID:b.id,instanceID:c.id,fileName:j,fileSize:g};if(a.inArray("onSelect",c.overrideEvents)<0){itemHTML=c.itemTemplate;for(var l in itemData)itemHTML=itemHTML.replace(new RegExp("\\$\\{"+l+"\\}","g"),itemData[l]);a("#"+c.queueID).append(itemHTML)}}this.queueData.queueSize+=b.size,this.queueData.files[b.id]=b,c.onSelect&&c.onSelect.apply(this,arguments)},onSelectError:function(b,c,d){var e=this.settings;if(a.inArray("onSelectError",e.overrideEvents)<0)switch(c){case SWFUpload.QUEUE_ERROR.QUEUE_LIMIT_EXCEEDED:e.queueSizeLimit>d?this.queueData.errorMsg+="\nThe number of files selected exceeds the remaining upload limit ("+d+").":this.queueData.errorMsg+="\nThe number of files selected exceeds the queue size limit ("+e.queueSizeLimit+").";break;case SWFUpload.QUEUE_ERROR.FILE_EXCEEDS_SIZE_LIMIT:this.queueData.errorMsg+='\nThe file "'+b.name+'" exceeds the size limit ('+e.fileSizeLimit+").";break;case SWFUpload.QUEUE_ERROR.ZERO_BYTE_FILE:this.queueData.errorMsg+='\nThe file "'+b.name+'" is empty.';break;case SWFUpload.QUEUE_ERROR.FILE_EXCEEDS_SIZE_LIMIT:this.queueData.errorMsg+='\nThe file "'+b.name+'" is not an accepted file type ('+e.fileTypeDesc+")."}c!=SWFUpload.QUEUE_ERROR.QUEUE_LIMIT_EXCEEDED&&delete this.queueData.files[b.id],e.onSelectError&&e.onSelectError.apply(this,arguments)},onQueueComplete:function(){this.settings.onQueueComplete&&this.settings.onQueueComplete.call(this,this.settings.queueData)},onUploadComplete:function(b){var c=this.settings,d=this,e=this.getStats();this.queueData.queueLength=e.files_queued,this.queueData.uploadQueue[0]=="*"?this.queueData.queueLength>0?this.startUpload():(this.queueData.uploadQueue=[],c.onQueueComplete&&c.onQueueComplete.call(this,this.queueData)):this.queueData.uploadQueue.length>0?this.startUpload(this.queueData.uploadQueue.shift()):(this.queueData.uploadQueue=[],c.onQueueComplete&&c.onQueueComplete.call(this,this.queueData));if(a.inArray("onUploadComplete",c.overrideEvents)<0)if(c.removeCompleted)switch(b.filestatus){case SWFUpload.FILE_STATUS.COMPLETE:setTimeout(function(){a("#"+b.id)&&(d.queueData.queueSize-=b.size,d.queueData.queueLength-=1,delete d.queueData.files[b.id],a("#"+b.id).fadeOut(500,function(){a(this).remove()}))},c.removeTimeout*1e3);break;case SWFUpload.FILE_STATUS.ERROR:c.requeueErrors||setTimeout(function(){a("#"+b.id)&&(d.queueData.queueSize-=b.size,d.queueData.queueLength-=1,delete d.queueData.files[b.id],a("#"+b.id).fadeOut(500,function(){a(this).remove()}))},c.removeTimeout*1e3)}else b.uploaded=!0;c.onUploadComplete&&c.onUploadComplete.call(this,b)},onUploadError:function(b,c,d){var e=this.settings,f="Error";switch(c){case SWFUpload.UPLOAD_ERROR.HTTP_ERROR:f="HTTP Error ("+d+")";break;case SWFUpload.UPLOAD_ERROR.MISSING_UPLOAD_URL:f="Missing Upload URL";break;case SWFUpload.UPLOAD_ERROR.IO_ERROR:f="IO Error";break;case SWFUpload.UPLOAD_ERROR.SECURITY_ERROR:f="Security Error";break;case SWFUpload.UPLOAD_ERROR.UPLOAD_LIMIT_EXCEEDED:alert("The upload limit has been reached ("+d+")."),f="Exceeds Upload Limit";break;case SWFUpload.UPLOAD_ERROR.UPLOAD_FAILED:f="Failed";break;case SWFUpload.UPLOAD_ERROR.SPECIFIED_FILE_ID_NOT_FOUND:break;case SWFUpload.UPLOAD_ERROR.FILE_VALIDATION_FAILED:f="Validation Error";break;case SWFUpload.UPLOAD_ERROR.FILE_CANCELLED:f="Cancelled",this.queueData.queueSize-=b.size,this.queueData.queueLength-=1;if(b.status==SWFUpload.FILE_STATUS.IN_PROGRESS||a.inArray(b.id,this.queueData.uploadQueue)>=0)this.queueData.uploadSize-=b.size;e.onCancel&&e.onCancel.call(this,b),delete this.queueData.files[b.id];break;case SWFUpload.UPLOAD_ERROR.UPLOAD_STOPPED:f="Stopped"}a.inArray("onUploadError",e.overrideEvents)<0&&(c!=SWFUpload.UPLOAD_ERROR.FILE_CANCELLED&&c!=SWFUpload.UPLOAD_ERROR.UPLOAD_STOPPED&&a("#"+b.id).addClass("uploadify-error"),a("#"+b.id).find(".uploadify-progress-bar").css("width","1px"),a("#"+b.id).find(".uploadify-progress-bar-profile").css("width","1px"),c!=SWFUpload.UPLOAD_ERROR.SPECIFIED_FILE_ID_NOT_FOUND&&b.status!=SWFUpload.FILE_STATUS.COMPLETE&&a("#"+b.id).find(".data").html(" - "+f));var g=this.getStats();this.queueData.uploadsErrored=g.upload_errors,e.onUploadError&&e.onUploadError.call(this,b,c,d,f)},onUploadProgress:function(b,c,d){var e=this.settings,f=new Date,g=f.getTime(),h=g-this.timer;h>500&&(this.timer=g);var i=c-this.bytesLoaded;this.bytesLoaded=c;var j=this.queueData.queueBytesUploaded+c,k=Math.round(c/d*100),l="KB/s",m=0,n=i/1024/(h/1e3);n=Math.floor(n*10)/10,this.queueData.averageSpeed>0?this.queueData.averageSpeed=Math.floor((this.queueData.averageSpeed+n)/2):this.queueData.averageSpeed=Math.floor(n),n>1e3&&(m=n*.001,this.queueData.averageSpeed=Math.floor(m),l="MB/s"),a.inArray("onUploadProgress",e.overrideEvents)<0&&(e.progressData!="percentage"&&!(e.progressData=="speed"&&h>500),a("#"+b.id).find(".uploadify-progress-bar").css("width",k+"%"),a("#"+b.id).find(".uploadify-progress-bar-profile").css("width",k+"%")),e.onUploadProgress&&e.onUploadProgress.call(this,b,c,d,j,this.queueData.uploadSize)},onUploadStart:function(b){var c=this.settings,d=new Date;this.timer=d.getTime(),this.bytesLoaded=0,this.queueData.uploadQueue.length==0&&(this.queueData.uploadSize=b.size),c.checkExisting&&a.ajax({type:"POST",async:!1,url:c.checkExisting,data:{filename:b.name},success:function(c){if(c==1){var d=confirm('A file with the name "'+b.name+'" already exists on the server.\nWould you like to replace the existing file?');d||(this.cancelUpload(b.id),a("#"+b.id).remove(),this.queueData.uploadQueue.length>0&&this.queueData.queueLength>0&&(this.queueData.uploadQueue[0]=="*"?this.startUpload():this.startUpload(this.queueData.uploadQueue.shift())))}}}),c.onUploadStart&&c.onUploadStart.call(this,b)},onUploadSuccess:function(b,c,d){var e=this.settings,f=this.getStats();this.queueData.uploadsSuccessful=f.successful_uploads,this.queueData.queueBytesUploaded+=b.size,!(a.inArray("onUploadSuccess",e.overrideEvents)<0),e.onUploadSuccess&&e.onUploadSuccess.call(this,b,c,d)}};a.fn.uploadify=function(c){if(b[c])return b[c].apply(this,Array.prototype.slice.call(arguments,1));if(typeof c=="object"||!c)return b.init.apply(this,arguments);a.error("The method "+c+" does not exist in $.uploadify")}}($)
;(function(a){"use strict";var b=function(a,c,d){var e=document.createElement("img"),f,g;return e.onerror=c,e.onload=function(){g&&b.revokeObjectURL(g),c(b.scale(e,d))},window.Blob&&a instanceof Blob||window.File&&a instanceof File?f=g=b.createObjectURL(a):f=a,f?(e.src=f,e):b.readFile(a,function(a){e.src=a})},c=window.createObjectURL&&window||window.URL&&URL||window.webkitURL&&webkitURL;b.scale=function(a,b){b=b||{};var c=document.createElement("canvas"),d=Math.max((b.minWidth||a.width)/a.width,(b.minHeight||a.height)/a.height);return d>1&&(a.width=parseInt(a.width*d,10),a.height=parseInt(a.height*d,10)),d=Math.min((b.maxWidth||a.width)/a.width,(b.maxHeight||a.height)/a.height),d<1&&(a.width=parseInt(a.width*d,10),a.height=parseInt(a.height*d,10)),!b.canvas||!c.getContext?a:(c.width=a.width,c.height=a.height,c.getContext("2d").drawImage(a,0,0,a.width,a.height),c)},b.createObjectURL=function(a){return c?c.createObjectURL(a):!1},b.revokeObjectURL=function(a){return c?c.revokeObjectURL(a):!1},b.readFile=function(a,b){if(window.FileReader&&FileReader.prototype.readAsDataURL){var c=new FileReader;return c.onload=function(a){b(a.target.result)},c.readAsDataURL(a),c}return!1},typeof define!="undefined"&&define.amd?define(function(){return b}):a.loadImage=b})(this);
;(function(a){"use strict";var b=function(a,c){var d=/[^\w\-\.:]/.test(a)?new Function(b.arg+",tmpl","var _e=tmpl.encode"+b.helper+",_s='"+a.replace(b.regexp,b.func)+"';return _s;"):b.cache[a]=b.cache[a]||b(b.load(a));return c?d(c,b):function(a){return d(a,b)}};b.cache={},b.load=function(a){return document.getElementById(a).innerHTML},b.regexp=/([\s'\\])(?![^%]*%\})|(?:\{%(=|#)([\s\S]+?)%\})|(\{%)|(%\})/g,b.func=function(a,b,c,d,e,f){if(b)return{"\n":"\\n","\r":"\\r","\t":"\\t"," ":" "}[a]||"\\"+a;if(c)return c==="="?"'+_e("+d+")+'":"'+("+d+"||'')+'";if(e)return"';";if(f)return"_s+='"},b.encReg=/[<>&"'\x00]/g,b.encMap={"<":"&lt;",">":"&gt;","&":"&amp;",'"':"&quot;","'":"&#39;"},b.encode=function(a){return String(a||"").replace(b.encReg,function(a){return b.encMap[a]||""})},b.arg="o",b.helper=",print=function(s,e){_s+=e&&(s||'')||_e(s);},include=function(s,d){_s+=tmpl(s,d);}",typeof define=="function"&&define.amd?define(function(){return b}):a.tmpl=b})(this);
;(function(a){"use strict",typeof define=="function"&&define.amd?define(["jquery","jquery.ui.widget"],a):a(window.jQuery)})(function(a){"use strict",a.support.xhrFileUpload=!!window.XMLHttpRequestUpload&&!!window.FileReader,a.support.xhrFormDataFileUpload=!!window.FormData,a.widget("blueimp.fileupload",{options:{namespace:undefined,dropZone:a(document),fileInput:undefined,replaceFileInput:!0,paramName:undefined,singleFileUploads:!0,limitMultiFileUploads:undefined,sequentialUploads:!1,limitConcurrentUploads:undefined,forceIframeTransport:!1,redirect:undefined,redirectParamName:undefined,postMessage:undefined,multipart:!0,maxChunkSize:undefined,uploadedBytes:undefined,recalculateProgress:!0,formData:function(a){return a.serializeArray()},add:function(a,b){b.submit()},processData:!1,contentType:!1,cache:!1},_refreshOptionsList:["namespace","dropZone","fileInput","multipart","forceIframeTransport"],_isXHRUpload:function(b){return!b.forceIframeTransport&&(!b.multipart&&a.support.xhrFileUpload||a.support.xhrFormDataFileUpload)},_getFormData:function(b){var c;return typeof b.formData=="function"?b.formData(b.form):a.isArray(b.formData)?b.formData:b.formData?(c=[],a.each(b.formData,function(a,b){c.push({name:a,value:b})}),c):[]},_getTotal:function(b){var c=0;return a.each(b,function(a,b){c+=b.size||1}),c},_onProgress:function(a,b){if(a.lengthComputable){var c=b.total||this._getTotal(b.files),d=parseInt(a.loaded/a.total*(b.chunkSize||c),10)+(b.uploadedBytes||0);this._loaded+=d-(b.loaded||b.uploadedBytes||0),b.lengthComputable=!0,b.loaded=d,b.total=c,this._trigger("progress",a,b),this._trigger("progressall",a,{lengthComputable:!0,loaded:this._loaded,total:this._total})}},_initProgressListener:function(b){var c=this,d=b.xhr?b.xhr():a.ajaxSettings.xhr();d.upload&&(a(d.upload).bind("progress",function(a){var d=a.originalEvent;a.lengthComputable=d.lengthComputable,a.loaded=d.loaded,a.total=d.total,c._onProgress(a,b)}),b.xhr=function(){return d})},_initXHRData:function(b){var c,d=b.files[0],e=b.multipart||!a.support.xhrFileUpload;if(!e||b.blob)b.headers=a.extend(b.headers,{"X-File-Name":d.name,"X-File-Type":d.type,"X-File-Size":d.size}),b.blob?e||(b.contentType="application/octet-stream",b.data=b.blob):(b.contentType=d.type,b.data=d);e&&a.support.xhrFormDataFileUpload&&(b.postMessage?(c=this._getFormData(b),b.blob?c.push({name:b.paramName,value:b.blob}):a.each(b.files,function(a,d){c.push({name:b.paramName,value:d})})):(b.formData instanceof FormData?c=b.formData:(c=new FormData,a.each(this._getFormData(b),function(a,b){c.append(b.name,b.value)})),b.blob?c.append(b.paramName,b.blob,d.name):a.each(b.files,function(a,d){d instanceof Blob&&c.append(b.paramName,d,d.name)})),b.data=c),b.blob=null},_initIframeSettings:function(b){b.dataType="iframe "+(b.dataType||""),b.formData=this._getFormData(b),b.redirect&&a("<a></a>").prop("href",b.url).prop("host")!==location.host&&b.formData.push({name:b.redirectParamName||"redirect",value:b.redirect})},_initDataSettings:function(a){this._isXHRUpload(a)?(this._chunkedUpload(a,!0)||(a.data||this._initXHRData(a),this._initProgressListener(a)),a.postMessage&&(a.dataType="postmessage "+(a.dataType||""))):this._initIframeSettings(a,"iframe")},_initFormSettings:function(b){if(!b.form||!b.form.length)b.form=a(b.fileInput.prop("form"));b.paramName||(b.paramName=b.fileInput.prop("name")||"files[]"),b.url||(b.url=b.form.prop("action")||location.href),b.type=(b.type||b.form.prop("method")||"").toUpperCase(),b.type!=="POST"&&b.type!=="PUT"&&(b.type="POST")},_getAJAXSettings:function(b){var c=a.extend({},this.options,b);return this._initFormSettings(c),this._initDataSettings(c),c},_enhancePromise:function(a){return a.success=a.done,a.error=a.fail,a.complete=a.always,a},_getXHRPromise:function(b,c,d){var e=a.Deferred(),f=e.promise();return c=c||this.options.context||f,b===!0?e.resolveWith(c,d):b===!1&&e.rejectWith(c,d),f.abort=e.promise,this._enhancePromise(f)},_chunkedUpload:function(b,c){var d=this,e=b.files[0],f=e.size,g=b.uploadedBytes=b.uploadedBytes||0,h=b.maxChunkSize||f,i=e.webkitSlice||e.mozSlice||e.slice,j,k,l,m;return!(this._isXHRUpload(b)&&i&&(g||h<f))||b.data?!1:c?!0:g>=f?(e.error="uploadedBytes",this._getXHRPromise(!1,b.context,[null,"error",e.error])):(k=Math.ceil((f-g)/h),j=function(c){return c?j(c-=1).pipe(function(){var f=a.extend({},b);return f.blob=i.call(e,g+c*h,g+(c+1)*h),f.chunkSize=f.blob.size,d._initXHRData(f),d._initProgressListener(f),l=(a.ajax(f)||d._getXHRPromise(!1,f.context)).done(function(){f.loaded||d._onProgress(a.Event("progress",{lengthComputable:!0,loaded:f.chunkSize,total:f.chunkSize}),f),b.uploadedBytes=f.uploadedBytes+=f.chunkSize}),l}):d._getXHRPromise(!0,b.context)},m=j(k),m.abort=function(){return l.abort()},this._enhancePromise(m))},_beforeSend:function(a,b){this._active===0&&this._trigger("start"),this._active+=1,this._loaded+=b.uploadedBytes||0,this._total+=this._getTotal(b.files)},_onDone:function(b,c,d,e){this._isXHRUpload(e)||this._onProgress(a.Event("progress",{lengthComputable:!0,loaded:1,total:1}),e),e.result=b,e.textStatus=c,e.jqXHR=d,this._trigger("done",null,e)},_onFail:function(a,b,c,d){d.jqXHR=a,d.textStatus=b,d.errorThrown=c,this._trigger("fail",null,d),d.recalculateProgress&&(this._loaded-=d.loaded||d.uploadedBytes||0,this._total-=d.total||this._getTotal(d.files))},_onAlways:function(a,b,c,d){this._active-=1,d.textStatus=b,c&&c.always?(d.jqXHR=c,d.result=a):(d.jqXHR=a,d.errorThrown=c),this._trigger("always",null,d),this._active===0&&(this._trigger("stop"),this._loaded=this._total=0)},_onSend:function(b,c){var d=this,e,f,g,h=d._getAJAXSettings(c),i=function(c,f){return d._sending+=1,e=e||(c!==!1&&d._trigger("send",b,h)!==!1&&(d._chunkedUpload(h)||a.ajax(h))||d._getXHRPromise(!1,h.context,f)).done(function(a,b,c){d._onDone(a,b,c,h)}).fail(function(a,b,c){d._onFail(a,b,c,h)}).always(function(a,b,c){d._sending-=1,d._onAlways(a,b,c,h);if(h.limitConcurrentUploads&&h.limitConcurrentUploads>d._sending){var e=d._slots.shift();while(e){if(!e.isRejected()){e.resolve();break}e=d._slots.shift()}}}),e};return this._beforeSend(b,h),this.options.sequentialUploads||this.options.limitConcurrentUploads&&this.options.limitConcurrentUploads<=this._sending?(this.options.limitConcurrentUploads>1?(f=a.Deferred(),this._slots.push(f),g=f.pipe(i)):g=this._sequence=this._sequence.pipe(i,i),g.abort=function(){var a=[undefined,"abort","abort"];return e?e.abort():(f&&f.rejectWith(a),i(!1,a))},this._enhancePromise(g)):i()},_onAdd:function(b,c){var d=this,e=!0,f=a.extend({},this.options,c),g=f.limitMultiFileUploads,h,i;if(!f.singleFileUploads&&!g||!this._isXHRUpload(f))h=[c.files];else if(!f.singleFileUploads&&g){h=[];for(i=0;i<c.files.length;i+=g)h.push(c.files.slice(i,i+g))}return c.originalFiles=c.files,a.each(h||c.files,function(f,g){var i=h?g:[g],j=a.extend({},c,{files:i});return j.submit=function(){return j.jqXHR=this.jqXHR=d._trigger("submit",b,this)!==!1&&d._onSend(b,this),this.jqXHR},e=d._trigger("add",b,j)}),e},_normalizeFile:function(a,b){b.name===undefined&&b.size===undefined&&(b.name=b.fileName,b.size=b.fileSize)},_replaceFileInput:function(b){var c=b.clone(!0);a("<form></form>").append(c)[0].reset(),b.after(c).detach(),a.cleanData(b.unbind("remove")),this.options.fileInput=this.options.fileInput.map(function(a,d){return d===b[0]?c[0]:d}),b[0]===this.element[0]&&(this.element=c)},_onChange:function(b){var c=b.data.fileupload,d={files:a.each(a.makeArray(b.target.files),c._normalizeFile),fileInput:a(b.target),form:a(b.target.form)};d.files.length||(d.files=[{name:b.target.value.replace(/^.*\\/,"")}]),c.options.replaceFileInput&&c._replaceFileInput(d.fileInput);if(c._trigger("change",b,d)===!1||c._onAdd(b,d)===!1)return!1},_onPaste:function(b){var c=b.data.fileupload,d=b.originalEvent.clipboardData,e=d&&d.items||[],f={files:[]};a.each(e,function(a,b){var c=b.getAsFile&&b.getAsFile();c&&f.files.push(c)});if(c._trigger("paste",b,f)===!1||c._onAdd(b,f)===!1)return!1},_onDrop:function(b){var c=b.data.fileupload,d=b.dataTransfer=b.originalEvent.dataTransfer,e={files:a.each(a.makeArray(d&&d.files),c._normalizeFile)};if(c._trigger("drop",b,e)===!1||c._onAdd(b,e)===!1)return!1;b.preventDefault()},_onDragOver:function(a){var b=a.data.fileupload,c=a.dataTransfer=a.originalEvent.dataTransfer;if(b._trigger("dragover",a)===!1)return!1;c&&(c.dropEffect=c.effectAllowed="copy"),a.preventDefault()},_initEventHandlers:function(){var a=this.options.namespace;this._isXHRUpload(this.options)&&this.options.dropZone.bind("dragover."+a,{fileupload:this},this._onDragOver).bind("drop."+a,{fileupload:this},this._onDrop),this.options.fileInput.bind("change."+a,{fileupload:this},this._onChange)},_destroyEventHandlers:function(){var a=this.options.namespace;this.options.dropZone.unbind("dragover."+a,this._onDragOver).unbind("drop."+a,this._onDrop).unbind("paste."+a,this._onPaste),this.options.fileInput.unbind("change."+a,this._onChange)},_setOption:function(b,c){var d=a.inArray(b,this._refreshOptionsList)!==-1;d&&this._destroyEventHandlers(),a.Widget.prototype._setOption.call(this,b,c),d&&(this._initSpecialOptions(),this._initEventHandlers())},_initSpecialOptions:function(){var b=this.options;b.fileInput===undefined?b.fileInput=this.element.is("input:file")?this.element:this.element.find("input:file"):b.fileInput instanceof a||(b.fileInput=a(b.fileInput)),b.dropZone instanceof a||(b.dropZone=a(b.dropZone))},_create:function(){var b=this.options,c=a.extend({},this.element.data());c[this.widgetName]=undefined,a.extend(b,c),b.namespace=b.namespace||this.widgetName,this._initSpecialOptions(),this._slots=[],this._sequence=this._getXHRPromise(!0),this._sending=this._active=this._loaded=this._total=0,this._initEventHandlers()},destroy:function(){this._destroyEventHandlers(),a.Widget.prototype.destroy.call(this)},enable:function(){a.Widget.prototype.enable.call(this),this._initEventHandlers()},disable:function(){this._destroyEventHandlers(),a.Widget.prototype.disable.call(this)},add:function(b){if(!b||this.options.disabled)return;b.files=a.each(a.makeArray(b.files),this._normalizeFile),this._onAdd(null,b)},send:function(b){if(b&&!this.options.disabled){b.files=a.each(a.makeArray(b.files),this._normalizeFile);if(b.files.length)return this._onSend(null,b)}return this._getXHRPromise(!1,b&&b.context)}})})
;(function(a){"use strict",typeof define=="function"&&define.amd?define(["jquery"],a):a(window.jQuery)})(function(a){"use strict";var b=0;a.ajaxTransport("iframe",function(c){if(c.async&&(c.type==="POST"||c.type==="GET")){var d,e;return{send:function(f,g){d=a('<form style="display:none;"></form>'),e=a('<iframe src="javascript:false;" name="iframe-transport-'+(b+=1)+'"></iframe>').bind("load",function(){var b;e.unbind("load").bind("load",function(){var b;try{b=e.contents();if(!b.length||!b[0].firstChild)throw new Error}catch(c){b=undefined}g(200,"success",{iframe:b}),a('<iframe src="javascript:false;"></iframe>').appendTo(d),d.remove()}),d.prop("target",e.prop("name")).prop("action",c.url).prop("method",c.type),c.formData&&a.each(c.formData,function(b,c){a('<input type="hidden"/>').prop("name",c.name).val(c.value).appendTo(d)}),c.fileInput&&c.fileInput.length&&c.type==="POST"&&(b=c.fileInput.clone(),c.fileInput.after(function(a){return b[a]}),c.paramName&&c.fileInput.each(function(){a(this).prop("name",c.paramName)}),d.append(c.fileInput).prop("enctype","multipart/form-data").prop("encoding","multipart/form-data")),d.submit(),b&&b.length&&c.fileInput.each(function(c,d){var e=a(b[c]);a(d).prop("name",e.prop("name")),e.replaceWith(d)})}),d.append(e).appendTo(document.body)},abort:function(){e&&e.unbind("load").prop("src","javascript".concat(":false;")),d&&d.remove()}}}}),a.ajaxSetup({converters:{"iframe text":function(b){return a(b[0].body).text()},"iframe json":function(b){return a.parseJSON(a(b[0].body).text())},"iframe html":function(b){return a(b[0].body).html()},"iframe script":function(b){return a.globalEval(a(b[0].body).text())}}})})
;(function(a){"use strict",typeof define=="function"&&define.amd?define(["jquery","load-image","canvas-to-blob","./jquery.fileupload"],a):a(window.jQuery,window.loadImage,window.canvasToBlob)})(function(a,b,c){"use strict",a.widget("blueimpIP.fileupload",a.blueimp.fileupload,{options:{resizeSourceFileTypes:/^image\/(gif|jpeg|png)$/,resizeSourceMaxFileSize:2e7,resizeMaxWidth:undefined,resizeMaxHeight:undefined,resizeMinWidth:undefined,resizeMinHeight:undefined,add:function(b,c){a(this).fileupload("resize",c).done(function(){c.submit()})}},_resizeImage:function(d,e,f){var g=this,h=d[e],i=a.Deferred(),j,k;return f=f||this.options,b(h,function(a){var k=a.width,l=a.height;j=b.scale(a,{maxWidth:f.resizeMaxWidth,maxHeight:f.resizeMaxHeight,minWidth:f.resizeMinWidth,minHeight:f.resizeMinHeight,canvas:!0}),k!==j.width||l!==j.height?c(j,function(a){a.name||(h.type===a.type?a.name=h.name:h.name&&(a.name=h.name.replace(/\..+$/,"."+a.type.substr(6)))),d[e]=a,i.resolveWith(g)},h):i.resolveWith(g)}),i.promise()},resize:function(b){var c=this,d=a.extend({},this.options,b),e=a.type(d.resizeSourceMaxFileSize)!=="number",f=this._isXHRUpload(d);return a.each(b.files,function(g,h){f&&c._resizeSupport&&(d.resizeMaxWidth||d.resizeMaxHeight||d.resizeMinWidth||d.resizeMinHeight)&&(e||h.size<d.resizeSourceMaxFileSize)&&d.resizeSourceFileTypes.test(h.type)&&(c._processing+=1,c._processing===1&&c.element.addClass("fileupload-processing"),c._processingQueue=c._processingQueue.pipe(function(){var e=a.Deferred();return c._resizeImage(b.files,g,d).done(function(){c._processing-=1,c._processing===0&&c.element.removeClass("fileupload-processing"),e.resolveWith(c)}),e.promise()}))}),this._processingQueue},_create:function(){a.blueimp.fileupload.prototype._create.call(this),this._processing=0,this._processingQueue=a.Deferred().resolveWith(this).promise(),this._resizeSupport=c&&c(document.createElement("canvas"),a.noop)}})})
;(function(a){"use strict",typeof define=="function"&&define.amd?define(["jquery","tmpl","load-image","./jquery.fileupload-ip"],a):a(window.jQuery,window.tmpl,window.loadImage)})(function(a,b,c){"use strict";var d=(a.blueimpIP||a.blueimp).fileupload;a.widget("blueimpUI.fileupload",d,{options:{autoUpload:!1,maxNumberOfFiles:undefined,maxFileSize:undefined,minFileSize:undefined,acceptFileTypes:/.+$/i,previewSourceFileTypes:/^image\/(gif|jpeg|png)$/,previewSourceMaxFileSize:5e6,previewMaxWidth:60,previewMaxHeight:40,previewAsCanvas:!1,uploadTemplateId:"template-upload",downloadTemplateId:"template-download",dataType:"json",add:function(b,c){var d=a(this).data("fileupload"),e=d.options,f=c.files;d._adjustMaxNumberOfFiles(-f.length),c.isAdjusted=!0,a(this).fileupload("resize",c).done(c,function(){c.files.valid=c.isValidated=d._validate(f),c.context=d._renderUpload(f).appendTo(e.filesContainer).data("data",c),d._renderPreviews(f,c.context),d._forceReflow(c.context),d._transition(c.context).done(function(){d._trigger("added",b,c)!==!1&&(e.autoUpload||c.autoUpload)&&c.autoUpload!==!1&&c.isValidated&&c.submit()})})},send:function(b,c){var d=a(this).data("fileupload");if(!c.isValidated){c.isAdjusted||d._adjustMaxNumberOfFiles(-c.files.length);if(!d._validate(c.files))return!1}return c.context&&c.dataType&&c.dataType.substr(0,6)==="iframe"&&c.context.find(".progress").addClass(!a.support.transition&&"progress-animated").find(".bar").css("width",parseInt(100,10)+"%"),d._trigger("sent",b,c)},done:function(b,c){var d=a(this).data("fileupload"),e,f;c.context?c.context.each(function(f){var g=a.isArray(c.result)&&c.result[f]||{error:"emptyResult"};g.error&&d._adjustMaxNumberOfFiles(1),d._transition(a(this)).done(function(){var f=a(this);e=d._renderDownload([g]).css("height",f.height()).replaceAll(f),d._forceReflow(e),d._transition(e).done(function(){c.context=a(this),d._trigger("completed",b,c)})})}):(e=d._renderDownload(c.result).appendTo(d.options.filesContainer),d._forceReflow(e),d._transition(e).done(function(){c.context=a(this),d._trigger("completed",b,c)}))},fail:function(b,c){var d=a(this).data("fileupload"),e;d._adjustMaxNumberOfFiles(c.files.length),c.context?c.context.each(function(f){if(c.errorThrown!=="abort"){var g=c.files[f];g.error=g.error||c.errorThrown||!0,d._transition(a(this)).done(function(){var f=a(this);e=d._renderDownload([g]).replaceAll(f),d._forceReflow(e),d._transition(e).done(function(){c.context=a(this),d._trigger("failed",b,c)})})}else d._transition(a(this)).done(function(){a(this).remove(),d._trigger("failed",b,c)})}):c.errorThrown!=="abort"?(d._adjustMaxNumberOfFiles(-c.files.length),c.context=d._renderUpload(c.files).appendTo(d.options.filesContainer).data("data",c),d._forceReflow(c.context),d._transition(c.context).done(function(){c.context=a(this),d._trigger("failed",b,c)})):d._trigger("failed",b,c)},progress:function(a,b){b.context&&b.context.find(".progress .bar").css("width",parseInt(b.loaded/b.total*100,10)+"%")},progressall:function(b,c){a(this).find(".fileupload-buttonbar .progress .bar").css("width",parseInt(c.loaded/c.total*100,10)+"%")},start:function(b){var c=a(this).data("fileupload");c._transition(a(this).find(".fileupload-buttonbar .progress")).done(function(){c._trigger("started",b)})},stop:function(b){var c=a(this).data("fileupload");c._transition(a(this).find(".fileupload-buttonbar .progress")).done(function(){a(this).find(".bar").css("width","0%"),c._trigger("stopped",b)})},destroy:function(b,c){var d=a(this).data("fileupload");c.url&&a.ajax(c),d._adjustMaxNumberOfFiles(1),d._transition(c.context).done(function(){a(this).remove(),d._trigger("destroyed",b,c)})}},_enableDragToDesktop:function(){var b=a(this),c=b.prop("href"),d=b.prop("download"),e="application/octet-stream";b.bind("dragstart",function(a){try{a.originalEvent.dataTransfer.setData("DownloadURL",[e,d,c].join(":"))}catch(b){}})},_adjustMaxNumberOfFiles:function(a){typeof this.options.maxNumberOfFiles=="number"&&(this.options.maxNumberOfFiles+=a,this.options.maxNumberOfFiles<1?this._disableFileInputButton():this._enableFileInputButton())},_formatFileSize:function(a){return typeof a!="number"?"":a>=1e9?(a/1e9).toFixed(2)+" GB":a>=1e6?(a/1e6).toFixed(2)+" MB":(a/1e3).toFixed(2)+" KB"},_hasError:function(a){return a.error?a.error:this.options.maxNumberOfFiles<0?"maxNumberOfFiles":!this.options.acceptFileTypes.test(a.type)&&!this.options.acceptFileTypes.test(a.name)?"acceptFileTypes":this.options.maxFileSize&&a.size>this.options.maxFileSize?"maxFileSize":typeof a.size=="number"&&a.size<this.options.minFileSize?"minFileSize":null},_validate:function(b){var c=this;return c.error=null,c.valid=!!b.length,a.each(b,function(a,b){b.error=c._hasError(b),b.error&&(c.error=b.error,c.valid=!1)}),c.valid},_renderTemplate:function(b,c){if(!b)return a();var d=b({files:c,formatFileSize:this._formatFileSize,options:this.options});return d instanceof a?d:a(this.options.templatesContainer).html(d).children()},_renderPreview:function(b,d){var e=this,f=this.options,g=a.Deferred();return(c&&c(b,function(a){d.append(a),e._forceReflow(d),e._transition(d).done(function(){g.resolveWith(d)})},{maxWidth:f.previewMaxWidth,maxHeight:f.previewMaxHeight,canvas:f.previewAsCanvas})||g.resolveWith(d))&&g},_renderPreviews:function(b,c){var d=this,e=this.options;return c.find(".preview span").each(function(c,f){var g=b[c];e.previewSourceFileTypes.test(g.type)&&(a.type(e.previewSourceMaxFileSize)!=="number"||g.size<e.previewSourceMaxFileSize)&&(d._processingQueue=d._processingQueue.pipe(function(){var b=a.Deferred();return d._renderPreview(g,a(f)).done(function(){b.resolveWith(d)}),b.promise()}))}),this._processingQueue},_renderUpload:function(a){return this._renderTemplate(this.options.uploadTemplate,a)},_renderDownload:function(a){return this._renderTemplate(this.options.downloadTemplate,a).find("a[download]").each(this._enableDragToDesktop).end()},_startHandler:function(b){b.preventDefault();var c=a(this),d=c.closest(".template-upload"),e=d.data("data");e&&e.submit&&!e.jqXHR&&e.submit()&&c.prop("disabled",!0)},_cancelHandler:function(b){b.preventDefault();var c=a(this).closest(".template-upload"),d=c.data("data")||{};d.jqXHR?d.jqXHR.abort():(d.errorThrown="abort",b.data.fileupload._trigger("fail",b,d))},_deleteHandler:function(b){b.preventDefault();var c=a(this);b.data.fileupload._trigger("destroy",b,{context:c.closest(".template-download"),url:c.attr("data-url"),type:c.attr("data-type")||"DELETE",content:c.attr("data-content"),dataType:b.data.fileupload.options.dataType})},_forceReflow:function(b){this._reflow=a.support.transition&&b.length&&b[0].offsetWidth},_transition:function(b){var c=this,d=a.Deferred();return a.support.transition&&b.hasClass("fade")?b.bind(a.support.transition.end,function(c){c.target===b[0]&&(b.unbind(a.support.transition.end),d.resolveWith(b))}).toggleClass("in"):(b.toggleClass("in"),d.resolveWith(b)),d},_initButtonBarEventHandlers:function(){var b=this.element.find(".fileupload-buttonbar"),c=this.options.filesContainer,d=this.options.namespace;b.find(".start").bind("click."+d,function(a){a.preventDefault(),c.find(".start button").click()}),b.find(".cancel").bind("click."+d,function(a){a.preventDefault(),c.find(".cancel button").click()}),b.find(".delete").bind("click."+d,function(a){a.preventDefault(),c.find(".delete input:checked").siblings("button").click(),b.find(".toggle").prop("checked",!1)}),b.find(".toggle").bind("change."+d,function(b){c.find(".delete input").prop("checked",a(this).is(":checked"))})},_destroyButtonBarEventHandlers:function(){this.element.find(".fileupload-buttonbar button").unbind("click."+this.options.namespace),this.element.find(".fileupload-buttonbar .toggle").unbind("change."+this.options.namespace)},_initEventHandlers:function(){d.prototype._initEventHandlers.call(this);var a={fileupload:this};this.options.filesContainer.delegate(".start button","click."+this.options.namespace,a,this._startHandler).delegate(".cancel button","click."+this.options.namespace,a,this._cancelHandler).delegate(".delete button","click."+this.options.namespace,a,this._deleteHandler),this._initButtonBarEventHandlers()},_destroyEventHandlers:function(){var a=this.options;this._destroyButtonBarEventHandlers(),a.filesContainer.undelegate(".start button","click."+a.namespace).undelegate(".cancel button","click."+a.namespace).undelegate(".delete button","click."+a.namespace),d.prototype._destroyEventHandlers.call(this)},_enableFileInputButton:function(){this.element.find(".fileinput-button input").prop("disabled",!1).parent().removeClass("disabled")},_disableFileInputButton:function(){this.element.find(".fileinput-button input").prop("disabled",!0).parent().addClass("disabled")},_initTemplates:function(){var a=this.options;a.templatesContainer=document.createElement(a.filesContainer.prop("nodeName")),b&&(a.uploadTemplateId&&(a.uploadTemplate=b(a.uploadTemplateId)),a.downloadTemplateId&&(a.downloadTemplate=b(a.downloadTemplateId)))},_initFilesContainer:function(){var b=this.options;b.filesContainer===undefined?b.filesContainer=this.element.find(".files"):b.filesContainer instanceof a||(b.filesContainer=a(b.filesContainer))},_initSpecialOptions:function(){d.prototype._initSpecialOptions.call(this),this._initFilesContainer(),this._initTemplates()},_create:function(){d.prototype._create.call(this),this._refreshOptionsList.push("filesContainer","uploadTemplateId","downloadTemplateId"),a.blueimpIP||(this._processingQueue=a.Deferred().resolveWith(this).promise(),this.resize=function(){return this._processingQueue})},enable:function(){d.prototype.enable.call(this),this.element.find("input, button").prop("disabled",!1),this._enableFileInputButton()},disable:function(){this.element.find("input, button").prop("disabled",!0),this._disableFileInputButton(),d.prototype.disable.call(this)}})})
;window.locale={fileupload:{errors:{maxFileSize:"File is too big",minFileSize:"File is too small",acceptFileTypes:"Filetype not allowed",maxNumberOfFiles:"Max number of files exceeded",uploadedBytes:"Uploaded bytes exceed file size",emptyResult:"Empty file upload result"},error:"Error",start:"Start",cancel:"Cancel",destroy:"Delete"}},$(function(){"use strict",$("#fileupload").fileupload(),$("#fileupload").fileupload("option",{maxFileSize:5e8,resizeMaxWidth:1400,resizeMaxHeight:900})})
;function setupAlbumUpload(a){var b=null;totalCount=0,$(".fileupload-album").each(function(){var a=500,b=0,c=0,d=0,e=this;currentAlbumID>0?$.getJSON("/WebServices/UploadHandler.ashx?t="+(new Date).getTime()+"&album="+currentAlbumID,function(a){a&&a.length?($(e).fileupload("option","done").call(e,null,{result:a}),totalDoneCount=a.length,totalCount=a.length,totalDoneCount<=0?($(".review-toolbar .progress").first().removeClass("in"),$(".upload-images").first().removeClass("upload-hasfiles")):$(".upload-images").first().addClass("upload-hasfiles")):($(".review-toolbar .progress").first().removeClass("in"),$(".upload-images").first().removeClass("upload-hasfiles"))}):($(".review-toolbar .progress").first().removeClass("in"),$(".upload-images").first().removeClass("upload-hasfiles")),$(this).fileupload({maxFileSize:1012e4,maxChunkSize:1e8,sequentialUploads:!1,limitConcurrentUploads:2,autoUpload:!0,currentFileNames:[],currentDoneFileNames:[],previewMaxWidth:190,filesContainer:$("#files"),previewMaxHeight:190,acceptFileTypes:/(png)|(jpe?g)|(gif)$/i,locale:{"File is too big":"Dung lượng giới hạn 10M","Filetype not allowed":"Chỉ upload hình ảnh","Max number exceeded":"Giới hạn 100 hình"},progressall:function(a,b){$(".review-toolbar .progress").first().addClass("in"),$(".review-toolbar .progress .bar").css("width",Math.round(b.loaded/b.total*100)+"%"),$(".review-toolbar .progress .progress-text").html(Math.round(b.loaded/b.total*100)+"%")},add:function(b,e){var f=$(this).data("fileupload"),g=f.options,h=e.files;c++,totalCount++,d++;var j=[];$.each(h,function(a,b){var c=!1;$.each(g.currentFileNames,function(a,d){b.name==d&&(c=!0)}),c==0&&(j.push(b),g.currentFileNames.push(b.name))});var k=/(png)|(jpe?g)|(gif)$/i,l="";for(i=0;i<e.originalFiles.length;i++){var m=e.originalFiles[i].type;if(!k.test(m)){l=CommonText.InvalidUploadFile;break}}if(l!="")return alert(l),!1;for(i=0;i<e.originalFiles.length;i++){var n=e.originalFiles[i].size;if(n>1012e4){l=CommonText.InvalidUploadFileSize;break}}if(l!="")return alert(l),!1;if(j.length>0){if(!f._validate(e.files))return!1;if(totalCount>=a)return alert("Số lượng hình ảnh vượt quá giới hạn ["+a+"] hình."),!1;f._adjustMaxNumberOfFiles(-h.length),e.isAdjusted=!0,totalCount>0&&$(this).find(".upload-images").first().addClass("upload-hasfiles"),$(this).fileupload("resize",e).done(e,function(){e.files.valid=e.isValidated=f._validate(h),e.context=f._renderUpload(h).appendTo(g.filesContainer).data("data",e),f._renderPreviews(h,e.context),f._forceReflow(e.context),f._transition(e.context).done(function(){f._trigger("added",b,e)!==!1&&(g.autoUpload||e.autoUpload)&&e.autoUpload!==!1&&e.isValidated&&e.submit()})})}AutoResizePopup()},done:function(a,b){c--,totalDoneCount++;var e=$(this).data("fileupload"),f=e.options,g,h;b.context?b.context.each(function(c){var h=$.isArray(b.result)&&b.result[c]||{error:"emptyResult"};h.error&&e._adjustMaxNumberOfFiles(1),e._transition($(this)).done(function(){var c=$(this);g=e._renderDownload([h]).replaceAll(c),e._forceReflow(g),e._transition(g).done(function(){b.context=$(this),e._trigger("completed",a,b),d<=0?($(".review-toolbar .progress").first().addClass("in"),$(".review-toolbar .progress .bar").css("width",Math.round(b.loaded/b.total*100)+"%"),$(".review-toolbar .progress .progress-text").html(Math.round(b.loaded/b.total*100)+"%")):d--,!(totalCount<=0),f.currentDoneFileNames.push(h.name)})})}):(g=e._renderDownload(b.result).appendTo(e.options.filesContainer),e._forceReflow(g),e._transition(g).done(function(){b.context=$(this),e._trigger("completed",a,b)})),$(this).find(".name.watermark-text").watermark(write_review_upload_photo_watermark,{className:"reviewform-errorText",useNative:!1}),AutoResizePopup();if(d==0){inUploadProcessing=!1;var i=100;$(".progress .bar").css({width:i+"%"}),$(".progress .progress-text").html(i+"%")}},fail:function(a,b){totalCount--,d>0&&d--;var c=$(this).data("fileupload"),e=c.options,f=b.files,g;c._adjustMaxNumberOfFiles(b.files.length);if(totalDoneCount<=0||totalCount<=0)$(".review-toolbar .progress").first().removeClass("in"),$(".upload-images").first().removeClass("upload-hasfiles");b.context?b.context.each(function(d){$.each(f,function(a,c){(c=b.files[d].name)&&e.currentFileNames.splice(a,1)});if(b.errorThrown!=="abort"){var h=b.files[d];h.error=h.error||b.errorThrown||!0,c._transition($(this)).done(function(){var d=$(this);g=c._renderDownload([h]).replaceAll(d),c._forceReflow(g),c._transition(g).done(function(){b.context=$(this),c._trigger("failed",a,b)})})}else c._transition($(this)).done(function(){$(this).remove(),c._trigger("failed",a,b)})}):b.errorThrown!=="abort"?(c._adjustMaxNumberOfFiles(-b.files.length),b.context=c._renderUpload(b.files).appendTo(c.options.filesContainer).data("data",b),c._forceReflow(b.context),c._transition(b.context).done(function(){b.context=$(this),c._trigger("failed",a,b)})):c._trigger("failed",a,b),AutoResizePopup()},destroy:function(a,b){var c=$(this).data("fileupload"),d=c.options;b.url&&$.ajax(b),totalDoneCount--,totalCount--,c._adjustMaxNumberOfFiles(1),c._transition(b.context).done(function(){$(this).remove();if(totalDoneCount<=0||totalCount<=0)$(".review-toolbar .progress").first().removeClass("in"),$(".upload-images").first().removeClass("upload-hasfiles");$.each(d.currentDoneFileNames,function(a,c){b.content==c&&(d.currentDoneFileNames.splice(a,1),d.currentFileNames.splice(a,1))}),c._trigger("destroyed",a,b)}),AutoResizePopup()}})})}var totalCount=0,totalDoneCount=0
;function readCookie(a){return window.CONST_MEDIA_XUSER_TOKEN?window.CONST_MEDIA_XUSER_TOKEN:null}function setupReviewUpload(){var a=null;totalCount=0,$(".fileupload-review").each(function(){var a=500,b=0,c=0,d=0,e=this;currentReviewID>0?$.getJSON("/WebServices/UploadHandler.ashx?t="+(new Date).getTime()+"&c="+currentReviewID,function(a){a&&a.length?($(e).fileupload("option","done").call(e,null,{result:a}),totalDoneCount=a.length,totalCount=a.length,totalDoneCount<=0?($(".review-toolbar .progress").first().removeClass("in"),$(".upload-images").first().removeClass("upload-hasfiles")):$(".upload-images").first().addClass("upload-hasfiles")):($(".review-toolbar .progress").first().removeClass("in"),$(".upload-images").first().removeClass("upload-hasfiles"))}):($(".review-toolbar .progress").first().removeClass("in"),$(".upload-images").first().removeClass("upload-hasfiles")),$(this).fileupload({maxFileSize:1012e4,maxChunkSize:1e8,sequentialUploads:!1,limitConcurrentUploads:2,autoUpload:!0,currentFileNames:[],currentDoneFileNames:[],previewMaxWidth:190,filesContainer:$("#files"),previewMaxHeight:190,acceptFileTypes:/(png)|(jpe?g)|(gif)$/i,locale:{"File is too big":"Dung lượng giới hạn 10M","Filetype not allowed":"Chỉ upload hình ảnh","Max number exceeded":"Giới hạn 100 hình"},progressall:function(a,b){inUploadProcessing=!0,$(".review-toolbar .progress").first().addClass("in"),$(".review-toolbar .progress .bar").css("width",Math.round(b.loaded/b.total*100)+"%"),$(".review-toolbar .progress .progress-text").html(Math.round(b.loaded/b.total*100)+"%"),Math.round(b.loaded/b.total*100)==100&&(inUploadProcessing=!1)},add:function(b,e){var f=$(this).data("fileupload"),g=f.options,h=e.files;c++,totalCount++,d++;var i=[];$.each(h,function(a,b){var c=!1;$.each(g.currentFileNames,function(a,d){b.name==d&&(c=!0)}),c==0&&(i.push(b),g.currentFileNames.push(b.name))});if(i.length>0){if(!f._validate(e.files))return f.error=="maxFileSize"?alert(CommonText.InvalidUploadFileSize):alert(CommonText.InvalidUploadFile),!1;if(totalCount>=a)return alert("Số lượng hình ảnh vượt quá giới hạn ["+a+"] hình."),!1;f._adjustMaxNumberOfFiles(-h.length),e.isAdjusted=!0,totalCount>0&&$(this).find(".upload-images").first().addClass("upload-hasfiles"),$(this).fileupload("resize",e).done(e,function(){e.files.valid=e.isValidated=f._validate(h),e.context=f._renderUpload(h).appendTo(g.filesContainer).data("data",e),f._renderPreviews(h,e.context),f._forceReflow(e.context),f._transition(e.context).done(function(){f._trigger("added",b,e)!==!1&&(g.autoUpload||e.autoUpload)&&e.autoUpload!==!1&&e.isValidated&&e.submit()})})}AutoResizePopup()},done:function(a,b){c--,totalDoneCount++;var e=$(this).data("fileupload"),f=e.options,g,h;b.context?b.context.each(function(c){var h=$.isArray(b.result)&&b.result[c]||{error:"emptyResult"};h.error&&e._adjustMaxNumberOfFiles(1),e._transition($(this)).done(function(){var c=$(this);g=e._renderDownload([h]).replaceAll(c),e._forceReflow(g),e._transition(g).done(function(){b.context=$(this),e._trigger("completed",a,b),d<=0?($(".review-toolbar .progress").first().addClass("in"),$(".review-toolbar .progress .bar").css("width",Math.round(b.loaded/b.total*100)+"%"),$(".review-toolbar .progress .progress-text").html(Math.round(b.loaded/b.total*100)+"%")):d--,!(totalCount<=0),f.currentDoneFileNames.push(h.name)})})}):(g=e._renderDownload(b.result).appendTo(e.options.filesContainer),e._forceReflow(g),e._transition(g).done(function(){b.context=$(this),e._trigger("completed",a,b)})),$(this).find(".name.watermark-text").watermark(write_review_upload_photo_watermark,{className:"reviewform-errorText",useNative:!1}),AutoResizePopup(),totalCount==totalDoneCount&&UploadReview.AutoSavePictureChange();if(d==0){inUploadProcessing=!1;var i=100;$(".progress .bar").css({width:i+"%"}),$(".progress .progress-text").html(i+"%")}},fail:function(a,b){totalCount--,d>0&&d--;var c=$(this).data("fileupload"),e=c.options,f=b.files,g;c._adjustMaxNumberOfFiles(b.files.length);if(totalDoneCount<=0||totalCount<=0)totalDoneCount<=0&&$(".review-toolbar .progress").first().removeClass("in"),totalCount<=0&&$(".upload-images").first().removeClass("upload-hasfiles");b.context?b.context.each(function(d){$.each(f,function(a,c){(c=b.files[d].name)&&e.currentFileNames.splice(a,1)});if(b.errorThrown!=="abort"){var h=b.files[d];h.error=h.error||b.errorThrown||!0,c._transition($(this)).done(function(){var d=$(this);g=c._renderDownload([h]).replaceAll(d),c._forceReflow(g),c._transition(g).done(function(){b.context=$(this),c._trigger("failed",a,b)})})}else c._transition($(this)).done(function(){$(this).remove(),c._trigger("failed",a,b)})}):b.errorThrown!=="abort"?(c._adjustMaxNumberOfFiles(-b.files.length),b.context=c._renderUpload(b.files).appendTo(c.options.filesContainer).data("data",b),c._forceReflow(b.context),c._transition(b.context).done(function(){b.context=$(this),c._trigger("failed",a,b)})):c._trigger("failed",a,b),AutoResizePopup()},destroy:function(a,b){var c=$(this).data("fileupload"),d=c.options;isModifiedMode||b.url&&$.ajax(b),totalDoneCount--,totalCount--,c._adjustMaxNumberOfFiles(1),c._transition(b.context).done(function(){$(this).remove(),totalDoneCount<=0&&$(".review-toolbar .progress").first().removeClass("in"),totalCount<=0&&$(".upload-images").first().removeClass("upload-hasfiles"),$.each(d.currentDoneFileNames,function(a,c){b.content==c&&(d.currentDoneFileNames.splice(a,1),d.currentFileNames.splice(a,1))}),c._trigger("destroyed",a,b)}),AutoResizePopup(),UploadReview.AutoSavePictureChange()}})})}var totalCount=0,totalDoneCount=0,inUploadProcessing=!1;$(function(){window.onbeforeunload=function(){if(inUploadProcessing)return"Bạn đang viết review cho nhà hàng này. Thông tin sẽ không được lưu lại nếu tắt nữa chừng"};var a=window.CONST_MEDIA_XUSER_TOKEN?CONST_MEDIA_XUSER_TOKEN:"FOODY.RequestVerificationToken";$.ajaxSetup({beforeSend:function(b){b.setRequestHeader("X-Foody-User-Token",readCookie(a))}})})
;function saveDraftReview(a){var b=$("#txtHashTagContent").select2("data"),c=$("#txtReviewContent").data("messageText");if(!c||c.length==0)c=$("#txtReviewContent").val();var d={Title:$("#txtReviewTitle").val(),ReviewContent:c,PositionPoint:clickedOnRating?$("#hdpositionPoint").val():null,PricePoint:clickedOnRating?$("#hdpricePoint").val():null,FoodPoint:clickedOnRating?$("#hdfoodPoint").val():null,ServicePoint:clickedOnRating?$("#hdservicePoint").val():null,AtmospherePoint:clickedOnRating?$("#hdatmospherePoint").val():null,DishesChosen:$("#hdDishesChosen").val(),Guest:$("#hdGuest").val(),MoneySpend:$("#hdMoneySpend").val(),VisitAgain:$("#hdVisitAgain").val(),GuestId:$("#hdGuest").val(),MoneySpendId:$("#hdMoneySpend").val(),VisitAgainId:$("#hdVisitAgain").val(),RestaurantId:$("#hdRestaurantId").val(),RestaurantName:$("#hdRestaurantName").val(),YoutubeCode:$("#YoutubeCode").val(),IsAllowComment:$("#IsAllowComment").is(":checked"),IsPrivate:$("#IsPrivate").val(),IsPrivateFeedback:$("#hdprivateFeedback").val(),HashtagObject:b};$("#review-auto-save").css("display","block"),$.post("/Review/SaveReviewAsDraft",d,function(b){if(b.Success){$("#review-auto-save").css("display","none");if(currentReviewID=="undefined"||currentReviewID==null||currentReviewID==0)currentReviewID=b.ReviewId,UploadReview.AutoSavePictureChange();currentReviewID=b.ReviewId,typeof a!="undefined"&&a!=null&&a()}})}function clickedForRating(){return clickedOnRating?($("#ratingError").text(""),$("#review-not-rating-div").hide()):($("#ratingError").text(ReviewText.RequiredPointMsg),$("#review-not-rating-div").show()),clickedOnRating}function doneTyping(){$("#txtHashTagContent").is(":focus")||saveDraftReview()}function donePictureAction(){UploadReview.SavePictureAsDraft(currentReviewID,tokenUploadKey)}function bindSlider(a,b,c){var d=$(c).val();d==null||d==""?d=6:clickedOnRating=!0,$(a).slider({range:"min",value:d,min:1,max:10,slide:function(a,d){$(b).text(d.value),$(c).val(d.value)},change:function(a,b){changeColor(b,c),clickedOnRating=!0,$("#ratingError").css("display","none"),$("#review-not-rating-div").hide();var d=getAveragePoints();$("#ratingAverage").text("("+d+")"),$("#ratingAverageText").text(getPointsAppropriateText(d));var e=getPointsAppropriateColor(d);$("#ratingAverage").css("color",e),$("#ratingAverageText").css("color",e),UploadReview.AutoSaveSliderChange()}}),$(b).text($(a).slider("value")),$(c).val($(a).slider("value")),setupColor(c,a)}function setupColor(a,b){$(a).val()<=6?$(b).find(".ui-slider-range").css("background-color","#ff0000"):$(a).val()==7?$(b).parent().find(".ui-slider-range").css("background-color","#ff6a00"):$(a).val()==8?$(b).find(".ui-slider-range").css("background-color","#d0d320"):$(a).val()==9?$(b).find(".ui-slider-range").css("background-color","#9dff00"):$(a).val()==10&&$(b).find(".ui-slider-range").css("background-color","#6eff00")}function changeColor(a,b){$(b).val()<=6?$(a.handle).parent().find(".ui-slider-range").css("background-color","#ff0000"):$(b).val()==7?$(a.handle).parent().find(".ui-slider-range").css("background-color","#ff6a00"):$(b).val()==8?$(a.handle).parent().find(".ui-slider-range").css("background-color","#d0d320"):$(b).val()==9?$(a.handle).parent().find(".ui-slider-range").css("background-color","#9dff00"):$(b).val()==10&&$(a.handle).parent().find(".ui-slider-range").css("background-color","#6eff00")}function ddlOptionChange(a,b){var c=$(a).val();$(b).val(c)}function getAveragePoints(){var a=0,b=parseInt($("#hdpositionPoint").val()),c=parseInt($("#hdpricePoint").val()),d=parseInt($("#hdfoodPoint").val()),e=parseInt($("#hdservicePoint").val()),f=parseInt($("#hdatmospherePoint").val());return a=(b+c+d+e+f)/5,parseFloat(a).toFixed(1)}function getPointsAppropriateText(a){var b="";return a<5?b=CommonText.MicrositeRatingBad:a<7?b=CommonText.MicrositeRatingAverage:a<9?b=CommonText.MicrositeRatingGood:b=CommonText.MicrositeRatingExcellent,b}function getPointsAppropriateColor(a){var b="";return a<5?b="#cc0000":a<7?b="#000":b="#03ae03",b}function validInput(){var a=!0;$.trim($("#txtReviewTitle").val())==""&&$.watermark.show("#txtReviewTitle");var b=!0;return $.trim($("#txtReviewContent").val())==""?(b=!1,$.watermark.show("#txtReviewContent"),$("#error-ReviewContent").css("display","inline"),alert(ErrorText.Input_Review_Content)):b=!0,clickedForRating()&&a&&b}function showLoadingProcess(){$("#addNewReviewLoadingImg").css("display","block")}function hideLoadingProcess(){$("#addNewReviewLoadingImg").css("display","none")}function word_count(a){var b=0;if($(a).length<1)return;b=$(a).val().split(" ").length;if(b>0){var c=reviewLength/totalSteps,d=100/totalSteps,e=b%c;if(e>0){var f=(b-e)/c;if(f<=totalSteps){var g=d*f;$(".typeometer-bar").css("width",g+"%"),$(".typeometer-right").text(b-e+"+")}else $(".typeometer-bar").css("width","100%"),$(".typeometer-right").text(reviewLength+"+")}}else $(".typeometer-bar").css("width","0%"),$(".typeometer-right").text("")}function killAutoSave(){typeof typingTimer!="undefined"&&clearTimeout(typingTimer),typeof photoActionTimer!="undefined"&&clearTimeout(photoActionTimer)}function youtube_parser(a){var b=/^.*((youtu.be\/)|(v\/)|(\/u\/\w\/)|(embed\/)|(watch\?))\??v?=?([^#\&\?]*).*/,c=/([^#\&\?]*){11}/,d=a.match(b),e=a.match(c);return d!=null&&d&&d[7].length==11?d[7]:e!=null&&e[0].length==11?a:!1}var clickedOnRating=!1,isModifiedMode=!1,reviewLength=300,totalSteps=20,UploadReview=function(){};UploadReview.Init=function(a){BindingSuggestReviewTitle(),bindSlider("#positionPointSlider","#positionPoint","#hdpositionPoint"),bindSlider("#pricePointSlider","#pricePoint","#hdpricePoint"),bindSlider("#foodPointSlider","#foodPoint","#hdfoodPoint"),bindSlider("#servicePointSlider","#servicePoint","#hdservicePoint"),bindSlider("#atmospherePointSlider","#atmospherePoint","#hdatmospherePoint"),$("#ddlGuest").change(function(){ddlOptionChange(this,"#hdGuest")}),$("#ddlMoneySpend").change(function(){ddlOptionChange(this,"#hdMoneySpend")}),$("#ddlVisitAgain").change(function(){ddlOptionChange(this,"#hdVisitAgain")}),$("#txtReviewTitle").watermark(ReviewText.TitleWatermark,{className:"reviewform-errorText",useNative:!1}),$("#txtReviewContent").watermark(ReviewText.ContentWatermark,{className:"reviewform-errorText",useNative:!1}),$("#YoutubeCode").watermark(ReviewText.VideoWatermark,{className:"reviewform-errorText",useNative:!1}),$("#txtReviewContent").blur(function(){$.trim($(this).val())==""?$("#error-ReviewContent").css("display","inline"):$("#error-ReviewContent").css("display","none")}),$("#ddlGuest").val($("#hdGuest").val()),$("#ddlMoneySpend").val($("#hdMoneySpend").val()),$("#ddlVisitAgain").val($("#hdVisitAgain").val()),word_count("#txtReviewContent"),$("#txtReviewContent").keyup(function(){word_count("#txtReviewContent")}),a?(UploadReview.AutoSaveTextboxChange("#txtReviewContent"),UploadReview.AutoSaveTextboxChange("#txtReviewTitle"),UploadReview.AutoSaveTextboxChange("#txtHashTagContent"),UploadReview.AutoSaveOptionChange("#ddlGuest"),UploadReview.AutoSaveOptionChange("#ddlMoneySpend"),UploadReview.AutoSaveOptionChange("#ddlVisitAgain"),UploadReview.AutoSaveOptionChange("#YoutubeCode"),UploadReview.AutoSaveOptionChange("#hdprivateFeedback"),UploadReview.IsAutoSave=!0):UploadReview.IsAutoSave=!1,$("#YoutubeCode").change(function(){var a=youtube_parser($("#YoutubeCode").val());a!=0&&a!=""?$("#YoutubeCode").val(a):$("#YoutubeCode").val("")})};var bindedErrorWaterMark=!1,tokenUploadKey=null;UploadReview.SavePictureAsDraft=function(a,b){a==null||a==0?saveDraftReview(function(){a!=null&&a!=0&&b!=null&&b!=""&&($("#review-auto-save").show(),$.post("/Upload/SavePicturesAsDraft",{reviewId:a,tokenKey:b},function(a){$("#review-auto-save").hide()}))}):a!=null&&a!=0&&b!=null&&b!=""&&($("#review-auto-save").show(),$.post("/Upload/SavePicturesAsDraft",{reviewId:a,tokenKey:b},function(a){$("#review-auto-save").hide()}))};var typingTimer,photoActionTimer,doneTypingInterval=2e3,donePhotoActionInterval=1e3;UploadReview.AutoSaveTextboxChange=function(a){$(a).change(function(){clearTimeout(typingTimer),a&&(typingTimer=setTimeout(doneTyping,doneTypingInterval))}),$(a).keyup(function(){clearTimeout(typingTimer),a&&(typingTimer=setTimeout(doneTyping,doneTypingInterval))})},UploadReview.IsAutoSave=!1,UploadReview.AutoSaveSliderChange=function(){UploadReview.IsAutoSave&&(clearTimeout(typingTimer),typingTimer=setTimeout(doneTyping,doneTypingInterval))},UploadReview.AutoSaveOptionChange=function(a){$(a).change(function(){clearTimeout(typingTimer),typingTimer=setTimeout(doneTyping,doneTypingInterval)})},UploadReview.AutoSavePictureChange=function(){UploadReview.IsAutoSave&&(clearTimeout(photoActionTimer),photoActionTimer=setTimeout(donePictureAction,donePhotoActionInterval))},UploadReview.ShowLoadingDialog=function(){$("#loadingDialog").length==0&&$("body").append('<div id="loadingDialog" style="display:none;"><div style="padding-top:100px; padding-bottom:100px;padding-left:400px;"><img alt="Đang tải ..." src="'+staticPath+'Style/images/loading-review.gif" /></div></div>'),$.modal.close(),$("#loadingDialog").modal()},UploadReview.LoadAddNewReviewForm=function(a,b,c){var d=new Date;UploadReview.ShowLoadingDialog(),clickedOnRating=!1,angular.element('div[ng-controller="HelperCtrl"]').scope().ShowDlgLogin(function(d){d.LoggedIn&&($.modal.close(),UploadReview.OpenWriteReviewForm(a,b,c))})},UploadReview.GetPhoneRes=function(a,b,c){$.ajax({type:"GET",url:"/Restaurant/GetPhoneByResId?resId="+a,success:function(a){a.success==1&&(c.hide(),b.html(a.phone))}})},UploadReview.PhoneSec=function(a,b,c,d,e){var f=new Date;angular.element('div[ng-controller="HelperCtrl"]').scope().ShowDlgLogin(function(d){d.LoggedIn&&($.modal.close(),UploadReview.GetPhoneRes(a,b,c),c.hide())})},UploadReview.LoadModifiedReviewForm=function(a,b,c,d){var e=new Date;$.get("/review/CanEditOrUpdateReview?reviewid="+a+"&t="+e.getTime(),function(e){if(e.Success)UploadReview.ShowLoadingDialog(),UploadReview.OpenEditReviewForm(a,b,c,d);else switch(e.ErrorType){case 3:LoginPopup.Show(function(){$.modal.close(),UploadReview.OpenEditReviewForm(a,b,c,d)});break;case 1:alert(ReviewText.CannotEditIfNotOwner);break;case 2:alert(ReviewText.EditTimeIsOver);break;case 4:alert(ReviewText.CannotEditIfApproved)}}),UploadReview.CurrentRestaurantId=b,UploadReview.UploadReviewSuccessCallback=c},UploadReview.CommentDish=function(a,b,c){var d=new Date;angular.element('div[ng-controller="HelperCtrl"]').scope().ShowDlgLogin(function(b){b.LoggedIn&&($.modal.close(),UploadReview.OpenWriteCommentDishForm(a))})},UploadReview.OpenWriteCommentDishForm=function(a,b,c){$.modal.close();var d=new Date,e="/Review/OpenNewRateDish?dishId="+a+"&t="+d.getTime();$("#reviewDialog").length==0&&$("body").append('<div id="reviewDialog" style="display: none"></div>'),$("#Rate-Pop").html('<div style="padding-top:100px; padding-bottom:100px;padding-left:400px;"><img alt="Đang tải ..." src="'+staticPath+'Style/images/loading-review.gif" /></div>').modal({}),$("#Rate-Pop").load(e,function(){}).modal({})},UploadReview.UploadReviewSuccessCallback=null,UploadReview.CurrentRestaurantId=0,UploadReview.OpenWriteReviewForm=function(a,b,c){$.modal.close();var d=new Date,e="/Review/OpenNewReviewForm?restaurantId="+a+"&t="+d.getTime();$("#reviewDialog").length==0&&$("body").append('<div id="reviewDialog" style="display: none"></div>'),$("#reviewDialog").html('<div style="padding-top:100px; padding-bottom:100px;padding-left:400px;"><img alt="Đang tải ..." src="'+staticPath+'Style/images/loading-review.gif" /></div>').modal({onClose:function(a){inUploadProcessing?confirm(ReviewText.PhotoUploadingConfirmStop)&&(inUploadProcessing=!1,killAutoSave(),$.modal.close(),typeof c!="undefined"&&c!=null&&c()):(killAutoSave(),$.modal.close(),typeof c!="undefined"&&c!=null&&c())}}),$("#reviewDialog").load(e,function(){setupReviewUpload()}).modal({onClose:function(a){inUploadProcessing?confirm(ReviewText.PhotoUploadingConfirmStop)&&(inUploadProcessing=!1,killAutoSave(),$.modal.close(),typeof c!="undefined"&&c!=null&&c()):(killAutoSave(),$.modal.close(),typeof c!="undefined"&&c!=null&&c())}}),UploadReview.CurrentRestaurantId=a,UploadReview.UploadReviewSuccessCallback=b},UploadReview.OpenEditReviewForm=function(a,b,c,d){isModifiedMode=!0,$.modal.close();var e=new Date,f="/Review/OpenNewReviewForm?restaurantId="+b+"&modifiedReviewId="+a+"&t="+e.getTime();$("#reviewDialog").length==0&&$("body").append('<div id="reviewDialog" style="display: none"></div>'),$("#reviewDialog").html('<div style="padding-top:100px; padding-bottom:100px;padding-left:400px;"><img alt="Đang tải ..." src="'+staticPath+'Style/images/loading-review.gif" /></div>').modal({onClose:function(a){inUploadProcessing||(killAutoSave(),$.modal.close(),typeof d!="undefined"&&d!=null&&d())}}),$("#reviewDialog").load(f,function(){setupReviewUpload()}).modal({onClose:function(a){inUploadProcessing||(killAutoSave(),typeof d!="undefined"&&d!=null&&d(),$.modal.close())}}),UploadReview.CurrentRestaurantId=b,UploadReview.UploadReviewSuccessCallback=c},UploadReview.PostReview=function(a){if(validInput())if(!inUploadProcessing){killAutoSave(),showLoadingProcess();var b=$("#txtHashTagContent").data("messageText");if(!b||b.length==0)b=$("#txtHashTagContent").val();var c=$("#txtHashTagContent").select2("data"),d={ReviewId:$("#ReviewId").val(),IsModified:$("#IsModified").val(),Title:$("#txtReviewTitle").val(),ReviewContent:$("#txtReviewContent").val(),HashtagsString:$("#txtHashTagContent").val(),PositionPoint:clickedOnRating?$("#hdpositionPoint").val():null,PricePoint:clickedOnRating?$("#hdpricePoint").val():null,FoodPoint:clickedOnRating?$("#hdfoodPoint").val():null,ServicePoint:clickedOnRating?$("#hdservicePoint").val():null,AtmospherePoint:clickedOnRating?$("#hdatmospherePoint").val():null,DishesChosen:$("#hdDishesChosen").val(),Guest:$("#hdGuest").val(),MoneySpend:$("#hdMoneySpend").val(),VisitAgain:$("#hdVisitAgain").val(),GuestId:$("#hdGuest").val(),MoneySpendId:$("#hdMoneySpend").val(),VisitAgainId:$("#hdVisitAgain").val(),RestaurantId:$("#hdRestaurantId").val(),RestaurantName:$("#hdRestaurantName").val(),YoutubeCode:$("#YoutubeCode").val(),IsAllowComment:$("#IsAllowComment").is(":checked"),IsPrivate:$("#IsPrivate").val(),HasShareOnFacebook:$("#hdhasShareOnFacebook").val(),ShareOnFacebook:$("#hdshareOnFacebook").val(),IsPrivateFeedback:$("#hdprivateFeedback").val(),HashtagObject:c};$("#btnSubmit").attr("disabled","disabled");var e="/Review/AddNewReview";$.ajax({url:e,type:"POST",data:{model:d,items:c},success:function(a){if(a.Success==1){currentReviewID=a.ReviewId;if(typeof UploadReview.UploadReviewSuccessCallback=="undefined"||UploadReview.UploadReviewSuccessCallback==null)totalDoneCount>=0?AttachImg(a.ReviewId,isModifiedMode):(isModifiedMode?GetModifiedReview(a.ReviewId):GetNewReview(a.ReviewId),LoadReviewSummaryBox(UploadReview.CurrentRestaurantId));else{var b="",c=!1;isModifiedMode&&(b=getUploadPictureIds(),c=!0),$.post("/Upload/SaveReviewPictures",{reviewId:currentReviewID,restaurantId:UploadReview.CurrentRestaurantId,type:"other",tokenKey:tokenUploadKey,realPictureIds:b,editMode:c},function(){typeof widgetPostReviewSuccess=="function"&&widgetPostReviewSuccess(a),$.modal.close(),UploadReview.UploadReviewSuccessCallback(currentReviewID)})}}else a.IsLogin===!1?(alert(a.Message),closeNewReviewPopup(),setTimeout(function(){$("#draf-review-load").click()},1e3)):a.ErrorList&&$.each(a.ErrorList,function(a,b){$("#error-"+b.PropertyName).text(b.ErrorMessage)})},failure:function(a){alert(a)}})}else alert(ReviewText.PhotoUploadingWait);return!1},UploadReview.LoadSuggestRestaurantForReview=function(a,b){var c=new Date;angular.element('div[ng-controller="HelperCtrl"]').scope().ShowDlgLogin(function(c){c.LoggedIn&&($.modal.close(),UploadReview.OpenSuggestRestaurantForm(a,b))})},UploadReview.OpenSuggestRestaurantForm=function(a,b){$.modal.close();var c=(new Date).getTime();if($("#suggest-restaurant-reviews-popup").length==0){$("#restaurant-reviews-popup").load("/common/SuggestRestaurantPopup?t="+c,function(){UploadReview.InitSuggestRestaurantForm(),UploadReview.OpenSuggestRestaurantForm(a,b)});return}$("#suggest-restaurant-reviews-popup").modal({persist:!0}),UploadReview.SuggestedRestaurant==null?(UploadReview.SuggestedRestaurant=new SuggestedRestaurantModel(null),ko.applyBindings(UploadReview.SuggestedRestaurant,document.getElementById("selected-restaurant-to-review"))):(UploadReview.SuggestedRestaurant.data(null),UploadReview.SuggestedRestaurant.searchText(""),$("#txtResSearch").val(""))},UploadReview.InitSuggestRestaurantForm=function(){$("#txtResSearch").length>0&&($("#txtResSearch").autocomplete({delay:500,source:function(a,b){$.ajax({url:"/directory/suggestlist?limit=100&provinceId="+provinceId,dataType:"json",contentType:"application/json",type:"GET",data:{keyword:""+a.term+""},success:function(a){var c=a;b($.map(c,function(a){return{label:a.Name,value:a.Id,address:a.Address+", "+a.City,picturePath:a.PicturePath}}))}})},minLength:2,focus:function(a,b){return $(this).val(b.item.label),!1},select:function(a,b){return $(this).val(b.item.label),UploadReview.GetSuggestedRestaurant(b.item.value),!1},open:function(){$(this).removeClass("ui-corner-all").addClass("ui-corner-top")},close:function(){$(this).removeClass("ui-corner-top").addClass("ui-corner-all")}}).data("autocomplete")._renderItem=function(a,b){return $("<li class='lists-items'>").data("item.autocomplete",b).append('<a style="overflow:hidden;" class="lists-items-link"><img style="margin:2px;" align="left" src="'+b.picturePath+'" width="40px" />'+'<span style="display:block; float:left;margin-left:5px;width:460px;">'+b.label+'<br/><span class="lists-items-address" style="font-weight:normal;">'+b.address+"</span></span></a>").appendTo(a)})},UploadReview.SuggestedRestaurant=null;var SuggestedRestaurantModel=function(a){var b=this;b.data=ko.observable(a),b.searchText=ko.observable(""),b.loading=ko.observable(!1),b.writereview=function(){b.data()!=null&&UploadReview.LoadAddNewReviewForm(b.data().Id,function(a){$.modal.close(),window.location.href=b.data().Url+"/"+routeConfig.microsite.reviewPath+"-"+a},function(){UploadReview.LoadSuggestRestaurantForReview()})}};UploadReview.GetSuggestedRestaurant=function(a){if(!UploadReview.SuggestedRestaurant.loading()){UploadReview.SuggestedRestaurant.loading(!0);var b=new Date;$.get("/restaurant/GetBasicInfo?t="+b.getTime()+"&restaurantid="+a,function(a){a.success&&UploadReview.SuggestedRestaurant.data(a.data),UploadReview.SuggestedRestaurant.loading(!1)})}},$(document).on("click",".add-new-reviews",function(){UploadReview.LoadSuggestRestaurantForReview()}),$(function(){UploadReview.InitSuggestRestaurantForm()})
;function htmlEncode(a){return $("<div/>").text(a).html()}function htmlDecode(a){return $("<div/>").html(a).text()}function bindWriteCommentAutoresize(){$(".write_comment").autoresize({minRows:0,buffer:0,animate:!1})}function closeNewReviewPopup(){$.modal.close()}function addCommentWatermark(){$(".write_comment").watermark(ReviewText.CommentWatermark,{className:"comment-watermark",useNative:!1})}function bindReviewRatingToolTip(){$(".review-point a").each(function(){$(this).attr("tooltip")!="none"&&addRatingTooltip(this)}),$(".review-point-features a").each(function(){$(this).attr("tooltip")!="none"&&addRatingTooltip(this)})}function addRatingTooltip(a){if($(a).attr("tooltip")!="none"){var b=$(a).attr("tooltip");$("#"+b).length==0&&$("body").append('<div id="'+b+'" style="display:none" class="ratingtooltip"></div>'),$(a).tooltip({tip:"#"+b,position:"bottom center",offset:[6,0],delay:0,tipClass:"ratingtooltip",onBeforeShow:function(c,d){if($("#"+b).children().length==0){var e=$(a).attr("reviewId"),f='<div style="width:220px"><div class="top-arrow">';f+='<img src="'+staticPath+'Style/images/icons/arrow-top.png" alt="" />',f+='</div><img height="16px" src="'+staticPath+'style/images/loading.gif" /></div>',$("#"+b).append(f),populateReviewRatingTooltip(b,e)}}})}}function bindReviewRatingTooltipAjaxLoading(a){$(".review-point a[tooltip=ratingTooltip_"+a+"]").each(function(){addRatingTooltip(this)})}function populateReviewRatingTooltip(a,b){var c=new Date;$.ajax({type:"GET",url:"/Review/GetRatingTooltip?reviewId="+b+"&"+c.getTime(),success:function(b){b.success==1?$("#"+a).html(b.html):alert("error")}})}function bindTooltip(){bindingUserTooltip(),bindReviewRatingToolTip(),bindHelpfulTooltip(),bindHelpfulNameTooltip(),bindEditOrDeleteReviewTooltip(),bindPRQATooltip()}function bindHelpfulTooltipByReviewId(a,b){b==null&&(b=2),addHelpfulTooltip($('.review-helpful-link[tooltip="#helpfulTooltip_'+a+'"]')),addLikeDislikeTooltip($('.review-like-dislike-link[tooltip="#likeTooltip_'+b+"_"+a+'"]'),b),addLikeDislikeTooltip($('.review-like-dislike-link[tooltip="#dislikeTooltip_'+b+"_"+a+'"]'),b)}function bindHelpfulTooltip(){$(".review-helpful-link").each(function(){addHelpfulTooltip(this)}),$('.review-like-dislike-link[data-is-liked="true"]').each(function(){var a=$(this).data("media-type")!=undefined?$(this).data("media-type"):2;addLikeDislikeTooltip(this,a)}),$('.review-like-dislike-link[data-is-liked="false"]').each(function(){var a=$(this).data("media-type")!=undefined?$(this).data("media-type"):2;addLikeDislikeTooltip(this,a)})}function bindingUserTooltipById(a){$('a.user-link[refId="'+a+'"]').each(function(){addUserTooltip(this)}),$('a.user-link-v[refId="'+a+'"]').each(function(){addVerticalUserTooltip(this)})}function bindingUserTooltip(){$(".user-link").each(function(){addUserTooltip(this)})}function addUserTooltip(a){var b=$(a).height();b=b*-1-12;var c=$(a).attr("tooltip");$("#"+c).length==0&&$("body").append('<div id="'+c+'" style="display:none" class="tooltip"></div>'),$(a).tooltip({tip:"#"+c,position:"bottom right",offset:[b,10],delay:50,onBeforeShow:function(b,d){if($("#"+c).children().length==0){var e='<img height="16px" src="'+staticPath+'style/images/loading.gif" />';$("#"+c).append(e);var f=$(a).attr("refId");populateUserTooltip(c,f)}}})}function addVerticalUserTooltip(a){var b=$(a).width();b*=-1;var c=$(a).attr("tooltip");$("#"+c).length==0&&$("body").append('<div id="'+c+'" style="display:none" class="tooltip"></div>'),$(a).tooltip({tip:"#"+c,position:"bottom right",offset:[10,b],delay:50,onBeforeShow:function(b,d){if($("#"+c).children().length==0){var e='<img height="16px" src="'+staticPath+'style/images/loading.gif" />';$("#"+c).append(e);var f=$(a).attr("refId");populateUserTooltip(c,f,2)}}})}function populateUserTooltip(a,b,c){var d=new Date;c==null&&(c=1),$.ajax({type:"GET",url:"/Account/GetUserTooltip?userId="+b+"&"+d.getTime()+"&type="+c,success:function(b){b.success==1?($("#"+a).html(b.html),$("#"+a+" a.review-report-user").die("click"),$("#"+a+" a.review-report-user").live("click",function(){return!1}),isLogin?bindReportUserItem($("#"+a+" a.review-report-user")):($("#"+a+" a.review-report-user").live("click",function(){loginForReviewReportSuccess(this)}),$("#"+a+" a.review-report-user").live("click",function(){loginForReviewReportSuccess(this)}))):alert("error")}})}function populateHelpfulContent(a){var b='<div class="count">'+a.length+ReviewText.MemberLikes+"</div>";for(var c=0;c<a.length;c++){var d=a[c];b+='<div class="helpful-items-new">',b+="<div>",b+='<a href="'+d.UserProfileUrl+'">',b+='<img src="'+d.UserCroppedAvatarUrl+'" width="30px" height="30px" original-title="'+d.UserFirstName+'" class="helpfulUserName"/>',b+="</a>",b+="</div>",b+="</div>"}return b}function populateLikeDislikeContent(a){var b="";for(var c=0;c<a.length;c++){var d=a[c];b+='<div class="helpful-items-new">',b+="<div>",b+='<a href="'+d.UserProfileUrl+'">',b+='<img src="'+d.UserCroppedAvatarUrl+'" width="30px" height="30px" original-title="'+d.UserFirstName+'" class="helpfulUserName"/>',b+="</a>",b+="</div>",b+="</div>"}return b}function addHelpfulTooltip(a){var b=$(a).width();b*=-1,$(a).tooltip({tip:$(a).attr("tooltip"),onBeforeShow:function(b,c){var d=$(a).attr("tooltip");if($(d).is(":empty")){$(d).append('<div style="width:100%; height:6px;position: absolute; bottom: -6px; left: 0px;"></div><div class="arrow"><img src="'+staticPath+'Style/images/icons/arrow-bottom.png" alt="" /></div><div><img height="16px" src="'+staticPath+'/style/images/loading.gif" /></div>');var e=$(a).attr("reviewId");populateHelpfulTooltip(d,e)}},position:"top right",offset:[-5,b],delay:5})}function addLikeDislikeTooltip(a,b){var c=$(a).width();c*=-1,$(a).tooltip({tip:$(a).attr("tooltip"),onBeforeShow:function(c,d){var e=$(a).attr("tooltip");if($(e).is(":empty")){$(e).append('<div style="width:100%; height:6px;position: absolute; bottom: -6px; left: 0px;"></div><div class="arrow"><img src="'+staticPath+'Style/images/icons/arrow-bottom.png" alt="" /></div><div><img height="16px" src="'+staticPath+'/style/images/loading.gif" /></div>');var f=$(a).attr("reviewId"),g=$(a).data("is-liked");populateLikeDislikeTooltip(e,f,g,b)}},position:"top right",offset:[-5,c],delay:5})}function showCommentTextBox(a,b){var c=new Date;$.ajax({type:"GET",url:"/Review/IsLogin?"+c.getTime(),success:function(c){c.success==1?prepareToWriteComment(a,c.avatar,c.currentUserProfileUrl,b):LoginPopup.Show(function(){closeNewReviewPopup(),prepareToWriteComment(a,c.avatar,c.currentUserProfileUrl,b)})}})}function prepareToWriteComment(a,b,c,d){var e=$('.review-tabs>li[type="4"]>a.current').length>0?"#checkin-list ":"";$(e+"#review_comment_id_"+d+"_"+a+" .review-reply-item-avatar img").attr("src",b),$(e+"#review_comment_id_"+d+"_"+a+" .review-reply-item-avatar a").attr("href",c),$(e+"#review_comment_id_"+d+"_"+a).css("display","block");var f=$(e+" #write_comment_"+d+"_"+a).offset().top,g=$(window).height();f>g/2&&(f-=g/2),$("body,html").animate({scrollTop:f},500),$(e+"#write_comment_"+d+"_"+a).focus()}function addComment(a,b){var c=$('.review-tabs>li[type="4"]>a.current').length>0?"#checkin-list ":"",d=b.keyCode,e=0;e=b.shiftKey;if(d!=13||!!e)return!0;b.preventDefault?b.preventDefault():b.returnValue=!1;if(isSubmittingComment==0){var f=$(a).attr("reviewId"),g=$.trim($(a).val());return g!=""&&(isSubmittingComment=!0,$.ajax({type:"POST",url:"/Review/AddComment",data:{reviewId:f,comment:htmlEncode(g)},success:function(a){a.success&&($(c+"#write_comment_"+f).css("height","15px"),$(c+"#write_comment_"+f).val(""),$(c+"#commentBox_"+f).append(a.html),updateTotalComment(f),$('div[reviewId="'+f+'"] .review-reply-item .user-link').each(function(){addUserTooltip(this)}),bindCommentPostedTime(f),isSubmittingComment=!1,PointNotify.AddedPointNotify(a.TotalPendingPoints))}})),!1}}function updateTotalComment(a,b){var c="#comment_count_"+b+"_"+a,d=parseInt($(c).text());d++,$(c).text(d)}function addThanks(a){var b=new Date;$(".helpful-wating").show(),angular.element('div[ng-controller="HelperCtrl"]').scope().ShowDlgLogin(function(b){if(b.LoggedIn){var c=$(a).attr("reviewId");closeNewReviewPopup(),prepareForAddThanks(c)}else $(".helpful-wating").hide()})}function addLikeDislike(a,b,c){console.warn("go");var d=new Date;$(".helpful-wating").show(),angular.element('div[ng-controller="HelperCtrl"]').scope().ShowDlgLogin(function(d){if(d.LoggedIn){var f=$(a).attr("reviewId");closeNewReviewPopup(),prepareForAddLikeDislike(f,b,c)}else $(".helpful-wating").hide()})}function populateHelpfulTooltip(a,b){var c=new Date;$.ajax({type:"GET",url:"/Review/ListHelpfulUsers?reviewId="+b+"&"+c.getTime(),success:function(b){if(b.success==1){if(b.data!=null){var c='<div style="width:100%; height:6px;position: absolute; bottom: -6px; left: 0px;"></div><div class="arrow"><img src="'+staticPath+'Style/images/icons/arrow-bottom.png" alt="" /></div>';b.data.HelpfulUsers.length>0?c+=populateHelpfulContent(b.data.HelpfulUsers):c+='<div class="count">'+ReviewText.BeTheFirstLike+"</div>",c+='<div class="helpful-wating" style="display: none;">',c+='<img src="'+staticPath+'Style/images/icons/ajax-loader.gif" />',c+="</div> ";var d=$(a).height();$(a).html(c),$(a).height()>d&&$(a).css("top",parseInt($(a).css("top"))-($(a).height()-d)),bindHelpfulNameTooltip()}}else alert("error")}})}function populateLikeDislikeTooltip(a,b,c,d){var e=new Date;$.ajax({type:"GET",url:"/Review/ListLikeDislikeUsers?reviewId="+b+"&isLiked="+c+"&type="+d+"&"+e.getTime(),success:function(b){if(b.success==1){if(b.data!=null){var d='<div style="width:100%; height:6px;position: absolute; bottom: -6px; left: 0px;"></div><div class="arrow"><img src="'+staticPath+'Style/images/icons/arrow-bottom.png" alt="" /></div>';b.data.HelpfulUsers.length>0?d+=populateLikeDislikeContent(b.data.HelpfulUsers):window.globalLanguages?d+='<div class="count">'+(c==1?globalLanguages.Comment_User_Like_Empty:globalLanguages.Comment_User_DisLike_Empty)+"</div>":d+='<div class="count">Chưa có thành viên nào.</div>',d+='<div class="helpful-wating" style="display: none;">',d+='<img src="'+staticPath+'Style/images/icons/ajax-loader.gif" />',d+="</div> ";var e=$(a).height();$(a).html(d),$(a).height()>e&&$(a).css("top",parseInt($(a).css("top"))-($(a).height()-e)),bindHelpfulNameTooltip()}}else alert("error")}})}function prepareForAddThanks(a){var b=new Date;$.ajax({type:"GET",url:"/Review/AddReviewFavourite?reviewId="+a+"&"+b.getTime(),success:function(b){if(b.success==1){$("#totalThanks_id_"+a).text(b.totalFavourites),$('a.review-helpful-link[reviewId="'+a+'"]').effect("highlight",{},3e3);var c=$('a.review-helpful-link[reviewId="'+a+'"]').attr("tooltip");populateHelpfulTooltip(c,a),PointNotify.AddedPointNotify(b.TotalPendingPoints)}$(".helpful-wating").hide()}})}function prepareForAddLikeDislike(a,b,c){var d=new Date;$.ajax({type:"GET",url:"/LikeComment/AddLikeDislike?referenceId="+a+"&type="+c+"&isLiked="+b+"&"+d.getTime(),success:function(d){if(d.success==1){var e="";if(arrayTab.length>0)for(var f=0;f<arrayTab.length;f++)$(arrayTab[f]+" #totalLikes_id_"+c+"_"+a).text(d.result.TotalLikes),$(arrayTab[f]+" #totalDislikes_id_"+c+"_"+a).text(d.result.TotalDislikes),$(arrayTab[f]+" #totalLikes_id_"+c+"_"+a).parent().parent().removeClass("active"),$(arrayTab[f]+" #totalDislikes_id_"+c+"_"+a).parent().parent().removeClass("active"),d.result.HasLiked?$(arrayTab[f]+" #totalLikes_id_"+c+"_"+a).parent().parent().addClass("active"):d.result.HasDisliked&&$(arrayTab[f]+" #totalDislikes_id_"+c+"_"+a).parent().parent().addClass("active");else $("#totalLikes_id_"+c+"_"+a).text(d.result.TotalLikes),$("#totalDislikes_id_"+c+"_"+a).text(d.result.TotalDislikes),$("#totalLikes_id_"+c+"_"+a).parent().parent().removeClass("active"),$("#totalDislikes_id_"+c+"_"+a).parent().parent().removeClass("active"),d.result.HasLiked?($("#totalLikes_id_"+c+"_"+a).parent().parent().addClass("active"),$("#LikeState_id_"+c+"_"+a).css("color","red")):d.result.HasLiked?d.result.HasDisliked&&$("#totalDislikes_id_"+c+"_"+a).parent().parent().addClass("active"):$("#LikeState_id_"+c+"_"+a).css("color","#aaa");var g='.review-like-dislike-link[tooltip="#likeTooltip_'+c+"_"+a+'"]',h='.review-like-dislike-link[tooltip="#dislikeTooltip_'+c+"_"+a+'"]';b?e=g:e=h,$(e).effect("highlight",{},3e3),b?(populateLikeDislikeTooltip($(h).attr("tooltip"),a,!b,c),populateLikeDislikeTooltip($(g).attr("tooltip"),a,b,c)):(populateLikeDislikeTooltip($(g).attr("tooltip"),a,!b,c),populateLikeDislikeTooltip($(h).attr("tooltip"),a,b,c))}$(".helpful-wating").hide()}})}function showAllComments(a,b){var c="/Review/ListAllCommentsByReview?reviewId="+a;$("#commentBox_"+a).load(c,function(){$("#commentBox_"+a+" .user-link").each(function(){addUserTooltip(this)}),bindCommentPostedTime(a),$(b).closest(".view-all-comments").hide()})}function loadUserTotalReviews(a){var b=$("#userReviews_"+a).attr("userreviews");$('div.status[userreviews="'+b+'"]').text($('div.status[userreviews="'+b+'"]:eq(0)').text())}function IncreaseGlobalTotalReview(a){var b=",";$("#global-total-reviews").text().indexOf(",")==-1&&(b=".");var c=parseInt($("#global-total-reviews").text().replace(b,""))+a;$("#global-total-reviews").text(addCommas(c,b))}function addCommas(a,b){a+="",x=a.split("."),x1=x[0],x2=x.length>1?"."+x[1]:"";var c=/(\d+)(\d{3})/;while(c.test(x1))x1=x1.replace(c,"$1"+b+"$2");return x1+x2}function updateTotalUserReviewsAndPictures(a){var b=$('div.review-item[reviewId="'+a+'"] span[userreviews]').attr("userreviews"),c=$('div.review-item[reviewId="'+a+'"] span[userpictures]').attr("userpictures"),d=$('div.review-item[reviewId="'+a+'"] span[userreviews]').first().text(),e=$('div.review-item[reviewId="'+a+'"] span[userpictures]').first().text();$('div.status[userreviews="'+b+'"]').text(d+" bình luận"),$('span[userreviews="'+b+'"]').text(d),$('span[userpictures="'+c+'"]').text(e)}function updateTotalReviewsAndPicturesByUsername(a,b,c){$('span[userreviews="userReviews_'+a+'"]').text(b),$('span[userpictures="userPictures_'+a+'"]').text(c),$('div.status[userreviews="userReviews_'+a+'"]').text(b+" "+ReviewText.Review)}function bindHelpfulNameTooltip(){$("img.helpfulUserName").tipsy({gravity:"s"})}function RemoveReviewByIndex(a){var b=$(".micro-home-recent-review.review-item");if(b.length>=a&&a>0){var c=b[a-1];$(c).remove()}}function ScrollToReview(a){var b=0,c=$("#review-"+a).children().first();b=$(c).position().top;if(b>0)$("body,html").animate({scrollTop:b},800),$(c).effect("highlight",{},3e3);else var d=setInterval(function(){c=$("#review-"+a).children().first(),b=$(c).position().top,b>0&&(clearInterval(d),$("body,html").animate({scrollTop:b},800),$(c).effect("highlight",{},3e3))},200)}function LoadReviewSummaryBox(a){if($("#reviewSummaryDiv").length>0){$("#reviewSummaryDiv").show();var b=new Date,c="/Review/GetReviewSummary?restaurantId="+a;typeof hasFiltered!="undefined"&&hasFiltered!=null&&hasFiltered&&(c+="&hasFiltered=true"),c+="&"+b.getTime(),$("#reviewSummaryDiv").load(c,function(){$(".res-common-rating-number a").text($(".micro-home-point .micro-home-points").text())}),$.get("/restaurant/GetPointSummary?restaurantid="+a+"&t="+b.getTime(),function(a){a.success&&$("#res-summary-point").html(a.html)})}}function GetModifiedReview(a){if(typeof reviewtemplate=="undefined"||reviewtemplate==null)reviewtemplate=1;var b=new Date,c="";c="/Review/GetReviewById?t="+b.getTime()+"&reviewId="+a+"&template="+reviewtemplate,$.get(c,function(b){var c=!0;c=b.success,c&&(typeof homeReviewsModel!="undefined"&&homeReviewsModel!=null&&homeReviewsModel.replaceReview(b.data),typeof resReviewsModel!="undefined"&&resReviewsModel!=null&&resReviewsModel.replaceReview(b.data),typeof userReviewsModel!="undefined"&&userReviewsModel!=null&&userReviewsModel.replaceReview(b.data)),b.userid!=null&&removeUserTooltip(b.userid),c&&($("#ratingTooltip_"+a).remove(),bindTooltip(),bindPostedTime(a),updateTotalUserReviewsAndPictures(a),addCommentWatermark(),ScrollToReview(a),bindReviewReportByReviewId(a),hideLoadingProcess(),closeNewReviewPopup(),typeof drawChart!="undefined"&&drawChart!=null&&drawChart())})}function UpdateMicrositePictures(a,b){$.post("/Gallery/GetRestaurantStatistic?restaurantId="+a,function(a){var c=a.data;if(c.length>0){var d=0,e="";$.each(c,function(a,c){if(c.Counts>0){d+=c.Counts;var f=b;e+='<div class="micro-home-album"><div class="img-'+c.UrlRewriteName+'">'+'<a href="'+f+'">'+'<img src="'+c.DefaultImageUrl+'"/>'+"</a>"+"</div>"+'<div class="album">'+'<a href="'+f+'">'+c.Name+"</a></div>"+'<div class="by"><span class="pics-'+c.UrlRewriteName+'-countable">'+c.Counts+"</span> "+Text.photo+"</div>"+"</div>",$(".pics-"+c.UrlRewriteName+"-countable").html(c.Counts),$(".pics-"+c.UrlRewriteName+"-countable1").html("("+c.Counts+")")}}),e!=""&&$(".predefine-album-box").html(e),$(".pics-countable").html(d)}}),$.get("/Gallery/RestaurantFeatureGallery?restaurantId="+a+"&restaurantName=",function(a){$(".feature-gallery").html(a)})}function bindEditOrDeleteReviewTooltip(){$("a.review-modified").tipsy({gravity:"s",live:!0}),$("a.review-deleted").tipsy({gravity:"s",live:!0})}function addRestaurantChecked(a){var b=new Date;$(".checkin-restaurant-waiting").show(),angular.element('div[ng-controller="HelperCtrl"]').scope().ShowDlgLogin(function(b){if(b.LoggedIn){var c=$(a).attr("resId");closeNewReviewPopup(),prepareForAddRestaurantCheckIn(c),$(".checkin-restaurant-waiting").hide()}else $(".checkin-restaurant-waiting").hide()})}function prepareForAddRestaurantCheckIn(a){var b=new Date;$.ajax({type:"GET",url:"/Restaurant/AddCheckIn?restaurantId="+a+"&"+b.getTime(),success:function(a){$(".checkin-restaurant-waiting").hide();if(a.success==1)$("ul.restaurant-action li.restaurant-action-item.restaurant-action-check-in a").addClass("active");else switch(a.errorType){case 1:alert("Bạn chưa đăng nhập");break;case 4:$("ul.restaurant-action li.restaurant-action-item.restaurant-action-check-in a").addClass("active"),alert(CommonText.AlreadyCheckin)}}})}function updateRestaurantCheckedInStatus(){var a=$(".restaurant_checkin").attr("resId");if(a!=null){var b=new Date;$.ajax({type:"GET",url:"/Restaurant/IsCheckedIn?restaurantId="+a+"&"+b.getTime(),success:function(a){if(a.success==1)a.canchecked?$(".restaurant_checkin.checkin_act").removeClass("checkin_act").addClass("checkin"):$(".restaurant_checkin.checkin").removeClass("checkin").addClass("checkin_act");else switch(a.errorType){case 1:alert(ReviewText.NotLogin)}}})}}function LoadBreadCrumb(){var a=!0,b=!1,c=!1,d=new Date;$.get("/Review/GetReviewStatistic?isreview="+a+"&ispr="+b+"&isqa="+c+"&d="+d.getTime(),function(a){if(a.success){var b=a.data;$('#breadcrumddl [refval=""] > span').text(addCommas(b.TotalReviews,",")),$('#breadcrumddl [refval="nha-hang"] > span').text(addCommas(b.ResTotalReviews,",")),$('#breadcrumddl [refval="quan-an"] > span').text(addCommas(b.QuanAnTotalReviews,",")),$('#breadcrumddl [refval="cafe"] > span').text(addCommas(b.CafeTotalReviews,",")),$('#breadcrumddl [refval="tiem-banh"]>span').text(addCommas(b.TiemBanhTotalReviews,",")),$('#breadcrumddl [refval="bar-pub"]>span').text(addCommas(b.BarTotalReviews,",")),$('#breadcrumddl [refval="karaoke"]>span').text(addCommas(b.KaraokeTotalReviews,",")),$('#breadcrumddl [refval="khu-du-lich"]>span').text(addCommas(b.ResortTotalReviews,",")),$('#breadcrumddl [refval="billiards"]>span').text(addCommas(b.BillardTotalReviews,",")),$('#breadcrumddl [refval="tiec-cuoi-hoi-nghi"]>span').text(addCommas(b.EventTotalReviews,",")),$('#breadcrumddl [refval="cua-hang"]>span').text(addCommas(b.StoreTotalReviews,",")),$('#breadcrumddl [refval="an-vat-via-he"]>span').text(addCommas(b.AnVatViaHeTotalReviews,",")),$('#breadcrumddl [refval="sang-trong"]>span').text(addCommas(b.SangTrongTotalReviews,",")),$('#breadcrumddl [refval="rap-chieu-phim"]>span').text(addCommas(b.GiaiTriTotalReviews,",")),$('#breadcrumddl [refval="spa-massage"]>span').text(addCommas(b.SpaMassageTotalReviews,",")),$('#breadcrumddl [refval="hotel"]>span').text(addCommas(b.HotelTotalReviews,",")),$('#breadcrumddl [refval="dia-danh"]>span').text(addCommas(b.DiaDanhTotalReviews,","))}})}function bindPRQATooltip(){$(".review-pr").tipsy({gravity:"s"}),$(".review-qa").tipsy({gravity:"s"})}function bindReviewReportErrorWithoutLogined(){$("a.review-report-error").live("click",function(){loginForReviewReportSuccess(this)})}function loginForReviewReportSuccess(a){LoginPopup.Show(function(){$.modal.close(),bindReviewReportErrorWithLogined(),$("body,html").animate({scrollTop:$(a).position().top},800),$(a).effect("highlight",{},3e3),setTimeout(function(){$(a).click()},1e3)})}function bindReviewReportItem(a){var b=$(a).attr("reviewid"),c=$(a).data("media-type");$(a).qtip({content:" ",show:{event:"click"},position:{my:"top center",at:"bottom center"},hide:{event:"unfocus",fixed:!0},events:{show:function(a,d){var e=$("#review-report-dialog");e.length&&d.set("content.text",e),$("#review-error-hd").val(b),$("#review-error-type").val(c),$("#review-report-dialog .correctinfotextbox").val(""),$("#review-report-dialog .report-success").empty(),$("#review-report-dialog .report-fail").empty(),$("#review-report-dialog .correctinfotextbox").watermark(CommonText.InformationWatermark,{className:"comment-watermark"})}}})}function bindReviewReportByReviewId(a){isLogin&&(bindReviewReportItem($("#review-"+a+" .review-report-error")),bindReportUserItem($("#review-"+a+" .review-report-user")),bindReportUserItem($("#album-"+a+" .review-report-user")))}function bindReviewReportErrorWithLogined(){$(function(){isLogin=!0,$("a.review-report-error").die("click"),$("a.review-report-error").live("click",function(){return!1}),$("a.review-report-error").each(function(){bindReviewReportItem(this)}),$("#review-report-dialog .send-resinfo-error").live("click",function(){if($.trim($("#review-report-dialog .correctinfotextbox").val())!=""){var a={reviewId:$("#review-error-hd").val(),type:$("#review-error-type").val(),errorkeyname:$("#review-report-dialog .errorkeyname").text(),correctinfo:$("#review-report-dialog .correctinfotextbox").val(),istrue:!1,reporturl:window.location.href};postReviewReport(a,"#review-report-dialog")}else $("#review-report-dialog .report-fail").text(CommonText.PlsInputInfor),$("#review-report-dialog .report-success").text("")}),$("a.review-report-user").die("click"),$("a.review-report-user").live("click",function(){return!1}),$("a.review-report-user").each(function(){bindReportUserItem(this)}),$("#marker").length||$("#user-report-dialog .send-resinfo-user").live("click",function(){if($.trim($("#user-report-dialog .correctinfotextbox").val())!=""){var a={reportUserId:$("#user-id").val(),errorkeyname:$("#user-report-dialog .errorkeyname").text(),correctinfo:$("#user-report-dialog .correctinfotextbox").val(),istrue:!1,reporturl:window.location.href};postReportUser(a,"#user-report-dialog")}else $("#user-report-dialog .report-fail").text(CommonText.PlsInputInfor),$("#user-report-dialog .report-success").text("")})})}function postReviewReport(a,b){$(b+" .report-wating").show(),$.post("/Review/AddReportError",a,function(a){a.success?($(b+" .report-wating").hide(),$(b+" .report-success").text("Cám ơn bạn"),$(b+" .report-fail").text(""),$(b+" .correctinfotextbox").val("")):alert(a.errorType)})}function getCurrentPageIndex(){var a=getFilterTabType(),b=0;switch(a){case 1:b=scrollPageIndex;break;case 2:b=prPageIndex;break;case 3:b=qnaPageIndex;break;default:b=scrollPageIndex}return b}function increaseCurrentPageIndex(){var a=getFilterTabType(),b=0;switch(a){case 1:scrollPageIndex++;break;case 2:prPageIndex++;break;case 3:qnaPageIndex++;break;default:scrollPageIndex++}}function getTotalItem(){var a=getFilterTabType(),b=0;switch(a){case 1:b=totalReviews;break;case 2:getCurrentPageIndex()==0?b=100:b=totalPRs;break;case 3:getCurrentPageIndex()==0?b=100:b=totalQAs;break;default:b=totalReviews}return b}function setTotalItem(a){var b=getFilterTabType();switch(b){case 1:totalReviews=a;break;case 2:totalPRs=a;break;case 3:totalQAs=a;break;default:totalReviews=a}}function getItemContainer(){var a=getFilterTabType(),b="#review-list";switch(a){case 1:b="#review-list";break;case 2:b="#pr-list";break;case 3:b="#qna-list";break;default:b="#review-list"}return b}function updateFilterTitle(){var a=getFilterTabType(),b=CommonText.review;switch(a){case 1:b=CommonText.review;break;case 2:b=CommonText.PRLower;break;case 3:b=CommonText.QALower;break;case 4:b=CommonText.CheckinLower;break;default:b=CommonText.review}$("#filter-title").text(b)}function setEmptyDivPane(){var a=getFilterTabType();switch(a){case 1:$("#review-list").html('<div class="micro-home-recent-review review-item empty">'+ReviewText.HaveNoReview+"</div>");break;case 2:$("#pr-list").html('<div class="micro-home-recent-review review-item empty">'+ReviewText.HaveNoPR+"</div>");break;case 3:$("#qna-list").html('<div class="micro-home-recent-review review-item empty">'+ReviewText.HaveNoQA+"</div>");break;default:$("#review-list").html('<div class="micro-home-recent-review review-item empty">'+ReviewText.HaveNoReview+"</div>")}}function getFilterTabType(){var a=parseInt($("ul.review-tabs > li > a.current").closest("li").attr("type"));return a}function updateReviewTabs(a){$("ul.review-tabs li a").removeClass("current"),$("a",a).addClass("current"),$("div.micro-reviews > div.tab-panes > div").hide(),$($(a).data("tabcontent")).show(),updateFilterTitle()}function deleteComment(a){if(confirm(Text.MsgConfirmDeletePhotoComment)==1){var b=$(a).attr("commentId");b!=null&&b!=0&&$.post("/Review/RemoveComment",{commentId:b},function(b){b.Success&&$(a).closest(".review-reply-item").remove()})}}function IsFiltering(){if($("#ddlCriteria").val()!=null&&$("#ddlLevel").val()!=null&&$("#ddlOrderByTime").val()!=null)if($("#ddlCriteria").val()!="0"||$("#ddlLevel").val()!="0"||$("#ddlOrderByTime").val()!="true")return!0;return!1}function postReportUser(a,b){$(b+" .report-wating").show(),$.post("/Review/AddReportUser",a,function(a){a.success?($(b+" .report-wating").hide(),$(b+" .report-success").text("Cám ơn bạn"),$(b+" .report-fail").text(""),$(b+" .correctinfotextbox").val("")):alert(a.errorType)})}function bindReportUserItem(a){var b=$(a).attr("refId");$(a).qtip({content:" ",show:{event:"click"},position:{my:"top center",at:"bottom center"},hide:{event:"unfocus",fixed:!0},events:{show:function(a,c){var d=$("#user-report-dialog");d.length&&c.set("content.text",d),$("#user-id").val(b),$("#user-report-dialog .correctinfotextbox").val(""),$("#user-report-dialog .report-success").empty(),$("#user-report-dialog .report-fail").empty(),$("#user-report-dialog .correctinfotextbox").watermark(CommonText.InformationWatermark,{className:"comment-watermark"})}}})}typeof staticPath=="undefined"&&(staticPath="");var loginSuccessCallback,arrayTab=[];$("a.remove-review-comment").live("click",function(a){deleteComment(this)}),$(".link-to-facebook").live("click",function(){var a=$(this).attr("resid");LinkToFacebook(function(){closeNewReviewPopup(),UploadReview.LoadAddNewReviewForm(a)})}),$(".checkin-link-to-facebook").live("click",function(){LinkToFacebook(function(){$("#checkin-facebook-share .unshare_facebook").hide(),$("#checkin-facebook-share .share_facebook").show(),$("#checkin-share-facebook-check span.checkbox").addClass("check"),$("#checkin_hdshareOnFacebook").val(!0),$("#checkin_hdhasShareOnFacebook").val(!0)})});var isSubmittingComment=!1,isReviewDetailPage=!1;$(".photo-deleted").live("click",function(){var a=$(this).attr("reviewid"),b=$(this).attr("resphotoid"),c=!1,d=new Date;$.ajax({type:"GET",url:"/Review/CheckCanEditDelete?reviewId="+a+"&type=1&"+d.getTime(),success:function(e){if(e.Success){c=e.Result;if(c){if(confirm(ReviewText.DeleteImageConfirmMsg)){var f=$(this).attr("restaurantId");$(".tipsy").remove(),$.ajax({type:"GET",url:"/Review/UpdateReviewPhotoAsTrash?reviewId="+a+"&"+"photoId="+b+"&"+d.getTime(),success:function(b){if(b.Success)window.ResReviewUrl==undefined?window.location.reload(!0):window.location=window.ResReviewUrl+"/binh-luan-"+a;else switch(b.ErrorType){case 3:alert(ReviewText.NotLogin);break;case 1:alert(ReviewText.CannotDeleteIfNotOwner);break;case 2:alert(ReviewText.DeleteTimeIsOver);break;case 4:alert(ReviewText.CannotDeleteIfApproved)}}})}return!1}return alert(ReviewText.ReviewDeleteTimeOut),!1}switch(e.ErrorType){case 3:alert(ReviewText.NotLogin)}}})}),$("a.review-deleted").live("click",function(){var a=$(this).attr("reviewId"),b=!1,c=new Date;$.ajax({type:"GET",url:"/Review/CheckCanEditDelete?reviewId="+a+"&type=1&"+c.getTime(),success:function(e){if(e.Success){b=e.Result;if(b){if(confirm(ReviewText.DeleteConfirmMsg)){var f=$(this).attr("restaurantId");$(".tipsy").remove(),$.ajax({type:"GET",url:"/Review/UpdateReviewAsTrash?reviewId="+a+"&"+c.getTime(),success:function(b){if(b.Success){PointNotify.RemovedPointNotify(b.TotalRemovedPoints);if(window.ReviewDetailPage==1)window.location=window.ResReviewUrl;else{var c=angular.element('div[ng-controller="ResReviewCtrl"]').scope();c?c.RemoveById(a):(c=angular.element('div[ng-controller="UserReviewCtrl"]').scope(),c&&c.RemoveById(a))}}else switch(b.ErrorType){case 3:alert(ReviewText.NotLogin);break;case 1:alert(ReviewText.CannotDeleteIfNotOwner);break;case 2:alert(ReviewText.DeleteTimeIsOver);break;case 4:alert(ReviewText.CannotDeleteIfApproved)}}})}return!1}return alert(ReviewText.ReviewDeleteTimeOut),!1}switch(e.ErrorType){case 3:alert(ReviewText.NotLogin)}}})}),$(".restaurant_checkin").live("click",function(){return addRestaurantChecked(this),!1});var isLogin=!1;window.onpopstate=function(a){a.state&&updateReviewTabs($('ul.review-tabs li[data-tabcontent="'+a.state.tab+'"]'))};var isLoginReportUser=!1
;var RelatedDishListModel=function(a,b){var c=this;c.count=ko.observable(a.Count),c.total=ko.observable(a.Total),c.totalRemaining=ko.observable(a.Total-a.Count),c.lastId=ko.observable(a.LastId),c.currentTimestamp=a.CurrentTimestamp,c.array=ko.observableArray([]);for(var d=0;d<a.Array.length;d++)c.array.push(a.Array[d]);c.isPaging=!0,c.isLoading=ko.observable(!1),c.showContinue=ko.observable(!0),c.resId=ko.observable(a.ResId),c.sysDishId=ko.observable(a.SysDishId),c.callBack=b,c.getLoadLink=function(a){var b=new Date,d="/dish/listrelateddishplaces?t="+b.getTime()+"&resId="+c.resId()+"&resId="+c.resId()+"&sysDishId="+c.sysDishId();return c.lastId()!=null&&c.lastId()!=0&&a&&(d+="&lastId="+c.lastId()),d},c.loadReviews=function(a){var b=c.totalRemaining();if(!c.isLoading()&&b>0&&a||!a&&!c.isLoading()){c.isLoading(!0),c.showContinue(!1);var d=c.getLoadLink(a);c.isPaging=a,$.get(d,function(b){if(b.success){var d=b.data,e=d.Array;if(a){for(var f=0;f<e.length;f++)c.array.push(e[f]);c.lastId(d.LastId),c.totalRemaining(d.Total-d.Count),c.isLoading(!1),c.showContinue(!0)}else c.array(e),c.lastId(d.LastId),c.total(d.Total),c.totalRemaining(d.Total-c.count),c.totalRemaining(d.Total-d.Count),c.isLoading(!1);e&&e.length>0&&c.Jump(e[e.length-1].Id)}else c.isLoading(!1);typeof c.callBack=="function"&&c.callBack(b)})}},c.Jump=function(a){var b=$("#Related-Dish-Popup .dish-detail-relateditems.dish-"+a)[0].offsetTop;$("#Related-Dish-Popup .pop-rel-list").animate({scrollTop:b},"slow")},c.continueLoad=function(){c.loadReviews(!0)},c.showPopup=function(){}}
;var RatingDishListModel=function(a,b){function d(){$(".dish-detail-names .ci-start").html(""),$(".dish-detail-names .ci-start").attr("data-average",c.avgRatingPoint()),$(".dish-detail-names .ci-start").jRating({type:"small",length:5,rateMax:10,isDisabled:!0}),$(".dish-detail-names .ci-btn-rate").html(c.totalComment()+"&nbsp;"+c.language.Review)}function e(){$(".dish-detail-names .ci-btn-rate").attr("dishId",c.dishId),$(".dish-detail-names .ci-btn-rate").click(function(){c.Comment(c.dishId)}),d()}var c=this;c.pageCount=ko.observable(a.PageCount),c.pageIndex=ko.observable(0),c.avgRatingPoint=ko.observable(a.AvgRatingPoint),c.totalComment=ko.observable(a.TotalComment),c.array=ko.observableArray(RecookItems(a.Array)),c.dishId=a.DishId,c.language=b,c.isLoading=ko.observable(!1),c.buildRateStars=function(){$(".comment-items .ci-start").jRating({type:"small",length:5,rateMax:10,isDisabled:!0})},c.IsViewMore=function(){var a=c.pageCount()*(c.pageIndex()+1)<=c.totalComment();return console.log(a+"=[("+c.pageCount()+"*"+(c.pageIndex()+1)+") <="+c.totalComment()+"]"),a},c.Comment=function(a){return UploadReview.CommentDish(a),!1},c.Reload=function(){var a="/dish/reloadlistratingdish?dishId="+c.dishId;c.isLoading(!0),$.get(a,function(a){if(a.success){var b=a.data;c.avgRatingPoint(b.AvgRatingPoint),c.totalComment(b.TotalComment),c.pageCount(b.PageCount),c.array(a.data.Array),c.pageIndex(0),d(),c.isLoading(!1)}})},c.ViewMore=function(){var a=c.pageIndex()+1,b="/restaurant/GetMoreRateDish?dishId="+c.dishId+"&page="+a+"&pageCount="+c.pageCount()+"&t="+(new Date).getTime();c.isLoading(!0),$.get(b,function(b){if(b.success){var e=b.data;for(var f=0;f<e.length;f++)c.array.push(e[f]);c.pageIndex(a),d(),c.isLoading(!1)}})},e()}
;var DishTypeListModel=function(a){function c(){isLogin==1?($("#report-info-dialog").length<1&&$("body").append($(b._dlgReportHtml)),errorReport.InitWithLogined()):errorReport.InitWithoutLogin()}function d(){$(".microsite-menu-item .ci-start").jRating({type:"small",length:5,rateMax:10,isDisabled:!0})}function e(){$(".microsite-menu-item .upload").unbind("click"),$(".microsite-menu-item .upload").click(function(){var a=$(this).attr("dishid");return window.loginSuccessCallback=function(){window.LoadMultipleUploadPictureForm(a)},window.LoadMultipleUploadPictureForm(a),!1})}var b=this;b.TotalItems=a.TotalItems,b.RestaurantID=a.RestaurantID,b.RestaurantName=a.RestaurantName,b.RouterUrl=a.RouterUrl,b.MenuItems=ko.observableArray(RecookItems(a.MenuItems)),b._currentTimeout=null,b._dlgReportHtml='<div id="report-info-dialog" style="display: none" class="reporterrortooltip">'+$("#report-info-dialog").html()+"</div>",b.RenderStars=function(a,f){b._currentTimeout&&(clearTimeout(b._currentTimeout),b._currentTimeout=null),b._currentTimeout=setTimeout(function(){d(),c(),e()},1e3)};var f=function(){var a=new Date,c="/restaurant/ReloadMenuDishItems?t="+a.getTime()+"&resId="+b.RestaurantID;return c};b.Reload=function(){var a=f();$.get(a,function(a){if(a.success){var d=a.data;b.MenuItems(RecookItems(d)),c()}})},b.PopupRating=function(a){return UploadReview.CommentDish(a),!1}}
;var ListReviewsModel=function(a){function d(){$("a.review-report-user").die("click"),$("a.review-report-user").live("click",function(){return!1}),$("a.review-report-error").die("click"),$("a.review-report-error").live("click",function(){return!1}),isLogin?($(".checkin-item a.review-report-user").each(function(){bindReportUserItem(this)}),$("a.review-report-error").each(function(){bindReviewReportItem(this)})):($("a.review-report-user").live("click",function(){loginForReviewReportSuccess(this)}),$("a.review-report-error").live("click",function(){loginForReviewReportSuccess(this)}))}function e(a,b){return a<6?"review-pic-col-"+a+" micro-home-album-img":a>5?"review-pic-col-5 micro-home-album-img":"micro-home-album-img"}function f(a,b){if(!a)return a;switch(b){case 1:return a.replace("/s125x125/","/s640x640/");case 2:return a.replace("/s125x125/","/s320x320/");case 3:return a.replace("/s125x125/","/s210x210/");case 4:return a.replace("/s125x125/","/s160x160/");default:return a}}var b=null,c=this;isLogin=a.IsLogin,isLogin||bindReviewReportErrorWithoutLogined(),c.count=a.Count,c.total=ko.observable(a.Total),c.changeView=ko.observable(1),c.where=ko.observable(null),c.totalRemaining=ko.observable(a.Total-c.count),c.lastId=a.LastId,c.currentTimestamp=a.CurrentTimestamp,currentTimeStamp=a.CurrentTimestamp,c.reviews=ko.observableArray(RecookReviews(a.Reviews,!0)),c.countries=ko.observableArray(RecookItems(a.Countries)),c.provinces=ko.observableArray(RecookItems(a.Provinces)),c.districts=ko.observableArray(RecookItems(a.Districts)),c.isReview=ko.observable(!0),c.isPR=ko.observable(!1),c.districtSortType=ko.observable(0),c.provinceSortType=ko.observable(0),c.countrySortType=ko.observable(0),c.isQA=ko.observable(!1),c.isCheckin=ko.observable(!1),c.isFollowing=ko.observable(!1),c.categoryId=ko.observable(0),c.categoryUrlRewriteName=ko.observable(""),c.provinceId=ko.observable(a.ProvinceId),c.brandUrlRewriteName=ko.observable(a.BrandUrlRewriteName),c.isPaging=!0,c.isLoading=ko.observable(!1),c.showContinue=ko.observable(!1),c.currentUserUrl=ko.observable(a.CurrentUserProfileUrl),c.currentUserAvatar=ko.observable(a.CurrentUserAvatar),c.isCheckCountry=ko.observable(!0),c.isCheckProvince=ko.observable(!0),c.isCheckDistrict=ko.observable(!0),c.isOnlyProvince=ko.observable(!1),c.isOnlyCountry=ko.observable(!1),a.ViewedUserId!=null&&(c.userId=ko.observable(a.ViewedUserId)),c.resId=a.ResId,c.hasFiltered=a.HasFiltered,c.resUrl=a.ResUrl,c.resName=ko.observable(a.ResName),c.criteria=ko.observable(0),c.level=ko.observable(0),c.orderByTime=ko.observable(!0),c.isRecommended=ko.observable(a.IsRecommended),c.fullTotal=ko.observable(a.FullTotal),c.reviewTabClick=function(a,b){b.preventDefault(),c.isReview(!1),c.isPR(!1),c.isQA(!1),c.isCheckin(!1),updateReviewTabs(b.currentTarget);var d=$(b.currentTarget).attr("data-tabcontent"),e="",f=reviewUrl;switch(d){case"#review-tab":f=reviewUrl+"/"+routeConfig.microsite.reviewPath+"/"+userNameUrlPart,e=window.location.hash,e!=""&&(f+=e),c.isReview(!0);break;case"#pr-tab":f=reviewUrl+"/"+routeConfig.microsite.prPath+"/"+userNameUrlPart,c.isPR(!0),c.reviewPRs()==null&&c.loadReviews(!1,2);break;case"#qna-tab":f=reviewUrl+"/"+routeConfig.microsite.qaPath+"/"+userNameUrlPart,c.isQA(!0),c.reviewQAs()==null&&c.loadReviews(!1,2);break;case"#checkin-tab":f=reviewUrl+"/"+routeConfig.microsite.checkinPath+"/"+userNameUrlPart,c.isCheckin(!0),c.checkins()==null&&c.loadReviews(!1,2)}f.endsWith("/")&&f.slice(1,f.length-1),typeof window.history!="undefined"&&window.history.pushState({tab:d+e},document.title,f)},c.reviewPRs=ko.observableArray(null),c.totalPRs=ko.observable(a.TotalPRReviews),c.totalPRRemaining=ko.observable(0),c.lastPRId=0,c.reviewQAs=ko.observableArray(null),c.totalQAs=ko.observable(a.TotalQAReviews),c.totalQARemaining=ko.observable(0),c.lastQAId=0,c.checkins=ko.observableArray(null),c.totalCheckins=ko.observable(a.TotalCheckins),c.totalCheckinRemaining=ko.observable(0),c.lastCheckinId=0,c.filterClick=function(a){switch(a){case"review":c.isReview(!c.isReview()),c.loadReviews(!1);break;case"pr":c.isPR(!c.isPR()),c.loadReviews(!1);break;case"qa":c.isQA(!c.isQA()),c.loadReviews(!1)}},c.afterRenderCommentCallback=function(a,b){bindingUserTooltipById(b.OwnerId),bindCommentPostedTime(b.ReviewId),c.emojiReplace($(a[1]).find(".review-reply-item-content>span.comment"))},c.aferRenderReviewItemCallback=function(a,e){e.AvgRating!="0.0"&&bindReviewRatingTooltipAjaxLoading(e.Id);var f=$(a).find('div[class$="review-item"]');c.emojiReplace($(f).find(".title>a")),c.emojiReplace($(f).find("div.desc")),bindAutoResize(e.Id),bindCommentWatermark(e.Id),bindUserTooltipAjaxLoading(e.Id),bindPostedTime(e.Id),bindEditOrDeleteReviewTooltip(),bindPRQATooltip(),bindReviewReportByReviewId(e.Id),bindReviewContentExpander(),bindHelpfulTooltipByReviewId(e.Id,GetMediaType(e.ReviewType)),bindHelpfulNameTooltip(),bindingUserTooltipById(e.OwnerId),bindCommentPostedTime(e.Id),bindReviewMoblieTooltip(e.Id),bindReviewVideo(e.Id),$(".reviews-main-item").length<(numberScrollablePage+1)*c.count?c.showContinue(!1):c.showContinue(!0),$(".user-reviews.review-item").length<(numberScrollablePage+1)*c.count?c.showContinue(!1):c.showContinue(!0),e.ReviewType==7&&($(".res-notification-item").hide(),$(".res-notification-item:eq(0)").show()),window.clearTimeout(b),b=window.setTimeout(d,500)},c.emojiReplace=function(a){if(a!=null&&a.length>0){var b=$(a).html();b=jEmoji.unifiedToHTML(b),$(a).html(b)}},c.afterRenderPicturesCallback=function(a,b){var c=b;switch(c.Template){case"SinglePictureView":case"DoublePictureView":case"TriplePictureView":case"NormalPictureView":case"PortraitPictureView":var d=$(a).filter('div[class*="photos"]');if(d.length>0){d.addClass("review-pic-col");var g=d.find("li>a>img");for(var h=0;h<g.length;h++){var i=$(g[h]);i.parent().parent("li").attr("class",e(b.TotalPictures,h)),i.attr("src",f(i.attr("src"),b.TotalPictures))}}break;case"LandscapePictureView":$(".show-pic-"+c.Pictures.Items[0].ReviewID).click(function(a){a.preventDefault();var b=$(".review-img-"+c.Pictures.Items[0].ReviewID).first();b.click()})}},c.FormatHashTag=function(a,b){console.warn(a.replace("#","DungIuHashTag"));var c="/review/FormatHashTag?content="+a.replace("#","DungIuHashTag");$.get(c,function(a){if(a.success)console.warn(a.data),console.warn(b),$("#"+b).html(a.data);else return"ngon"})},c.pictureNormalMaxIndex=10,c.picturePortraitMaxIndex=2,c.pictureLandscapeMaxIndex=2,c.getLoadLink=function(a,b){var d=new Date,e="";switch(b){case 1:e="/review/gethomereviews?t="+d.getTime()+"&provinceId="+c.provinceId(),c.categoryUrlRewriteName()!=null&&c.categoryUrlRewriteName()!=0&&(e+="&categoryUrlRewriteName="+c.categoryUrlRewriteName()),c.lastId!=null&&c.lastId!=0&&a&&(e+="&lastId="+c.lastId),e+="&isFollowing="+c.isFollowing();break;case 2:e="/review/getresreviews?t="+d.getTime()+"&resId="+c.resId,!c.isQA()&&!c.isPR()&&!c.isCheckin()?(e+="&criteria="+c.criteria(),e+="&level="+c.level(),e+="&orderAscByTime="+c.orderByTime(),e+="&isRecommended="+c.isRecommended(),c.lastId!=null&&c.lastId!=0&&a&&(e+="&lastId="+c.lastId),c.checkHasPic()!=null&&(e+="&checkHasPic="+c.checkHasPic()),e+="&checkFromFriend="+c.checkFromFriend()):c.isQA()?c.lastQAId!=null&&c.lastQAId!=0&&a&&(e+="&lastId="+c.lastQAId):c.isPR()?c.lastPRId!=null&&c.lastPRId!=0&&a&&(e+="&lastId="+c.lastPRId):c.isCheckin()&&(e="/review/GetResCheckins?t="+d.getTime()+"&resId="+c.resId+(userNameUrlPart!=undefined&&userNameUrlPart!=null&&userNameUrlPart!=""?"&userName="+userNameUrlPart:""),c.lastCheckinId!=null&&c.lastCheckinId!=0&&a&&(e+="&lastId="+c.lastCheckinId));break;case 3:e="/review/getuserreviews?t="+d.getTime()+"&userid="+c.userId()+"&countryId="+c.countrySortType(),c.isOnlyCountry()||(e+="&provinceId="+c.provinceSortType()),!c.isOnlyProvince()&&!c.isOnlyCountry()&&(e+="&districtId="+c.districtSortType()),c.lastId!=null&&c.lastId!=0&&a&&(e+="&lastId="+c.lastId);break;case 4:e="/review/getbrandreviews?t="+d.getTime()+"&brandUrlRewriteName="+c.brandUrlRewriteName(),c.lastId!=null&&c.lastId!=0&&a&&(e+="&lastId="+c.lastId);break;case 5:e="/review/GetTopReviewOfDay?t="+d.getTime(),c.lastId!=null&&c.lastId!=0&&a&&(e+="&lastId="+c.lastId)}return c.isReview()?e+="&isreview=true":e+="&isreview=false",c.isPR()?e+="&ispr=true":e+="&ispr=false",c.isQA()?e+="&isqa=true":e+="&isqa=false",e},c.handleClickSortType=function(){c.isCheckCountry()||(c.isOnlyCountry(!0),c.loadProvinces(),c.loadDistricts(),c.loadReviews(!1,3)),c.isCheckCountry(!1)},c.handleProvinceClickSortType=function(){c.isCheckProvince()||(c.isOnlyProvince(!0),c.isOnlyCountry(!1),c.loadDistricts(),c.loadReviews(!1,3)),c.isCheckProvince(!1)},c.handleDistrictClickSortType=function(){c.isCheckDistrict()||(c.isOnlyProvince(!1),c.loadReviews(!1,3)),c.isCheckDistrict(!1)},c.loadProvinces=function(){var a=new Date,b="/review/getProvinceReviews?t="+a.getTime()+"&userid="+c.userId()+"&countryId="+c.countrySortType();$.get(b,function(a){if(a.success){var b=a.data,d=null;d=RecookItems(b),c.provinces.removeAll();for(var e=0;e<d.length;e++)c.provinces.push(d[e])}})},c.loadDistricts=function(){if(c.isOnlyCountry())c.districts.removeAll();else{var a=new Date,b="/review/GetDistrictReviews?t="+a.getTime()+"&userid="+c.userId()+"&provinceId="+c.provinceSortType();$.get(b,function(a){if(a.success){var b=a.data,d=null;d=RecookItems(b),c.districts.removeAll();for(var e=0;e<d.length;e++)c.districts.push(d[e])}})}},c.loadReviews=function(a,b){var d=c.totalRemaining();b==2&&(c.isPR()?d=c.totalPRRemaining():c.isQA()?d=c.totalQARemaining():c.isCheckin()&&(d=c.totalCheckinRemaining())),b!=3;if(!c.isLoading()&&d>0&&a||!a&&!c.isLoading()){c.isLoading(!0),c.showContinue(!1),c.where()==5&&(b=5),b==null&&(b=1);var e=c.getLoadLink(a,b);c.isPaging=a,$.get(e,function(d){if(d.success){var e=d.data,f=null;c.isCheckin()?f=RecookReviews(e.Checkins,!1):f=RecookReviews(e.Reviews,!0);if(a){if(c.changeView()==2){for(var g=0;g<f.length;g++)c.reviews.push(f[g]);c.lastId=e.LastId,c.totalRemaining(e.Total-e.Count)}if(b==1||b==2&&!c.isPR()&&!c.isQA()&&!c.isCheckin()||b==3||b==4){for(var g=0;g<f.length;g++)c.reviews.push(f[g]);c.lastId=e.LastId,c.totalRemaining(e.Total-c.count),autoInsertReviewAds()}else if(c.isPR()){for(var g=0;g<f.length;g++)c.reviewPRs.push(f[g]);c.lastPRId=e.LastId,c.totalPRRemaining(e.Total-c.count)}else if(c.isQA()){for(var g=0;g<f.length;g++)c.reviewQAs.push(f[g]);c.lastQAId=e.LastId,c.totalQARemaining(e.Total-c.count)}else if(c.isCheckin()){for(var g=0;g<f.length;g++)c.checkins.push(f[g]);c.lastCheckinId=e.LastId,c.totalCheckinRemaining(e.Total-c.count)}c.isLoading(!1),c.showContinue(!0),c.currentUserAvatar(e.CurrentUserAvatar),c.currentUserUrl(e.CurrentUserProfileUrl)}else b==1||b==2&&!c.isPR()&&!c.isQA()&&!c.isCheckin()||b==3||b==4||b==5?(c.reviews(f),c.lastId=e.LastId,c.total(e.Total),c.totalRemaining(e.Total-c.count),b==5&&c.totalRemaining(e.Total-e.Count)):c.isPR()?(c.reviewPRs(f),c.lastPRId=e.LastId,c.totalPRs(e.Total),c.totalPRRemaining(e.Total-c.count)):c.isQA()?(c.reviewQAs(f),c.lastQAId=e.LastId,c.totalQAs(e.Total),c.totalQARemaining(e.Total-c.count)):c.isCheckin()&&(c.checkins(f),c.lastCheckinId=e.LastId,c.totalCheckins(e.Total),c.totalCheckinRemaining(e.Total-c.count)),c.currentUserAvatar(e.CurrentUserAvatar),c.currentUserUrl(e.CurrentUserProfileUrl),c.isLoading(!1)}else c.isLoading(!1)}),b==1&&LoadBreadCrumb()}},c.getVideoEmbed=function(a){return'<a href="javascript:void(0)" class="video-avatar-frame foody-embed-video" data-video-url="'+a.Video.Source+'">'+'<img src="'+a.Video.Avatar+'" />'+'<span class="btn-video-play"></span>'+"</a>"},CalculatingReviewPostedTime(),c.reviewFilterChange=function(a,b){switch(b.currentTarget.id){case"ddlCriteria":c.criteria(b.currentTarget.value);break;case"ddlLevel":c.level(b.currentTarget.value);break;case"ddlOrderByTime":c.orderByTime(b.currentTarget.value);break;case"ddlIndexPageFilter":var d=b.currentTarget.value;switch(d){case"check-has-pic-true":c.checkHasPic(!0),c.checkFromFriend(!1);break;case"check-has-pic-false":c.checkHasPic(!1),c.checkFromFriend(!1);break;case"check-from-friend-true":c.checkHasPic(null),c.checkFromFriend(!0);break;default:c.checkHasPic(null),c.checkFromFriend(!1)}}c.loadReviews(!1,2)},c.categoryChange=function(a){c.categoryUrlRewriteName($(a).attr("refval")),$("#breadcrumddl>li").removeClass("selected"),$(a).closest("li").addClass("selected"),c.loadReviews(!1)},c.isFollowingChange=function(a){var b=$(a).data("is-following");c.changeView(1),c.where(null),c.reviews.removeAll(),c.isFollowing(b),c.loadReviews(!1)},c.LoadTopReview=function(){c.reviews.removeAll(),c.where(5),c.changeView(2),c.loadReviews(!1,5)},c.continueLoad=function(){c.loadReviews(!0)},c.continueLoadResReview=function(){c.loadReviews(!0,2)},c.continueLoadUserReview=function(){c.loadReviews(!0,3,!0)},c.continueLoadBrandReview=function(){c.loadReviews(!0,4)},c.addNewReview=function(a){c.reviews.unshift(new GroupItem(a)),c.total(c.total()+1),c.fullTotal(c.fullTotal()+1)},c.replaceReview=function(a){for(var b=0;b<c.reviews().length;b++)if(c.reviews()[b].items[0].Id==a.Id){c.reviews.splice(b,1,new GroupItem(a));break}},c.removeReview=function(a){for(var b=0;b<c.reviews().length;b++)if(c.reviews()[b].items[0].Id==a){c.reviews.splice(b,1);break}c.total(c.total()-1),c.fullTotal(c.fullTotal()-1)},c.checkinGroupDetails=ko.observableArray([]),c.showCheckinDetails=function(a){$("#checkin-group-dialog").modal({persist:!0}),$("#simplemodal-container").css("height","440px"),$("#simplemodal-container").css("width","500px"),$(window).resize();var b=new Date,d=a.items[0].Id,e=a.items[a.items.length-1].Id;c.isLoadingCheckinDetail(!0),$.get("/review/GetResCheckinsByGroup?t="+b.getTime()+"&resId="+c.resId+"&firstId="+d+"&lastId="+e,function(a){a.success&&(c.checkinGroupDetails(a.data),c.isLoadingCheckinDetail(!1))})},c.checkinGroupDetails=ko.observableArray([]),c.isLoadingCheckinDetail=ko.observable(!1),c.afterGenderCheckinGroupItem=function(a,b){var c=$('span.address[id="'+b.Id+'"]');calculatingPostedTime(currentTimeStamp,c)},c.getReviewDetailLink=function(a){return typeof a.ResUrl!="undefined"&&a.ResUrl!=null?a.ResUrl+"/"+routeConfig.microsite.reviewPath+"-"+a.Id:c.resUrl+"/"+routeConfig.microsite.reviewPath+"-"+a.Id},c.getTopByRank=function(a){var b=a.PointRank,c=0;return b>0&&b<=10?c=10:b<=50?c=50:b<=100?c=100:b<=500?c=500:b<=1e3&&(c=1e3),"Top "+c},c.commentLikeLoading=ko.observable(!1),c.commentLike=function(a,b){if(!c.commentLikeLoading()){c.commentLikeLoading(!0);var d=!a.IsLiked(),e="/likecomment/like/",f=1;d||(e="/likecomment/unlike/",f=-1);var g={id:a.CommentId,type:b};$.post(e,g,function(b){b.Success?(a.TotalLike(a.TotalLike()+f),a.IsLiked(d),c.commentLikeLoading(!1)):c.commentLikeLoading(!1)})}},c.getCommentLikeText=function(a){return a.IsLiked()?"Unlike":"Like"},c.isShowThitCay=ko.observable(!1),c.showThitCay=function(){c.isShowThitCay(!0)},c.checkHasPic=ko.observable(a.CheckHasPic),c.checkFromFriend=ko.observable(!1),c.follow=function(a){angular.element('div[ng-controller="HelperCtrl"]').scope().ShowDlgLogin(function(b){b.LoggedIn&&(c.isLoading()||(c.isLoading(!0),console.warn(a),$.ajax({type:"POST",url:"/follow/"+a.FollowStatus.FollowingId,data:{},success:function(b){b.success?(c.isLoading(!1),a.IsFollow=b.follow,b.follow?($(".change"+a.FollowStatus.FollowingId).removeClass("add-follow-new"),$(".change"+a.FollowStatus.FollowingId).addClass("follow-new")):($(".change"+a.FollowStatus.FollowingId).removeClass("follow-new"),$(".change"+a.FollowStatus.FollowingId).addClass("add-follow-new")),$(".change"+a.FollowStatus.FollowingId).text(b.showtext)):c.isLoading(!1)},dataType:"json"})))})},c.loadStatus=function(){$.ajax({type:"Get",url:"/follow/status/"+c.followingId,success:function(a){a.success&&c.isfollow(a.follow)},dataType:"json"})},$(function(){c.checkHasPic()!=null&&c.checkHasPic()!=""&&$("#ddlIndexPageFilter").val("check-has-pic-true")})}
;window.FoodyPopup||(window.FoodyPopup=new function(){function d(b){var c=$(a.selector+" .dlgc-title").html(b);b&&b!=""?c.show():c.hide()}function e(b){var c=$(a.selector+" .dlgcf-content").html(b);b&&b!=""?c.show():c.hide()}function f(){return a.isReady==0?null:$(a.selector+" .dlgcf-content").html()}function g(){return a.isReady==0?null:$(a.selector+" .dlgc-title").html()}function h(a,b){typeof a=="function"&&a(c,b)}function i(b){if(a.isReady==1){h(b);return}$.get("/Common/GetTemplateFoodyPopup",function(c){if(!c){console.log("Foody Popup -> Get template fail!");return}if($(a.selector).length>0){h(b);return}$("body").append($(c)),a.isReady=!0,h(b);return})}function j(){}var a={callBack:null,args:null,isReady:!1,selector:"#fd-popup"},b=null,c=this;return c.Show=function(d,e){if(a.isReady==0){console.log("Foody Popup -> Need Init!");return}a.args=d,a.callBack=e,c.Title(d.title),c.Content(d.content),b=$(a.selector).bPopup({zIndex:1e4,closeClass:"dlgc-btn-close",modalClose:!0,onOpen:function(){h(e)}})},c.Hide=function(){b.close()},c.Title=function(b){return a.isReady==0?null:(b!=undefined&&d(b),g())},c.Content=function(b){return a.isReady==0?null:(b!=undefined&&e(b),f())},c.Init=function(b){a.isReady==0?i(function(){a.isReady=!0,h(b)}):h(b)},j(),c})
;function recookItems(a){var b=new Array;if(a!=null&&a.length>0){a=CommonHelper.KoFromArrJs(a);for(var c=0;c<a.length;c++)b.push(a[c])}return b}var NearbyResModel=function(a){var b=this;b.cateNearby=ko.observableArray(recookItems(a.CateNearby)),b.mainRestaurant=ko.observable(a.MainRestaurant),b.nearByRestaurants=new NearByRestaurants(a.NearByRestaurants),b.imgStatic=ko.observable(a.ImgStatic),b.isLoadingPanel=ko.observable(!1),b.isLoadingCate=ko.observable(!1),b.currentCate=ko.observable(a.DefaultCate),b.sort=ko.observable(1),b.distance=ko.observable(.2),b.LoadGalleryPopup=function(a){angular.element(document.getElementById("GalleryPopupApp")).scope().ShowPopupGallery(a)},b.LoadReviewPopup=function(a){angular.element(document.getElementById("GalleryPopupApp")).scope().ShowPopupReviews(a)},b.checkSortClick=ko.observable(!1),b.checkDistanceClick=ko.observable(!1),b.isCateChange=ko.observable(!1),b.continueLoad=function(){b.nearByRestaurants.loadItems(!0,b.mainRestaurant().Id,b.sort(),b.currentCate(),b.distance())},b.ChangeCategory=function(a){b.currentCate()!==a&&(b.nearByRestaurants.resetItems(),b.currentCate(a),b.nearByRestaurants.loadItems(!1,b.mainRestaurant().Id,b.sort(),b.currentCate(),b.distance()))},b.handleClickSortType=function(){b.checkSortClick()?(b.nearByRestaurants.resetItems(),b.sort()==3?(b.isCateChange(!0),b.LoadCategory()):b.isCateChange()?(b.LoadCategory(),b.isCateChange(!1)):(b.nearByRestaurants.loadItems(!1,b.mainRestaurant().Id,b.sort(),b.currentCate(),b.distance()),b.isCateChange(!1))):b.checkSortClick(!0)},b.handleClickDistanceType=function(){b.checkDistanceClick()?(b.nearByRestaurants.resetItems(),b.isCateChange(!0),b.LoadCategory()):b.checkDistanceClick(!0)},b.handleClickCateType=function(){b.nearByRestaurants.resetItems(),b.nearByRestaurants.loadItems(!1,b.mainRestaurant().Id,b.sort(),b.currentCate(),b.distance())},b.LoadCategory=function(){b.cateNearby.removeAll(),b.isLoadingCate(!0);var a="/restaurant/GetMoreCateNearbyRes?resId="+b.mainRestaurant().Id+"&sort="+b.sort()+"&maxDistance="+b.distance();$.get(a,function(a){if(a.success){var c=a.data,d=null;d=recookItems(c);for(var e=0;e<d.length;e++)b.cateNearby.push(d[e]);b.cateNearby().length>0?(b.currentCate(b.cateNearby()[0].Categories()[0].Id()),b.nearByRestaurants.loadItems(!1,b.mainRestaurant().Id,b.sort(),b.currentCate(),b.distance())):b.nearByRestaurants.resetCount()}b.isLoadingCate(!1)})}},NearByRestaurants=function(a){var b=this;b.count=a.Count,b.total=ko.observable(a.Total),b.totalRemaining=ko.observable(a.Total-b.count),b.lastId=a.LastId,b.currentTimestamp=a.CurrentTimestamp,b.items=ko.observableArray(recookItems(a.Items)),b.totalItems=ko.observable(a.Items.length),b.isPaging=!0,b.isLoading=ko.observable(!1),b.category=ko.observable(a.Total),b.resetCount=function(){b.totalRemaining(0),b.totalItems(0)},b.loadItems=function(a,c,d,e,f){var g=b.totalRemaining();if(!b.isLoading()&&g>0&&a||!a&&!b.isLoading()){b.isLoading(!0);var h=(new Date).getTime(),i="/__get/restaurant/GetMoreNearbyResAPI?t="+h+"&resId="+c+"&sort="+d+"&maxDistance="+f+"&count="+b.count+"&categoryId="+e+"&page="+b.lastId;$.get(i,function(a){if(a.success){var c=a.data;b.total(c.Total);var d=null;d=recookItems(c.Items);for(var e=0;e<d.length;e++)b.items.push(d[e]);b.totalItems(b.items().length),b.lastId=c.LastId,b.totalRemaining(c.Total-b.totalItems())}window.mapNearByNew&&mapNearByNew.BindMarker(b.items()),b.isLoading(!1)})}},b.resetItems=function(){b.items.removeAll(),b.lastId=0,b.total(0)}}
;var SamebyResModel=function(a){var b=this;b.mainRestaurant=ko.observable(a.MainRestaurant),b.nearByRestaurants=new SameByRestaurants(a.NearByRestaurants),b.imgStatic=ko.observable(a.ImgStatic),b.isLoadingPanel=ko.observable(!1),b.LoadGalleryPopup=function(a){angular.element(document.getElementById("GalleryPopupApp")).scope().ShowPopupGallery(a)},b.LoadReviewPopup=function(a){angular.element(document.getElementById("GalleryPopupApp")).scope().ShowPopupReviews(a)},b.continueLoad=function(){b.nearByRestaurants.loadItems(!0,b.mainRestaurant().Id)}},SameByRestaurants=function(a){var b=this;b.count=a.Count,b.total=ko.observable(a.Total),b.totalRemaining=ko.observable(a.Total-b.count),b.lastId=a.LastId,b.currentTimestamp=a.CurrentTimestamp,b.items=ko.observableArray(recookItems(a.Items)),b.totalItems=ko.observable(a.Items.length),b.isPaging=!0,b.isLoading=ko.observable(!1),b.category=ko.observable(a.Total),b.resetCount=function(){b.totalRemaining(0),b.totalItems(0)},b.loadItems=function(a,c){var d=b.totalRemaining();if(!b.isLoading()&&d>0&&a||!a&&!b.isLoading()){b.isLoading(!0);var e="/restaurant/GetMoreSamebyRes?resId="+c+"&count="+b.count+"&lastId="+b.lastId;$.get(e,function(a){if(a.success){var c=a.data;b.total(c.Total);var d=null;d=recookItems(c.Items);for(var e=0;e<d.length;e++)b.items.push(d[e]);b.totalItems(b.items().length),b.lastId=c.LastId,b.totalRemaining(c.Total-b.totalItems())}window.mapNearByNew&&mapNearByNew.BindMarker(b.items()),b.isLoading(!1)})}},b.resetItems=function(){b.items.removeAll(),b.lastId=0,b.total(0)}}
;function recookItems(a){var b=new Array;if(a!=null&&a.length>0){a=CommonHelper.KoFromArrJs(a);for(var c=0;c<a.length;c++)b.push(a[c])}return b}var RateDishMode=function(a){var b=this;b.resId=ko.observable(a.ResId),b.Comment=ko.observable(""),b.Point=ko.observable(0),b.Total=ko.observable(a.Total),b.dishId=ko.observable(a.DishId),b.allItems=ko.observableArray(a.Items),b.renderedHandler=function(a,b){$(".item-rating").jRating({type:"small",length:5,rateMax:10,isDisabled:!0})},b.PageIndex=ko.observable(0),b.isPoint=ko.observable(!0),b.isComment=ko.observable(!0),b.isComplete=ko.observable(!1),b.SetPositionPopup=function(){var a=$(window),b=$.browser.opera&&$.browser.version>"9.5"&&$.fn.jquery<"1.3"||$.browser.opera&&$.browser.version<"9.5"&&$.fn.jquery>"1.2.6"?a.innerHeight:a.height(),c=$.browser.opera&&$.browser.version>"9.5"&&$.fn.jquery<"1.3"||$.browser.opera&&$.browser.version<"9.5"&&$.fn.jquery>"1.2.6"?a.innerWidth:a.width(),d=$("#simplemodal-container"),e,f,g=d.outerHeight(!0);g>b&&(g=b-30);var h=b/2-d.outerHeight(!0)/2,i=c/2-d.outerWidth(!0)/2,j=d.css("position")!=="fixed"?a.scrollTop():0;e=j+h,f=i,e<30?d.css({left:f,bottom:0,top:"inherit"}):d.css({left:f,top:e,bottom:"inherit"})},b.AutoResizePopup=function(){var a=$("#simplemodal-container"),c=$(".inputform").outerHeight(!0);b.Total()<=5&&$(".left-top").css({height:245}),a.css({height:c+10}),b.SetPositionPopup()},b.CheckAdd=function(){b.Point()===0&&b.isPoint(!1),console.warn(b.Comment()),b.isComment(b.Comment()!=="")},b.ReAdd=function(){b.isComplete(!1),b.Comment(""),b.Point(0),b.SetPositionPopup(),$(".basic").jRating({length:5,canRateAgain:!0,nbRates:99999,sendRequest:!1,rateMax:10,onClick:function(a,c){b.Point(c),b.isPoint(!0)}})},b.addItem=function(){b.CheckAdd();var a=(new Date).getDate();if(b.isPoint()===!0&&b.isComment()===!0){var c="/restaurant/AddRateDish?t="+a;$.post(c,{dishId:b.dishId(),resId:b.resId(),point:b.Point(),comment:b.Comment()},function(a){if(a.success){b.allItems.removeAll();var c=null;c=recookItems(a.data);for(var d=0;d<c.length;d++)b.allItems.push(c[d]);b.Total(b.Total()+1),b.isComplete(!0),b.AutoResizePopup(),window.topDishModel.Reload(),$(".textareas").animate({scrollTop:0},"slow")}})}},b.Jump=function(a){var b=document.getElementById(a).offsetTop;$(".textareas").animate({scrollTop:b},"slow")},b.LoadMore=function(){b.PageIndex(b.PageIndex()+1);var a="/restaurant/GetMoreRateDish?dishId="+b.dishId()+"&page="+b.PageIndex();$.get(a,function(a){if(a.success){var c=null;c=recookItems(a.data);for(var d=0;d<c.length;d++)b.allItems.push(c[d]);var e="RateRes"+(b.allItems().length-5);b.Jump(e)}})}},TopDishMode=function(a){function c(){isLogin==1?($("#report-info-dialog").length<1&&$("body").append($(b._dlgReportHtml)),errorReport.InitWithLogined()):errorReport.InitWithoutLogin()}function d(){$(".exemple4").jRating({type:"small",length:5,rateMax:10,isDisabled:!0})}var b=this;b.allItems=ko.observableArray(recookItems(a.Items)),b.ResId=a.ResId,b.DeliveryId=a.DeliveryId,b._currentTimeout=null,b._dlgReportHtml='<div id="report-info-dialog" style="display: none" class="reporterrortooltip">'+$("#report-info-dialog").html()+"</div>",b.renderedHandler=function(a,e){b._currentTimeout&&(clearTimeout(b._currentTimeout),b._currentTimeout=null),b._currentTimeout=setTimeout(function(){d(),c(),b._currentTimeout=null},1e3)},b.Reload=function(){console.warn("dzo11");var a="/restaurant/ReLoadTopDish?deliveryId="+b.DeliveryId+"&restaurantId="+b.ResId;$.get(a,function(a){console.warn("dzo");if(a.success){var c=null;b.allItems.removeAll(),c=recookItems(a.data);for(var d=0;d<c.length;d++)b.allItems.push(c[d])}})},b.ItemClick=function(a){return UploadReview.CommentDish(a),!1}}
;function recookItems(a){var b=new Array;if(a!=null&&a.length>0){a=CommonHelper.KoFromArrJs(a);for(var c=0;c<a.length;c++)b.push(a[c])}return b}var StreetbyResModel=function(a){var b=this;b.cateNearby=ko.observableArray(recookItems(a.CateNearby)),b.street=ko.observable(a.Street),b.districtId=a.DistrictId,b.page=ko.observable(1),b.nearByRestaurants=new RestaurantsByStreet(a.NearByRestaurants,function(a){c.BindMarker(a.items())}),b.LoadGalleryPopup=function(a){angular.element(document.getElementById("GalleryPopupApp")).scope().ShowPopupGallery(a)},b.LoadReviewPopup=function(a){angular.element(document.getElementById("GalleryPopupApp")).scope().ShowPopupReviews(a)};var c=new NewLandingPageMap({title:"NGON",only:!1,centerLat:b.nearByRestaurants.items()[0].Latitude(),centerLng:b.nearByRestaurants.items()[0].Longitude(),style:{strokeColor:"#cc0000",strokeOpacity:1,strokeWeight:2,fillColor:"#FF0000",fillOpacity:.35},list:b.nearByRestaurants.items()});b.isLoadingPanel=ko.observable(!1),b.isLoadingCate=ko.observable(!1),b.currentCate=ko.observable(a.DefaultCate),b.sort=ko.observable(1),b.checkSortClick=ko.observable(!1),b.isCateChange=ko.observable(!1),b.continueLoad=function(){b.page(b.page()+1),b.nearByRestaurants.loadItems(!0,b.street().Id,b.sort(),b.currentCate(),b.districtId,b.page())},b.ChangeCategory=function(a,d,e){$(".res-nearby-category li").removeClass("active"),$(e.target).parent().addClass("active"),c.clearMap(),b.currentCate()!==a&&(b.nearByRestaurants.resetItems(),b.currentCate(a),b.nearByRestaurants.loadItems(!1,b.street().Id,b.sort(),b.currentCate(),b.districtId,1))},b.handleClickSortType=function(){b.page(1),b.checkSortClick()?(b.nearByRestaurants.resetItems(),b.isCateChange()?(b.LoadCategory(),b.isCateChange(!1)):(b.nearByRestaurants.loadItems(!1,b.street().Id,b.sort(),b.currentCate(),b.districtId,1),b.isCateChange(!1))):b.checkSortClick(!0)},b.LoadCategory=function(){b.cateNearby.removeAll(),b.isLoadingCate(!0);var a="/restaurant/GetMoreCateNearbyStreet?streetId="+b.street().Id+"&sort="+b.sort();$.get(a,function(a){if(a.success){var c=a.data,d=null;d=recookItems(c);for(var e=0;e<d.length;e++)b.cateNearby.push(d[e]);b.cateNearby().length>0?(b.currentCate(b.cateNearby()[0].Categories()[0].Id()),b.nearByRestaurants.loadItems(!1,b.street().Id,b.sort(),b.currentCate(),b.districtId,1)):b.nearByRestaurants.resetCount()}b.isLoadingCate(!1)})}},RestaurantsByStreet=function(a,b){var c=this;c.count=a.Count,c.total=ko.observable(a.Total),c.totalRemaining=ko.observable(a.Total-a.Items.length),c.lastId=a.LastId,c.currentTimestamp=a.CurrentTimestamp,c.items=ko.observableArray(recookItems(a.Items)),c.totalItems=ko.observable(a.Items.length),c.isPaging=!0,c.isLoading=ko.observable(!1),c.category=ko.observable(a.Total),c.resetCount=function(){c.totalRemaining(0),c.totalItems(0)},c.loadItems=function(a,d,e,f,g,h){var i=c.totalRemaining();if(!c.isLoading()&&i>0&&a||!a&&!c.isLoading()){c.isLoading(!0);var j="/LandingPage/GetMoreNearbyStreet?districtId="+g+"&streetId="+d+"&page="+h+"&sort="+e+"&cate="+f;$.get(j,function(a){if(a.success){var d=a.data;c.total(d.TotalItems);var e=c.total(),f=null;f=recookItems(d.Items);for(var g=0;g<f.length;g++)c.items.push(f[g]);c.totalItems(c.items().length),c.lastId=d.LastId,c.totalRemaining(d.TotalItems-c.totalItems());var h=c.totalRemaining();map&&typeof b=="function"&&b(c)}c.isLoading(!1)})}},c.resetItems=function(){c.items.removeAll(),console.warn("Ngon ne"),c.lastId=0,c.total(0)}}
;function RecookComment(a){return a.IsLiked=ko.observable(a.IsLiked),a.TotalLike=ko.observable(a.TotalLike),a}function RecookReviews(a,b){var c=new Array;for(var d=0;d<a.length;d++){var e=new GroupItem(a[d]);if(b==1&&a[d].ReviewType==4&&(a[d].Comment==null||a[d].Comment=="")&&a[d].TotalPictures==0){var f=d+1;while(f<a.length&&a[f].ReviewType==4){var g=a[f];e.items.push(g),f++}f>d+1&&(d=f-1),e.type=5}e.fnShare=function(a,b){var c=$(b.target);if(!window.FoodyPopup)return;FoodyPopup.Init(function(){FoodyPopup.Show({title:c.data("share-title"),content:'<p class="share-social-method">'+c.data("share-description")+"</p>"+'<ul class="btns-social btns-social-review-box">'+'<li class="fb"><a provider="1" href="javascript:void(0);" title="Facebook"></a></li>'+'<li class="gg"><a provider="2" href="javascript:void(0);" title="Google"></a></li>'+"</ul>"},function(){$("ul.btns-social-review-box a").on("click",function(){var b=location.origin+a.ResUrl+"/"+routeConfig.microsite.reviewPath+"-"+a.Id,c=$(this).attr("provider");c==1&&window.FB?(FoodyPopup.Hide(),window.FB.ui({method:"share",href:b},function(a){updateSizeFrame()})):c==2&&window.gapi&&(window.open("https://plus.google.com/share?url="+b),FoodyPopup.Hide())})})})},c.push(e)}return c}function RecookItems(a){var b=new Array;if(a!=null&&a.length>0){a=CommonHelper.KoFromArrJs(a);for(var c=0;c<a.length;c++)b.push(a[c])}return b}function resetFiltering(a){$("#ddlCriteria").val(0),$("#ddlLevel").val(0),$("#ddlOrderByTime").val(!0)}function removeUserTooltip(a){$("#userTooltip_"+a).remove(),$("#userTooltip_v_"+a).remove()}function updateRestaurantSummaryCanView(){$(".btn-sum-detail").hide(),$(".microsite-box-rating-new").css("opacity",1)}function insertHomeReviewAds(a,b){$(a).insertAfter($("#review-list>div.nonads:nth("+b+")")),$(a).show()}function selectAndInsertHomeReviewAds(a){var b=$(".ads-banner.hide:nth(0)");b&&($(b).removeClass("hide").addClass("added"),insertHomeReviewAds(b,a))}function autoInsertReviewAds(){setTimeout(function(){var a=$("#review-list>div.nonads").length,b=$("#review-list>div.ads-banner.added").length,c=$(".ads-banner.hide").length;while(a>(b+1)*insertAdsRate&&c>0)selectAndInsertHomeReviewAds((b+1)*insertAdsRate-1),b=$("#review-list>div.ads-banner.added").length,c=$(".ads-banner.hide").length},500)}function addMobileTooltip(a){if($(a).attr("tooltip")!="none"){var b=$(this).width();b*=-1;var c=$(a).attr("tooltip");$(a).tooltip({tip:"#"+c,position:"bottom center",offset:[6,0],delay:50,tipClass:"mobileapptooltip"})}}function bindReviewMoblieTooltip(a){$("#review-"+a+" a.viamobile").each(function(){addMobileTooltip(this)}),$("#checkin-"+a+" a.viamobile").each(function(){addMobileTooltip(this)})}function bindReviewVideo(a){var b="reviewVideo"+a;window.videojs&&$("#"+b).length>0&&(window["player_"+b]&&window["player_"+b].dispose(),window["player_"+b]=window.videojs(b))}function GetMediaType(a){var b=-1;return a==4?b=11:b=2,b}function bindAutoResize(a){$("#write_comment_"+a).autoresize({minRows:0,buffer:0,animate:!1}),autosize(document.querySelectorAll("textarea"))}function bindCommentWatermark(a){$("#write_comment_"+a).watermark(ReviewText.CommentWatermark,{className:"comment-watermark",useNative:!1}),$("#write_comment_2_"+a).watermark(ReviewText.CommentWatermark,{className:"comment-watermark",useNative:!1})}ListReviewsModel.ChangeReviewFilter=function(){var a=window.location.hash,b=0;switch(a){case"#tuyet-voi":b=1;break;case"#kha-tot":b=2;break;case"#trung-binh":b=3;break;case"#kem":b=4}b!=0&&setTimeout(function(){$("#ddlLevel").val(b),resReviewsModel.level(b),resReviewsModel.loadReviews(!1,2)},500)};var GroupItem=function(a){var b=this;b.reviewId=a.Id,b.type=a.ReviewType,b.items=new Array;if(a.Comments!=null)for(var c=0;c<a.Comments.length;c++)RecookComment(a.Comments[c]);a.Comments=ko.observableArray(a.Comments),b.items.push(a),b.isSubmitingComment=ko.observable(!1),b.addComment=function(c,d){var e=d.keyCode,f=0;f=d.shiftKey;if(e==13&&!f){if(!b.isSubmitingComment()){b.isSubmitingComment(!0);var g=b.reviewId,h=GetMediaType(b.type),i=$.trim($(d.target).val());i!=""?$.ajax({type:"POST",url:"/Review/AddComment2",data:{reviewId:g,comment:htmlEncode(i),type:h.toString()},success:function(c){c.success?(updateTotalComment(g,h),$(d.target).val(""),a.Comments.push(RecookComment(c.data)),PointNotify.AddedPointNotify(c.TotalPendingPoints),b.isSubmitingComment(!1)):b.isSubmitingComment(!1)}}):b.isSubmitingComment(!1)}return!1}return!0},b.isLoadingAllComment=ko.observable(!1),b.showAllComments=function(c,d){if(!b.isLoadingAllComment()){b.isLoadingAllComment(!0);var e=new Date;$.get("/review/getallcomments?t="+e.getTime()+"&reviewid="+a.Id+"&type="+GetMediaType(a.ReviewType),function(c){if(c.success){var e=c.data;if(e!=null){a.Comments.removeAll();for(var f=0;f<e.length;f++)a.Comments.push(RecookComment(e[f]))}$(d.target).closest(".view-all-comments").hide(),b.isLoadingAllComment(!1)}else b.isLoadingAllComment(!1)})}}},lastScrollTop=0;$(function(){ListReviewsModel.ChangeReviewFilter(),$(window).bind("hashchange",function(a){ListReviewsModel.ChangeReviewFilter()}),$(window).scroll(function(){var a=$(this).scrollTop();$(window).scrollTop()>$(document).height()-($(window).height()+1e3)&&a>lastScrollTop&&(typeof homeReviewsModel!="undefined"&&homeReviewsModel!=null&&$(".reviews-main-item").length<(numberScrollablePage+1)*homeReviewsModel.count&&homeReviewsModel.loadReviews(!0),typeof resReviewsModel!="undefined"&&resReviewsModel!=null&&$(".review-item").length<(numberScrollablePage+1)*resReviewsModel.count&&resReviewsModel.loadReviews(!0,2),typeof userReviewsModel!="undefined"&&userReviewsModel!=null&&$(".review-item").length<(numberScrollablePage+1)*userReviewsModel.count&&userReviewsModel.loadReviews(!0,3),typeof brandReviewsModel!="undefined"&&brandReviewsModel!=null&&$(".reviews-main-item").length<(numberScrollablePage+1)*brandReviewsModel.count&&brandReviewsModel.loadReviews(!0,4)),lastScrollTop=a}),$(".btn-sum-detail").click(function(){LoginPopup.Show(function(){$.modal.close(),updateRestaurantSummaryCanView(),$(".microsite-box-rating-new").effect("highlight",{},1e3)},function(){})}),autoInsertReviewAds(),setTimeout(function(){addCommentWatermark()})});var insertAdsRate=3
;function populateReviewItem(a,b){if(a!=null){var c=getRatingTooltip(a.Review),d="--";a.Review.AvgRating>0&&(d=a.Review.AvgRating.toFixed(1));var e='<div id="review-'+a.Review.Id+'"><div class="';a.Type==1?e+="micro-home-recent-review ":a.Type==2?e+="user-reviews ":a.Type==3&&(e+="reviews-new-item "),e+='review-item" reviewId="'+a.Review.Id+'" itemprop="review" itemscope itemtype="http://schema.org/Review">'+'<article class="micro-home-review-item">'+'<div class="leftimage">';if(a.Type==1)e+='<div><a href="'+a.Review.UserProfileUrl+'" class="review-user-link" tooltip="#userToolTip_'+a.Review.Id+'"><img witdh="60px" height="60px" src="'+a.Review.CropAvatarUrl+'"/></a></div>'+'<div class="user"><a href="'+a.Review.UserProfileUrl+'" class="review-user-link" tooltip="#userToolTip_'+a.Review.Id+'"><span itemprop="author">'+a.Review.UserFirstName+"</span></a></div>"+'<div class="status" userreviews="userReviews_'+a.Review.UserName+'">'+a.Review.UserReviews+" "+CommonText.review+"</div>"+generateUserTooltip(a.Review),a.CanEdit&&(e+='<a href="javascript:void(0);" class="review-modified" restaurantId="'+a.Review.RestaurantID+'" reviewId="'+a.Review.Id+'" title="'+ReviewText.EditIn1Hour+'"></a>'+'<a href="javascript:void(0);" class="review-deleted" restaurantId="'+a.Review.RestaurantID+'" reviewId="'+a.Review.Id+'" title="'+ReviewText.DeleteIn1Hour+'"></a>');else if(a.Type==2||a.Type==3)e+='<div><a href="'+a.Review.RestaurantMicrositeUrl+'"><img witdh="80px" src="'+a.Review.RestaurantPictureUrl+'"/></a></div>'+'<div class="restaurant-point">',a.Review.RestaurantAvgRating>0?e+='<span itemprop="ratingValue" href="#">'+a.Review.RestaurantAvgRating.toFixed(1)+"</span>":e+='<span itemprop="ratingValue" href="#">--</span>',e+="</div>";e+='</div><div class="rightdesc">';if(a.Type==1)e+='<div><div class="title"><a itemprop="description" href="'+a.Review.RestaurantMicrositeUrl+"/"+routeConfig.microsite.reviewPath+"-"+a.Review.Id+'">'+a.Review.Title+"</a></div>",a.Review.ReviewType==1?e+='<div class="review-point" itemprop="reviewRating" itemscope itemtype="http://schema.org/Rating"><a itemprop="ratingValue" onclick="return false;" href="javascript:void(0);" reviewid="'+a.Review.Id+'" tooltip="ratingTooltip_'+a.Review.Id+'" >'+d+"</a>"+"</div>":a.Review.ReviewType==2?e+='<div class="review-pr" title="Quảng cáo"></div>':a.Review.ReviewType==3&&(e+='<div class="review-qa" title="Hỏi đáp"></div>'),e+='</div><div class="timerow"><span class="address" itemprop="datePublished" data-utime="'+a.PostedTimestamp+'" title="'+formatJSONDate(a.Review.CreatedOn)+'"></span>',a.Review.PostedByDeviceName!=null&&a.Review.PostedByDeviceName!=""&&(e+=' <a class="viamobile" href="/ung-dung-mobile">via '+a.Review.PostedByDeviceName,e+='<img src="'+staticPath+'Style/images/icons/icon-via-mobile.png" class="iphone" /></a>'),e+="<div>";else if(a.Type==2||a.Type==3)e+='<div class="reviews-headers"><h1 class="restitle"><a href="'+a.Review.RestaurantMicrositeUrl+'">'+a.Review.RestaurantName+"</a> ("+a.Review.RestaurantTotalReviews+" bình luận)</h1>"+'<div class="resaddress">'+a.Review.RestaurantAddress+", "+a.Review.RestaurantDistrictName+", "+a.Review.RestaurantProvinceName+"</div>"+'<h2 class="title"><a itemprop="description" href="'+a.Review.RestaurantMicrositeUrl+"/"+routeConfig.microsite.reviewPath+"-"+a.Review.Id+'">'+a.Review.Title+"</a></h2>"+'<div class="user" itemprop="author">',a.Type==3&&(e+='<a href="'+a.Review.UserProfileUrl+'" class="review-user-link" tooltip="#userToolTip_'+a.Review.Id+'"> <img src="'+a.Review.CropAvatarUrl+'" style="width:30px; height:30px; float:left; vertical-align:middle; margin-right:5px;"/><span>'+a.Review.UserFirstName+"</span></a> ("+a.Review.UserReviews+" bình luận) | "),e+='<span class="address" style="float:none; border:none" itemprop="datePublished" data-utime="'+a.PostedTimestamp+'" title="'+formatJSONDate(a.Review.CreatedOn)+'"></span>',a.Review.PostedByDeviceName!=null&&a.Review.PostedByDeviceName!=""&&(e+=' <a class="viamobile" href="/ung-dung-mobile">via '+a.Review.PostedByDeviceName,e+='<img src="'+staticPath+'Style/images/icons/icon-via-mobile.png" class="iphone" /></a>'),e+="</div>",e+=generateUserTooltip(a.Review),a.Review.ReviewType==1?e+='<div class="review-point" itemprop="reviewRating" itemscope itemtype="http://schema.org/Rating"><meta content="10" itemprop="bestRating"><a itemprop="ratingValue" href="javascript:void(0);" onclick="return false;" reviewid="'+a.Review.Id+'" tooltip="ratingTooltip_'+a.Review.Id+'" >'+d+"</a>"+"</div>":a.Review.ReviewType==2?e+='<div class="review-pr" title="Quảng cáo"></div>':a.Review.ReviewType==3&&(e+='<div class="review-qa"  title="Hỏi đáp"></div>'),e+="</div>";e+='<div class="desc" itemprop="reviewBody" style="white-space: pre-line;">'+a.Review.Comment+"</div>"+generateReviewOptions(a.Review)+addYoutube(a.Review.YoutubeCode)+'<div id="review-pictures'+a.Review.Id+'"></div>'+generateReviewShare(a.Review)+generateReviewComments(a.CommentsList,a.IsLogin)+"</div>"+"</article>"+"</div>"+"</div>",b==null&&(b="#review-list"),$(b).append(e),a.Review.AvgRating>0&&generateRatingTooltipContent(a.Review),bindAutoResize(a.Review.Id),bindCommentWatermark(a.Review.Id),bindUserTooltipAjaxLoading(a.Review.Id),bindPostedTime(a.Review.Id),bindCommentPostedTime(a.Review.Id),bindEditOrDeleteReviewTooltip(),bindPRQATooltip(),bindReviewReportByReviewId(a.Review.Id),a.Review.TotalPictures>0&&$.get(GetLoadReviewPictureLink(a.Review.Id),function(b){$("#review-pictures"+a.Review.Id).html(b)})}}function populateHomeReviewItem(a){if(a!=null){var b=getRatingTooltip(a.Review),c="--";a.Review.AvgRating>0&&(c=a.Review.AvgRating.toFixed(1));var d='<div id="review-'+a.Review.Id+'"><div class="';d+='reviews-main-item" reviewId="'+a.Review.Id+'">'+"<article>"+'<div class="rightimage">',d+='<div><a href="'+a.Review.RestaurantMicrositeUrl+'"><img width="140px" src="'+a.Review.RestaurantPictureUrl+'"/></a></div>',d+='<div class="review-home-pop-link"><span><a href="javascript:void(0)" class="restaurant-reviews-link" resid="'+a.Review.RestaurantID+'">'+a.Review.RestaurantTotalReviews+" "+Text.reviews+"</a></span> | "+'<span><a href="'+a.Review.RestaurantMicrositeUrl+"/"+routeConfig.microsite.albumPath+'">'+a.Review.TotalRestaurantPictures+" "+Text.photos+"</a> </span>"+"</div>",d+='</div><div class="leftcontent">',d+='<div class="reviews-headers"><h1 class="restitle"><a href="'+a.Review.RestaurantMicrositeUrl+'">'+a.Review.RestaurantName+"</a>",a.Review.TotalRestaurantRecentReviews>0&&(d+='<span> (<a href="'+a.Review.RestaurantMicrositeUrl+'" style="font-size:12px; font-weight:normal;color:#02AAD4;text-transform:none;">'+a.Review.TotalRestaurantRecentReviews+" "+ReviewText.ReviewsInDay+"</a>)</span>"),d+='</h1><div class="resaddress">'+a.Review.RestaurantAddress+", "+a.Review.RestaurantDistrictName+", "+a.Review.RestaurantProvinceName+"</div>"+'<div class="reviews-main-inside"><h2 class="title" itemprop="name"><a href="'+a.Review.RestaurantMicrositeUrl+"/"+routeConfig.microsite.reviewPath+"-"+a.Review.Id+'">'+a.Review.Title+"</a></h2>",a.CanEdit&&(d+='<a href="javascript:void(0);" class="review-modified" restaurantId="'+a.Review.RestaurantID+'" reviewId="'+a.Review.Id+'" title="'+ReviewText.EditIn1Hour+'"></a>'+'<a href="javascript:void(0);" class="review-deleted" restaurantId="'+a.Review.RestaurantID+'" reviewId="'+a.Review.Id+'" title="'+ReviewText.DeleteIn1Hour+'"></a>'),d+='<div class="user" itemprop="author">',d+='<a href="'+a.Review.UserProfileUrl+'" class="user-link" refId="'+a.Review.UserID+'" tooltip="userToolTip_'+a.Review.UserID+'"> <img src="'+a.Review.CropAvatarUrl+'" style="width:30px; height:30px; float:left; vertical-align:middle; margin-right:5px;"/><span>'+a.Review.UserFirstName+"</span>",d+='</a> - <span class="address" style="float:none; border:none" itemprop="datePublished" data-utime="'+a.PostedTimestamp+'" title="'+formatJSONDate(a.Review.CreatedOn)+'"></span>',a.Review.PostedByDeviceName!=null&&a.Review.PostedByDeviceName!=""&&(d+=' <a class="viamobile" href="/ung-dung-mobile">via '+a.Review.PostedByDeviceName,d+='<img src="'+staticPath+'Style/images/icons/icon-via-mobile.png" class="iphone" /></a>'),a.Review.TotalUserRecentReviews>0&&(d+=' | <span><a href="'+a.Review.UserProfileUrl+'" style="color:#02AAD4; font-size:11px; font-weight:normal;text-transform:none;"><c>'+a.Review.TotalUserRecentReviews+"</c> "+ReviewText.ReviewsInDay+"</a></span>"),d+="</div>",a.Review.ReviewType==1?d+='<div class="review-point"><a itemprop="ratingValue" href="javascript:void(0);" onclick="return false;" reviewid="'+a.Review.Id+'" tooltip="ratingTooltip_'+a.Review.Id+'" >'+c+"</a>"+"</div>":a.Review.ReviewType==2?d+='<div class="review-pr" title="Quảng cáo"></div>':a.Review.ReviewType==3&&(d+='<div class="review-qa" title="Hỏi đáp"></div>'),d+='<div class="desc" itemprop="description" style="white-space: pre-line;">'+a.Review.Comment+"</div>"+generateReviewOptions(a.Review)+addYoutubeHome(a.Review.YoutubeCode)+'<div id="review-pictures'+a.Review.Id+'"></div></div></div>'+generateReviewShare(a.Review)+generateReviewComments(a.CommentsList,a.IsLogin)+"</div>"+"</article>"+"</div>"+"</div>",$("#review-list").append(d),a.Review.AvgRating>0&&generateRatingTooltipContent(a.Review),bindAutoResize(a.Review.Id),bindCommentWatermark(a.Review.Id),bindUserTooltipAjaxLoading(a.Review.Id),bindPostedTime(a.Review.Id),bindCommentPostedTime(a.Review.Id),bindEditOrDeleteReviewTooltip(),bindPRQATooltip(),bindReviewReportByReviewId(a.Review.Id),a.Review.TotalPictures>0&&$.get(GetLoadReviewPictureLink(a.Review.Id),function(b){$("#review-pictures"+a.Review.Id).html(b)})}}function addYoutubeHome(a){var b="";return a!=null&&(b+="<div>",b+='<object width="500" height="375">',b+='<param name="movie" value="http://www.youtube.com/v/'+a+'?hl=en_US&amp;version=3;hd=1;rel=0;showinfo=0;cc_load_policy=1;showsearch=0;ap=%2526fmt%3D18"></param>',b+='<param name="allowFullScreen" value="true"></param>',b+='<param name="allowscriptaccess" value="always"></param>',b+='<embed src="http://www.youtube.com/v/'+a+'?hl=en_US&amp;version=3;autoplay=0&amp;loop=0;hd=2;rel=0;showinfo=0;cc_load_policy=1;showsearch=0;ap=%2526fmt%3D18" type="application/x-shockwave-flash" width="500" height="375" allowscriptaccess="always" allowfullscreen="true"></embed>',b+="</object>",b+="</div>"),b}function addYoutube(a){var b="";return a!=null&&$.trim(a)!=""&&(b+='<div style="float:left; width:500px;margin-top:5px;">',b+='<object width="500" height="375">',b+='<param name="movie" value="http://www.youtube.com/v/'+a+'?hl=en_US&amp;version=3;hd=1;rel=0;showinfo=0;cc_load_policy=1;showsearch=0;ap=%2526fmt%3D18"></param>',b+='<param name="allowFullScreen" value="true"></param>',b+='<param name="allowscriptaccess" value="always"></param>',b+='<embed src="http://www.youtube.com/v/'+a+'?hl=en_US&amp;version=3;autoplay=0&amp;loop=0;hd=2;rel=0;showinfo=0;cc_load_policy=1;showsearch=0;ap=%2526fmt%3D18" type="application/x-shockwave-flash" width="500" height="375" allowscriptaccess="always" allowfullscreen="true"></embed>',b+="</object>",b+="</div>"),b}function generateReviewOptions(a){var b="";a.SelectMenu!=null&&a.SelectMenu!=""&&(b+='<div class="optionals">Đã thưởng thức: <span>'+a.SelectMenu+"</span></div>");var c="";a.Guest!=null&&a.Guest!=""&&(c=ReviewText.People+": <span>"+a.Guest+"</span>");var d="";a.MoneySpend!=null&&a.MoneySpend!=""&&(d=ReviewText.Cost+": <span>"+a.MoneySpend+"</span>");var e="";a.VisitAgain!=null&&a.VisitAgain!=""&&(e=ReviewText.Comeback+": <span>"+a.VisitAgain+"</span>");if(c!=""||d!=""||e!=""){var f=!1;b+='<div class="optionals">',c!=""&&(b+=c,f=!0),d!=""&&(f?b+=" | "+d:b+=d,f=!0),e!=""&&(f?b+=" | "+e:b+=e),b+="</div>"}return b}function returnZeroAsNull(a){return a==null?0:a}function getRatingTooltip(a){var b='<div class="top-arrow"><img src="'+staticPath+'Style/images/icons/arrow-top.png" alt=""/></div>'+"<div>"+'<h2 style="padding-bottom:5px; border-bottom:#ddd 1px dashed; margin-bottom:5px; font-weight:bold;">'+ReviewText.PointRating+"</h2>"+'<table class="point-popup">'+"<tr>"+'<td width="90">'+ReviewText.Position+"</td>"+"<td>"+'<div id="positionPointBar_'+a.Id+'" class="reviewPointBar">'+"</div>"+"</td>"+'<td width="20" align="right">'+"<b>"+returnZeroAsNull(a.Position)+"</b>"+"</td>"+"</tr>"+"<tr>"+"<td>"+ReviewText.Price+"</td>"+"<td>"+'<div id="pricePointBar_'+a.Id+'" class="reviewPointBar">'+"</div>"+"</td>"+'<td width="20" align="right">'+"<b>"+returnZeroAsNull(a.Price)+"</b>"+"</td>"+"</tr>"+"<tr>"+"<td>"+ReviewText.Food+"</td>"+"<td >"+'<div id="foodPointBar_'+a.Id+'" class="reviewPointBar">'+"</div>"+"</td>"+'<td width="20" align="right">'+"<b>"+returnZeroAsNull(a.Food)+"</b>"+"</td>"+"</tr>"+"<tr>"+"<td>"+ReviewText.Service+"</td>"+"<td>"+'<div id="servicePointBar_'+a.Id+'" class="reviewPointBar">'+"</div>"+"</td>"+'<td width="20" align="right">'+"<b>"+returnZeroAsNull(a.Services)+"</b>"+"</td>"+"</tr>"+"<tr>"+"<td>"+ReviewText.Atmosphere+"</td>"+"<td>"+'<div id="atmospherePointBar_'+a.Id+'" class="reviewPointBar">'+"</div>"+"</td>"+'<td width="20" align="right">'+"<b>"+returnZeroAsNull(a.Atmosphere)+"</b>"+"</td>"+"</tr>"+"</table>";return b}function generateRatingTooltipContent(a){var b=parseInt(a.Position)*10,c=parseInt(a.Price)*10,d=parseInt(a.Food)*10,e=parseInt(a.Services)*10,f=parseInt(a.Atmosphere)*10;$("#positionPointBar_"+a.Id).progressbar({value:b}),$("#pricePointBar_"+a.Id).progressbar({value:c}),$("#foodPointBar_"+a.Id).progressbar({value:d}),$("#servicePointBar_"+a.Id).progressbar({value:e}),$("#atmospherePointBar_"+a.Id).progressbar({value:f}),bindReviewRatingTooltipAjaxLoading(a.Id)}function generateReviewPictures(a){var b="";if(a.ReviewPictures!=null&&a.ReviewPictures.length>0){b='<div class="photos thumb review-photo">';for(var c=0;c<a.ReviewPictures.length;c++)b+='<a href="'+a.ReviewPictures[c].FullImagePath+'" class="review-img review-img-'+a.ReviewPictures[c].ReviewID+'" title="'+a.ReviewPictures[c].PictureName+'" data-id="'+a.ReviewPictures[c].RestaurantPictureID+'" data-group="1" data-size="'+a.ReviewPictures[c].Size+'" ><img alt="" src="'+a.ReviewPictures[c].FileName+'" /></a>';b+="</div>"}return b}function generateReviewShare(a){var b=encodeURIComponent("http://"+document.domain+"/"+a.RestaurantMicrositeUrl+"/"+routeConfig.microsite.reviewPath+"-"+a.Id),c=encodeURIComponent(a.Title+" - "+a.RestaurantName),d="";return a!=null&&(d+='<div class="share"><div class="share-left"><a href="javascript:void(0);" onclick="showCommentTextBox('+a.Id+'); return false;" ><span class="icocomment"></span><span>'+Text.Comment+'</span></a>  <a href="javascript:void(0);" reviewId="'+a.Id+'"  class="review-helpful-link" tooltip="#helpfulTooltip_'+a.Id+'" onclick="addThanks(this); return false;"><span class="icolike"></span> <span>'+ReviewText.Helpful+' (<span style="float:none;" id="totalThanks_id_'+a.Id+'">'+a.TotalReviewFavourites+"</span>)<span></a>"+'  <a class="review-report-error" reviewid="'+a.Id+'"><span class="icoreport"></span> '+ReviewText.ReportError+"</a>"+'<div id="helpfulTooltip_'+a.Id+'" class="helpfultooltip"></div>'+"</div>"+'<div class="share-right">',d+='<a href="javascript:void(0);" shareUrl="'+b+'" onclick="postToFacebookFeed(this);" reviewId="'+a.Id+'" shareName="'+c+'"><img style="display: inline; width: 16px; height: 16px" src="'+staticPath+'Scripts/social-sharing/facebook_share.png" alt="Share on Facebook" /></a>',d+=' <a href="javascript:void(0);" shareUrl="'+b+'" onclick="postToGoogleFeed(this);" reviewId="'+a.Id+'" shareName="'+c+'"><img style="display: inline;" src="'+staticPath+'Scripts/social-sharing/gplus-16.png" alt="Share on Google+" /></a>',d+=' <a href="javascript:void(0);" shareUrl="'+b+'" onclick="postToLinkedInFeed(this);" reviewId="'+a.Id+'" shareName="'+c+'"><img style="display: inline; width: 16px; height: 16px;" src="'+staticPath+'Scripts/social-sharing/linkedin.png" alt="Share on LinkedIn" /></a>',d+=' <a href="javascript:void(0);" shareUrl="'+b+'" onclick="postToTwitterFeed(this);" reviewId="'+a.Id+'" shareName="'+c+'"><img style="display: inline;" src="'+staticPath+'Scripts/social-sharing/bird_blue_16.png" alt="Share on Twitter" /></a>',d+="</div>",d+="</div>"),d}function generateReviewComments(a,b){var c="";if(a!=null){c+='<div class="review-reply" style="margin-left:0px"><div id="commentBox_'+a.ReviewID+'">',a.ShowViewAllLink&&(c+='<div class="view-all-comments"><a href="javascript:void(0);" id="view_all_comment_{0}'+a.ReviewID+'" onclick="showAllComments('+a.ReviewID+'); return false;">Hiện tất cả (<span id="comment_count_'+a.ReviewID+'">'+a.TotalComments+"</span>)</a>"+"</div>");if(a.CommentsList!=null&&a.CommentsList.length>0)for(var d=0;d<a.CommentsList.length;d++)c+=generateCommentItem(a.CommentsList[d]);c+='</div><div class="review-reply-item addcomment" id="review_comment_id_'+a.ReviewID+'"',b?a.CommentsList.length==0&&(c+='style="display:none"'):c+='style="display:none"',c+='><div class="review-reply-item-avatar"><a href="'+a.CurrentUserProfileUrl+'">'+'<img src="'+a.Avatar+'" width="30" /></a></div>'+'<div class="review-reply-item-content">'+'<textarea type="text" spellcheck="false" title="'+ReviewText.CommentWatermark+' " class="write_comment" id="write_comment_'+a.ReviewID+'" reviewId='+a.ReviewID+' onkeypress="addComment(this,event)"></textarea>'+"</div>"+"</div>"+"</div>"}return c}function generateCommentItem(a){var b="";return a!=null&&(b+='<div class="review-reply-item"><div class="review-reply-item-avatar"><a href="'+a.UserProfileUrl+'">'+'<img src="'+a.CropAvatarUrl+'" width="30" /></a></div>'+'<div class="review-reply-item-content">',a.CanDelete&&(b+='<span><a href="javascript:void(0);" commentId="'+a.CommentID+'" class="btn-close-small remove-review-comment"> x </a></span>'),b+='<a href="'+a.UserProfileUrl+'" class="user-link" refId="'+a.UserID+'" tooltip="userCommentToolTip_'+a.UserID+'" itemprop="author">'+a.UserFirstName+'</a> <span itemprop="description" style="white-space: pre-line;">'+a.Comment+"</span>"+"<br />"+'<span class="address" style="float:none; border:none;font-size:11px;" itemprop="datePublished" data-utime="'+a.PostedTimeStamp+'" title="'+formatJSONDate(a.CreatedOn)+'"></span>'+"</div>"+"</div>"),b}function generateUserCommentTooltip(a){var b="";return a!=null&&(b+='<div id="userCommentToolTip_'+a.CommentID+'" style="display:none;" class="tooltip">'+'<div class="left-arrow"><img src="'+staticPath+'Style/images/icons/arrow-left.png" alt=""/></div>'+'<div class="tooltip-left">'+'<div><img width="100px" src="'+a.AvatarUrl+'" alt=""/></div>'+"</div>"+'<div class="tooltip-right">'+'<div class="tooltip-fullname"><b>'+a.UserFullName+"</b></div>"+"<div><span>"+a.UserReviews+"</span> "+CommonText.review+"</div>"+"<div><span>"+a.UserPictures+"</span> "+CommonText.uploadphoto+"</div>"+'<div style="display:none"><span>213</span> '+CommonText.thanks+"</div>"+"</div>"+"</div>"),b}function generateUserTooltip(a){var b="";return a!=null&&(b+='<div id="userToolTip_'+a.Id+'" style="display:none;" class="tooltip">'+'<div class="left-arrow"><img src="'+staticPath+'Style/images/icons/arrow-left.png" alt=""/></div>'+'<div class="tooltip-left">'+'<div><img width="100px" src="'+a.AvatarUrl+'" alt=""/></div>'+"</div>"+'<div class="tooltip-right">'+'<div class="tooltip-fullname"><b>'+a.FullName+"</b></div>"+"<div><span>"+a.UserReviews+"</span> "+CommonText.review+"</div>"+"<div><span>"+a.UserPictures+"</span> "+CommonText.uploadphoto+"</div>"+'<div style="display:none"><span>213</span> '+CommonText.thanks+"</div>"+"</div>"+"</div>"),b}function bindUserTooltipAjaxLoading(a){$(".user-link").each(function(){addUserTooltip(this)}),$('div.review-item[reviewId="'+a+'"] .review-reply-item .comment-user-link').each(function(){addUserTooltip(this)}),$('div.reviews-main-item[reviewId="'+a+'"] .review-reply-item .comment-user-link').each(function(){addUserTooltip(this)}),$('.review-helpful-link[tooltip="#helpfulTooltip_'+a+'"]').each(function(){addHelpfulTooltip(this)})}function bindUserCommentTooltipAjaxLoading(a){a!=null&&$('.comment-user-link[tooltip="#userCommentToolTip_'+a.CommentID+'"]').each(function(){addUserTooltip(this)})}function formatJSONDate(a){var b=new Date(parseInt(a.slice(6,-2))),c=b.getDate();c<10&&(c="0"+c);var d=1+b.getMonth();return d<10&&(d="0"+d),c+"/"+d+"/"+b.getFullYear()}typeof staticPath=="undefined"&&(staticPath="")
;var RestaurantReviewsListModel=function(){var a=this;a.IsLoading=ko.observable(!1),a.ListRestaurantReviews=ko.observableArray([]),a.Current=ko.computed(function(){var b=null;for(var c=0;c<a.ListRestaurantReviews().length;c++)if(a.ListRestaurantReviews()[c].isCurrent()){b=a.ListRestaurantReviews()[c];break}return b}),a.Remove=function(b){var c=!1;for(var d=0;d<a.ListRestaurantReviews().length;d++){var e=a.ListRestaurantReviews()[d];if(e.Summary.RestaurantId==b){a.ListRestaurantReviews.remove(e);break}}},a.Clear=function(){a.ListRestaurantReviews([])},a.pushNew=function(b){var c=!1;for(var d=0;d<a.ListRestaurantReviews().length;d++){var e=a.ListRestaurantReviews()[d];if(e.Summary.RestaurantId==b){e.isCurrent(!0),c=!0;break}e.isCurrent()&&e.isCurrent(!1)}if(!c&&!a.IsLoading()){a.IsLoading(!0);var f=new Date;$.get("/Review/GetRestaurantReviews?restaurantId="+b+"&t="+f.getTime(),function(b){b.success&&a.ListRestaurantReviews.push(new RestaurantReviewsModel(b.data)),a.IsLoading(!1)})}},a.getVideoEmbed=function(a){return'<a href="javascript:void(0)" class="video-avatar-frame foody-embed-video" data-video-url="'+a.Video.Source+'">'+'<img src="'+a.Video.Avatar+'" />'+'<span class="btn-video-play"></span>'+"</a>"}},RestaurantReviewsModel=function(a){var b=this;b.isExcellent=ko.observable(!0),b.isGood=ko.observable(!0),b.isAverage=ko.observable(!0),b.isBad=ko.observable(!0),b.Summary=new RestaurantSummaryModel(a.Summary),b.ReviewsList=new ReviewListModel(a.ReviewsList,b),b.isCurrent=ko.observable(!0),b.ReviewsList.setUpdatedTime(5e3),b.change=function(a){switch(a){case 1:b.isExcellent(!b.isExcellent());break;case 2:b.isGood(!b.isGood());break;case 3:b.isAverage(!b.isAverage());break;case 4:b.isBad(!b.isBad())}b.ReviewsList.refresh()}},RestaurantSummaryModel=function(a){var b=this;b.RestaurantId=a.RestaurantId,b.Name=ko.observable(a.Name),b.Address=ko.observable(a.Address),b.Url=a.Url,b.PictureUrl=ko.observable(a.PictureUrl),b.TotalReviews=ko.observable(a.TotalReviews),b.TotalPerfectReviews=ko.observable(a.TotalPerfectReviews),b.TotalGoodReviews=ko.observable(a.TotalGoodReviews),b.TotalAverageReviews=ko.observable(a.TotalAverageReviews),b.TotalBadReviews=ko.observable(a.TotalBadReviews),b.AvgPoint=ko.observable(a.AvgPoint),b.writeReview=function(){isModifiedMode=!1;var a=b.RestaurantId;UploadReview.LoadAddNewReviewForm(a,function(){RestaurantReviewsModel.Remove(a),RestaurantReviewsModel.ShowPopup(a)},function(){RestaurantReviewsModel.Clear(),RestaurantReviewsModel.ShowPopup(a)})}},ReviewListModel=function(a,b){var c=this;c.parent=b,c.LastId=ko.observable(a.LastId),c.RestaurantId=a.RestaurantId,c.Reviews=ko.observableArray(a.Reviews),c.TotalReviews=ko.observable(a.TotalReviews+a.TotalCheckin),c.TotalCheckin=ko.observable(a.TotalCheckin),c.fisrtTime=!0,c.Count=a.Count,c.CurrentIndex=ko.observable(1),c.IsLoadMore=ko.observable(!1),c.CurrentTimestamp=a.CurrentTimestamp,c.CurrentReview=ko.computed(function(){var a=c.CurrentIndex()-1;if(c.Reviews().length>a&&c.Reviews().length>0)return c.Reviews()[a]}),c.justChangeOption=!1,c.IsFiltering=ko.observable(!1),c.getNextPage=function(){if(!c.IsLoadMore()){c.IsLoadMore(!0);var a=c.getReviewLink();$.get(a,function(a){if(a.success){c.LastId(a.data.LastId);for(var b=0;b<a.data.Reviews.length;b++)c.Reviews.push(a.data.Reviews[b]);c.calculateCreatedTime()}c.IsLoadMore(!1)})}},c.next=function(){var a=c.CurrentIndex();c.TotalReviews()>a&&c.Reviews().length<=a&&c.getNextPage(),c.CurrentIndex()<c.TotalReviews()&&c.CurrentIndex(c.CurrentIndex()+1)},c.back=function(){c.CurrentIndex()>1&&c.CurrentIndex(c.CurrentIndex()-1)},c.getReviewLink=function(){var a=new Date,b="/review/GetMoreReviews?t="+a.getTime()+"&restaurantid="+c.RestaurantId;return c.parent.isExcellent()||(b+="&isexcellent=false"),c.parent.isGood()||(b+="&isGood=false"),c.parent.isAverage()||(b+="&isAverage=false"),c.parent.isBad()||(b+="&isBad=false"),c.LastId()>0&&(b+="&lastid="+c.LastId()),b},c.getRefreshLink=function(){var a=new Date,b="/review/GetMoreReviews?t="+a.getTime()+"&restaurantid="+c.RestaurantId;return c.parent.isExcellent()||(b+="&isexcellent=false"),c.parent.isGood()||(b+="&isGood=false"),c.parent.isAverage()||(b+="&isAverage=false"),c.parent.isBad()||(b+="&isBad=false"),b},c.refresh=ko.computed(function(){var a=c.getRefreshLink();c.fisrtTime?c.fisrtTime=!1:(c.IsLoadMore(!0),$.get(a,function(a){a.success&&(c.LastId(0),c.Reviews.removeAll(),c.Reviews(a.data.Reviews),c.TotalReviews(a.data.TotalReviews+a.data.TotalCheckin),c.TotalCheckin(a.data.TotalCheckin),c.LastId(a.data.LastId),c.CurrentIndex(1)),c.IsLoadMore(!1)}))}),c.editReview=function(a){isModifiedMode=!1;var b=a.RestaurantID,c=a.Id;UploadReview.LoadModifiedReviewForm(c,b,function(){RestaurantReviewsModel.Remove(b),RestaurantReviewsModel.ShowPopup(b)},function(){RestaurantReviewsModel.ShowPopup(b)})},c.getDiffTime=function(a){var b="";return a<60?b=CommonText.PostedTime_AFewSecondsAgo:a<120?b=CommonText.PostedTime_About1MinuteAgo:a<3600?b=Math.floor(a/60)+" "+CommonText.PostedTime_MinutesAgo:a<7200?b=CommonText.PostedTime_About1HourAgo:a<86400&&(b=Math.floor(a/3600)+" "+CommonText.PostedTime_HoursAgo),b},c.setUpdatedTime=function(a){setInterval(function(){c.CurrentTimestamp+=a/1e3,c.calculateCreatedTime()},a)},c.calculateCreatedTime=function(){var a=parseInt(c.CurrentTimestamp);$(".r-time").each(function(b,d){var e=parseInt($(this).attr("utime")),f=c.getDiffTime(a-e);f==0||f==""?$(this).text($(this).attr("title")):($(this).text(f),$(this).fadeIn())})},c.getCreatedTime=function(a){var b=parseInt(c.CurrentTimestamp),d=parseInt(a.CreatedOnTimestamp),e=c.getDiffTime(b-d);return e==0||e==""?a.CreatedOnString:e},c.getReviewDetailLink=function(a){return c.parent.Summary.Url+"/"+routeConfig.microsite.reviewPath+"-"+a.Id},c.getReviewDetailLinkCheckIn=function(a){return c.parent.Summary.Url+"/checkin-"+a.Id}};RestaurantReviewsModel.ShowPopup=function(a){if($("#restaurant-reviews-popup #restaurant-popup-dialog").length==0){$("#restaurant-reviews-popup").load("/common/restaurantreviewpopup",function(){setTimeout(function(){document.getElementById("restaurant-popup-dialog")&&(restaurantReviewListModel=new RestaurantReviewsListModel,ko.applyBindings(restaurantReviewListModel,document.getElementById("restaurant-popup-dialog"))),RestaurantReviewsModel.ShowPopup(a)},500)});return}$("#restaurant-reviews-popup").modal({persist:!0,onClose:function(a){$.modal.close()}}),$("#simplemodal-container").css("height","522px"),a&&restaurantReviewListModel.pushNew(a)},RestaurantReviewsModel.Remove=function(a){restaurantReviewListModel&&a&&restaurantReviewListModel.Remove(a)},RestaurantReviewsModel.Clear=function(){restaurantReviewListModel&&restaurantReviewListModel.Clear()};var restaurantReviewListModel;$(".restaurant-reviews-link").live("click",function(){var a=$(this).attr("resid");RestaurantReviewsModel.ShowPopup(a)})
;function TopReviewOfDayModel(){var a=this;a.Position=0,a.Executing=!1,a.OrgTotalItems=0,a.IsInterval=!0,a.ContainerId,a.BtnAnimationId,a.ItemWidth,a.TotalItems,a.DisplayItems,a.DelayTime,a.MoveForward=function(b){a.Executing||(a.Executing=!0,$("#"+a.ContainerId).animate({left:(b?"-=":"+=")+a.ItemWidth+"px"},{complete:function(){b?a.Position++:a.Position--,a.Position==a.OrgTotalItems&&($("#"+a.ContainerId).css("left",-(a.ItemWidth*a.OrgTotalItems)),a.Position=0),a.Position==-1&&($("#"+a.ContainerId).css("left",-(a.ItemWidth*a.OrgTotalItems*2)),a.Position=a.OrgTotalItems-1),a.Executing=!1}}))},a.RefreshContainerWidth=function(){$("#"+a.ContainerId).width(a.ItemWidth*a.TotalItems)},a.CloneFirstLastReview=function(){var b=$("#"+a.ContainerId).html();a.TotalItems+=a.OrgTotalItems,a.RefreshContainerWidth(),$("#"+a.ContainerId).prepend(b),a.TotalItems+=a.OrgTotalItems,a.RefreshContainerWidth(),$("#"+a.ContainerId).append(b),$("#"+a.ContainerId).css("left",-(a.ItemWidth*a.OrgTotalItems))},a.Init=function(b){a.ContainerId=b.containerId,a.BtnAnimationId=b.btnAnimationId,a.ItemWidth=b.itemWidth,a.TotalItems=b.totalItems,a.OrgTotalItems=b.totalItems,a.DelayTime=b.delayTime!=null?b.delayTime:1e4,$("#"+a.ContainerId).parent().parent().hover(function(){a.IsInterval=!1},function(){a.IsInterval=!0}),$("#"+a.BtnAnimationId+"-prev").click(function(){a.MoveForward(!1)}),$("#"+a.BtnAnimationId+"-next").click(function(){a.MoveForward(!0)}),a.CloneFirstLastReview(),setInterval(function(){a.IsInterval&&a.MoveForward(!0)},a.DelayTime)}}
;(function(a){var b=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],c=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],d=["January","February","March","April","May","June","July","August","September","October","November","December"],e=[];e.Jan="01",e.Feb="02",e.Mar="03",e.Apr="04",e.May="05",e.Jun="06",e.Jul="07",e.Aug="08",e.Sep="09",e.Oct="10",e.Nov="11",e.Dec="12",a.format=function(){function a(a){return b[parseInt(a,10)]||a}function f(a){var b=parseInt(a,10)-1;return c[b]||a}function g(a){var b=parseInt(a,10)-1;return d[b]||a}var h=function(a){return e[a]||a},i=function(a){var b=a,c="";if(b.indexOf(".")!==-1){var d=b.split(".");b=d[0],c=d[1]}var e=b.split(":");return e.length===3?(hour=e[0],minute=e[1],second=e[2],{time:b,hour:hour,minute:minute,second:second,millis:c}):{time:"",hour:"",minute:"",second:"",millis:""}},j=function(a,b){var c=b-String(a).length;for(var d=0;d<c;d++)a="0"+a;return a};return{date:function(b,c){try{var d=null,e=null,k=null,l=null,m=null,n=null;if(typeof b=="number")return this.date(new Date(b),c);if(typeof b.getFullYear=="function")e=b.getFullYear(),k=b.getMonth()+1,l=b.getDate(),m=b.getDay(),n=i(b.toTimeString());else if(b.search(/\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}\.?\d{0,3}[Z\-+]?(\d{2}:?\d{2})?/)!=-1){var o=b.split(/[T\+-]/);e=o[0],k=o[1],l=o[2],n=i(o[3].split(".")[0]),d=new Date(e,k-1,l),m=d.getDay()}else{var o=b.split(" ");switch(o.length){case 6:e=o[5],k=h(o[1]),l=o[2],n=i(o[3]),d=new Date(e,k-1,l),m=d.getDay();break;case 2:var p=o[0].split("-");e=p[0],k=p[1],l=p[2],n=i(o[1]),d=new Date(e,k-1,l),m=d.getDay();break;case 7:case 9:case 10:e=o[3],k=h(o[1]),l=o[2],n=i(o[4]),d=new Date(e,k-1,l),m=d.getDay();break;case 1:var p=o[0].split("");e=p[0]+p[1]+p[2]+p[3],k=p[5]+p[6],l=p[8]+p[9],n=i(p[13]+p[14]+p[15]+p[16]+p[17]+p[18]+p[19]+p[20]),d=new Date(e,k-1,l),m=d.getDay();break;default:return b}}var q="",r="",s="";for(var t=0;t<c.length;t++){var u=c.charAt(t);q+=u,s="";switch(q){case"ddd":r+=a(m),q="";break;case"dd":if(c.charAt(t+1)=="d")break;r+=j(l,2),q="";break;case"d":if(c.charAt(t+1)=="d")break;r+=parseInt(l,10),q="";break;case"D":l==1||l==21||l==31?l+="st":l==2||l==22?l+="nd":l==3||l==23?l+="rd":l+="th",r+=l,q="";break;case"MMMM":r+=g(k),q="";break;case"MMM":if(c.charAt(t+1)==="M")break;r+=f(k),q="";break;case"MM":if(c.charAt(t+1)=="M")break;r+=j(k,2),q="";break;case"M":if(c.charAt(t+1)=="M")break;r+=parseInt(k,10),q="";break;case"y":case"yyy":if(c.charAt(t+1)=="y")break;r+=q,q="";break;case"yy":if(c.charAt(t+1)=="y"&&c.charAt(t+2)=="y")break;r+=String(e).slice(-2),q="";break;case"yyyy":r+=e,q="";break;case"HH":r+=j(n.hour,2),q="";break;case"H":if(c.charAt(t+1)=="H")break;r+=parseInt(n.hour,10),q="";break;case"hh":var v=n.hour==0?12:n.hour<13?n.hour:n.hour-12;r+=j(v,2),q="";break;case"h":if(c.charAt(t+1)=="h")break;var v=n.hour==0?12:n.hour<13?n.hour:n.hour-12;r+=parseInt(v,10),q="";break;case"mm":r+=j(n.minute,2),q="";break;case"m":if(c.charAt(t+1)=="m")break;r+=n.minute,q="";break;case"ss":r+=j(n.second.substring(0,2),2),q="";break;case"s":if(c.charAt(t+1)=="s")break;r+=n.second,q="";break;case"S":case"SS":if(c.charAt(t+1)=="S")break;r+=q,q="";break;case"SSS":r+=n.millis.substring(0,3),q="";break;case"a":r+=n.hour>=12?"PM":"AM",q="";break;case"p":r+=n.hour>=12?"p.m.":"a.m.",q="";break;default:r+=u,q=""}}return r+=s,r}catch(w){return console.log(w),b}}}}()})(jQuery),jQuery.format.date.defaultShortDateFormat="dd/MM/yyyy",jQuery.format.date.defaultLongDateFormat="dd/MM/yyyy HH:mm:ss",jQuery(document).ready(function(){jQuery(".shortDateFormat").each(function(a,b){jQuery(b).is(":input")?jQuery(b).val(jQuery.format.date(jQuery(b).val(),jQuery.format.date.defaultShortDateFormat)):jQuery(b).text(jQuery.format.date(jQuery(b).text(),jQuery.format.date.defaultShortDateFormat))}),jQuery(".longDateFormat").each(function(a,b){jQuery(b).is(":input")?jQuery(b).val(jQuery.format.date(jQuery(b).val(),jQuery.format.date.defaultLongDateFormat)):jQuery(b).text(jQuery.format.date(jQuery(b).text(),jQuery.format.date.defaultLongDateFormat))})})
;function FixedAdsHelper(){var a=this;a.ContainerId=null,a.Top=0,a.EdgeSelector=null,a.ShowElement=null,a.ShowElementHeight=0,a.IsStopAtEdge=!1,a.EdgeSelectorAutoHeight=null,a.Excute=function(){var b=$("#"+a.ContainerId),c=b.offset();if(!c)return;$(window).scroll(function(){_flagTopBanner==0&&(_flagTopBanner=1,$("#directory-banner-container").length>0&&(_topBanner=$("#directory-banner-container").offset().top));var d=a.EdgeSelector!=null?$(a.EdgeSelector).offset():null,e=a.EdgeSelectorAutoHeight!=null?$(a.EdgeSelectorAutoHeight).height():0;_heightContainer==0?$(window).scrollTop()>c.top&&(d==null||$(window).scrollTop()<d.top+(e-50)-a.Top-(b.height()+a.ShowElementHeight))?(b.css("position","fixed").css("top",a.Top).css("left",c.left),a.ShowElement!=null&&$(a.ShowElement).show(),a.ContainerId=="micro-buttons-bars"&&(_heightContainer=b.height())):a.ContainerId=="directory-banner-container"&&$("#float-filter-container").length>0&&$(window).scrollTop()>$("#float-filter-container").offset().top&&$(window).scrollTop()<_topBanner?b.css("position","fixed").css("top",a.Top).css("left",c.left):(b.css("position",""),b.css("top",""),b.css("left",""),a.ShowElement!=null&&$(a.ShowElement).hide()):$(window).scrollTop()>c.top&&(d==null||$(window).scrollTop()<d.top-_heightContainer)?(b.css("position","fixed").css("top",a.Top).css("left",c.left),a.ShowElement!=null&&$(a.ShowElement).show()):(b.css("position",""),b.css("top",""),b.css("left",""),a.ShowElement!=null&&$(a.ShowElement).hide())})}}function DropDownCategoryHelper(){var a=this;a.IsHover=!1,a.CategoryId="",a.BtnCategoryId="",a.CheckHover=function(){$("#"+a.CategoryId+","+"#"+a.BtnCategoryId).hover(function(){a.IsHover=!0},function(){a.IsHover=!1}),$("body").mouseup(function(){a.IsHover||$("#"+a.CategoryId).hide()})},a.Init=function(b){a.CategoryId=b.categoryId,a.BtnCategoryId=b.btnCategoryId,$("#"+a.BtnCategoryId).click(function(){$("#"+a.CategoryId).is(":visible")?$("#"+a.CategoryId).hide():$("#"+a.CategoryId).show()}),a.CheckHover()}}function DropDownCategoryHelper2(){var a=this;a.IsHover=!1,a.ElementBtnCategory="",a.ElementCategory="",a.CheckHover=function(){$(a.ElementBtnCategory).hover(function(){a.IsHover=!0},function(){a.IsHover=!1}),$(a.ElementCategory).hover(function(){a.IsHover=!0},function(){a.IsHover=!1}),$("body").mouseup(function(){a.IsHover||$(a.ElementCategory).hide()})},a.Init=function(b){a.ElementBtnCategory=b.btnCategory,a.ElementCategory=$(a.ElementBtnCategory).next()[0],$(a.ElementBtnCategory).click(function(){$(a.ElementCategory).is(":visible")?$(a.ElementCategory).hide():$(a.ElementCategory).show()}),a.CheckHover()}}function DropDownCategoryHelper3(){var a=this;a.IsHover=!1,a.ElementBtnCategory="",a.ElementCategory="",a.ClickBtnToClose=!1,a.IsFirst=!0,a.CheckHover=function(){a.ClickBtnToClose&&$(a.ElementBtnCategory).hover(function(){a.IsHover=!0},function(){a.IsHover=!1}),$(a.ElementCategory).hover(function(){a.IsHover=!0},function(){a.IsHover=!1}),$("body").mouseup(function(){a.IsHover||$(a.ElementCategory).hide()})},a.Init=function(b){a.ElementBtnCategory=b.btnCategory,a.ElementCategory=b.category,a.ClickBtnToClose=b.clickBtnToClose==0?!1:!0,$(a.ElementBtnCategory).click(function(){$(a.ElementCategory).is(":visible")?$(a.ElementCategory).hide():(a.IsFirst&&($(a.ElementBtnCategory).attr("id")=="pkeywords"&&$(".suggestion-box .advertising").each(function(){var a=$(this).data("name");ga("ads.send","event","Suggestion Box","Impression",a)}),a.IsFirst=!1),$("#fdDlgSearchFilter").is(":visible")?$(a.ElementCategory).hide():$(a.ElementCategory).show())}),a.CheckHover(),$(".search-bar-top .suggestion-box .sug-box-tabs").custabs()}}function getCurrentLocation(){navigator&&navigator.geolocation&&navigator.geolocation.getCurrentPosition(function(a){smallMapModel.lat(a.coords.latitude),smallMapModel.long(a.coords.longitude),smallMapModel.loadData(1,!1),smallMapModel.showMap(!0),$.cookie("ulat",a.coords.latitude,{expires:360}),$.cookie("ulon",a.coords.longitude,{expires:360})},function(){alert("Trình duyệt của bạn không hỗ trợ xác định vị trí hiện tại!")})}var CommonHelper={ConvertJsonDate:function(a){var b=new Date(parseInt(a.substr(6)));return CountryId==76&&LanguageId==1&&b.setFullYear(b.getFullYear()+543),b},AjaxLoading:function(a,b,c){if(c==null||c=="")c="loadingImageDiv";$("#"+c).show(),a!=null&&(a.IsExecuting=!0),b!=null&&b!=""&&$("#"+b).fadeTo("slow",.3)},StopAjaxLoading:function(a,b,c){if(c==null||c=="")c="loadingImageDiv";$("#"+c).hide(),a!=null&&(a.IsExecuting=!1),b!=null&&b!=""&&$("#"+b).fadeTo("slow",1)},GetGenderEnum:function(a){switch(a){case"M":return"1";case"F":return"2";default:return"1"}},InviteFriend:function(a){angular.element('div[ng-controller="HelperCtrl"]').scope().ShowDlgLogin(function(b){b.LoggedIn&&(window.location.href=a)})},Linkify:function(a,b,c){var d={linkClass:"qa-out-link",targetBlank:!0,noFollow:!0};d=$.extend(d,c),b=b.replace(/\u200B/g,"");var e=/(name="[.\\/#a-zA-Z0-9\\(]*|id="[#a-zA-Z0-9\(]*|src="[#a-zA-Z0-9\\(]*|href="[#a-zA-Z0-9\(]*|">|\s>)?(https?|ftp):\/\/[-A-Z0-9+&@#\/%?=~_|!:,.;Ã¯]*[-A-Z0-9+&@#\/%=~_|Ã¯]/gim,f=b.replace(e,function(a,b){return b?a:'<a class="'+d.linkClass+'" href="'+a+'"'+(d.targetBlank?' target="_blank"':"")+(d.noFollow?a.indexOf("www.foody.vn")!==-1?"":' rel="nofollow"':"")+">"+a+"</a>"});return f},GetSelectedTopMenu:function(a,b){a=a.toLowerCase(),b=b.toLowerCase();var c=document.URL;$(".nav-place a").each(function(){var d=$(this).attr("href"),e=$(this).data("type");d!=null&&d!=""?(d=d.toLowerCase(),c.endsWith(d)?$(this).addClass("current"):e==a&&$(this).addClass("current")):a=="directory"&&$(this).attr("class")=="places"&&b!="nearby"&&$(this).addClass("current")});if(a=="restaurant")var d=CommonHelper.StripQueryStringAndHashFromPath(document.URL)},GetEnVietnammmUrl:function(a){return a.replace("http://www.vietnammm.com/restaurants/","http://www.vietnammm.com/en/restaurants/")},HasKoBinding:function(a){return!!ko.dataFor(document.getElementById(a))},KoFromArrJs:function(a){for(var b=0;b<a.length;b++){var c=a[b];a[b]=ko.mapping.fromJS(c)}return a},GetPathFromUrl:function(a){return a.split("?")[0]},StripQueryStringAndHashFromPath:function(a){return a.split("?")[0].split("#")[0]},InitNavPlaceMenu:function(){$("ul.nav-place-menu > li").each(function(){var a=$(this).find(".menu-frame");if(a.length>0){var b=new DropDownCategoryHelper3;b.Init({btnCategory:this,category:a[0]})}})},ScrollTo:function(a,b,c){b==null&&(b=50),c==null&&(c=500),$("html, body").animate({scrollTop:$(a).offset().top-b},c)},ScrollToElement:function(a,b,c){b==null&&(b=50),c==null&&(c=500),$("html, body").animate({scrollTop:a.offset().top-b},c)},PaddingTopMaps:function(){},PaddingTopHeader:function(a){a=a?a:0;var b=70+a;$("#banner-header-top").length>0&&(b=150+a),document.getElementById("checkBanner")&&(b=20+a,document.getElementById("banner-header-top")&&(b=80+a)),$("#nav-place-container").css("margin-top","0px"),$("#tab-video-index").css("margin-top",b+"px")},ShowButtonBackTop:function(){$("#btn-back-top").click(function(){$(window).scrollTop(0)});var a=null;$(window).scroll(function(){a&&window.clearTimeout(a),a=setTimeout(function(){$(window).scrollTop()>300?$(".fd-back-top").show():$(".fd-back-top").hide()},50)})},NoScriptTag:function(a){if(typeof a!="undefined")return a=a.replace(/[><"]/g,""),a},NoTag:function(a){if(typeof a!="undefined")return a=a.replace(/[><]/g,""),a}},_flagTopBanner=0,_topBanner=0,_heightContainer=0;$.fn.fixedAds=function(a){var b=new FixedAdsHelper,c={top:10,edgeSelector:null,showElement:null,showElementHeight:0,isStopAtEdge:!1,edgeSelectorAutoHeight:null};a=$.extend({},c,a),b.ContainerId=this.attr("id"),b.Top=a.top,b.EdgeSelector=a.edgeSelector,b.ShowElement=a.showElement,b.ShowElementHeight=a.showElementHeight,b.EdgeSelectorAutoHeight=a.edgeSelectorAutoHeight,b.IsStopAtEdge=a.isStopAtEdge,b.Excute()},$.fn.doLinks=function(a,b){this.each(function(){$(this).html(CommonHelper.Linkify(a,$(this).html(),b))})},typeof String.prototype.startsWith!="function"&&(String.prototype.startsWith=function(a){return this.indexOf(a)==0}),String.prototype.endsWith=function(a){return this.indexOf(a,this.length-a.length)!==-1},Date.prototype.addHours=function(a){return this.setHours(this.getHours()+a),this},String.prototype.replaceAll=function(a,b){var c=this,d=c.indexOf(a);while(d!=-1)c=c.replace(a,b),d=c.indexOf(a);return c},Date.isLeapYear=function(a){return a%4===0&&a%100!==0||a%400===0},Date.getDaysInMonth=function(a,b){return[31,Date.isLeapYear(a)?29:28,31,30,31,30,31,31,30,31,30,31][b]},Date.prototype.isLeapYear=function(){var a=this.getFullYear();return a%4===0&&a%100!==0||a%400===0},Date.prototype.getDaysInMonth=function(){return Date.getDaysInMonth(this.getFullYear(),this.getMonth())},Date.prototype.addMonths=function(a){var b=this.getDate();return this.setDate(1),this.setMonth(this.getMonth()+a),this.setDate(Math.min(b,this.getDaysInMonth())),this},$.fn.addBack=function(a){return this.add(a==null?this.prevObject:this.prevObject.filter(a))},String.prototype.digits=function(){return this.replace(/(\d)(?=(\d\d\d)+(?!\d))/g,"$1,")},$.fn.digits=function(){return this.each(function(){$(this).is("input:text")?$(this).val($(this).val().replace(/(\d)(?=(\d\d\d)+(?!\d))/g,"$1,")):$(this).text($(this).text().replace(/(\d)(?=(\d\d\d)+(?!\d))/g,"$1,"))})},$(function(){CommonHelper.InitNavPlaceMenu(),$("#restricted-res-container").hide();var a=window.CountryId?window.CountryId=="86"?30:0:0;CommonHelper.PaddingTopHeader(a),CommonHelper.PaddingTopMaps(),CommonHelper.ShowButtonBackTop()})
;function PopupSocialEmailSharingModel(){var a=this;a.ContainerId,a.Link,a.ImageUrl,a.BannerImageUrl,a.ShowPopup=function(){a.ImageUrl!=null&&a.ImageUrl!=""?($("#"+a.ContainerId+" .popup-social-email-sharing-image").show(),$("#"+a.ContainerId+" .popup-social-email-sharing-email").hide(),$("#"+a.ContainerId+" .popup-social-email-sharing-txt-img").val("[URL="+a.Link+"][IMG]"+a.ImageUrl+"[/IMG][/URL]"),$("#"+a.ContainerId+" .popup-social-email-sharing-txt-html").val('<a href="'+a.Link+'" target="_blank"><img src="'+a.ImageUrl+'" border="0"/></a>')):($("#"+a.ContainerId+" .popup-social-email-sharing-image").hide(),$("#"+a.ContainerId+" .popup-social-email-sharing-email").show()),$.modal.close(),$("#"+a.ContainerId).modal({persist:!0,onClose:function(){isNaN(a.FoodyBoxDataId)?$.modal.close():angular.element('div[ng-controller="HelperCtrl"]').scope().ShowDlgLogin(function(b){b.LoggedIn&&foodyBox_2_0.Init({dataId:a.FoodyBoxDataId,dataGroup:a.FoodyBoxDataGroup})})}}),$("#simplemodal-container").css("width","400px"),$("#simplemodal-container").css("height","auto"),$("#simplemodal-container").css("background-color","#F9F9F9"),$(window).resize()},a.EmailSharing=function(){var b=$("#"+a.ContainerId+" form");if(b.valid()){var c={FromName:$("#FromName").val(),ToEmail:$("#ToEmail").val(),Content:$("#PopupSocialEmailSharing_Content").val(),Link:a.Link,BannerImageUrl:a.BannerImageUrl},d={emailSharing:c};$.ajax({url:"/Common/EmailSharing",data:JSON.stringify(d),type:"POST",contentType:"application/json",success:function(a){a.Message==null||a.Message==""?(alert("Cảm ơn bạn đã chia sẻ thông tin cùng bạn bè."),$.modal.close()):alert(a.Message)}})}},a.Init=function(){$("#"+a.ContainerId+" .btn-email-sharing").click(function(){a.EmailSharing()}),a.ShowPopup()}}$.fn.popupSocialEmailSharing=function(a){var b=new PopupSocialEmailSharingModel,c={};a=$.extend({},c,a),b.ContainerId=this.attr("id"),b.Link=a.link,b.ImageUrl=a.imageUrl,b.FoodyBoxDataId=a.foodyBoxDataId,b.FoodyBoxDataGroup=a.foodyBoxDataGroup,b.BannerImageUrl=a.bannerImageUrl!=null&&a.bannerImageUrl!=""?a.bannerImageUrl:"http://media.foody.vn/images/banner-invitation(1).jpg",b.Init()}
;var AddWishListPopupModel=function(){function b(){a.IsLoadingRes(!0);var b=(new Date).getTime();$.get("/__get/Restaurant/GetSummary?t="+b,{resId:a.restaurantId()},function(b){if(!b||!b.Restaurant)return;a.ResSummary(b),setTimeout(function(){var a=$("#addWishListPopup .fldr-rating .range");a.each(function(){var a=$(this).data("val");$(this).progressbar({value:a*10})})},500),a.IsLoadingRes(!1)})}var a=this;a.popupContainer="#addWishListPopup",a.baseUrl=ko.observable(""),a.appendToLists=function(b){b!=null&&a.lists.push({Title:b.Title,Id:b.Id,IsCore:!1,Name:b.Name,RestaurantId:ko.observable(b.RestaurantId),Url:b.Url,TotalItems:ko.observable(b.TotalItems)})},a.searchTitle=ko.observable(""),a.searchTitleChange=function(){var b=$(a.popupContainer+" .txt-search-title").val();a.searchTitle(b)},a.clearTitle=function(){$(a.popupContainer+" .txt-search-title").val(""),a.searchTitle("")},a.lists=ko.observableArray([]),a.saveToList=function(){},a.isLoading=ko.observable(!1),a.IsLoadingRes=ko.observable(!0),a.includeCore=!0,a.ResSummary=ko.observable({Restaurant:{AvgRating:0},AvgReview:{Total:0,TotalPerfect:0,TotalGood:0,TotalAvg:0,TotalBad:0},Rating:[]}),a.OpenDlgWriteReview=function(){var b=a.restaurantId();$.modal.close(),UploadReview.LoadAddNewReviewForm(b,function(){RestaurantReviewsModel.Remove(b),RestaurantReviewsModel.ShowPopup(b)},function(){RestaurantReviewsModel.Clear(),RestaurantReviewsModel.ShowPopup(b)})},a.loadList=function(){if(!a.isLoading()){a.lists.removeAll(),a.isLoading(!0);var c=new Date,d="/__get/list/getcustomlistbyrestaurant/";$.getJSON(d,{userId:0,restaurantId:a.restaurantId(),includeCore:a.includeCore,t:c.getTime()},function(c){if(c.success){for(var d=0;d<c.data.length;d++)a.appendToLists(c.data[d]);a.isLoading(!1),b()}else a.isLoading(!1)})}},a.restaurantId=ko.observable(0),a.LoadedSaveSlide=ko.observable(window.LoadedSaveSlide==undefined?!1:window.LoadedSaveSlide),a.showAddListPopup=function(){angular.element('div[ng-controller="HelperCtrl"]').scope().ShowDlgLogin(function(b){if(b.LoggedIn){var c=new Date,d={persist:!0,onShow:function(){$("#simplemodal-container").css("width","970px"),$("#simplemodal-container").css("height","515px"),$("#simplemodal-container").css("background-color","#F9F9F9"),a.LoadedSaveSlide()==0&&($(".save-popup-ads .bxslider").bxSlider({mode:"fade",captions:!1,auto:!0,useCSS:!1,pager:!1,controls:!1}),window.LoadedSaveSlide=!0,a.LoadedSaveSlide(!0)),$(window).resize(),a.setCssHasAds()}};$.modal.close(),$(a.popupContainer).modal(d),a.loadList()}});return},a.createNewList=function(){$.modal.close(),popupEditList.Show({RestaurantId:a.restaurantId()},function(b){popupEditList.Close(),a.endSavingList(b)},function(b){a.showAddListPopup()})},a.toggleSelection=function(b,c){c.preventDefault();var d=b.Name,e="";b.RestaurantId()==a.restaurantId()?(d="remove",b.RestaurantId(null)):b.RestaurantId(a.restaurantId()),$.post("/__post/List/WishlistItemAction",{listId:b.Id,restaurantId:a.restaurantId(),type:d,action:e},function(){for(var c=0;c<a.lists().length;c++){var e=a.lists()[c];if(e.Id==b.Id){d!="remove"&&window.fbq&&window.fbq("track","AddToWishlist",{content_ids:e.Id,content_name:e.Title});break}}d!="remove"?(b.TotalItems(b.TotalItems()+1),a.targetControl().addClass("added")):(b.TotalItems(b.TotalItems()-1),a.targetControl().removeClass("added"))})},a.prepareCreateForm=function(){if(!a.isLoading()){a.isLoading(!0);var b=$("#wishListFormWrapper");$.modal.close(),b.show(),b.modal({minHeight:330,autoResize:!0,overlayClose:!0}),$.ajax({type:"POST",url:"/__post/List/WishlistForm",data:{restaurantId:a.restaurantId()},success:function(c){b.html(c),postWishlistCallback=a.endSavingList,a.isLoading(!1)}})}},a.endSavingList=function(b){if(b!=null){postWishlistCallback=null,a.appendAfterSaving(b);var c=$("#wishListFormWrapper");c.hide(),$.modal.close(),a.targetControl().addClass("added"),a.showAddListPopup()}},a.setCssHasAds=function(a){var b=$("#banner-ads").children().length;b>0&&($(".simplemodal-close ").css("top","-65px"),$(".simplemodal-container").css("top","90px"))},a.appendAfterSaving=function(b){b!=null&&(a.lists.push({Title:b.Title,Id:b.Id,IsCore:!1,Name:b.Name,RestaurantId:ko.observable(a.restaurantId()),Url:ko.computed(function(){return a.baseUrl()+"#"+b.Name}),TotalItems:ko.observable(b.TotalItems)}),window.fbq&&window.fbq("track","AddToWishlist",{content_ids:b.Id,content_name:b.Name}))},a.targetControl=ko.observable()},addWishListPopupModel=new AddWishListPopupModel;$(function(){$("#addWishListPopup").length>0&&(ko.applyBindings(addWishListPopupModel,document.getElementById("addWishListPopup")),$("a.tool-custom-list-add").live("click",function(a){addWishListPopupModel.targetControl($(this)),addWishListPopupModel.includeCore=$(this).attr("data-core")?$(this).attr("data-core"):!0,addWishListPopupModel.showAddListPopup(),addWishListPopupModel.restaurantId($(this).attr("data-id"))}))})
;(function(a){"use strict",a.fn.bjqs=function(b){var c={width:700,height:300,animtype:"fade",animduration:450,animspeed:4e3,automatic:!0,showcontrols:!0,centercontrols:!0,nexttext:"Next",prevtext:"Prev",showmarkers:!0,centermarkers:!0,keyboardnav:!0,hoverpause:!0,usecaptions:!0,randomstart:!1,responsive:!1},d=a.extend({},c,b),e=this,f=e.find("ul.bjqs"),g=f.children("li"),h=null,i=null,j=null,k=null,l=null,m=null,n=null,o=null,p={slidecount:g.length,animating:!1,paused:!1,currentslide:1,nextslide:0,currentindex:0,nextindex:0,interval:null},q={width:null,height:null,ratio:null},r={fwd:"forward",prev:"previous"},s=function(){g.addClass("bjqs-slide"),d.responsive?t():v(),p.slidecount>1?(d.randomstart&&C(),d.showcontrols&&x(),d.showmarkers&&y(),d.keyboardnav&&z(),d.hoverpause&&d.automatic&&A(),d.animtype==="slide"&&w()):d.automatic=!1,d.usecaptions&&B(),d.animtype==="slide"&&!d.randomstart&&(p.currentindex=1,p.currentslide=2),f.show(),g.eq(p.currentindex).show(),d.automatic&&(p.interval=setInterval(function(){E(r.fwd,!1)},d.animspeed))},t=function(){q.width=e.outerWidth(),q.ratio=q.width/d.width,q.height=d.height*q.ratio,d.animtype==="fade"&&(g.css({height:d.height,width:"100%"}),g.children("img").css({height:d.height,width:"100%"}),f.css({height:d.height,width:"100%"}),e.css({height:d.height,"max-width":d.width,position:"relative"}),q.width<d.width&&(g.css({height:q.height}),g.children("img").css({height:q.height}),f.css({height:q.height}),e.css({height:q.height})),a(window).resize(function(){q.width=e.outerWidth(),q.ratio=q.width/d.width,q.height=d.height*q.ratio,g.css({height:q.height}),g.children("img").css({height:q.height}),f.css({height:q.height}),e.css({height:q.height})})),d.animtype==="slide"&&(g.css({height:d.height,width:d.width}),g.children("img").css({height:d.height,width:d.width}),f.css({height:d.height,width:d.width*d.slidecount}),e.css({height:d.height,"max-width":d.width,position:"relative"}),q.width<d.width&&(g.css({height:q.height}),g.children("img").css({height:q.height}),f.css({height:q.height}),e.css({height:q.height})),a(window).resize(function(){q.width=e.outerWidth(),q.ratio=q.width/d.width,q.height=d.height*q.ratio,g.css({height:q.height,width:q.width}),g.children("img").css({height:q.height,width:q.width}),f.css({height:q.height,width:q.width*d.slidecount}),e.css({height:q.height}),m.css({height:q.height,width:q.width}),u(function(){E(!1,p.currentslide)},200,"some unique string")}))},u=function(){var a={};return function(b,c,d){d||(d="Don't call this twice without a uniqueId"),a[d]&&clearTimeout(a[d]),a[d]=setTimeout(b,c)}}(),v=function(){g.css({height:d.height,width:d.width}),f.css({height:d.height,width:d.width}),e.css({height:d.height,width:d.width,position:"relative"})},w=function(){n=g.eq(0).clone(),o=g.eq(p.slidecount-1).clone(),n.attr({"data-clone":"last","data-slide":0}).appendTo(f).show(),o.attr({"data-clone":"first","data-slide":0}).prependTo(f).show(),g=f.children("li"),p.slidecount=g.length,m=a('<div class="bjqs-wrapper"></div>'),d.responsive&&q.width<d.width?(m.css({width:q.width,height:q.height,overflow:"hidden",position:"relative"}),f.css({width:q.width*(p.slidecount+2),left:-q.width*p.currentslide})):(m.css({width:d.width,height:d.height,overflow:"hidden",position:"relative"}),f.css({width:d.width*(p.slidecount+2),left:-d.width*p.currentslide})),g.css({"float":"left",position:"relative",display:"list-item"}),m.prependTo(e),f.appendTo(m)},x=function(){h=a('<ul class="bjqs-controls"></ul>'),i=a('<li class="bjqs-next"><a href="#" data-direction="'+r.fwd+'">'+d.nexttext+"</a></li>"),j=a('<li class="bjqs-prev"><a href="#" data-direction="'+r.prev+'">'+d.prevtext+"</a></li>"),h.on("click","a",function(b){b.preventDefault();var c=a(this).attr("data-direction");p.animating||(c===r.fwd&&E(r.fwd,!1),c===r.prev&&E(r.prev,!1))}),j.appendTo(h),i.appendTo(h),h.appendTo(e);if(d.centercontrols){h.addClass("v-centered");var b=(e.height()-i.children("a").outerHeight())/2,c=b/d.height*100,f=c+"%";i.find("a").css("top",f),j.find("a").css("top",f)}},y=function(){k=a('<ol class="bjqs-markers"></ol>'),a.each(g,function(b,c){var e=b+1,f=b+1;d.animtype==="slide"&&(f=b+2);var g=a('<li><a href="#">'+e+"</a></li>");e===p.currentslide&&g.addClass("active-marker"),g.on("click","a",function(a){a.preventDefault(),!p.animating&&p.currentslide!==f&&E(!1,f)}),g.appendTo(k)}),k.appendTo(e),l=k.find("li");if(d.centermarkers){k.addClass("h-centered");var b=(d.width-k.width())/2;k.css("left",b)}},z=function(){a(document).keyup(function(a){p.paused||(clearInterval(p.interval),p.paused=!0),p.animating||(a.keyCode===39?(a.preventDefault(),E(r.fwd,!1)):a.keyCode===37&&(a.preventDefault(),E(r.prev,!1))),p.paused&&d.automatic&&(p.interval=setInterval(function(){E(r.fwd)},d.animspeed),p.paused=!1)})},A=function(){e.hover(function(){p.paused||(clearInterval(p.interval),p.paused=!0)},function(){typeof videoIndexModel!="undefined"?p.paused&&!videoIndexModel.IsPlayedFeaturedVideo&&(p.interval=setInterval(function(){E(r.fwd,!1)},d.animspeed),p.paused=!1):p.paused&&(p.interval=setInterval(function(){E(r.fwd,!1)},d.animspeed),p.paused=!1)})},B=function(){a.each(g,function(b,c){var d=a(c).children("img:first-child").attr("title");d||(d=a(c).children("a").find("img:first-child").attr("title")),d&&(d=a('<p class="bjqs-caption">'+d+"</p>"),d.appendTo(a(c)))})},C=function(){var a=Math.floor(Math.random()*p.slidecount)+1;p.currentslide=a,p.currentindex=a-1},D=function(a){a===r.fwd?g.eq(p.currentindex).next().length?(p.nextindex=p.currentindex+1,p.nextslide=p.currentslide+1):(p.nextindex=0,p.nextslide=1):g.eq(p.currentindex).prev().length?(p.nextindex=p.currentindex-1,p.nextslide=p.currentslide-1):(p.nextindex=p.slidecount-1,p.nextslide=p.slidecount)},E=function(a,b){if(!p.animating){p.animating=!0,b?(p.nextslide=b,p.nextindex=b-1):D(a),d.animtype==="fade"&&(d.showmarkers&&(l.removeClass("active-marker"),l.eq(p.nextindex).addClass("active-marker")),g.eq(p.currentindex).fadeOut(d.animduration),g.eq(p.nextindex).fadeIn(d.animduration,function(){p.animating=!1,p.currentslide=p.nextslide,p.currentindex=p.nextindex}));if(d.animtype==="slide"){if(d.showmarkers){var c=p.nextindex-1;c===p.slidecount-2?c=0:c===-1&&(c=p.slidecount-3),l.removeClass("active-marker"),l.eq(c).addClass("active-marker")}d.responsive&&q.width<d.width?p.slidewidth=q.width:p.slidewidth=d.width,f.animate({left:-p.nextindex*p.slidewidth},d.animduration,function(){p.currentslide=p.nextslide,p.currentindex=p.nextindex,g.eq(p.currentindex).attr("data-clone")==="last"?(f.css({left:-p.slidewidth}),p.currentslide=2,p.currentindex=1):g.eq(p.currentindex).attr("data-clone")==="first"&&(f.css({left:-p.slidewidth*(p.slidecount-2)}),p.currentslide=p.slidecount-1,p.currentindex=p.slidecount-2),p.animating=!1})}}};s()}})(jQuery)
;function ShowBrandReward(a){rewardProccessModel.resultModel(null),rewardProccessModel.showRewardInfo(a)}function ShowRewardApplyResult(a){rewardProccessModel.submitModel(null),rewardProccessModel.showRewardResultInfo(a)}function ShowRewardIntro(a){$("#brand-reward-popup").modal({persist:!0}),rewardProccessModel.resultModel(null),rewardProccessModel.showRewardIntro(a)}function ShowSelectBanner(){$.modal.close(),$("#brand-reward-popup").modal({persist:!0}),rewardProccessModel.showBanners()}var WinnersModel=function(a){var b=this;b.winners=ko.observableArray(a.Winners),b.count=a.Count,b.lastId=a.LastId,b.total=a.TotalResult,b.totalRemaining=a.TotalResult-a.Count},UserResultInfoModel=function(a){var b=this;b.firstName=ko.observable(a.FirstName),b.lastName=ko.observable(a.LastName),b.userId=ko.observable(a.UserId),b.bannerId=ko.observable(a.BannerId),b.isWin=ko.observable(a.IsWin),b.prize=ko.observable(a.Prize),b.totalTriesText=ko.observable(a.TotalTriesText)},UserSubmitInfoModel=function(a){var b=this;b.firstName=ko.observable(a.FirstName),b.lastName=ko.observable(a.LastName),b.userId=ko.observable(a.UserId),b.address=ko.observable(a.Address),b.phone=ko.observable(a.Phone),b.email=ko.observable(a.Email),b.bannerId=ko.observable(a.BannerId),b.hasEmail=a.HasEmail,b.totalTriesText=ko.observable(a.TotalTriesText),b.firstNameValid=ko.computed(function(){return b.firstName()!=null&&$.trim(b.firstName())!=""}),b.lastNameValid=ko.computed(function(){return b.lastName()!=null&&$.trim(b.lastName())!=""}),b.addressValid=ko.computed(function(){return b.address()!=null&&$.trim(b.address())!=""}),b.phoneValid=ko.computed(function(){return b.phone()!=null&&$.trim(b.phone())!=""}),b.emailValid=ko.computed(function(){var a=/^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}$/,c=!0;return a.test(b.email())||(c=!1),b.email()!=null&&$.trim(b.email())!=""&&c}),b.issubmiting=ko.observable(!1),b.submit=function(){if(!b.issubmiting()){b.issubmiting(!0);if(b.firstNameValid()&&b.lastNameValid()&&b.addressValid()&&b.phoneValid()&&(b.hasEmail||!b.hasEmail&&b.emailValid())){var a={FirstName:b.firstName(),LastName:b.lastName(),UserId:b.userId(),Address:b.address(),Phone:b.phone(),Email:b.email(),BannerId:b.bannerId()};$.ajax({type:"POST",url:"/Reward/BrandRewardUserSubmit",data:a,success:function(a){a.success?(ShowRewardApplyResult(a.data),b.issubmiting(!1)):(a.errorCode==12&&alert(ErrorText.Email_Exist),b.issubmiting(!1))}})}}}},BrandRewardSubmitModel=function(a){var b=this;a.Prizes!=null&&(b.prizes=ko.observableArray(a.Prizes)),b.bannerInfo=ko.observable(a.BannerInfo),a.Winners!=null&&(b.winners=ko.observable(new WinnersModel(a.Winners))),a.User!=null&&(b.user=ko.observable(new UserSubmitInfoModel(a.User))),b.isLoading=ko.observable(!1)},BrandRewardApplyResultModel=function(a){var b=this;b.prizes=ko.observableArray(a.Prizes),b.bannerInfo=ko.observable(a.BannerInfo),b.winners=ko.observable(new WinnersModel(a.Winners)),b.user=ko.observable(new UserResultInfoModel(a.User)),b.isLoading=ko.observable(!1)},BrandRewardProcessModel=function(){var a=this;a.submitModel=ko.observable(null),a.resultModel=ko.observable(null),a.isLoading=ko.observable(!1),a.hasError=ko.observable(!1),a.errorText=ko.observable(""),a.template=ko.observable("1"),a.isMaxTries=ko.observable(!1),a.showRewardInfo=function(b){a.isShowSelectedBanner(!1),a.Login(function(){$("#brand-reward-popup").modal({persist:!0}),a.isShowIntro(!1),a.submitModel(null),a.hasError(!1),a.errorText(""),a.isMaxTries(!1);if(!a.isLoading()){a.isLoading(!0);var c=new Date;$.get("/reward/GetRewardInfo/"+b+"?d="+c.getTime(),function(b){a.template(b.template),b.success?(a.submitModel(new BrandRewardSubmitModel(b.data)),$("#simplemodal-container").css("height","424px"),$(window).resize(),a.isLoading(!1)):(a.isLoading(!1),b.errorCode==9&&(a.hasError(!0),a.isMaxTries(!0),a.submitModel(new BrandRewardSubmitModel(b.data))))})}})},a.showRewardResultInfo=function(b){a.isShowSelectedBanner(!1);if(!a.isLoading()){a.isLoading(!0);var c=new Date;$.get("/reward/GetRewardResult?transId="+b+"&d="+c.getTime(),function(b){b.success?(a.template(b.data.Template),a.resultModel(new BrandRewardApplyResultModel(b.data)),a.isLoading(!1)):(a.isLoading(!1),a.hasError(!0))})}},a.isShowIntro=ko.observable(!1),a.bannerInfo=ko.observable(),a.showRewardIntro=function(b){a.isShowSelectedBanner(!1);if(!a.isLoading()){a.isLoading(!0);var c=new Date;$.get("/reward/GetBannerInfo/"+b+"?d="+c.getTime(),function(b){b.success?(a.template(b.data.Template),a.bannerInfo(b.data),a.isShowIntro(!0),a.isLoading(!1)):a.isLoading(!1)})}},a.goToReward=function(b,c){a.bannerInfo&&a.showRewardInfo(a.bannerInfo().Id)},a.Login=function(a){angular.element('div[ng-controller="HelperCtrl"]').scope().ShowDlgLogin(function(b){b.LoggedIn&&($.modal.close(),a())})},a.banners=ko.observableArray([]),a.isShowSelectedBanner=ko.observable(!0),a.showBanners=function(){if(!a.isLoading()){a.isLoading(!0);var b=new Date;$.get("/reward/GetClickBanners?t="+b.getTime(),function(b){a.isShowSelectedBanner(!0),a.banners(b.data),a.isLoading(!1)})}},a.bannerClick=function(b){a.showRewardInfo(b.Id)},a.retry=function(){ShowBrandReward(a.resultModel().bannerInfo().Id)}},rewardProccessModel=new BrandRewardProcessModel;$(function(){$("#banner-list").bjqs({height:250,width:300,responsive:!0,showmarkers:!0,centermarkers:!0,showcontrols:!1,centercontrols:!1,animduration:1e3,animspeed:4e3}),$("#get-reward-proccess").length&&ko.applyBindings(rewardProccessModel,document.getElementById("get-reward-proccess"));if(window.location.hash.indexOf("#clickbanner-")==0){var a=parseInt(window.location.hash.substr(13,window.location.hash.length-13));a>0&&ShowRewardIntro(a)}$(".banner-select").click(function(){ShowSelectBanner()})}),$(".brand-reward").live("click",function(){var a=$(this).attr("refid");ShowBrandReward(a)})
;(function(a){function b(a){var b={};if(a.selectionStart===undefined){a.focus();var c=document.selection.createRange();b.length=c.text.length,c.moveStart("character",-a.value.length),b.end=c.text.length,b.start=b.end-b.length}else b.start=a.selectionStart,b.end=a.selectionEnd,b.length=b.end-b.start;return b}function c(a,b,c){if(a.selectionStart===undefined){a.focus();var d=a.createTextRange();d.collapse(!0),d.moveEnd("character",c),d.moveStart("character",b),d.select()}else a.selectionStart=b,a.selectionEnd=c}function d(b,c){a.each(c,function(a,d){typeof d=="function"?c[a]=d(b,c,a):typeof b.autoNumeric[d]=="function"&&(c[a]=b.autoNumeric[d](b,c,a))})}function e(a,b){typeof a[b]=="string"&&(a[b]*=1)}function f(a,b){d(a,b),b.oEvent=null,b.tagList=["B","CAPTION","CITE","CODE","DD","DEL","DIV","DFN","DT","EM","H1","H2","H3","H4","H5","H6","INS","KDB","LABEL","LI","OUTPUT","P","Q","S","SAMPLE","SPAN","STRONG","TD","TH","U","VAR"];var c=b.vMax.toString().split("."),f=!b.vMin&&b.vMin!==0?[]:b.vMin.toString().split(".");e(b,"vMax"),e(b,"vMin"),e(b,"mDec"),b.allowLeading=!0,b.aNeg=b.vMin<0?"-":"",c[0]=c[0].replace("-",""),f[0]=f[0].replace("-",""),b.mInt=Math.max(c[0].length,f[0].length,1);if(b.mDec===null){var g=0,h=0;c[1]&&(g=c[1].length),f[1]&&(h=f[1].length),b.mDec=Math.max(g,h)}b.altDec===null&&b.mDec>0&&(b.aDec==="."&&b.aSep!==","?b.altDec=",":b.aDec===","&&b.aSep!=="."&&(b.altDec="."));var i=b.aNeg?"([-\\"+b.aNeg+"]?)":"(-?)";b.aNegRegAutoStrip=i,b.skipFirstAutoStrip=new RegExp(i+"[^-"+(b.aNeg?"\\"+b.aNeg:"")+"\\"+b.aDec+"\\d]"+".*?(\\d|\\"+b.aDec+"\\d)"),b.skipLastAutoStrip=new RegExp("(\\d\\"+b.aDec+"?)[^\\"+b.aDec+"\\d]\\D*$");var j="-"+b.aNum+"\\"+b.aDec;return b.allowedAutoStrip=new RegExp("[^"+j+"]","gi"),b.numRegAutoStrip=new RegExp(i+"(?:\\"+b.aDec+"?(\\d+\\"+b.aDec+"\\d+)|(\\d*(?:\\"+b.aDec+"\\d*)?))"),b}function g(a,b,c){if(b.aSign)while(a.indexOf(b.aSign)>-1)a=a.replace(b.aSign,"");a=a.replace(b.skipFirstAutoStrip,"$1$2"),a=a.replace(b.skipLastAutoStrip,"$1"),a=a.replace(b.allowedAutoStrip,""),b.altDec&&(a=a.replace(b.altDec,b.aDec));var d=a.match(b.numRegAutoStrip);a=d?[d[1],d[2],d[3]].join(""):"";if((b.lZero==="allow"||b.lZero==="keep")&&c!=="strip"){var e=[],f="";e=a.split(b.aDec),e[0].indexOf("-")!==-1&&(f="-",e[0]=e[0].replace("-","")),e[0].length>b.mInt&&e[0].charAt(0)==="0"&&(e[0]=e[0].slice(1)),a=f+e.join(b.aDec)}if(c&&b.lZero==="deny"||c&&b.lZero==="allow"&&b.allowLeading===!1){var g="^"+b.aNegRegAutoStrip+"0*(\\d"+(c==="leading"?")":"|$)");g=new RegExp(g),a=a.replace(g,"$1$2")}return a}function h(a,b,c){return b=b.split(","),c==="set"||c==="focusout"?(a=a.replace("-",""),a=b[0]+a+b[1]):(c==="get"||c==="focusin"||c==="pageLoad")&&a.charAt(0)===b[0]&&(a=a.replace(b[0],"-"),a=a.replace(b[1],"")),a}function i(a,b,c){if(b&&c){var d=a.split(b);d[1]&&d[1].length>c&&(c>0?(d[1]=d[1].substring(0,c),a=d.join(b)):a=d[0])}return a}function j(a,b,c){return b&&b!=="."&&(a=a.replace(b,".")),c&&c!=="-"&&(a=a.replace(c,"-")),a.match(/\d/)||(a+="0"),a}function k(a,b){var c=a.indexOf("."),d=+a;if(c!==-1)if(d<1e-6&&d>-1)a=+a,a<1e-6&&a>0&&(a=(a+10).toString(),a=a.substring(1)),a<0&&a>-1&&(a=(a-10).toString(),a="-"+a.substring(2)),a=a.toString();else{var e=a.split(".");e[1]!==undefined&&(+e[1]===0?a=e[0]:(e[1]=e[1].replace(/0*$/,""),a=e.join(".")))}return b.lZero==="keep"?a:a.replace(/^0*(\d)/,"$1")}function l(a,b,c){return c&&c!=="-"&&(a=a.replace("-",c)),b&&b!=="."&&(a=a.replace(".",b)),a}function m(b,c){b=g(b,c),b=i(b,c.aDec,c.mDec),b=j(b,c.aDec,c.aNeg);var d=+b;return c.oEvent==="set"&&(d<c.vMin||d>c.vMax)&&a.error("The value ("+d+") from the 'set' method falls outside of the vMin / vMax range"),d>=c.vMin&&d<=c.vMax}function n(a,b,c){return a===""||a===b.aNeg?b.wEmpty==="zero"?a+"0":b.wEmpty==="sign"||c?a+b.aSign:a:null}function o(a,b){a=g(a,b);var c=a.replace(",","."),d=n(a,b,!0);if(d!==null)return d;var e="";b.dGroup===2?e=/(\d)((\d)(\d{2}?)+)$/:b.dGroup===4?e=/(\d)((\d{4}?)+)$/:e=/(\d)((\d{3}?)+)$/;var f=a.split(b.aDec);b.altDec&&f.length===1&&(f=a.split(b.altDec));var i=f[0];if(b.aSep)while(e.test(i))i=i.replace(e,"$1"+b.aSep+"$2");b.mDec!==0&&f.length>1?(f[1].length>b.mDec&&(f[1]=f[1].substring(0,b.mDec)),a=i+b.aDec+f[1]):a=i;if(b.aSign){var j=a.indexOf(b.aNeg)!==-1;a=a.replace(b.aNeg,""),a=b.pSign==="p"?b.aSign+a:a+b.aSign,j&&(a=b.aNeg+a)}return b.oEvent==="set"&&c<0&&b.nBracket!==null&&(a=h(a,b.nBracket,b.oEvent)),a}function p(a,b){a=a===""?"0":a.toString(),e(b,"mDec");var c="",d=0,f="",g=typeof b.aPad=="boolean"||b.aPad===null?b.aPad?b.mDec:0:+b.aPad,h=function(a){var b=g===0?/(\.[1-9]*)0*$/:g===1?/(\.\d[1-9]*)0*$/:new RegExp("(\\.\\d{"+g+"}[1-9]*)0*$");return a=a.replace(b,"$1"),g===0&&(a=a.replace(/\.$/,"")),a};a.charAt(0)==="-"&&(f="-",a=a.replace("-","")),a.match(/^\d/)||(a="0"+a),f==="-"&&+a===0&&(f="");if(+a>0&&b.lZero!=="keep"||a.length>0&&b.lZero==="allow")a=a.replace(/^0*(\d)/,"$1");var i=a.lastIndexOf("."),j=i===-1?a.length-1:i,k=a.length-1-j;if(k<=b.mDec){c=a;if(k<g){i===-1&&(c+=".");while(k<g){var l="000000".substring(0,g-k);c+=l,k+=l.length}}else k>g?c=h(c):k===0&&g===0&&(c=c.replace(/\.$/,""));return f+c}var m=i+b.mDec,n=+a.charAt(m+1),o=a.substring(0,m+1).split(""),p=a.charAt(m)==="."?a.charAt(m-1)%2:a.charAt(m)%2;if(n>4&&b.mRound==="S"||n>4&&b.mRound==="A"&&f===""||n>5&&b.mRound==="A"&&f==="-"||n>5&&b.mRound==="s"||n>5&&b.mRound==="a"&&f===""||n>4&&b.mRound==="a"&&f==="-"||n>5&&b.mRound==="B"||n===5&&b.mRound==="B"&&p===1||n>0&&b.mRound==="C"&&f===""||n>0&&b.mRound==="F"&&f==="-"||n>0&&b.mRound==="U")for(d=o.length-1;d>=0;d-=1)if(o[d]!=="."){o[d]=+o[d]+1;if(o[d]<10)break;d>0&&(o[d]="0")}return o=o.slice(0,m+1),c=h(o.join("")),+c===0?c:f+c}function q(b,c){this.settings=c,this.that=b,this.$that=a(b),this.formatted=!1,this.settingsClone=f(this.$that,this.settings),this.value=b.value}function r(b){return typeof b=="string"&&(b=b.replace(/\[/g,"\\[").replace(/\]/g,"\\]"),b="#"+b.replace(/(:|\.)/g,"\\$1")),a(b)}function s(a,b,c){var d=a.data("autoNumeric");d||(d={},a.data("autoNumeric",d));var e=d.holder;if(e===undefined&&b||c)e=new q(a.get(0),b),d.holder=e;return e}"use strict",q.prototype={init:function(a){this.value=this.that.value,this.settingsClone=f(this.$that,this.settings),this.ctrlKey=a.ctrlKey,this.cmdKey=a.metaKey,this.shiftKey=a.shiftKey,this.selection=b(this.that);if(a.type==="keydown"||a.type==="keyup")this.kdCode=a.keyCode;this.which=a.which,this.processed=!1,this.formatted=!1},setSelection:function(a,b,d){a=Math.max(a,0),b=Math.min(b,this.that.value.length),this.selection={start:a,end:b,length:b-a},(d===undefined||d)&&c(this.that,a,b)},setPosition:function(a,b){this.setSelection(a,a,b)},getBeforeAfter:function(){var a=this.value,b=a.substring(0,this.selection.start),c=a.substring(this.selection.end,a.length);return[b,c]},getBeforeAfterStriped:function(){var a=this.getBeforeAfter();return a[0]=g(a[0],this.settingsClone),a[1]=g(a[1],this.settingsClone),a},normalizeParts:function(a,b){var c=this.settingsClone;b=g(b,c);var d=b.match(/^\d/)?!0:"leading";a=g(a,c,d),(a===""||a===c.aNeg)&&c.lZero==="deny"&&b>""&&(b=b.replace(/^0*(\d)/,"$1"));var e=a+b;if(c.aDec){var f=e.match(new RegExp("^"+c.aNegRegAutoStrip+"\\"+c.aDec));f&&(a=a.replace(f[1],f[1]+"0"),e=a+b)}return c.wEmpty==="zero"&&(e===c.aNeg||e==="")&&(a+="0"),[a,b]},setValueParts:function(a,b){var c=this.settingsClone,d=this.normalizeParts(a,b),e=d.join(""),f=d[0].length;return m(e,c)?(e=i(e,c.aDec,c.mDec),f>e.length&&(f=e.length),this.value=e,this.setPosition(f,!1),!0):!1},signPosition:function(){var a=this.settingsClone,b=a.aSign,c=this.that;if(b){var d=b.length;if(a.pSign==="p"){var e=a.aNeg&&c.value&&c.value.charAt(0)===a.aNeg;return e?[1,d+1]:[0,d]}var f=c.value.length;return[f-d,f]}return[1e3,-1]},expandSelectionOnSign:function(a){var b=this.signPosition(),c=this.selection;c.start<b[1]&&c.end>b[0]&&((c.start<b[0]||c.end>b[1])&&this.value.substring(Math.max(c.start,b[0]),Math.min(c.end,b[1])).match(/^\s*$/)?c.start<b[0]?this.setSelection(c.start,b[0],a):this.setSelection(b[1],c.end,a):this.setSelection(Math.min(c.start,b[0]),Math.max(c.end,b[1]),a))},checkPaste:function(){if(this.valuePartsBeforePaste!==undefined){var a=this.getBeforeAfter(),b=this.valuePartsBeforePaste;delete this.valuePartsBeforePaste,a[0]=a[0].substr(0,b[0].length)+g(a[0].substr(b[0].length),this.settingsClone),this.setValueParts(a[0],a[1])||(this.value=b.join(""),this.setPosition(b[0].length,!1))}},skipAllways:function(a){var b=this.kdCode,c=this.which,d=this.ctrlKey,e=this.cmdKey,f=this.shiftKey;if((d||e)&&a.type==="keyup"&&this.valuePartsBeforePaste!==undefined||f&&b===45)return this.checkPaste(),!1;if(b>=112&&b<=123||b>=91&&b<=93||b>=9&&b<=31||b<8&&(c===0||c===b)||b===144||b===145||b===45)return!0;if((d||e)&&b===65)return!0;if(!d&&!e||b!==67&&b!==86&&b!==88){if(d||e)return!0;if(b===37||b===39){var g=this.settingsClone.aSep,h=this.selection.start,i=this.that.value;return a.type==="keydown"&&g&&!this.shiftKey&&(b===37&&i.charAt(h-2)===g?this.setPosition(h-1):b===39&&i.charAt(h+1)===g&&this.setPosition(h+1)),!0}return b>=34&&b<=40?!0:!1}a.type==="keydown"&&this.expandSelectionOnSign();if(b===86||b===45)a.type==="keydown"||a.type==="keypress"?this.valuePartsBeforePaste===undefined&&(this.valuePartsBeforePaste=this.getBeforeAfter()):this.checkPaste();return a.type==="keydown"||a.type==="keypress"||b===67},processAllways:function(){var a;return this.kdCode===8||this.kdCode===46?(this.selection.length?(this.expandSelectionOnSign(!1),a=this.getBeforeAfterStriped(),this.setValueParts(a[0],a[1])):(a=this.getBeforeAfterStriped(),this.kdCode===8?a[0]=a[0].substring(0,a[0].length-1):a[1]=a[1].substring(1,a[1].length),this.setValueParts(a[0],a[1])),!0):!1},processKeypress:function(){var a=this.settingsClone,b=String.fromCharCode(this.which),c=this.getBeforeAfterStriped(),d=c[0],e=c[1];return b===a.aDec||a.altDec&&b===a.altDec||(b==="."||b===",")&&this.kdCode===110?!a.mDec||!a.aDec?!0:a.aNeg&&e.indexOf(a.aNeg)>-1?!0:d.indexOf(a.aDec)>-1?!0:e.indexOf(a.aDec)>0?!0:(e.indexOf(a.aDec)===0&&(e=e.substr(1)),this.setValueParts(d+a.aDec,e),!0):b==="-"||b==="+"?a.aNeg?(d===""&&e.indexOf(a.aNeg)>-1&&(d=a.aNeg,e=e.substring(1,e.length)),d.charAt(0)===a.aNeg?d=d.substring(1,d.length):d=b==="-"?a.aNeg+d:d,this.setValueParts(d,e),!0):!0:b>="0"&&b<="9"?(a.aNeg&&d===""&&e.indexOf(a.aNeg)>-1&&(d=a.aNeg,e=e.substring(1,e.length)),a.vMax<=0&&a.vMin<a.vMax&&this.value.indexOf(a.aNeg)===-1&&b!=="0"&&(d=a.aNeg+d),this.setValueParts(d+b,e),!0):!0},formatQuick:function(){var a=this.settingsClone,b=this.getBeforeAfterStriped(),c=this.value;if((a.aSep===""||a.aSep!==""&&c.indexOf(a.aSep)===-1)&&(a.aSign===""||a.aSign!==""&&c.indexOf(a.aSign)===-1)){var d=[],e="";d=c.split(a.aDec),d[0].indexOf("-")>-1&&(e="-",d[0]=d[0].replace("-",""),b[0]=b[0].replace("-","")),d[0].length>a.mInt&&b[0].charAt(0)==="0"&&(b[0]=b[0].slice(1)),b[0]=e+b[0]}var f=o(this.value,this.settingsClone),g=f.length;if(f){var h=b[0].split(""),i=0;for(i;i<h.length;i+=1)h[i].match("\\d")||(h[i]="\\"+h[i]);var j=new RegExp("^.*?"+h.join(".*?")),k=f.match(j);k?(g=k[0].length,(g===0&&f.charAt(0)!==a.aNeg||g===1&&f.charAt(0)===a.aNeg)&&a.aSign&&a.pSign==="p"&&(g=this.settingsClone.aSign.length+(f.charAt(0)==="-"?1:0))):a.aSign&&a.pSign==="s"&&(g-=a.aSign.length)}this.that.value=f,this.setPosition(g),this.formatted=!0}};var t={init:function(b){return this.each(function(){var d=a(this),e=d.data("autoNumeric"),f=d.data();if(typeof e=="object")return this;var i={aNum:"0123456789",aSep:",",dGroup:"3",aDec:".",altDec:null,aSign:"",pSign:"p",vMax:"999999999.99",vMin:"0.00",mDec:null,mRound:"S",aPad:!0,nBracket:null,wEmpty:"empty",lZero:"allow",aForm:!0,onSomeEvent:function(){}};e=a.extend({},i,f,b);if(e.aDec===e.aSep)return a.error("autoNumeric will not function properly when the decimal character aDec: '"+e.aDec+"' and thousand separator aSep: '"+e.aSep+"' are the same character"),this;d.data("autoNumeric",e),e.lastSetValue="",e.runOnce=!1;var k=s(d,e);if(a.inArray(d.prop("tagName"),e.tagList)===-1&&d.prop("tagName")!=="INPUT")return a.error("The <"+d.prop("tagName")+"> is not supported by autoNumeric()"),this;if(e.runOnce===!1&&e.aForm){if(d.is("input[type=text], input[type=hidden], input:not([type])")){var q=!0;d[0].value===""&&e.wEmpty==="empty"&&(d[0].value="",q=!1),d[0].value===""&&e.wEmpty==="sign"&&(d[0].value=e.aSign,q=!1),q&&d.autoNumeric("set",d.val())}a.inArray(d.prop("tagName"),e.tagList)!==-1&&d.text()!==""&&d.autoNumeric("set",d.text())}e.runOnce=!0,d.is("input[type=text], input[type=hidden], input:not([type])")&&(d.on("keydown.autoNumeric",function(b){return k=s(d),k.settings.aDec===k.settings.aSep?(a.error("autoNumeric will not function properly when the decimal character aDec: '"+k.settings.aDec+"' and thousand separator aSep: '"+k.settings.aSep+"' are the same character"),this):k.that.readOnly?(k.processed=!0,!0):(k.init(b),k.settings.oEvent="keydown",k.skipAllways(b)?(k.processed=!0,!0):k.processAllways()?(k.processed=!0,k.formatQuick(),b.preventDefault(),!1):(k.formatted=!1,!0))}),d.on("keypress.autoNumeric",function(a){var b=s(d),c=b.processed;b.init(a),b.settings.oEvent="keypress";if(b.skipAllways(a))return!0;if(c)return a.preventDefault(),!1;if(b.processAllways()||b.processKeypress())return b.formatQuick(),a.preventDefault(),!1;b.formatted=!1}),d.on("keyup.autoNumeric",function(a){var b=s(d);b.init(a),b.settings.oEvent="keyup";var e=b.skipAllways(a);b.kdCode=0,delete b.valuePartsBeforePaste,d[0].value===b.settings.aSign&&(b.settings.pSign==="s"?c(this,0,0):c(this,b.settings.aSign.length,b.settings.aSign.length));if(e)return!0;if(this.value==="")return!0;b.formatted||b.formatQuick()}),d.on("focusin.autoNumeric",function(){var a=s(d);a.settingsClone.oEvent="focusin";if(a.settingsClone.nBracket!==null){var b=d.val();d.val(h(b,a.settingsClone.nBracket,a.settingsClone.oEvent))}a.inVal=d.val();var e=n(a.inVal,a.settingsClone,!0);e!==null&&(d.val(e),a.settings.pSign==="s"?c(this,0,0):c(this,a.settings.aSign.length,a.settings.aSign.length))}),d.on("focusout.autoNumeric",function(){var a=s(d),b=a.settingsClone,c=d.val(),e=c;a.settingsClone.oEvent="focusout";var f="";b.lZero==="allow"&&(b.allowLeading=!1,f="leading"),c!==""&&(c=g(c,b,f),n(c,b)===null&&m(c,b,d[0])?(c=j(c,b.aDec,b.aNeg),c=p(c,b),c=l(c,b.aDec,b.aNeg)):c="");var i=n(c,b,!1);i===null&&(i=o(c,b)),i!==e&&d.val(i),i!==a.inVal&&(d.change(),delete a.inVal),b.nBracket!==null&&d.autoNumeric("get")<0&&(a.settingsClone.oEvent="focusout",d.val(h(d.val(),b.nBracket,b.oEvent)))}))})},destroy:function(){return a(this).each(function(){var b=a(this);b.off(".autoNumeric"),b.removeData("autoNumeric")})},update:function(b){return a(this).each(function(){var c=r(a(this)),d=c.data("autoNumeric");if(typeof d!="object")return a.error("You must initialize autoNumeric('init', {options}) prior to calling the 'update' method"),this;var e=c.autoNumeric("get");d=a.extend(d,b),s(c,d,!0);if(d.aDec===d.aSep)return a.error("autoNumeric will not function properly when the decimal character aDec: '"+d.aDec+"' and thousand separator aSep: '"+d.aSep+"' are the same character"),this;c.data("autoNumeric",d);if(c.val()!==""||c.text()!=="")return c.autoNumeric("set",e);return})},set:function(b){return a(this).each(function(){var c=r(a(this)),d=c.data("autoNumeric"),e=b.toString(),f=b.toString();return typeof d!="object"?(a.error("You must initialize autoNumeric('init', {options}) prior to calling the 'set' method"),this):(f===c.attr("value")&&(e=e.replace(",",".")),f!==c.attr("value")&&d.runOnce===!1&&(e=g(e,d)),a.isNumeric(+e)?(e=k(e,d),d.oEvent="set",d.lastSetValue=e,e.toString(),e!==""&&(e=p(e,d)),e=l(e,d.aDec,d.aNeg),m(e,d)||(e=p("",d)),e=o(e,d),c.is("input[type=text], input[type=hidden], input:not([type])")?c.val(e):a.inArray(c.prop("tagName"),d.tagList)!==-1?c.text(e):(a.error("The <"+c.prop("tagName")+"> is not supported by autoNumeric()"),!1)):"")})},get:function(){var b=r(a(this)),c=b.data("autoNumeric");if(typeof c!="object")return a.error("You must initialize autoNumeric('init', {options}) prior to calling the 'get' method"),this;c.oEvent="get";var d="";if(b.is("input[type=text], input[type=hidden], input:not([type])"))d=b.eq(0).val();else if(a.inArray(b.prop("tagName"),c.tagList)!==-1)d=b.eq(0).text();else return a.error("The <"+b.prop("tagName")+"> is not supported by autoNumeric()"),!1;if(d===""&&c.wEmpty==="empty"||d===c.aSign&&(c.wEmpty==="sign"||c.wEmpty==="empty"))return"";c.nBracket!==null&&d!==""&&(d=h(d,c.nBracket,c.oEvent));if(c.runOnce||c.aForm===!1)d=g(d,c);return d=j(d,c.aDec,c.aNeg),+d===0&&c.lZero!=="keep"&&(d="0"),c.lZero==="keep"?d:(d=k(d,c),d)},getString:function(){var b=!1,c=r(a(this)),d=c.serialize(),e=d.split("&"),f=0;for(f;f<e.length;f+=1){var g=e[f].split("="),h=a('*[name="'+decodeURIComponent(g[0])+'"]').data("autoNumeric");typeof h=="object"&&g[1]!==null&&a('*[name="'+decodeURIComponent(g[0])+'"]').data("autoNumeric")!==undefined&&(g[1]=a('input[name="'+decodeURIComponent(g[0])+'"]').autoNumeric("get"),e[f]=g.join("="),b=!0)}return b===!0?e.join("&"):(a.error("You must initialize autoNumeric('init', {options}) prior to calling the 'getString' method"),this)},getArray:function(){var b=!1,c=r(a(this)),d=c.serializeArray();return a.each(d,function(c,d){var e=a('*[name="'+decodeURIComponent(d.name)+'"]').data("autoNumeric");typeof e=="object"&&(d.value!==""&&a('*[name="'+decodeURIComponent(d.name)+'"]').data("autoNumeric")!==undefined&&(d.value=a('input[name="'+decodeURIComponent(d.name)+'"]').autoNumeric("get").toString()),b=!0)}),b===!0?d:(a.error("You must initialize autoNumeric('init', {options}) prior to calling the 'getArray' method"),this)},getSettings:function(){var b=r(a(this));return b.eq(0).data("autoNumeric")}};a.fn.autoNumeric=function(b){if(t[b])return t[b].apply(this,Array.prototype.slice.call(arguments,1));if(typeof b=="object"||!b)return t.init.apply(this,arguments);a.error('Method "'+b+'" is not supported by autoNumeric()')}})(jQuery)
;function ShowEvent(a){eventPopupModel.load(a)}var EventRegisteredUser=function(a){var b=this;b.firstName=ko.observable(a.FirstName),b.lastName=ko.observable(a.LastName),b.userId=ko.observable(a.UserId),b.address=ko.observable(a.Address),b.phone=ko.observable(a.Phone),b.email=ko.observable(a.Email),b.bannerId=ko.observable(a.BannerId),b.hasEmail=a.HasEmail,b.totalTriesText=ko.observable(a.TotalTriesText),b.cityId=ko.observable(a.CityId),b.districtId=ko.observable(a.DistrictId),b.eventId=ko.observable(a.EventId),b.poolId=ko.observable(0),b.provinces=ko.observableArray(a.Provinces),b.districts=ko.observableArray(a.Districts),b.firstNameValid=ko.computed(function(){return b.firstName()!=null&&$.trim(b.firstName())!=""}),b.lastNameValid=ko.computed(function(){return b.lastName()!=null&&$.trim(b.lastName())!=""}),b.addressValid=ko.computed(function(){return b.address()!=null&&$.trim(b.address())!=""}),b.phoneValid=ko.computed(function(){return b.phone()!=null&&$.trim(b.phone())!=""}),b.districtValid=ko.computed(function(){return b.districtId()!=null&&$.trim(b.districtId())!=""&&b.districtId()>0}),b.cityValid=ko.computed(function(){return b.cityId()!=null&&$.trim(b.cityId())!=""&&b.cityId()>0}),b.emailValid=ko.computed(function(){var a=/^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}$/,c=!0;return a.test(b.email())||(c=!1),b.email()!=null&&$.trim(b.email())!=""&&c}),b.submit=function(){if(b.firstNameValid()&&b.lastNameValid()&&b.addressValid()&&b.phoneValid()&&(b.hasEmail||!b.hasEmail&&b.emailValid())&&b.districtValid()&&b.cityValid()){var a={FirstName:b.firstName(),LastName:b.lastName(),UserId:b.userId(),Address:b.address(),Phone:b.phone(),Email:b.email(),DistrictId:b.districtId(),CityId:b.cityId(),EventId:b.eventId(),QuizPoolId:b.poolId()};$.ajax({type:"POST",url:"/Event/Register",data:a,success:function(a){a.success?(eventPopupModel.eventInfo().totalUsers(eventPopupModel.eventInfo().totalUsers()+1),eventPopupModel.reset(),eventPopupModel.successRegistered(!0)):a.errorCode==13?alert("You has already registered!"):a.errorCode==15&&alert("You do not pass the quiz!")}})}},b.provinceChanged=function(a){b.districts()!=null&&b.districts().length>0&&b.districts.removeAll();if(b.cityId()!=null&&b.cityId()>0){var c=new Date;$.get("/common/GetDistrictsByProvinceId?provinceId="+b.cityId()+"&t="+c.getTime(),function(a){b.districts(a.data)})}},b.successRegistered=ko.observable(!1)},EventInfo=function(a){var b=this;b.name=ko.observable(a.Name),b.id=ko.observable(a.Id),b.description=ko.observable(a.Description),b.totalUsers=ko.observable(a.TotalUsers),b.resId=ko.observable(a.RestaurantId),b.resName=ko.observable(a.ResName),b.resAddress=ko.observable(a.ResAddress),b.resUrl=ko.observable(a.ResUrl),b.imageUrl=ko.observable(a.ImageUrl),b.day=ko.observable(a.EventDay),b.month=ko.observable(a.EventMonth),b.time=ko.observable(a.EventTime),b.dayOfWeek=ko.observable(a.EventDayOfWeek),b.currentDate=ko.observable(a.CurrentDate),b.endDate=ko.observable(a.EndDate),b.detailUrl=a.DetailUrl,b.totalComments=a.TotalComments,b.getServerDate=function(){var a=new Date(parseInt(b.currentDate().substr(6)));return a},b.countDown=function(){$(".event-countdown").each(function(a,c){var d=new Date(parseInt($(this).attr("enddate").substr(6)));$(this).countdown({until:d,compact:!0,serverSync:b.getServerDate()})})},b.users=ko.observableArray([]),b.isLoading=ko.observable(!1),b.showInfo=ko.observable(!0),b.loadUsers=function(){if(!b.isLoading()){b.isLoading(!0);var a=new Date;$.get("/event/getusers/"+b.id()+"?t="+a.getTime(),function(a){a.success?(b.users(a.data),b.showInfo(!1),b.isLoading(!1)):b.isLoading(!1)})}},b.showEventInfo=function(){b.showInfo(!0)},b.showPlanetElement=function(a){a.nodeType===1&&$(a).hide().slideDown()},b.hidePlanetElement=function(a){a.nodeType===1&&$(a).slideUp(function(){$(a).remove()})},setTimeout(function(){b.countDown()})},EventPoupModel=function(){var a=this;a.userInfo=ko.observable(),a.eventInfo=ko.observable(),a.isLoading=ko.observable(!1),a.alreadyRegistered=ko.observable(!1),a.successRegistered=ko.observable(!1),a.load=function(b){a.Login(function(){$("#event-registry-popup").modal({persist:!0});if(!a.isLoading()){a.reset(),a.isLoading(!0);var c=new Date;$.get("/event/GetInfo?eventid="+b+"&t="+c.getTime(),function(b){b.success?(a.eventInfo(new EventInfo(b.data.Event)),a.userInfo(new EventRegisteredUser(b.data.UserInfo)),a.isLoading(!1),a.alreadyRegistered(!1),a.quiz(null),b.data.Quiz!=null&&(a.quiz(new QuizModel(b.data.Quiz)),a.quiz().start()),$("#simplemodal-container").css("height","500px"),$(window).resize()):(a.eventInfo(new EventInfo(b.data.Event)),a.isLoading(!1),a.messageError(b.msgError))})}})},a.Login=function(a){angular.element('div[ng-controller="HelperCtrl"]').scope().ShowDlgLogin(function(b){b.LoggedIn&&a()})},a.reset=function(){a.userInfo(null),a.successRegistered(!1),a.alreadyRegistered(!1),a.messageError("")},a.messageError=ko.observable(""),a.showUsers=ko.observable(!1),a.quiz=ko.observable(null),a.clearQuiz=function(){a.quiz(null)}},QuizModel=function(a){var b=this;b.quizInfo=ko.observable(a),b.currentQuestion=ko.observable(null),b.isloading=ko.observable(!1),b.quizId=ko.observable(a.Id),b.poolId=ko.observable(0),b.firstLoad=ko.observable(!0),b.totalQuestion=ko.observable(a.TotalQuestion),b.currentIndex=ko.observable(0),b.start=function(){if(!b.isloading()){b.quizResult(null),b.firstLoad(!1),b.isloading(!0);var a=new Date;$.get("/quiz/CreateQuizPool/"+b.quizId(),function(a){a.success?(b.currentQuestion(new QuestionInfo(a.data,b)),b.poolId(a.data.PoolId),b.isloading(!1),b.currentIndex(1)):b.isloading(!1)})}},b.passed=ko.observable(!1),b.confirm=function(){if(!b.isloading()){b.isloading(!0);var a="/quiz/Confirm/"+b.poolId();b.currentQuestion().question().Id>0&&(a+="?currentId="+b.currentQuestion().question().Id),b.currentQuestion().selectedAnswer()!=null&&b.currentQuestion().selectedAnswer()!=""&&(a+="&selectedId="+b.currentQuestion().selectedAnswer()),$.post(a,function(a){a.success?(b.currentQuestion(null),b.quizResult(new QuizResult(a.data)),eventPopupModel.userInfo().poolId(b.poolId),b.isloading(!1)):b.isloading(!1)})}},b.quizResult=ko.observable(null)},QuizResult=function(a){self.questionResults=ko.observableArray(a.Results),self.passed=ko.observable(a.Passed),self.totalCorrect=ko.observable(a.TotalCorrect),self.totalQuestion=ko.observable(a.TotalQuestion)},QuestionInfo=function(a,b){var c=this;c.poolId=ko.observable(a.PoolId),c.nextId=ko.observable(a.NextId),c.prevId=ko.observable(a.PrevId),c.question=ko.observable(a.Question),c.answers=ko.observableArray(a.Answers),c.selectedAnswer=ko.observable(0),c.isloading=ko.observable(!1),c.currentIndex=ko.observable(1),c.resetSelectedAnswer=function(a){c.selectedAnswer(0),c.answers(a.Answers);for(var b=0;b<a.Answers.length;b++){var d=a.Answers[b];if(d.SelectedAnswer!=null){c.selectedAnswer(d.SelectedAnswer);break}}},c.loadNext=function(){if(!c.isloading()){c.isloading(!0);var a=new Date,d="/quiz/GetNextQuestion?poolid="+c.poolId()+"&currentid="+c.question().Id;c.selectedAnswer()!=null&&c.selectedAnswer()!=""&&(d+="&selectedId="+c.selectedAnswer()),$.get(d,function(a){if(a.success){var d=a.data;c.question(d.Question),c.answers(d.Answers),c.resetSelectedAnswer(d),c.nextId(d.NextId),c.prevId(d.PrevId),c.isloading(!1),b.currentIndex(b.currentIndex()+1),c.currentIndex(b.currentIndex())}else c.isloading(!1)})}},c.loadPrev=function(){if(!c.isloading()){c.isloading(!0);var a=new Date,d="/quiz/GetPrevQuestion?poolid="+c.poolId()+"&currentid="+c.question().Id;c.selectedAnswer()!=null&&c.selectedAnswer()!=""&&(d+="&selectedId="+c.selectedAnswer()),$.get(d,function(a){if(a.success){var d=a.data;c.question(d.Question),c.answers(d.Answers),c.resetSelectedAnswer(d),c.nextId(d.NextId),c.prevId(d.PrevId),c.isloading(!1),b.currentIndex(b.currentIndex()-1),c.currentIndex(b.currentIndex())}else c.isloading(!1)})}}},eventPopupModel=new EventPoupModel;ko.bindingHandlers.slideVisible={init:function(a,b){var c=ko.utils.unwrapObservable(b());c==1?$(a).show():$(a).hide()},update:function(a,b){var c=b(),d=ko.utils.unwrapObservable(c),e=300;d==1?$(a).slideDown(e):$(a).slideUp(e)}},$(function(){$("#event-div").length&&ko.applyBindings(eventPopupModel,document.getElementById("event-div")),$(".event-registry-btn, .goEventPopup").click(function(){var a=$(this).attr("refid");ShowEvent(a)});if(window.location.hash.indexOf("#event-")==0){var a=parseInt(window.location.hash.substr(7,window.location.hash.length-7));a>0&&ShowEvent(a)}}),$(".closepopup").live("click",function(){$.modal.close()})
;function bkClass(){}function $BK(a){return typeof a=="string"&&(a=document.getElementById(a)),a&&!a.appendTo?bkExtend(a,bkElement.prototype):a}function __(a){return a}var bkExtend=function(){var a=arguments;a.length==1&&(a=[this,a[0]]);for(var b in a[1])a[0][b]=a[1][b];return a[0]};bkClass.prototype.construct=function(){},bkClass.extend=function(a){var b=function(){if(arguments[0]!==bkClass)return this.construct.apply(this,arguments)},c=new this(bkClass);return bkExtend(c,a),b.prototype=c,b.extend=this.extend,b};var bkElement=bkClass.extend({construct:function(a,b){return typeof a=="string"&&(a=(b||document).createElement(a)),a=$BK(a),a},appendTo:function(a){return a.appendChild(this),this},appendBefore:function(a){return a.parentNode.insertBefore(this,a),this},addEvent:function(a,b){return bkLib.addEvent(this,a,b),this},setContent:function(a){return this.innerHTML=a,this},pos:function(){var a=curtop=0,b=obj=this;if(obj.offsetParent)do a+=obj.offsetLeft,curtop+=obj.offsetTop;while(obj=obj.offsetParent);var c=window.opera?0:parseInt(this.getStyle("border-width")||this.style.border)||0;return[a+c,curtop+c+this.offsetHeight]},noSelect:function(){return bkLib.noSelect(this),this},parentTag:function(a){var b=this;do{if(b&&b.nodeName&&b.nodeName.toUpperCase()==a)return b;b=b.parentNode}while(b);return!1},hasClass:function(a){return this.className.match(new RegExp("(\\s|^)nicEdit-"+a+"(\\s|$)"))},addClass:function(a){return this.hasClass(a)||(this.className+=" nicEdit-"+a),this},removeClass:function(a){return this.hasClass(a)&&(this.className=this.className.replace(new RegExp("(\\s|^)nicEdit-"+a+"(\\s|$)")," ")),this},setStyle:function(a){var b=this.style;for(var c in a)switch(c){case"float":b.cssFloat=b.styleFloat=a[c];break;case"opacity":b.opacity=a[c],b.filter="alpha(opacity="+Math.round(a[c]*100)+")";break;case"className":this.className=a[c];break;default:b[c]=a[c]}return this},getStyle:function(a,b){var c=b?b:document.defaultView;if(this.nodeType==1)return c&&c.getComputedStyle?c.getComputedStyle(this,null).getPropertyValue(a):this.currentStyle[bkLib.camelize(a)]},remove:function(){return this.parentNode.removeChild(this),this},setAttributes:function(a){for(var b in a)this[b]=a[b];return this}}),bkLib={isMSIE:navigator.appVersion.indexOf("MSIE")!=-1,addEvent:function(a,b,c){a.addEventListener?a.addEventListener(b,c,!1):a.attachEvent("on"+b,c)},toArray:function(a){var b=a.length,c=new Array(b);while(b--)c[b]=a[b];return c},noSelect:function(a){a.setAttribute&&a.nodeName.toLowerCase()!="input"&&a.nodeName.toLowerCase()!="textarea"&&a.setAttribute("unselectable","on");for(var b=0;b<a.childNodes.length;b++)bkLib.noSelect(a.childNodes[b])},camelize:function(a){return a.replace(/\-(.)/g,function(a,b){return b.toUpperCase()})},inArray:function(a,b){return bkLib.search(a,b)!=null},search:function(a,b){for(var c=0;c<a.length;c++)if(a[c]==b)return c;return null},cancelEvent:function(a){return a=a||window.event,a.preventDefault&&a.stopPropagation&&(a.preventDefault(),a.stopPropagation()),!1},domLoad:[],domLoaded:function(){if(arguments.callee.done)return;arguments.callee.done=!0;for(i=0;i<bkLib.domLoad.length;i++)bkLib.domLoad[i]()},onDomLoaded:function(a){this.domLoad.push(a),document.addEventListener?document.addEventListener("DOMContentLoaded",bkLib.domLoaded,null):bkLib.isMSIE&&(document.write("<style>.nicEdit-main p { margin: 0; }</style><script id=__ie_onload defer "+(location.protocol=="https:"?"src='javascript:void(0)'":"src=//0")+"></scr"+"ipt>"),$BK("__ie_onload").onreadystatechange=function(){this.readyState=="complete"&&bkLib.domLoaded()}),window.onload=bkLib.domLoaded}},bkEvent={addEvent:function(a,b){return b&&(this.eventList=this.eventList||{},this.eventList[a]=this.eventList[a]||[],this.eventList[a].push(b)),this},fireEvent:function(){var a=bkLib.toArray(arguments),b=a.shift();if(this.eventList&&this.eventList[b])for(var c=0;c<this.eventList[b].length;c++)this.eventList[b][c].apply(this,a)}};Function.prototype.closure=function(){var a=this,b=bkLib.toArray(arguments),c=b.shift();return function(){if(typeof bkLib!="undefined")return a.apply(c,b.concat(bkLib.toArray(arguments)))}},Function.prototype.closureListener=function(){var a=this,b=bkLib.toArray(arguments),c=b.shift();return function(d){d=d||window.event;if(d.target)var e=d.target;else var e=d.srcElement;return a.apply(c,[d,e].concat(b))}};var nicEditorConfig=bkClass.extend({buttons:{bold:{name:__("In đậm"),command:"Bold",tags:["B","STRONG"],css:{"font-weight":"bold"},key:"b"},italic:{name:__("In nghiêng"),command:"Italic",tags:["EM","I"],css:{"font-style":"italic"},key:"i"},underline:{name:__("Gạch dưới"),command:"Underline",tags:["U"],css:{"text-decoration":"underline"},key:"u"},left:{name:__("Left Align"),command:"justifyleft",noActive:!0},center:{name:__("Center Align"),command:"justifycenter",noActive:!0},right:{name:__("Right Align"),command:"justifyright",noActive:!0},justify:{name:__("Justify Align"),command:"justifyfull",noActive:!0},ol:{name:__("Insert Ordered List"),command:"insertorderedlist",tags:["OL"]},ul:{name:__("Insert Unordered List"),command:"insertunorderedlist",tags:["UL"]},subscript:{name:__("Click to Subscript"),command:"subscript",tags:["SUB"]},superscript:{name:__("Click to Superscript"),command:"superscript",tags:["SUP"]},strikethrough:{name:__("Click to Strike Through"),command:"strikeThrough",css:{"text-decoration":"line-through"}},removeformat:{name:__("Remove Formatting"),command:"removeformat",noActive:!0},indent:{name:__("Indent Text"),command:"indent",noActive:!0},outdent:{name:__("Remove Indent"),command:"outdent",noActive:!0},hr:{name:__("Horizontal Rule"),command:"insertHorizontalRule",noActive:!0}},iconsPath:"../nicEditorIcons.gif",buttonList:["save","bold","italic","underline","left","center","right","justify","ol","ul","fontSize","fontFamily","fontFormat","indent","outdent","image","upload","link","unlink","forecolor","bgcolor"],iconList:{xhtml:1,bgcolor:2,forecolor:3,bold:4,center:5,hr:6,indent:7,italic:8,justify:9,left:10,ol:11,outdent:12,removeformat:13,right:14,save:25,strikethrough:16,subscript:17,superscript:18,ul:19,underline:20,image:21,link:22,unlink:23,close:24,arrow:26,upload:27},initWithLineBreak:!0}),nicEditors={nicPlugins:[],editors:[],registerPlugin:function(a,b){this.nicPlugins.push({p:a,o:b})},allTextAreas:function(a){var b=document.getElementsByTagName("textarea");for(var c=0;c<b.length;c++)nicEditors.editors.push((new nicEditor(a)).panelInstance(b[c]));return nicEditors.editors},findEditor:function(a){var b=nicEditors.editors;for(var c=0;c<b.length;c++)if(b[c].instanceById(a))return b[c]}},nicEditor=bkClass.extend({construct:function(a){this.options=new nicEditorConfig,bkExtend(this.options,a),this.nicInstances=new Array,this.loadedPlugins=new Array;var b=nicEditors.nicPlugins;for(var c=0;c<b.length;c++)this.loadedPlugins.push(new b[c].p(this,b[c].o));nicEditors.editors.push(this),bkLib.addEvent(document.body,"mousedown",this.selectCheck.closureListener(this))},panelInstance:function(a,b){a=this.checkReplace($BK(a));var c=(new bkElement("DIV")).setStyle({width:(parseInt(a.getStyle("width"))||a.clientWidth)+"px"}).appendBefore(a);return this.setPanel(c),this.addInstance(a,b)},checkReplace:function(a){var b=nicEditors.findEditor(a);return b&&(b.removeInstance(a),b.removePanel()),a},addInstance:function(a,b){a=this.checkReplace($BK(a));if(a.contentEditable||!!window.opera)var c=new nicEditorInstance(a,b,this);else var c=new nicEditorIFrameInstance(a,b,this);return this.nicInstances.push(c),this},removeInstance:function(a){a=$BK(a);var b=this.nicInstances;for(var c=0;c<b.length;c++)b[c].e==a&&(b[c].remove(),this.nicInstances.splice(c,1))},removePanel:function(a){this.nicPanel&&(this.nicPanel.remove(),this.nicPanel=null)},instanceById:function(a){a=$BK(a);var b=this.nicInstances;for(var c=0;c<b.length;c++)if(b[c].e==a)return b[c]},setPanel:function(a){return this.nicPanel=new nicEditorPanel($BK(a),this.options,this),this.fireEvent("panel",this.nicPanel),this},nicCommand:function(a,b){this.selectedInstance&&this.selectedInstance.nicCommand(a,b)},getIcon:function(a,b){var c=this.options.iconList[a],d=b.iconFiles?b.iconFiles[a]:"";return{backgroundImage:"url('"+(c?this.options.iconsPath:d)+"')",backgroundPosition:(c?(c-1)*-18:0)+"px 0px"}},selectCheck:function(a,b){var c=!1;do if(b.className&&b.className.indexOf("nicEdit")!=-1)return!1;while(b=b.parentNode);return this.fireEvent("blur",this.selectedInstance,b),this.lastSelectedInstance=this.selectedInstance,this.selectedInstance=null,!1}});nicEditor=nicEditor.extend(bkEvent);var nicEditorInstance=bkClass.extend({isSelected:!1,construct:function(a,b,c){this.ne=c,this.elm=this.e=a,this.options=b||{},newX=parseInt(a.getStyle("width"))||a.clientWidth,newY=parseInt(a.getStyle("height"))||a.clientHeight,this.initialHeight=newY-8;var d=a.nodeName.toLowerCase()=="textarea";if(d||this.options.hasPanel){var e=bkLib.isMSIE&&(typeof document.body.style.maxHeight=="undefined"||document.compatMode!="CSS1Compat"),f={width:newX+"px",border:"1px solid #ccc",borderTop:0,overflowY:"auto",overflowX:"hidden"};f[e?"height":"maxHeight"]=this.ne.options.maxHeight?this.ne.options.maxHeight+"px":null,this.editorContain=(new bkElement("DIV")).setStyle(f).appendBefore(a);var g=(new bkElement("DIV")).setStyle({width:newX-8+"px",margin:"4px",minHeight:newY+"px"}).addClass("main").appendTo(this.editorContain);a.setStyle({display:"none"}),g.innerHTML=a.innerHTML;if(d){g.setContent(a.value),this.copyElm=a;var h=a.parentTag("FORM");h&&bkLib.addEvent(h,"submit",this.saveContent.closure(this))}g.setStyle(e?{height:newY+"px"}:{overflow:"hidden"}),this.elm=g}this.ne.addEvent("blur",this.blur.closure(this)),this.init(),this.blur()},init:function(){this.elm.setAttribute("contentEditable","true"),this.getContent()==""&&this.options.initWithLineBreak&&this.setContent("<br />"),this.instanceDoc=document.defaultView,this.elm.addEvent("mousedown",this.selected.closureListener(this)).addEvent("keypress",this.keyDown.closureListener(this)).addEvent("focus",this.selected.closure(this)).addEvent("blur",this.blur.closure(this)).addEvent("keyup",this.selected.closure(this)),this.ne.fireEvent("add",this)},remove:function(){this.saveContent();if(this.copyElm||this.options.hasPanel)this.editorContain.remove(),this.e.setStyle({display:"block"}),this.ne.removePanel();this.disable(),this.ne.fireEvent("remove",this)},disable:function(){this.elm.setAttribute("contentEditable","false")},getSel:function(){return window.getSelection?window.getSelection():document.selection},getRng:function(){var a=this.getSel();return a?a.rangeCount>0?a.getRangeAt(0):a.createRange&&a.createRange()||document.createRange():null},selRng:function(a,b){window.getSelection?(b.removeAllRanges(),b.addRange(a)):a.select()},selElm:function(){var a=this.getRng();if(a.startContainer){var b=a.startContainer;if(a.cloneContents().childNodes.length==1)for(var c=0;c<b.childNodes.length;c++){var d=b.childNodes[c].ownerDocument.createRange();d.selectNode(b.childNodes[c]);if(a.compareBoundaryPoints(Range.START_TO_START,d)!=1&&a.compareBoundaryPoints(Range.END_TO_END,d)!=-1)return $BK(b.childNodes[c])}return $BK(b)}return $BK(this.getSel().type=="Control"?a.item(0):a.parentElement())},saveRng:function(){this.savedRange=this.getRng(),this.savedSel=this.getSel()},restoreRng:function(){this.savedRange&&this.selRng(this.savedRange,this.savedSel)},keyDown:function(a,b){this.ne.fireEvent("keyDown",this,a),a.ctrlKey&&this.ne.fireEvent("key",this,a)},selected:function(a,b){b||(b=this.selElm());if(!a.ctrlKey){var c=this.ne.selectedInstance;c!=this&&(c&&this.ne.fireEvent("blur",c,b),this.ne.selectedInstance=this,this.ne.fireEvent("focus",c,b)),this.ne.fireEvent("selected",c,b),this.isFocused=!0,this.elm.addClass("selected")}return!1},blur:function(){this.isFocused=!1,this.elm.removeClass("selected")},saveContent:function(){if(this.copyElm||this.options.hasPanel)this.ne.fireEvent("save",this),this.copyElm?this.copyElm.value=this.getContent():this.e.innerHTML=this.getContent()},getElm:function(){return this.elm},getContent:function(){return this.content=this.getElm().innerHTML,this.ne.fireEvent("get",this),this.content},setContent:function(a){this.content=a,this.ne.fireEvent("set",this),this.elm.innerHTML=this.content},nicCommand:function(a,b){document.execCommand(a,!1,b)}}),nicEditorIFrameInstance=nicEditorInstance.extend({savedStyles:[],init:function(){var a=this.elm.innerHTML.replace(/^\s+|\s+$/g,"");this.elm.innerHTML="",a?a:a="<br />",this.initialContent=a,this.elmFrame=(new bkElement("iframe")).setAttributes({src:"javascript:;",frameBorder:0,allowTransparency:"true",scrolling:"no"}).setStyle({height:"100px",width:"100%"}).addClass("frame").appendTo(this.elm),this.copyElm&&this.elmFrame.setStyle({width:this.elm.offsetWidth-4+"px"});var b=["font-size","font-family","font-weight","color"];for(itm in b)this.savedStyles[bkLib.camelize(itm)]=this.elm.getStyle(itm);setTimeout(this.initFrame.closure(this),50)},disable:function(){this.elm.innerHTML=this.getContent()},initFrame:function(){var a=$BK(this.elmFrame.contentWindow.document);a.designMode="on",a.open();var b=this.ne.options.externalCSS;a.write("<html><head>"+(b?'<link href="'+b+'" rel="stylesheet" type="text/css" />':"")+'</head><body id="nicEditContent" style="margin: 0 !important; background-color: transparent !important;">'+this.initialContent+"</body></html>"),a.close(),this.frameDoc=a,this.frameWin=$BK(this.elmFrame.contentWindow),this.frameContent=$BK(this.frameWin.document.body).setStyle(this.savedStyles),this.instanceDoc=this.frameWin.document.defaultView,this.heightUpdate(),this.frameDoc.addEvent("mousedown",this.selected.closureListener(this)).addEvent("keyup",this.heightUpdate.closureListener(this)).addEvent("keydown",this.keyDown.closureListener(this)).addEvent("keyup",this.selected.closure(this)),this.ne.fireEvent("add",this)},getElm:function(){return this.frameContent},setContent:function(a){this.content=a,this.ne.fireEvent("set",this),this.frameContent.innerHTML=this.content,this.heightUpdate()},getSel:function(){return this.frameWin?this.frameWin.getSelection():this.frameDoc.selection},heightUpdate:function(){this.elmFrame.style.height=Math.max(this.frameContent.offsetHeight,this.initialHeight)+"px"},nicCommand:function(a,b){this.frameDoc.execCommand(a,!1,b),setTimeout(this.heightUpdate.closure(this),100)}}),nicEditorPanel=bkClass.extend({construct:function(a,b,c){this.elm=a,this.options=b,this.ne=c,this.panelButtons=new Array,this.buttonList=bkExtend([],this.ne.options.buttonList),this.panelContain=(new bkElement("DIV")).setStyle({overflow:"hidden",width:"100%",border:"1px solid #cccccc",backgroundColor:"#efefef"}).addClass("panelContain"),this.panelElm=(new bkElement("DIV")).setStyle({margin:"2px",marginTop:"0px",zoom:1,overflow:"hidden"}).addClass("panel").appendTo(this.panelContain),this.panelContain.appendTo(a);var d=this.ne.options,e=d.buttons;for(button in e)this.addButton(button,d,!0);this.reorder(),a.noSelect()},addButton:function(buttonName,options,noOrder){var button=options.buttons[buttonName],type=button.type?eval("(typeof("+button.type+') == "undefined") ? null : '+button.type+";"):nicEditorButton,hasButton=bkLib.inArray(this.buttonList,buttonName);type&&(hasButton||this.ne.options.fullPanel)&&(this.panelButtons.push(new type(this.panelElm,buttonName,options,this.ne)),hasButton||this.buttonList.push(buttonName))},findButton:function(a){for(var b=0;b<this.panelButtons.length;b++)if(this.panelButtons[b].name==a)return this.panelButtons[b]},reorder:function(){var a=this.buttonList;for(var b=0;b<a.length;b++){var c=this.findButton(a[b]);c&&this.panelElm.appendChild(c.margin)}},remove:function(){this.elm.remove()}}),nicEditorButton=bkClass.extend({construct:function(a,b,c,d){this.options=c.buttons[b],this.name=b,this.ne=d,this.elm=a,this.margin=(new bkElement("DIV")).setStyle({"float":"left",marginTop:"2px"}).appendTo(a),this.contain=(new bkElement("DIV")).setStyle({width:"20px",height:"20px"}).addClass("buttonContain").appendTo(this.margin),this.border=(new bkElement("DIV")).setStyle({backgroundColor:"#efefef",border:"1px solid #efefef"}).appendTo(this.contain),this.button=(new bkElement("DIV")).setStyle({width:"18px",height:"18px",overflow:"hidden",zoom:1,cursor:"pointer"}).addClass("button").setStyle(this.ne.getIcon(b,c)).appendTo(this.border),this.button.addEvent("mouseover",this.hoverOn.closure(this)).addEvent("mouseout",this.hoverOff.closure(this)).addEvent("mousedown",this.mouseClick.closure(this)).noSelect(),window.opera||(this.button.onmousedown=this.button.onclick=bkLib.cancelEvent),d.addEvent("selected",this.enable.closure(this)).addEvent("blur",this.disable.closure(this)).addEvent("key",this.key.closure(this)),this.disable(),this.init()},init:function(){},hide:function(){this.contain.setStyle({display:"none"})},updateState:function(){this.isDisabled?this.setBg():this.isHover?this.setBg("hover"):this.isActive?this.setBg("active"):this.setBg()},setBg:function(a){switch(a){case"hover":var b={border:"1px solid #666",backgroundColor:"#ddd"};break;case"active":var b={border:"1px solid #666",backgroundColor:"#ccc"};break;default:var b={border:"1px solid #efefef",backgroundColor:"#efefef"}}this.border.setStyle(b).addClass("button-"+a)},checkNodes:function(a){var b=a;do if(this.options.tags&&bkLib.inArray(this.options.tags,b.nodeName))return this.activate(),!0;while((b=b.parentNode)&&b.className!="nicEdit");b=$BK(a);while(b.nodeType==3)b=$BK(b.parentNode);if(this.options.css)for(itm in this.options.css)if(b.getStyle(itm,this.ne.selectedInstance.instanceDoc)==this.options.css[itm])return this.activate(),!0;return this.deactivate(),!1},activate:function(){this.isDisabled||(this.isActive=!0,this.updateState(),this.ne.fireEvent("buttonActivate",this))},deactivate:function(){this.isActive=!1,this.updateState(),this.isDisabled||this.ne.fireEvent("buttonDeactivate",this)},enable:function(a,b){this.isDisabled=!1,this.contain.setStyle({opacity:1}).addClass("buttonEnabled"),this.updateState(),b!==document&&this.checkNodes(b)},disable:function(a,b){this.isDisabled=!0,this.contain.setStyle({opacity:.6}).removeClass("buttonEnabled"),this.updateState()},toggleActive:function(){this.isActive?this.deactivate():this.activate()},hoverOn:function(){this.isDisabled||(this.isHover=!0,this.updateState(),this.ne.fireEvent("buttonOver",this))},hoverOff:function(){this.isHover=!1,this.updateState(),this.ne.fireEvent("buttonOut",this)},mouseClick:function(){this.options.command&&(this.ne.nicCommand(this.options.command,this.options.commandArgs),this.options.noActive||this.toggleActive()),this.ne.fireEvent("buttonClick",this)},key:function(a,b){this.options.key&&b.ctrlKey&&String.fromCharCode(b.keyCode||b.charCode).toLowerCase()==this.options.key&&(this.mouseClick(),b.preventDefault&&b.preventDefault())}}),nicPlugin=bkClass.extend({construct:function(a,b){this.options=b,this.ne=a,this.ne.addEvent("panel",this.loadPanel.closure(this)),this.init()},loadPanel:function(a){var b=this.options.buttons;for(var c in b)a.addButton(c,this.options);a.reorder()},init:function(){}}),nicPaneOptions={},nicEditorPane=bkClass.extend({construct:function(a,b,c,d){this.ne=b,this.elm=a,this.pos=a.pos(),this.contain=(new bkElement("div")).setStyle({zIndex:"99999",overflow:"hidden",position:"absolute",left:this.pos[0]+"px",top:this.pos[1]+"px"}),this.pane=(new bkElement("div")).setStyle({fontSize:"12px",border:"1px solid #ccc",overflow:"hidden",padding:"4px",textAlign:"left",backgroundColor:"#ffffc9"}).addClass("pane").setStyle(c).appendTo(this.contain),d&&!d.options.noClose&&(this.close=(new bkElement("div")).setStyle({"float":"right",height:"16px",width:"16px",cursor:"pointer"}).setStyle(this.ne.getIcon("close",nicPaneOptions)).addEvent("mousedown",d.removePane.closure(this)).appendTo(this.pane)),this.contain.noSelect().appendTo(document.body),this.position(),this.init()},init:function(){},position:function(){if(this.ne.nicPanel){var a=this.ne.nicPanel.elm,b=a.pos(),c=b[0]+parseInt(a.getStyle("width"))-(parseInt(this.pane.getStyle("width"))+8);c<this.pos[0]&&this.contain.setStyle({left:c+"px"})}},toggle:function(){this.isVisible=!this.isVisible,this.contain.setStyle({display:this.isVisible?"block":"none"})},remove:function(){this.contain&&(this.contain.remove(),this.contain=null)},append:function(a){a.appendTo(this.pane)},setContent:function(a){this.pane.setContent(a)}}),nicEditorAdvancedButton=nicEditorButton.extend({init:function(){this.ne.addEvent("selected",this.removePane.closure(this)).addEvent("blur",this.removePane.closure(this))},mouseClick:function(){this.isDisabled||(this.pane&&this.pane.pane?this.removePane():(this.pane=new nicEditorPane(this.contain,this.ne,{width:this.width||"270px",backgroundColor:"#fff"},this),this.addPane(),this.ne.selectedInstance.saveRng()))},addForm:function(a,b){this.form=(new bkElement("form")).addEvent("submit",this.submit.closureListener(this)),this.pane.append(this.form),this.inputs={};for(itm in a){var c=a[itm],d="";b&&(d=b.getAttribute(itm)),d||(d=c.value||"");var e=a[itm].type;if(e=="title")(new bkElement("div")).setContent(c.txt).setStyle({fontSize:"14px",fontWeight:"bold",padding:"0px",margin:"2px 0"}).appendTo(this.form);else{var f=(new bkElement("div")).setStyle({overflow:"hidden",clear:"both"}).appendTo(this.form);c.txt&&(new bkElement("label")).setAttributes({"for":itm}).setContent(c.txt).setStyle({margin:"2px 4px",fontSize:"13px",width:"50px",lineHeight:"20px",textAlign:"right","float":"left"}).appendTo(f);switch(e){case"text":this.inputs[itm]=(new bkElement("input")).setAttributes({id:itm,value:d,type:"text"}).setStyle({margin:"2px 0",fontSize:"13px","float":"left",height:"20px",border:"1px solid #ccc",overflow:"hidden"}).setStyle(c.style).appendTo(f);break;case"select":this.inputs[itm]=(new bkElement("select")).setAttributes({id:itm}).setStyle({border:"1px solid #ccc","float":"left",margin:"2px 0"}).appendTo(f);for(opt in c.options)var g=(new bkElement("option")).setAttributes({value:opt,selected:opt==d?"selected":""}).setContent(c.options[opt]).appendTo(this.inputs[itm]);break;case"content":this.inputs[itm]=(new bkElement("textarea")).setAttributes({id:itm}).setStyle({border:"1px solid #ccc","float":"left"}).setStyle(c.style).appendTo(f),this.inputs[itm].value=d}}}(new bkElement("input")).setAttributes({type:"submit"}).setStyle({backgroundColor:"#efefef",border:"1px solid #ccc",margin:"3px 0","float":"left",clear:"both"}).appendTo(this.form),this.form.onsubmit=bkLib.cancelEvent},submit:function(){},findElm:function(a,b,c){var d=this.ne.selectedInstance.getElm().getElementsByTagName(a);for(var e=0;e<d.length;e++)if(d[e].getAttribute(b)==c)return $BK(d[e])},removePane:function(){this.pane&&(this.pane.remove(),this.pane=null,this.ne.selectedInstance.restoreRng())}}),nicButtonTips=bkClass.extend({construct:function(a){this.ne=a,a.addEvent("buttonOver",this.show.closure(this)).addEvent("buttonOut",this.hide.closure(this))},show:function(a){this.timer=setTimeout(this.create.closure(this,a),400)},create:function(a){this.timer=null,this.pane||(this.pane=new nicEditorPane(a.button,this.ne,{fontSize:"12px",marginTop:"5px"}),this.pane.setContent(a.options.name))},hide:function(a){this.timer&&clearTimeout(this.timer),this.pane&&(this.pane=this.pane.remove())}});nicEditors.registerPlugin(nicButtonTips);var nicSelectOptions={buttons:{fontSize:{name:__("Select Font Size"),type:"nicEditorFontSizeSelect",command:"fontsize"},fontFamily:{name:__("Select Font Family"),type:"nicEditorFontFamilySelect",command:"fontname"},fontFormat:{name:__("Select Font Format"),type:"nicEditorFontFormatSelect",command:"formatBlock"}}},nicEditorSelect=bkClass.extend({construct:function(a,b,c,d){this.options=c.buttons[b],this.elm=a,this.ne=d,this.name=b,this.selOptions=new Array,this.margin=(new bkElement("div")).setStyle({"float":"left",margin:"2px 1px 0 1px"}).appendTo(this.elm),this.contain=(new bkElement("div")).setStyle({width:"90px",height:"20px",cursor:"pointer",overflow:"hidden"}).addClass("selectContain").addEvent("click",this.toggle.closure(this)).appendTo(this.margin),this.items=(new bkElement("div")).setStyle({overflow:"hidden",zoom:1,border:"1px solid #ccc",paddingLeft:"3px",backgroundColor:"#fff"}).appendTo(this.contain),this.control=(new bkElement("div")).setStyle({overflow:"hidden","float":"right",height:"18px",width:"16px"}).addClass("selectControl").setStyle(this.ne.getIcon("arrow",c)).appendTo(this.items),this.txt=(new bkElement("div")).setStyle({overflow:"hidden","float":"left",width:"66px",height:"14px",marginTop:"1px",fontFamily:"sans-serif",textAlign:"center",fontSize:"12px"}).addClass("selectTxt").appendTo(this.items),window.opera||(this.contain.onmousedown=this.control.onmousedown=this.txt.onmousedown=bkLib.cancelEvent),this.margin.noSelect(),this.ne.addEvent("selected",this.enable.closure(this)).addEvent("blur",this.disable.closure(this)),this.disable(),this.init()},disable:function(){this.isDisabled=!0,this.close(),this.contain.setStyle({opacity:.6})},enable:function(a){this.isDisabled=!1,this.close(),this.contain.setStyle({opacity:1})},setDisplay:function(a){this.txt.setContent(a)},toggle:function(){this.isDisabled||(this.pane?this.close():this.open())},open:function(){this.pane=new nicEditorPane(this.items,this.ne,{width:"88px",padding:"0px",borderTop:0,borderLeft:"1px solid #ccc",borderRight:"1px solid #ccc",borderBottom:"0px",backgroundColor:"#fff"});for(var a=0;a<this.selOptions.length;a++){var b=this.selOptions[a],c=(new bkElement("div")).setStyle({overflow:"hidden",borderBottom:"1px solid #ccc",width:"88px",textAlign:"left",overflow:"hidden",cursor:"pointer"}),d=(new bkElement("div")).setStyle({padding:"0px 4px"}).setContent(b[1]).appendTo(c).noSelect();d.addEvent("click",this.update.closure(this,b[0])).addEvent("mouseover",this.over.closure(this,d)).addEvent("mouseout",this.out.closure(this,d)).setAttributes("id",b[0]),this.pane.append(c),window.opera||(d.onmousedown=bkLib.cancelEvent)}},close:function(){this.pane&&(this.pane=this.pane.remove())},over:function(a){a.setStyle({backgroundColor:"#ccc"})},out:function(a){a.setStyle({backgroundColor:"#fff"})},add:function(a,b){this.selOptions.push(new Array(a,b))},update:function(a){this.ne.nicCommand(this.options.command,a),this.close()}}),nicEditorFontSizeSelect=nicEditorSelect.extend({sel:{1:"1&nbsp;(8pt)",2:"2&nbsp;(10pt)",3:"3&nbsp;(12pt)",4:"4&nbsp;(14pt)",5:"5&nbsp;(18pt)",6:"6&nbsp;(24pt)"},init:function(){this.setDisplay("Font&nbsp;Size...");for(itm in this.sel)this.add(itm,'<font size="'+itm+'">'+this.sel[itm]+"</font>")}}),nicEditorFontFamilySelect=nicEditorSelect.extend({sel:{arial:"Arial","comic sans ms":"Comic Sans","courier new":"Courier New",georgia:"Georgia",helvetica:"Helvetica",impact:"Impact","times new roman":"Times","trebuchet ms":"Trebuchet",verdana:"Verdana"},init:function(){this.setDisplay("Font&nbsp;Family...");for(itm in this.sel)this.add(itm,'<font face="'+itm+'">'+this.sel[itm]+"</font>")}}),nicEditorFontFormatSelect=nicEditorSelect.extend({sel:{p:"Paragraph",pre:"Pre",h6:"Heading&nbsp;6",h5:"Heading&nbsp;5",h4:"Heading&nbsp;4",h3:"Heading&nbsp;3",h2:"Heading&nbsp;2",h1:"Heading&nbsp;1"},init:function(){this.setDisplay("Font&nbsp;Format...");for(itm in this.sel){var a=itm.toUpperCase();this.add("<"+a+">","<"+itm+' style="padding: 0px; margin: 0px;">'+this.sel[itm]+"</"+a+">")}}});nicEditors.registerPlugin(nicPlugin,nicSelectOptions);var nicLinkOptions={buttons:{link:{name:"Thêm liên kết",type:"nicLinkButton",tags:["A"]},unlink:{name:"Xóa liên kết",command:"unlink",noActive:!0}}},nicLinkButton=nicEditorAdvancedButton.extend({addPane:function(){this.ln=this.ne.selectedInstance.selElm().parentTag("A"),this.addForm({"":{type:"title",txt:"Thêm / Chỉnh sửa liên kết"},href:{type:"text",txt:"Liên kết",value:"http://",style:{width:"150px"}},title:{type:"text",txt:"Tiêu đề"},target:{type:"select",txt:"Mở trong",options:{"":"Cửa sổ hiện tại",_blank:"Cửa sổ mới"},style:{width:"100px"}}},this.ln)},submit:function(a){var b=this.inputs.href.value;if(b=="http://"||b=="")return alert("Bạn chưa nhập liên kết."),!1;this.removePane();if(!this.ln){var c="javascript:nicTemp();";this.ne.nicCommand("createlink",c),this.ln=this.findElm("A","href",c),this.ln.innerHTML==c&&(this.ln.innerHTML=this.inputs.title.value||b)}if(this.ln){var d=this.ln.title;this.ln.setAttributes({href:this.inputs.href.value,title:this.inputs.title.value,target:this.inputs.target.options[this.inputs.target.selectedIndex].value}),this.ln.innerHTML==d&&(this.ln.innerHTML=this.inputs.title.value||this.inputs.href.value)}}});nicEditors.registerPlugin(nicPlugin,nicLinkOptions);var nicColorOptions={buttons:{forecolor:{name:__("Change Text Color"),type:"nicEditorColorButton",noClose:!0},bgcolor:{name:__("Change Background Color"),type:"nicEditorBgColorButton",noClose:!0}}},nicEditorColorButton=nicEditorAdvancedButton.extend({addPane:function(){var a={0:"00",1:"33",2:"66",3:"99",4:"CC",5:"FF"},b=(new bkElement("DIV")).setStyle({width:"270px"});for(var c in a)for(var d in a)for(var e in a){var f="#"+a[c]+a[e]+a[d],g=(new bkElement("DIV")).setStyle({cursor:"pointer",height:"15px","float":"left"}).appendTo(b),h=(new bkElement("DIV")).setStyle({border:"2px solid "+f}).appendTo(g),i=(new bkElement("DIV")).setStyle({backgroundColor:f,overflow:"hidden",width:"11px",height:"11px"}).addEvent("click",this.colorSelect.closure(this,f)).addEvent("mouseover",this.on.closure(this,h)).addEvent("mouseout",this.off.closure(this,h,f)).appendTo(h);window.opera||(g.onmousedown=i.onmousedown=bkLib.cancelEvent)}this.pane.append(b.noSelect())},colorSelect:function(a){this.ne.nicCommand("foreColor",a),this.removePane()},on:function(a){a.setStyle({border:"2px solid #000"})},off:function(a,b){a.setStyle({border:"2px solid "+b})}}),nicEditorBgColorButton=nicEditorColorButton.extend({colorSelect:function(a){this.ne.nicCommand("hiliteColor",a),this.removePane()}});nicEditors.registerPlugin(nicPlugin,nicColorOptions);var nicImageOptions={buttons:{image:{name:"Thêm hình",type:"nicImageButton",tags:["IMG"]}}},nicImageButton=nicEditorAdvancedButton.extend({addPane:function(){this.im=this.ne.selectedInstance.selElm().parentTag("IMG"),this.addForm({"":{type:"title",txt:"Thêm / Chỉnh sửa hình ảnh"},src:{type:"text",txt:"Link hình",value:"http://",style:{width:"150px"}},alt:{type:"text",txt:"Mô tả",style:{width:"100px"}},align:{type:"select",txt:"Canh lề",options:{none:"Mặc định",left:"Trái",right:"Phải"}}},this.im)},submit:function(a){var b=this.inputs.src.value;if(b==""||b=="http://")return alert("Bạn chưa nhập link hình."),!1;this.removePane();if(!this.im){var c="javascript:nicImTemp();";this.ne.nicCommand("insertImage",c),this.im=this.findElm("IMG","src",c)}this.im&&this.im.setAttributes({src:this.inputs.src.value,alt:this.inputs.alt.value,align:this.inputs.align.value})}});nicEditors.registerPlugin(nicPlugin,nicImageOptions);var nicSaveOptions={buttons:{save:{name:__("Save this content"),type:"nicEditorSaveButton"}}},nicEditorSaveButton=nicEditorButton.extend({init:function(){this.ne.options.onSave||this.margin.setStyle({display:"none"})},mouseClick:function(){var a=this.ne.options.onSave,b=this.ne.selectedInstance;a(b.getContent(),b.elm.id,b)}});nicEditors.registerPlugin(nicPlugin,nicSaveOptions);var nicUploadOptions={buttons:{upload:{name:"Upload Image",type:"nicUploadButton"}}},nicUploadButton=nicEditorAdvancedButton.extend({nicURI:"http://files.nicedit.com/",addPane:function(){this.im=this.ne.selectedInstance.selElm().parentTag("IMG"),this.myID=Math.round(Math.random()*Math.pow(10,15)),this.requestInterval=1e3,this.uri=this.ne.options.uploadURI||this.nicURI,nicUploadButton.lastPlugin=this,this.myFrame=(new bkElement("iframe")).setAttributes({width:"100%",height:"100px",frameBorder:0,scrolling:"no"}).setStyle({border:0}).appendTo(this.pane.pane),this.progressWrapper=(new bkElement("div")).setStyle({display:"none",width:"100%",height:"20px",border:"1px solid #ccc"}).appendTo(this.pane.pane),this.progress=(new bkElement("div")).setStyle({width:"0%",height:"20px",backgroundColor:"#ccc"}).setContent("&nbsp").appendTo(this.progressWrapper),setTimeout(this.addForm.closure(this),50)},addForm:function(){var a=this.myDoc=this.myFrame.contentWindow.document;a.open(),a.write("<html><body>"),a.write('<form method="post" action="'+this.uri+"?id="+this.myID+'" enctype="multipart/form-data">'),a.write('<input type="hidden" name="APC_UPLOAD_PROGRESS" value="'+this.myID+'" />'),this.uri==this.nicURI&&a.write('<div style="position: absolute; margin-left: 160px;"><img src="http://imageshack.us/img/imageshack.png" width="30" style="float: left;" /><div style="float: left; margin-left: 5px; font-size: 10px;">Hosted by<br /><a href="http://www.imageshack.us/" target="_blank">ImageShack</a></div></div>'),a.write('<div style="font-size: 14px; font-weight: bold; padding-top: 5px;">Insert an Image</div>'),a.write('<input name="nicImage" type="file" style="margin-top: 10px;" />'),a.write("</form>"),a.write("</body></html>"),a.close(),this.myBody=a.body,this.myForm=$BK(this.myBody.getElementsByTagName("form")[0]),this.myInput=$BK(this.myBody.getElementsByTagName("input")[1]).addEvent("change",this.startUpload.closure(this)),this.myStatus=(new bkElement("div",this.myDoc)).setStyle({textAlign:"center",fontSize:"14px"}).appendTo(this.myBody)},startUpload:function(){this.myForm.setStyle({display:"none"}),this.myStatus.setContent('<img src="http://files.nicedit.com/ajax-loader.gif" style="float: right; margin-right: 40px;" /><strong>Uploading...</strong><br />Please wait'),this.myForm.submit(),setTimeout(this.makeRequest.closure(this),this.requestInterval)},makeRequest:function(){if(this.pane&&this.pane.pane){nicUploadButton.lastPlugin=this;var a=(new bkElement("script")).setAttributes({type:"text/javascript",src:this.uri+"?check="+this.myID+"&rand="+Math.round(Math.random()*Math.pow(10,15))}).addEvent("load",function(){a.parentNode.removeChild(a)}).appendTo(document.getElementsByTagName("head")[0]);this.requestInterval&&setTimeout(this.makeRequest.closure(this),this.requestInterval)}},setProgress:function(a){this.progressWrapper.setStyle({display:"block"}),this.progress.setStyle({width:a+"%"})},update:function(a){if(a==0)this.progressWrapper.setStyle({display:"none"});else if(a.url){this.setProgress(100),this.requestInterval=!1;if(!this.im){this.ne.selectedInstance.restoreRng();var b="javascript:nicImTemp();";this.ne.nicCommand("insertImage",b),this.im=this.findElm("IMG","src",b)}var c=parseInt(this.ne.selectedInstance.elm.getStyle("width"));this.im&&this.im.setAttributes({src:a.url,width:c&&a.width?Math.min(c,a.width):""}),this.removePane()}else if(a.error)this.requestInterval=!1,this.setProgress(100),alert("There was an error uploading your image ("+a.error+")."),this.removePane();else if(a.noprogress){this.progressWrapper.setStyle({display:"none"});if(this.uri.indexOf("http:")==-1||this.uri.indexOf(window.location.host)!=-1)this.requestInterval=!1}else this.setProgress(Math.round(a.current/a.total*75)),a.interval&&(this.requestInterval=a.interval)}});nicUploadButton.statusCb=function(a){nicUploadButton.lastPlugin.update(a)},nicEditors.registerPlugin(nicPlugin,nicUploadOptions);var nicXHTML=bkClass.extend({stripAttributes:["_moz_dirty","_moz_resizing","_extended"],noShort:["style","title","script","textarea","a"],cssReplace:{"font-weight:bold;":"strong","font-style:italic;":"em"},sizes:{1:"xx-small",2:"x-small",3:"small",4:"medium",5:"large",6:"x-large"},construct:function(a){this.ne=a,this.ne.options.xhtml&&a.addEvent("get",this.cleanup.closure(this))},cleanup:function(a){var b=a.getElm(),c=this.toXHTML(b);a.content=c},toXHTML:function(a,b,c){var d="",e="",f="",g=a.nodeType,h=a.nodeName.toLowerCase(),i=a.hasChildNodes&&a.hasChildNodes(),j=new Array;switch(g){case 1:var k=a.attributes;switch(h){case"b":h="strong";break;case"i":h="em";break;case"font":h="span"}if(b){for(var l=0;l<k.length;l++){var m=k[l],n=m.nodeName.toLowerCase(),o=m.nodeValue;if(!m.specified||!o||bkLib.inArray(this.stripAttributes,n)||typeof o=="function")continue;switch(n){case"style":var p=o.replace(/ /g,"");for(itm in this.cssReplace)p.indexOf(itm)!=-1&&(j.push(this.cssReplace[itm]),p=p.replace(itm,""));f+=p,o="";break;case"class":o=o.replace("Apple-style-span","");break;case"size":f+="font-size:"+this.sizes[o]+";",o=""}o&&(e+=" "+n+'="'+o+'"')}f&&(e+=' style="'+f+'"');for(var l=0;l<j.length;l++)d+="<"+j[l]+">";e==""&&h=="span"&&(b=!1),b&&(d+="<"+h,h!="br"&&(d+=e))}if(!i&&!bkLib.inArray(this.noShort,n))b&&(d+=" />");else{b&&(d+=">");for(var l=0;l<a.childNodes.length;l++){var q=this.toXHTML(a.childNodes[l],!0,!0);q&&(d+=q)}}b&&i&&(d+="</"+h+">");for(var l=0;l<j.length;l++)d+="</"+j[l]+">";break;case 3:d+=a.nodeValue}return d}});nicEditors.registerPlugin(nicXHTML);var nicBBCode=bkClass.extend({construct:function(a){this.ne=a;if(this.ne.options.bbCode){a.addEvent("get",this.bbGet.closure(this)),a.addEvent("set",this.bbSet.closure(this));var b=this.ne.loadedPlugins;for(itm in b)b[itm].toXHTML&&(this.xhtml=b[itm])}},bbGet:function(a){var b=this.xhtml.toXHTML(a.getElm());a.content=this.toBBCode(b)},bbSet:function(a){a.content=this.fromBBCode(a.content)},toBBCode:function(a){function b(b,c){a=a.replace(b,c)}return b(/\n/gi,""),b(/<strong>(.*?)<\/strong>/gi,"[b]$1[/b]"),b(/<em>(.*?)<\/em>/gi,"[i]$1[/i]"),b(/<span.*?style="text-decoration:underline;">(.*?)<\/span>/gi,"[u]$1[/u]"),b(/<ul>(.*?)<\/ul>/gi,"[list]$1[/list]"),b(/<li>(.*?)<\/li>/gi,"[*]$1[/*]"),b(/<ol>(.*?)<\/ol>/gi,"[list=1]$1[/list]"),b(/<img.*?src="(.*?)".*?>/gi,"[img]$1[/img]"),b(/<a.*?href="(.*?)".*?>(.*?)<\/a>/gi,"[url=$1]$2[/url]"),b(/<br.*?>/gi,"\n"),b(/<.*?>.*?<\/.*?>/gi,""),a},fromBBCode:function(a){function b(b,c){a=a.replace(b,c)}return b(/\[b\](.*?)\[\/b\]/gi,"<strong>$1</strong>"),b(/\[i\](.*?)\[\/i\]/gi,"<em>$1</em>"),b(/\[u\](.*?)\[\/u\]/gi,'<span style="text-decoration:underline;">$1</span>'),b(/\[list\](.*?)\[\/list\]/gi,"<ul>$1</ul>"),b(/\[list=1\](.*?)\[\/list\]/gi,"<ol>$1</ol>"),b(/\[\*\](.*?)\[\/\*\]/gi,"<li>$1</li>"),b(/\[img\](.*?)\[\/img\]/gi,'<img src="$1" />'),b(/\[url=(.*?)\](.*?)\[\/url\]/gi,'<a href="$1">$2</a>'),b(/\n/gi,"<br />"),a}});nicEditors.registerPlugin(nicBBCode),nicEditor=nicEditor.extend({floatingPanel:function(){this.floating=(new bkElement("DIV")).setStyle({position:"absolute",top:"-1000px"}).appendTo(document.body),this.addEvent("focus",this.reposition.closure(this)).addEvent("blur",this.hide.closure(this)),this.setPanel(this.floating)},reposition:function(){var a=this.selectedInstance.e;this.floating.setStyle({width:(parseInt(a.getStyle("width"))||a.clientWidth)+"px"});var b=a.offsetTop-this.floating.offsetHeight;b<0&&(b=a.offsetTop+a.offsetHeight),this.floating.setStyle({top:b+"px",left:a.offsetLeft+"px",display:"block"})},hide:function(){this.floating.setStyle({top:"-1000px"})}});var nicCodeOptions={buttons:{xhtml:{name:"Edit HTML",type:"nicCodeButton"}}},nicCodeButton=nicEditorAdvancedButton.extend({width:"350px",addPane:function(){this.addForm({"":{type:"title",txt:"Edit HTML"},code:{type:"content",value:this.ne.selectedInstance.getContent(),style:{width:"340px",height:"200px"}}})},submit:function(a){var b=this.inputs.code.value;this.ne.selectedInstance.setContent(b),this.removePane()}});nicEditors.registerPlugin(nicPlugin,nicCodeOptions)
;function QASharedModel(){var a=this;a.CategoryUrlRewriteName,a.ShowPopupCreateQuestion=function(){$.modal.close(),$("#popup-create-question").modal({persist:!0}),$("#simplemodal-container").css("width","680px"),$("#simplemodal-container").css("height","auto"),$("#simplemodal-container").css("background-color","#F9F9F9");var a=new Date;$("#popup-create-question img.img-captcha").attr("src","/Common/CaptchaImage.jpg?prefix=CreateQuestion&t="+a.getTime()),$("#Captcha").val(""),$(window).resize(),$("#btn-popup-create-question").show(),$("#btn-popup-update-question").hide()},a.CreateQuestion=function(){var a=$("#popup-create-question form");if(a.valid()){var b={title:$("#QATitle").val(),content:nicEditors.findEditor("QAContent").nicInstances[0].getContent(),categoryId:$("#CategoryId").val(),stateProvinceId:$("#StateProvinceId").val(),captcha:$("#Captcha").val()};$.ajax({url:"/QA/InsertQuestion",data:JSON.stringify(b),type:"POST",contentType:"application/json",success:function(a){a.Message==null||a.Message==""?a.Result!=null&&a.Result!=""&&(window.location.href=a.Result):alert(a.Message)}})}},a.SetActiveMenu=function(){var b=a.CategoryUrlRewriteName!=""&&a.CategoryUrlRewriteName!=null?a.CategoryUrlRewriteName!="hoi-thanh-vien"?"/hoi-dap/"+a.CategoryUrlRewriteName:"/hoi-dap":document.URL.toLowerCase(),c="";b.indexOf("?")!==-1?c=b.split("?")[0]:c=b,$(".qa-header-menu").each(function(){var a=$(this).attr("href");c.endsWith(a)&&$(this).addClass("active")})},a.Init=function(){$(".btn-create-question").click(function(){var b=new Date;$.ajax({type:"GET",url:"/Common/IsLogin?"+b.getTime(),success:function(b){b.success==1?a.ShowPopupCreateQuestion():LoginPopup.Show(function(){a.ShowPopupCreateQuestion()},function(){})}})}),$("#btn-popup-create-question").click(function(){a.CreateQuestion()}),$("#QAContent").length>0&&((new nicEditor({iconsPath:"//static.foody.vn/Scripts/nicEdit/nicEditorIcons.gif",buttonList:["bold","italic","underline","image","link","unlink"],maxHeight:300})).panelInstance("QAContent"),$(".nicEdit-main").attr("spellcheck","false"),a.SetActiveMenu())}}var QASharedModel=new QASharedModel;$(function(){QASharedModel.Init()})
;var ListUserLikeModel=function(){var a=this;a.applyUserModel=function(a){if(a!=null&&a.length>0)for(var b=0;b<a.length;b++)a[b].FriendStatusId=ko.observable(a[b].FriendStatusId);return a},a.users=ko.observableArray([]),a.isloading=ko.observable(!1),a.load=function(b,c){if($("#user-like-popup #users-like-div").length==0){$("#user-like-popup").load("/LikeComment/UserLikePopup",function(){setTimeout(function(){document.getElementById("users-like-div")&&ko.applyBindings(listUserLikeModel,document.getElementById("users-like-div")),listUserLikeModel.load(b,c)},500)});return}if(!a.isloading()){a.users.removeAll(),$("#user-like-popup").modal({persist:!0}),$("#simplemodal-container").css("height","440px"),$("#simplemodal-container").css("width","500px"),$(window).resize(),a.isloading(!0);var d=new Date;$.get("/likecomment/GetLikeUsers?t="+d.getTime()+"&referenceid="+b+"&type="+c,function(b){if(b.success){var c=b.data;a.users(a.applyUserModel(c)),a.isloading(!1)}else a.isloading(!1)})}},a.addFriend=function(a){var b=a.UserID,c={friendid:b};$.post("/friend/addfriend?nonHtml=true",c,function(b){if(b.success)a.FriendStatusId(parseInt(b.html));else switch(b.errorType){case 1:loginSuccessCallback=function(){$.modal.close(),window.location=window.location.href},LoginPopup.Show();break;default:}})},a.cancelAddFriend=function(a){var b=a.UserID,c={friendid:b};$.post("/friend/canceladdfriend?nonHtml=true",c,function(b){b.success&&a.FriendStatusId(parseInt(b.html))})},a.acceptFriendRequest=function(a){var b=a.UserID,c={friendid:b};$.post("/friend/acceptaddfriend?nonHtml=true",c,function(b){b.success&&a.FriendStatusId(parseInt(b.html))})},a.removeFriend=function(a){if(confirm("Bạn thực sự muốn hủy kết bạn?")){var b=a.UserID,c={friendid:b};$.post("/friend/removefriend?nonHtml=true",c,function(b){b.success&&a.FriendStatusId(parseInt(b.html))})}}},listUserLikeModel=new ListUserLikeModel;$(".totaluserlike").live("click",function(){var a=$(this).attr("refId"),b=$(this).attr("reftype");listUserLikeModel.load(a,b)})
;(function(a){a.fn.jRating=function(b){var c={bigStarsPath:staticPath+"Scripts/jRating/icons/stars.png",smallStarsPath:staticPath+"Scripts/jRating/icons/small.png",phpPath:"php/jRating.php",type:"big",step:!1,isDisabled:!1,showRateInfo:!0,canRateAgain:!1,sendRequest:!0,length:5,decimalLength:0,rateMax:20,rateInfosX:-45,rateInfosY:5,nbRates:1,onSuccess:null,onError:null,onClick:null};if(this.length>0)return this.each(function(){function s(a){var b=parseFloat(a*100/o*parseInt(d.rateMax)/100),c=Math.pow(10,parseInt(d.decimalLength)),e=Math.round(b*c)/c;return e}function t(){switch(d.type){case"small":f=12,g=10,h=d.smallStarsPath;break;default:f=23,g=20,h=d.bigStarsPath}}function u(a){return a?a.offsetLeft+u(a.offsetParent):0}var d=a.extend(c,b),e=0,f=0,g=0,h="",i=!1,j=0,k=d.nbRates;if(a(this).hasClass("jDisabled")||d.isDisabled)var l=!0;else var l=!1;t(),a(this).height(g);var m=parseFloat(a(this).attr("data-average")),n=parseInt(a(this).attr("data-id")),o=f*d.length,p=m/d.rateMax*o,q=a("<div>",{"class":"jRatingColor",css:{width:p}}).appendTo(a(this)),m=a("<div>",{"class":"jRatingAverage",css:{width:0,top:-g}}).appendTo(a(this)),r=a("<div>",{"class":"jStar",css:{width:o,height:g,top:-(g*2),background:"url("+h+") repeat-x"}}).appendTo(a(this));a(this).css({width:o,overflow:"hidden",zIndex:1,position:"relative"}),l||a(this).unbind().bind({mouseenter:function(b){var c=u(this),e=b.pageX-c;if(d.showRateInfo)var f=a("<p>",{"class":"jRatingInfos",html:s(e)+' <span class="maxRate">/ '+d.rateMax+"</span>",css:{top:b.pageY+d.rateInfosY,left:b.pageX+d.rateInfosX}}).appendTo("body").show()},mouseover:function(b){a(this).css("cursor","pointer")},mouseout:function(){a(this).css("cursor","default"),i?m.width(j):m.width(0)},mousemove:function(b){var c=u(this),g=b.pageX-c;d.step?e=Math.floor(g/f)*f+f:e=g,m.width(e),d.showRateInfo&&a("p.jRatingInfos").css({left:b.pageX+d.rateInfosX}).html(s(e)+' <span class="maxRate">/ '+d.rateMax+"</span>")},mouseleave:function(){a("p.jRatingInfos").remove()},click:function(b){var c=this;i=!0,j=e,k--,(!d.canRateAgain||parseInt(k)<=0)&&a(this).unbind().css("cursor","default").addClass("jDisabled"),d.showRateInfo&&a("p.jRatingInfos").fadeOut("fast",function(){a(this).remove()}),b.preventDefault();var f=s(e);m.width(e),a(".datasSent p").html("<strong>idBox : </strong>"+n+"<br /><strong>rate : </strong>"+f+"<br /><strong>action :</strong> rating"),a(".serverResponse p").html("<strong>Loading...</strong>"),d.onClick&&d.onClick(c,f),d.sendRequest&&a.post(d.phpPath,{idBox:n,rate:f,action:"rating"},function(b){b.error?(a(".serverResponse p").html(b.server),d.onError&&d.onError(c,f)):(a(".serverResponse p").html(b.server),d.onSuccess&&d.onSuccess(c,f))},"json")}})})}})(jQuery)
;jQuery&&function(a){function b(b,e){var f=b?a(this):e,g=a(f.attr("data-dropdown")),h=f.hasClass("dropdown-open");if(b){if(a(b.target).hasClass("dropdown-ignore"))return;b.preventDefault(),b.stopPropagation()}else if(f!==e.target&&a(e.target).hasClass("dropdown-ignore"))return;c();if(h||f.hasClass("dropdown-disabled"))return;f.addClass("dropdown-open"),g.data("dropdown-trigger",f).show(),d(),g.trigger("show",{dropdown:g,trigger:f})}function c(b){var c=b?a(b.target).parents().addBack():null;if(c&&c.is(".dropdown")){if(!c.is(".dropdown-menu"))return;if(!c.is("A"))return}a(document).find(".dropdown:visible").each(function(){var b=a(this);b.hide().removeData("dropdown-trigger").trigger("hide",{dropdown:b})}),a(document).find(".dropdown-open").removeClass("dropdown-open")}function d(){var b=a(".dropdown:visible").eq(0),c=b.data("dropdown-trigger"),d=c?parseInt(c.attr("data-horizontal-offset")||0,10):null,e=c?parseInt(c.attr("data-vertical-offset")||0,10):null;if(b.length===0||!c)return;b.hasClass("dropdown-relative")?b.css({left:b.hasClass("dropdown-anchor-right")?c.position().left-(b.outerWidth(!0)-c.outerWidth(!0))-parseInt(c.css("margin-right"),10)+d:c.position().left+parseInt(c.css("margin-left"),10)+d,top:c.position().top+c.outerHeight(!0)-parseInt(c.css("margin-top"),10)+e}):b.css({left:b.hasClass("dropdown-anchor-right")?c.offset().left-(b.outerWidth()-c.outerWidth())+d:c.offset().left+d,top:c.offset().top+c.outerHeight()+e})}a.extend(a.fn,{jdropdown:function(d,e){switch(d){case"show":return b(null,a(this)),a(this);case"hide":return c(),a(this);case"attach":return a(this).attr("data-dropdown",e);case"detach":return c(),a(this).removeAttr("data-dropdown");case"disable":return a(this).addClass("dropdown-disabled");case"enable":return c(),a(this).removeClass("dropdown-disabled")}}}),a(document).on("mouseenter.dropdown","[data-dropdown]",b),a(document).on("click.dropdown",c),a(window).on("resize",d)}(jQuery)
;function PopupEditAvatarStatusModel(){var a=this;a.AvatarId=ko.observable(),a.Status=ko.observable(),a.Show=function(){var b={avatarId:a.AvatarId()};$.ajax({url:"/Account/GetDetailStatus",data:JSON.stringify(b),type:"POST",contentType:"application/json",success:function(b){b.Message==null||b.Message==""?a.Status(b.Result.Status):alert(b.Message)}}),$.modal.close(),$("#popup-edit-status").modal({persist:!0}),$("#simplemodal-container").css("width","680px"),$("#simplemodal-container").css("height","auto"),$("#simplemodal-container").css("background-color","#F9F9F9"),$(window).resize()},a.SaveStatus=function(){var b={avatarId:a.AvatarId(),status:a.Status()};b.status==null&&(b.status=""),$.ajax({url:"/Account/EditStatus",data:JSON.stringify(b),type:"POST",contentType:"application/json",success:function(a){a.Message==null||a.Message==""?(alert("Bạn đã cập nhật thành công."),window.location.reload()):alert(a.Message)}})},a.Init=function(){ko.applyBindings(a,$("#popup-edit-status")[0]),$("#btn-edit-status").click(function(){a.SaveStatus()})}}
;/*! fancyBox v2.1.5 fancyapps.com | fancyapps.com/fancybox/#license */
(function(r,G,f,v){var J=f("html"),n=f(r),p=f(G),b=f.fancybox=function(){b.open.apply(this,arguments)},I=navigator.userAgent.match(/msie/i),B=null,s=G.createTouch!==v,t=function(a){return a&&a.hasOwnProperty&&a instanceof f},q=function(a){return a&&"string"===f.type(a)},E=function(a){return q(a)&&0<a.indexOf("%")},l=function(a,d){var e=parseInt(a,10)||0;d&&E(a)&&(e*=b.getViewport()[d]/100);return Math.ceil(e)},w=function(a,b){return l(a,b)+"px"};f.extend(b,{version:"2.1.5",defaults:{padding:15,margin:20,
width:800,height:600,minWidth:100,minHeight:100,maxWidth:9999,maxHeight:9999,pixelRatio:1,autoSize:!0,autoHeight:!1,autoWidth:!1,autoResize:!0,autoCenter:!s,fitToView:!0,aspectRatio:!1,topRatio:0.5,leftRatio:0.5,scrolling:"auto",wrapCSS:"",arrows:!0,closeBtn:!0,closeClick:!1,nextClick:!1,mouseWheel:!0,autoPlay:!1,playSpeed:3E3,preload:3,modal:!1,loop:!0,ajax:{dataType:"html",headers:{"X-fancyBox":!0}},iframe:{scrolling:"auto",preload:!0},swf:{wmode:"transparent",allowfullscreen:"true",allowscriptaccess:"always"},
keys:{next:{13:"left",34:"up",39:"left",40:"up"},prev:{8:"right",33:"down",37:"right",38:"down"},close:[27],play:[32],toggle:[70]},direction:{next:"left",prev:"right"},scrollOutside:!0,index:0,type:null,href:null,content:null,title:null,tpl:{wrap:'<div class="fancybox-wrap" tabIndex="-1"><div class="fancybox-skin"><div class="fancybox-outer"><div class="fancybox-inner"></div></div></div></div>',image:'<img class="fancybox-image" src="{href}" alt="" />',iframe:'<iframe id="fancybox-frame{rnd}" name="fancybox-frame{rnd}" class="fancybox-iframe" frameborder="0" vspace="0" hspace="0" webkitAllowFullScreen mozallowfullscreen allowFullScreen'+
(I?' allowtransparency="true"':"")+"></iframe>",error:'<p class="fancybox-error">The requested content cannot be loaded.<br/>Please try again later.</p>',closeBtn:'<a title="Close" class="fancybox-item fancybox-close" href="javascript:;"></a>',next:'<a title="Next" class="fancybox-nav fancybox-next" href="javascript:;"><span></span></a>',prev:'<a title="Previous" class="fancybox-nav fancybox-prev" href="javascript:;"><span></span></a>'},openEffect:"fade",openSpeed:250,openEasing:"swing",openOpacity:!0,
openMethod:"zoomIn",closeEffect:"fade",closeSpeed:250,closeEasing:"swing",closeOpacity:!0,closeMethod:"zoomOut",nextEffect:"elastic",nextSpeed:250,nextEasing:"swing",nextMethod:"changeIn",prevEffect:"elastic",prevSpeed:250,prevEasing:"swing",prevMethod:"changeOut",helpers:{overlay:!0,title:!0},onCancel:f.noop,beforeLoad:f.noop,afterLoad:f.noop,beforeShow:f.noop,afterShow:f.noop,beforeChange:f.noop,beforeClose:f.noop,afterClose:f.noop},group:{},opts:{},previous:null,coming:null,current:null,isActive:!1,
isOpen:!1,isOpened:!1,wrap:null,skin:null,outer:null,inner:null,player:{timer:null,isActive:!1},ajaxLoad:null,imgPreload:null,transitions:{},helpers:{},open:function(a,d){if(a&&(f.isPlainObject(d)||(d={}),!1!==b.close(!0)))return f.isArray(a)||(a=t(a)?f(a).get():[a]),f.each(a,function(e,c){var k={},g,h,j,m,l;"object"===f.type(c)&&(c.nodeType&&(c=f(c)),t(c)?(k={href:c.data("fancybox-href")||c.attr("href"),title:c.data("fancybox-title")||c.attr("title"),isDom:!0,element:c},f.metadata&&f.extend(!0,k,
c.metadata())):k=c);g=d.href||k.href||(q(c)?c:null);h=d.title!==v?d.title:k.title||"";m=(j=d.content||k.content)?"html":d.type||k.type;!m&&k.isDom&&(m=c.data("fancybox-type"),m||(m=(m=c.prop("class").match(/fancybox\.(\w+)/))?m[1]:null));q(g)&&(m||(b.isImage(g)?m="image":b.isSWF(g)?m="swf":"#"===g.charAt(0)?m="inline":q(c)&&(m="html",j=c)),"ajax"===m&&(l=g.split(/\s+/,2),g=l.shift(),l=l.shift()));j||("inline"===m?g?j=f(q(g)?g.replace(/.*(?=#[^\s]+$)/,""):g):k.isDom&&(j=c):"html"===m?j=g:!m&&(!g&&
k.isDom)&&(m="inline",j=c));f.extend(k,{href:g,type:m,content:j,title:h,selector:l});a[e]=k}),b.opts=f.extend(!0,{},b.defaults,d),d.keys!==v&&(b.opts.keys=d.keys?f.extend({},b.defaults.keys,d.keys):!1),b.group=a,b._start(b.opts.index)},cancel:function(){var a=b.coming;a&&!1!==b.trigger("onCancel")&&(b.hideLoading(),b.ajaxLoad&&b.ajaxLoad.abort(),b.ajaxLoad=null,b.imgPreload&&(b.imgPreload.onload=b.imgPreload.onerror=null),a.wrap&&a.wrap.stop(!0,!0).trigger("onReset").remove(),b.coming=null,b.current||
b._afterZoomOut(a))},close:function(a){b.cancel();!1!==b.trigger("beforeClose")&&(b.unbindEvents(),b.isActive&&(!b.isOpen||!0===a?(f(".fancybox-wrap").stop(!0).trigger("onReset").remove(),b._afterZoomOut()):(b.isOpen=b.isOpened=!1,b.isClosing=!0,f(".fancybox-item, .fancybox-nav").remove(),b.wrap.stop(!0,!0).removeClass("fancybox-opened"),b.transitions[b.current.closeMethod]())))},play:function(a){var d=function(){clearTimeout(b.player.timer)},e=function(){d();b.current&&b.player.isActive&&(b.player.timer=
setTimeout(b.next,b.current.playSpeed))},c=function(){d();p.unbind(".player");b.player.isActive=!1;b.trigger("onPlayEnd")};if(!0===a||!b.player.isActive&&!1!==a){if(b.current&&(b.current.loop||b.current.index<b.group.length-1))b.player.isActive=!0,p.bind({"onCancel.player beforeClose.player":c,"onUpdate.player":e,"beforeLoad.player":d}),e(),b.trigger("onPlayStart")}else c()},next:function(a){var d=b.current;d&&(q(a)||(a=d.direction.next),b.jumpto(d.index+1,a,"next"))},prev:function(a){var d=b.current;
d&&(q(a)||(a=d.direction.prev),b.jumpto(d.index-1,a,"prev"))},jumpto:function(a,d,e){var c=b.current;c&&(a=l(a),b.direction=d||c.direction[a>=c.index?"next":"prev"],b.router=e||"jumpto",c.loop&&(0>a&&(a=c.group.length+a%c.group.length),a%=c.group.length),c.group[a]!==v&&(b.cancel(),b._start(a)))},reposition:function(a,d){var e=b.current,c=e?e.wrap:null,k;c&&(k=b._getPosition(d),a&&"scroll"===a.type?(delete k.position,c.stop(!0,!0).animate(k,200)):(c.css(k),e.pos=f.extend({},e.dim,k)))},update:function(a){var d=
a&&a.type,e=!d||"orientationchange"===d;e&&(clearTimeout(B),B=null);b.isOpen&&!B&&(B=setTimeout(function(){var c=b.current;c&&!b.isClosing&&(b.wrap.removeClass("fancybox-tmp"),(e||"load"===d||"resize"===d&&c.autoResize)&&b._setDimension(),"scroll"===d&&c.canShrink||b.reposition(a),b.trigger("onUpdate"),B=null)},e&&!s?0:300))},toggle:function(a){b.isOpen&&(b.current.fitToView="boolean"===f.type(a)?a:!b.current.fitToView,s&&(b.wrap.removeAttr("style").addClass("fancybox-tmp"),b.trigger("onUpdate")),
b.update())},hideLoading:function(){p.unbind(".loading");f("#fancybox-loading").remove()},showLoading:function(){var a,d;b.hideLoading();a=f('<div id="fancybox-loading"><div></div></div>').click(b.cancel).appendTo("body");p.bind("keydown.loading",function(a){if(27===(a.which||a.keyCode))a.preventDefault(),b.cancel()});b.defaults.fixed||(d=b.getViewport(),a.css({position:"absolute",top:0.5*d.h+d.y,left:0.5*d.w+d.x}))},getViewport:function(){var a=b.current&&b.current.locked||!1,d={x:n.scrollLeft(),
y:n.scrollTop()};a?(d.w=a[0].clientWidth,d.h=a[0].clientHeight):(d.w=s&&r.innerWidth?r.innerWidth:n.width(),d.h=s&&r.innerHeight?r.innerHeight:n.height());return d},unbindEvents:function(){b.wrap&&t(b.wrap)&&b.wrap.unbind(".fb");p.unbind(".fb");n.unbind(".fb")},bindEvents:function(){var a=b.current,d;a&&(n.bind("orientationchange.fb"+(s?"":" resize.fb")+(a.autoCenter&&!a.locked?" scroll.fb":""),b.update),(d=a.keys)&&p.bind("keydown.fb",function(e){var c=e.which||e.keyCode,k=e.target||e.srcElement;
if(27===c&&b.coming)return!1;!e.ctrlKey&&(!e.altKey&&!e.shiftKey&&!e.metaKey&&(!k||!k.type&&!f(k).is("[contenteditable]")))&&f.each(d,function(d,k){if(1<a.group.length&&k[c]!==v)return b[d](k[c]),e.preventDefault(),!1;if(-1<f.inArray(c,k))return b[d](),e.preventDefault(),!1})}),f.fn.mousewheel&&a.mouseWheel&&b.wrap.bind("mousewheel.fb",function(d,c,k,g){for(var h=f(d.target||null),j=!1;h.length&&!j&&!h.is(".fancybox-skin")&&!h.is(".fancybox-wrap");)j=h[0]&&!(h[0].style.overflow&&"hidden"===h[0].style.overflow)&&
(h[0].clientWidth&&h[0].scrollWidth>h[0].clientWidth||h[0].clientHeight&&h[0].scrollHeight>h[0].clientHeight),h=f(h).parent();if(0!==c&&!j&&1<b.group.length&&!a.canShrink){if(0<g||0<k)b.prev(0<g?"down":"left");else if(0>g||0>k)b.next(0>g?"up":"right");d.preventDefault()}}))},trigger:function(a,d){var e,c=d||b.coming||b.current;if(c){f.isFunction(c[a])&&(e=c[a].apply(c,Array.prototype.slice.call(arguments,1)));if(!1===e)return!1;c.helpers&&f.each(c.helpers,function(d,e){if(e&&b.helpers[d]&&f.isFunction(b.helpers[d][a]))b.helpers[d][a](f.extend(!0,
{},b.helpers[d].defaults,e),c)});p.trigger(a)}},isImage:function(a){return q(a)&&a.match(/(^data:image\/.*,)|(\.(jp(e|g|eg)|gif|png|bmp|webp|svg)((\?|#).*)?$)/i)},isSWF:function(a){return q(a)&&a.match(/\.(swf)((\?|#).*)?$/i)},_start:function(a){var d={},e,c;a=l(a);e=b.group[a]||null;if(!e)return!1;d=f.extend(!0,{},b.opts,e);e=d.margin;c=d.padding;"number"===f.type(e)&&(d.margin=[e,e,e,e]);"number"===f.type(c)&&(d.padding=[c,c,c,c]);d.modal&&f.extend(!0,d,{closeBtn:!1,closeClick:!1,nextClick:!1,arrows:!1,
mouseWheel:!1,keys:null,helpers:{overlay:{closeClick:!1}}});d.autoSize&&(d.autoWidth=d.autoHeight=!0);"auto"===d.width&&(d.autoWidth=!0);"auto"===d.height&&(d.autoHeight=!0);d.group=b.group;d.index=a;b.coming=d;if(!1===b.trigger("beforeLoad"))b.coming=null;else{c=d.type;e=d.href;if(!c)return b.coming=null,b.current&&b.router&&"jumpto"!==b.router?(b.current.index=a,b[b.router](b.direction)):!1;b.isActive=!0;if("image"===c||"swf"===c)d.autoHeight=d.autoWidth=!1,d.scrolling="visible";"image"===c&&(d.aspectRatio=
!0);"iframe"===c&&s&&(d.scrolling="scroll");d.wrap=f(d.tpl.wrap).addClass("fancybox-"+(s?"mobile":"desktop")+" fancybox-type-"+c+" fancybox-tmp "+d.wrapCSS).appendTo(d.parent||"body");f.extend(d,{skin:f(".fancybox-skin",d.wrap),outer:f(".fancybox-outer",d.wrap),inner:f(".fancybox-inner",d.wrap)});f.each(["Top","Right","Bottom","Left"],function(a,b){d.skin.css("padding"+b,w(d.padding[a]))});b.trigger("onReady");if("inline"===c||"html"===c){if(!d.content||!d.content.length)return b._error("content")}else if(!e)return b._error("href");
"image"===c?b._loadImage():"ajax"===c?b._loadAjax():"iframe"===c?b._loadIframe():b._afterLoad()}},_error:function(a){f.extend(b.coming,{type:"html",autoWidth:!0,autoHeight:!0,minWidth:0,minHeight:0,scrolling:"no",hasError:a,content:b.coming.tpl.error});b._afterLoad()},_loadImage:function(){var a=b.imgPreload=new Image;a.onload=function(){this.onload=this.onerror=null;b.coming.width=this.width/b.opts.pixelRatio;b.coming.height=this.height/b.opts.pixelRatio;b._afterLoad()};a.onerror=function(){this.onload=
this.onerror=null;b._error("image")};a.src=b.coming.href;!0!==a.complete&&b.showLoading()},_loadAjax:function(){var a=b.coming;b.showLoading();b.ajaxLoad=f.ajax(f.extend({},a.ajax,{url:a.href,error:function(a,e){b.coming&&"abort"!==e?b._error("ajax",a):b.hideLoading()},success:function(d,e){"success"===e&&(a.content=d,b._afterLoad())}}))},_loadIframe:function(){var a=b.coming,d=f(a.tpl.iframe.replace(/\{rnd\}/g,(new Date).getTime())).attr("scrolling",s?"auto":a.iframe.scrolling).attr("src",a.href);
f(a.wrap).bind("onReset",function(){try{f(this).find("iframe").hide().attr("src","//about:blank").end().empty()}catch(a){}});a.iframe.preload&&(b.showLoading(),d.one("load",function(){f(this).data("ready",1);s||f(this).bind("load.fb",b.update);f(this).parents(".fancybox-wrap").width("100%").removeClass("fancybox-tmp").show();b._afterLoad()}));a.content=d.appendTo(a.inner);a.iframe.preload||b._afterLoad()},_preloadImages:function(){var a=b.group,d=b.current,e=a.length,c=d.preload?Math.min(d.preload,
e-1):0,f,g;for(g=1;g<=c;g+=1)f=a[(d.index+g)%e],"image"===f.type&&f.href&&((new Image).src=f.href)},_afterLoad:function(){var a=b.coming,d=b.current,e,c,k,g,h;b.hideLoading();if(a&&!1!==b.isActive)if(!1===b.trigger("afterLoad",a,d))a.wrap.stop(!0).trigger("onReset").remove(),b.coming=null;else{d&&(b.trigger("beforeChange",d),d.wrap.stop(!0).removeClass("fancybox-opened").find(".fancybox-item, .fancybox-nav").remove());b.unbindEvents();e=a.content;c=a.type;k=a.scrolling;f.extend(b,{wrap:a.wrap,skin:a.skin,
outer:a.outer,inner:a.inner,current:a,previous:d});g=a.href;switch(c){case "inline":case "ajax":case "html":a.selector?e=f("<div>").html(e).find(a.selector):t(e)&&(e.data("fancybox-placeholder")||e.data("fancybox-placeholder",f('<div class="fancybox-placeholder"></div>').insertAfter(e).hide()),e=e.show().detach(),a.wrap.bind("onReset",function(){f(this).find(e).length&&e.hide().replaceAll(e.data("fancybox-placeholder")).data("fancybox-placeholder",!1)}));break;case "image":e=a.tpl.image.replace("{href}",
g);break;case "swf":e='<object id="fancybox-swf" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="100%" height="100%"><param name="movie" value="'+g+'"></param>',h="",f.each(a.swf,function(a,b){e+='<param name="'+a+'" value="'+b+'"></param>';h+=" "+a+'="'+b+'"'}),e+='<embed src="'+g+'" type="application/x-shockwave-flash" width="100%" height="100%"'+h+"></embed></object>"}(!t(e)||!e.parent().is(a.inner))&&a.inner.append(e);b.trigger("beforeShow");a.inner.css("overflow","yes"===k?"scroll":
"no"===k?"hidden":k);b._setDimension();b.reposition();b.isOpen=!1;b.coming=null;b.bindEvents();if(b.isOpened){if(d.prevMethod)b.transitions[d.prevMethod]()}else f(".fancybox-wrap").not(a.wrap).stop(!0).trigger("onReset").remove();b.transitions[b.isOpened?a.nextMethod:a.openMethod]();b._preloadImages()}},_setDimension:function(){var a=b.getViewport(),d=0,e=!1,c=!1,e=b.wrap,k=b.skin,g=b.inner,h=b.current,c=h.width,j=h.height,m=h.minWidth,u=h.minHeight,n=h.maxWidth,p=h.maxHeight,s=h.scrolling,q=h.scrollOutside?
h.scrollbarWidth:0,x=h.margin,y=l(x[1]+x[3]),r=l(x[0]+x[2]),v,z,t,C,A,F,B,D,H;e.add(k).add(g).width("auto").height("auto").removeClass("fancybox-tmp");x=l(k.outerWidth(!0)-k.width());v=l(k.outerHeight(!0)-k.height());z=y+x;t=r+v;C=E(c)?(a.w-z)*l(c)/100:c;A=E(j)?(a.h-t)*l(j)/100:j;if("iframe"===h.type){if(H=h.content,h.autoHeight&&1===H.data("ready"))try{H[0].contentWindow.document.location&&(g.width(C).height(9999),F=H.contents().find("body"),q&&F.css("overflow-x","hidden"),A=F.outerHeight(!0))}catch(G){}}else if(h.autoWidth||
h.autoHeight)g.addClass("fancybox-tmp"),h.autoWidth||g.width(C),h.autoHeight||g.height(A),h.autoWidth&&(C=g.width()),h.autoHeight&&(A=g.height()),g.removeClass("fancybox-tmp");c=l(C);j=l(A);D=C/A;m=l(E(m)?l(m,"w")-z:m);n=l(E(n)?l(n,"w")-z:n);u=l(E(u)?l(u,"h")-t:u);p=l(E(p)?l(p,"h")-t:p);F=n;B=p;h.fitToView&&(n=Math.min(a.w-z,n),p=Math.min(a.h-t,p));z=a.w-y;r=a.h-r;h.aspectRatio?(c>n&&(c=n,j=l(c/D)),j>p&&(j=p,c=l(j*D)),c<m&&(c=m,j=l(c/D)),j<u&&(j=u,c=l(j*D))):(c=Math.max(m,Math.min(c,n)),h.autoHeight&&
"iframe"!==h.type&&(g.width(c),j=g.height()),j=Math.max(u,Math.min(j,p)));if(h.fitToView)if(g.width(c).height(j),e.width(c+x),a=e.width(),y=e.height(),h.aspectRatio)for(;(a>z||y>r)&&(c>m&&j>u)&&!(19<d++);)j=Math.max(u,Math.min(p,j-10)),c=l(j*D),c<m&&(c=m,j=l(c/D)),c>n&&(c=n,j=l(c/D)),g.width(c).height(j),e.width(c+x),a=e.width(),y=e.height();else c=Math.max(m,Math.min(c,c-(a-z))),j=Math.max(u,Math.min(j,j-(y-r)));q&&("auto"===s&&j<A&&c+x+q<z)&&(c+=q);g.width(c).height(j);e.width(c+x);a=e.width();
y=e.height();e=(a>z||y>r)&&c>m&&j>u;c=h.aspectRatio?c<F&&j<B&&c<C&&j<A:(c<F||j<B)&&(c<C||j<A);f.extend(h,{dim:{width:w(a),height:w(y)},origWidth:C,origHeight:A,canShrink:e,canExpand:c,wPadding:x,hPadding:v,wrapSpace:y-k.outerHeight(!0),skinSpace:k.height()-j});!H&&(h.autoHeight&&j>u&&j<p&&!c)&&g.height("auto")},_getPosition:function(a){var d=b.current,e=b.getViewport(),c=d.margin,f=b.wrap.width()+c[1]+c[3],g=b.wrap.height()+c[0]+c[2],c={position:"absolute",top:c[0],left:c[3]};d.autoCenter&&d.fixed&&
!a&&g<=e.h&&f<=e.w?c.position="fixed":d.locked||(c.top+=e.y,c.left+=e.x);c.top=w(Math.max(c.top,c.top+(e.h-g)*d.topRatio));c.left=w(Math.max(c.left,c.left+(e.w-f)*d.leftRatio));return c},_afterZoomIn:function(){var a=b.current;a&&(b.isOpen=b.isOpened=!0,b.wrap.css("overflow","visible").addClass("fancybox-opened"),b.update(),(a.closeClick||a.nextClick&&1<b.group.length)&&b.inner.css("cursor","pointer").bind("click.fb",function(d){!f(d.target).is("a")&&!f(d.target).parent().is("a")&&(d.preventDefault(),
b[a.closeClick?"close":"next"]())}),a.closeBtn&&f(a.tpl.closeBtn).appendTo(b.skin).bind("click.fb",function(a){a.preventDefault();b.close()}),a.arrows&&1<b.group.length&&((a.loop||0<a.index)&&f(a.tpl.prev).appendTo(b.outer).bind("click.fb",b.prev),(a.loop||a.index<b.group.length-1)&&f(a.tpl.next).appendTo(b.outer).bind("click.fb",b.next)),b.trigger("afterShow"),!a.loop&&a.index===a.group.length-1?b.play(!1):b.opts.autoPlay&&!b.player.isActive&&(b.opts.autoPlay=!1,b.play()))},_afterZoomOut:function(a){a=
a||b.current;f(".fancybox-wrap").trigger("onReset").remove();f.extend(b,{group:{},opts:{},router:!1,current:null,isActive:!1,isOpened:!1,isOpen:!1,isClosing:!1,wrap:null,skin:null,outer:null,inner:null});b.trigger("afterClose",a)}});b.transitions={getOrigPosition:function(){var a=b.current,d=a.element,e=a.orig,c={},f=50,g=50,h=a.hPadding,j=a.wPadding,m=b.getViewport();!e&&(a.isDom&&d.is(":visible"))&&(e=d.find("img:first"),e.length||(e=d));t(e)?(c=e.offset(),e.is("img")&&(f=e.outerWidth(),g=e.outerHeight())):
(c.top=m.y+(m.h-g)*a.topRatio,c.left=m.x+(m.w-f)*a.leftRatio);if("fixed"===b.wrap.css("position")||a.locked)c.top-=m.y,c.left-=m.x;return c={top:w(c.top-h*a.topRatio),left:w(c.left-j*a.leftRatio),width:w(f+j),height:w(g+h)}},step:function(a,d){var e,c,f=d.prop;c=b.current;var g=c.wrapSpace,h=c.skinSpace;if("width"===f||"height"===f)e=d.end===d.start?1:(a-d.start)/(d.end-d.start),b.isClosing&&(e=1-e),c="width"===f?c.wPadding:c.hPadding,c=a-c,b.skin[f](l("width"===f?c:c-g*e)),b.inner[f](l("width"===
f?c:c-g*e-h*e))},zoomIn:function(){var a=b.current,d=a.pos,e=a.openEffect,c="elastic"===e,k=f.extend({opacity:1},d);delete k.position;c?(d=this.getOrigPosition(),a.openOpacity&&(d.opacity=0.1)):"fade"===e&&(d.opacity=0.1);b.wrap.css(d).animate(k,{duration:"none"===e?0:a.openSpeed,easing:a.openEasing,step:c?this.step:null,complete:b._afterZoomIn})},zoomOut:function(){var a=b.current,d=a.closeEffect,e="elastic"===d,c={opacity:0.1};e&&(c=this.getOrigPosition(),a.closeOpacity&&(c.opacity=0.1));b.wrap.animate(c,
{duration:"none"===d?0:a.closeSpeed,easing:a.closeEasing,step:e?this.step:null,complete:b._afterZoomOut})},changeIn:function(){var a=b.current,d=a.nextEffect,e=a.pos,c={opacity:1},f=b.direction,g;e.opacity=0.1;"elastic"===d&&(g="down"===f||"up"===f?"top":"left","down"===f||"right"===f?(e[g]=w(l(e[g])-200),c[g]="+=200px"):(e[g]=w(l(e[g])+200),c[g]="-=200px"));"none"===d?b._afterZoomIn():b.wrap.css(e).animate(c,{duration:a.nextSpeed,easing:a.nextEasing,complete:b._afterZoomIn})},changeOut:function(){var a=
b.previous,d=a.prevEffect,e={opacity:0.1},c=b.direction;"elastic"===d&&(e["down"===c||"up"===c?"top":"left"]=("up"===c||"left"===c?"-":"+")+"=200px");a.wrap.animate(e,{duration:"none"===d?0:a.prevSpeed,easing:a.prevEasing,complete:function(){f(this).trigger("onReset").remove()}})}};b.helpers.overlay={defaults:{closeClick:!0,speedOut:200,showEarly:!0,css:{},locked:!s,fixed:!0},overlay:null,fixed:!1,el:f("html"),create:function(a){a=f.extend({},this.defaults,a);this.overlay&&this.close();this.overlay=
f('<div class="fancybox-overlay"></div>').appendTo(b.coming?b.coming.parent:a.parent);this.fixed=!1;a.fixed&&b.defaults.fixed&&(this.overlay.addClass("fancybox-overlay-fixed"),this.fixed=!0)},open:function(a){var d=this;a=f.extend({},this.defaults,a);this.overlay?this.overlay.unbind(".overlay").width("auto").height("auto"):this.create(a);this.fixed||(n.bind("resize.overlay",f.proxy(this.update,this)),this.update());a.closeClick&&this.overlay.bind("click.overlay",function(a){if(f(a.target).hasClass("fancybox-overlay"))return b.isActive?
b.close():d.close(),!1});this.overlay.css(a.css).show()},close:function(){var a,b;n.unbind("resize.overlay");this.el.hasClass("fancybox-lock")&&(f(".fancybox-margin").removeClass("fancybox-margin"),a=n.scrollTop(),b=n.scrollLeft(),this.el.removeClass("fancybox-lock"),n.scrollTop(a).scrollLeft(b));f(".fancybox-overlay").remove().hide();f.extend(this,{overlay:null,fixed:!1})},update:function(){var a="100%",b;this.overlay.width(a).height("100%");I?(b=Math.max(G.documentElement.offsetWidth,G.body.offsetWidth),
p.width()>b&&(a=p.width())):p.width()>n.width()&&(a=p.width());this.overlay.width(a).height(p.height())},onReady:function(a,b){var e=this.overlay;f(".fancybox-overlay").stop(!0,!0);e||this.create(a);a.locked&&(this.fixed&&b.fixed)&&(e||(this.margin=p.height()>n.height()?f("html").css("margin-right").replace("px",""):!1),b.locked=this.overlay.append(b.wrap),b.fixed=!1);!0===a.showEarly&&this.beforeShow.apply(this,arguments)},beforeShow:function(a,b){var e,c;b.locked&&(!1!==this.margin&&(f("*").filter(function(){return"fixed"===
f(this).css("position")&&!f(this).hasClass("fancybox-overlay")&&!f(this).hasClass("fancybox-wrap")}).addClass("fancybox-margin"),this.el.addClass("fancybox-margin")),e=n.scrollTop(),c=n.scrollLeft(),this.el.addClass("fancybox-lock"),n.scrollTop(e).scrollLeft(c));this.open(a)},onUpdate:function(){this.fixed||this.update()},afterClose:function(a){this.overlay&&!b.coming&&this.overlay.fadeOut(a.speedOut,f.proxy(this.close,this))}};b.helpers.title={defaults:{type:"float",position:"bottom"},beforeShow:function(a){var d=
b.current,e=d.title,c=a.type;f.isFunction(e)&&(e=e.call(d.element,d));if(q(e)&&""!==f.trim(e)){d=f('<div class="fancybox-title fancybox-title-'+c+'-wrap">'+e+"</div>");switch(c){case "inside":c=b.skin;break;case "outside":c=b.wrap;break;case "over":c=b.inner;break;default:c=b.skin,d.appendTo("body"),I&&d.width(d.width()),d.wrapInner('<span class="child"></span>'),b.current.margin[2]+=Math.abs(l(d.css("margin-bottom")))}d["top"===a.position?"prependTo":"appendTo"](c)}}};f.fn.fancybox=function(a){var d,
e=f(this),c=this.selector||"",k=function(g){var h=f(this).blur(),j=d,k,l;!g.ctrlKey&&(!g.altKey&&!g.shiftKey&&!g.metaKey)&&!h.is(".fancybox-wrap")&&(k=a.groupAttr||"data-fancybox-group",l=h.attr(k),l||(k="rel",l=h.get(0)[k]),l&&(""!==l&&"nofollow"!==l)&&(h=c.length?f(c):e,h=h.filter("["+k+'="'+l+'"]'),j=h.index(this)),a.index=j,!1!==b.open(h,a)&&g.preventDefault())};a=a||{};d=a.index||0;!c||!1===a.live?e.unbind("click.fb-start").bind("click.fb-start",k):p.undelegate(c,"click.fb-start").delegate(c+
":not('.fancybox-item, .fancybox-nav')","click.fb-start",k);this.filter("[data-fancybox-start=1]").trigger("click");return this};p.ready(function(){var a,d;f.scrollbarWidth===v&&(f.scrollbarWidth=function(){var a=f('<div style="width:50px;height:50px;overflow:auto"><div/></div>').appendTo("body"),b=a.children(),b=b.innerWidth()-b.height(99).innerWidth();a.remove();return b});if(f.support.fixedPosition===v){a=f.support;d=f('<div style="position:fixed;top:20px;"></div>').appendTo("body");var e=20===
d[0].offsetTop||15===d[0].offsetTop;d.remove();a.fixedPosition=e}f.extend(b.defaults,{scrollbarWidth:f.scrollbarWidth(),fixed:f.support.fixedPosition,parent:f("body")});a=f(r).width();J.addClass("fancybox-lock-test");d=f(r).width();J.removeClass("fancybox-lock-test");f("<style type='text/css'>.fancybox-margin{margin-right:"+(d-a)+"px;}</style>").appendTo("head")})})(window,document,jQuery);
;(function(a){var b=a.fancybox;b.helpers.buttons={defaults:{skipSingle:!1,position:"top",tpl:'<div id="fancybox-buttons"><ul><li><a class="btnPrev" title="Previous" href="javascript:;"></a></li><li><a class="btnPlay" title="Start slideshow" href="javascript:;"></a></li><li><a class="btnNext" title="Next" href="javascript:;"></a></li><li><a class="btnToggle" title="Toggle size" href="javascript:;"></a></li><li><a class="btnClose" title="Close" href="javascript:;"></a></li></ul></div>'},list:null,buttons:null,beforeLoad:function(a,b){if(a.skipSingle&&b.group.length<2){b.helpers.buttons=!1,b.closeBtn=!0;return}b.margin[a.position==="bottom"?2:0]+=30},onPlayStart:function(){this.buttons&&this.buttons.play.attr("title","Pause slideshow").addClass("btnPlayOn")},onPlayEnd:function(){this.buttons&&this.buttons.play.attr("title","Start slideshow").removeClass("btnPlayOn")},afterShow:function(c,d){var e=this.buttons;e||(this.list=a(c.tpl).addClass(c.position).appendTo("body"),e={prev:this.list.find(".btnPrev").click(b.prev),next:this.list.find(".btnNext").click(b.next),play:this.list.find(".btnPlay").click(b.play),toggle:this.list.find(".btnToggle").click(b.toggle),close:this.list.find(".btnClose").click(b.close)}),d.index>0||d.loop?e.prev.removeClass("btnDisabled"):e.prev.addClass("btnDisabled"),d.loop||d.index<d.group.length-1?(e.next.removeClass("btnDisabled"),e.play.removeClass("btnDisabled")):(e.next.addClass("btnDisabled"),e.play.addClass("btnDisabled")),this.buttons=e,this.onUpdate(c,d)},onUpdate:function(a,b){var c;if(!this.buttons)return;c=this.buttons.toggle.removeClass("btnDisabled btnToggleOn"),b.canShrink?c.addClass("btnToggleOn"):b.canExpand||c.addClass("btnDisabled")},beforeClose:function(){this.list&&this.list.remove(),this.list=null,this.buttons=null}}})(jQuery)
;(function(a){"use strict";var b=a.fancybox,c=function(b,c,d){return d=d||"",a.type(d)==="object"&&(d=a.param(d,!0)),a.each(c,function(a,c){b=b.replace("$"+a,c||"")}),d.length&&(b+=(b.indexOf("?")>0?"&":"?")+d),b};b.helpers.media={defaults:{youtube:{matcher:/(youtube\.com|youtu\.be|youtube-nocookie\.com)\/(watch\?v=|v\/|u\/|embed\/?)?(videoseries\?list=(.*)|[\w-]{11}|\?listType=(.*)&list=(.*)).*/i,params:{autoplay:1,autohide:1,fs:1,rel:0,hd:1,wmode:"opaque",enablejsapi:1},type:"iframe",url:"//www.youtube.com/embed/$3"},vimeo:{matcher:/(?:vimeo(?:pro)?.com)\/(?:[^\d]+)?(\d+)(?:.*)/,params:{autoplay:1,hd:1,show_title:1,show_byline:1,show_portrait:0,fullscreen:1},type:"iframe",url:"//player.vimeo.com/video/$1"},metacafe:{matcher:/metacafe.com\/(?:watch|fplayer)\/([\w\-]{1,10})/,params:{autoPlay:"yes"},type:"swf",url:function(b,c,d){return d.swf.flashVars="playerVars="+a.param(c,!0),"//www.metacafe.com/fplayer/"+b[1]+"/.swf"}},dailymotion:{matcher:/dailymotion.com\/video\/(.*)\/?(.*)/,params:{additionalInfos:0,autoStart:1},type:"swf",url:"//www.dailymotion.com/swf/video/$1"},twitvid:{matcher:/twitvid\.com\/([a-zA-Z0-9_\-\?\=]+)/i,params:{autoplay:0},type:"iframe",url:"//www.twitvid.com/embed.php?guid=$1"},twitpic:{matcher:/twitpic\.com\/(?!(?:place|photos|events)\/)([a-zA-Z0-9\?\=\-]+)/i,type:"image",url:"//twitpic.com/show/full/$1/"},instagram:{matcher:/(instagr\.am|instagram\.com)\/p\/([a-zA-Z0-9_\-]+)\/?/i,type:"image",url:"//$1/p/$2/media/?size=l"},google_maps:{matcher:/maps\.google\.([a-z]{2,3}(\.[a-z]{2})?)\/(\?ll=|maps\?)(.*)/i,type:"iframe",url:function(a){return"//maps.google."+a[1]+"/"+a[3]+""+a[4]+"&output="+(a[4].indexOf("layer=c")>0?"svembed":"embed")}}},beforeLoad:function(b,d){var e=d.href||"",f=!1,g,h,i,j;for(g in b)if(b.hasOwnProperty(g)){h=b[g],i=e.match(h.matcher);if(i){f=h.type,j=a.extend(!0,{},h.params,d[g]||(a.isPlainObject(b[g])?b[g].params:null)),e=a.type(h.url)==="function"?h.url.call(this,i,j,d):c(h.url,i,j);break}}f&&(d.href=e,d.type=f,d.autoHeight=!1)}}})(jQuery)
;(function(a){var b=a.fancybox;b.helpers.thumbs={defaults:{width:50,height:50,position:"bottom",source:function(b){var c;return b.element&&(c=a(b.element).find("img").attr("src")),!c&&b.type==="image"&&b.href&&(c=b.href),c}},wrap:null,list:null,width:0,init:function(b,c){var d=this,e,f=b.width,g=b.height,h=b.source;e="";for(var i=0;i<c.group.length;i++)e+='<li><a style="width:'+f+"px;height:"+g+'px;" href="javascript:jQuery.fancybox.jumpto('+i+');"></a></li>';this.wrap=a('<div id="fancybox-thumbs"></div>').addClass(b.position).appendTo("body"),this.list=a("<ul>"+e+"</ul>").appendTo(this.wrap),a.each(c.group,function(b){var e=h(c.group[b]);if(!e)return;a("<img />").load(function(){var c=this.width,e=this.height,h,i,j;if(!d.list||!c||!e)return;h=c/f,i=e/g,j=d.list.children().eq(b).find("a"),h>=1&&i>=1&&(h>i?(c=Math.floor(c/i),e=g):(c=f,e=Math.floor(e/h))),a(this).css({width:c,height:e,top:Math.floor(g/2-e/2),left:Math.floor(f/2-c/2)}),j.width(f).height(g),a(this).hide().appendTo(j).fadeIn(300)}).attr("src",e)}),this.width=this.list.children().eq(0).outerWidth(!0),this.list.width(this.width*(c.group.length+1)).css("left",Math.floor(a(window).width()*.5-(c.index*this.width+this.width*.5)))},beforeLoad:function(a,b){if(b.group.length<2){b.helpers.thumbs=!1;return}b.margin[a.position==="top"?0:2]+=a.height+15},afterShow:function(a,b){this.list?this.onUpdate(a,b):this.init(a,b),this.list.children().removeClass("active").eq(b.index).addClass("active")},onUpdate:function(b,c){this.list&&this.list.stop(!0).animate({left:Math.floor(a(window).width()*.5-(c.index*this.width+this.width*.5))},150)},beforeClose:function(){this.wrap&&this.wrap.remove(),this.wrap=null,this.list=null,this.width=0}}})(jQuery)
;function HomeListSlider_1_2(){var a=this;a.Position=0,a.Executing=!1,a.OrgTotalItems=0,a.IsInterval=!0,a.ContainerId,a.BtnAnimationId,a.ItemWidth,a.TotalItems,a.DisplayItems,a.DelayTime,a.HasInterval,a.EdgeWidth,a.MoveForward=function(b){if(!a.Executing){a.Executing=!0;var c="";b&&a.Position==a.OrgTotalItems-1?b=!1:!b&&a.Position==0&&(b=!0),b?(a.Position++,c="-="+(a.ItemWidth-a.EdgeWidth)+"px"):(a.Position--,c="+="+(a.ItemWidth-a.EdgeWidth)+"px"),$("#"+a.ContainerId).animate({left:c},{complete:function(){a.RefreshNavigation(),a.Executing=!1}})}},a.RefreshNavigation=function(){a.Position==0?($("#"+a.BtnAnimationId+"-prev").hide(),$("#"+a.BtnAnimationId+"-next").show()):a.Position==a.OrgTotalItems-a.DisplayItems?($("#"+a.BtnAnimationId+"-prev").show(),$("#"+a.BtnAnimationId+"-next").hide()):($("#"+a.BtnAnimationId+"-prev").show(),$("#"+a.BtnAnimationId+"-next").show())},a.Init=function(b){a.ContainerId=b.containerId,a.BtnAnimationId=b.btnAnimationId,a.ItemWidth=b.itemWidth,a.TotalItems=b.totalItems,a.OrgTotalItems=b.totalItems,a.DisplayItems=b.displayItems,a.DelayTime=b.delayTime!=null?b.delayTime:1e4,a.HasInterval=b.hasInterval!=null?b.hasInterval:!0,a.EdgeWidth=b.edgeWidth!=null?b.edgeWidth:0,$("#"+a.ContainerId).parent().parent().hover(function(){a.IsInterval=!1},function(){a.IsInterval=!0}),$("#"+a.BtnAnimationId+"-prev").click(function(){a.MoveForward(!1)}),$("#"+a.BtnAnimationId+"-next").click(function(){a.MoveForward(!0)}),a.HasInterval&&setInterval(function(){a.IsInterval&&a.MoveForward(!0)},a.DelayTime),a.RefreshNavigation()}}
;(function(a){typeof define=="function"&&define.amd?define(["knockout","jquery","jquery.ui.sortable"],a):a(window.ko,jQuery)})(function(a,b){var c="ko_sortItem",d="ko_sourceIndex",e="ko_sortList",f="ko_parentList",g="ko_dragItem",h=a.utils.unwrapObservable,i=a.utils.domData.get,j=a.utils.domData.set,k=function(b,d){a.utils.arrayForEach(b,function(a){a.nodeType===1&&(j(a,c,d),j(a,f,i(a.parentNode,e)))})},l=function(b,c){var d={},e=h(b())||{},f;return e.data?(d[c]=e.data,d.name=e.template):d[c]=b(),a.utils.arrayForEach(["afterAdd","afterRender","as","beforeRemove","includeDestroyed","templateEngine","templateOptions"],function(b){d[b]=e[b]||a.bindingHandlers.sortable[b]}),c==="foreach"&&(d.afterRender?(f=d.afterRender,d.afterRender=function(a,b){k.call(b,a,b),f.call(b,a,b)}):d.afterRender=k),d},m=function(a,b){var c=h(b);if(c)for(var d=0;d<a;d++)c[d]&&h(c[d]._destroy)&&a++;return a};a.bindingHandlers.sortable={init:function(k,n,o,p,q){var r=b(k),s=h(n())||{},t=l(n,"foreach"),u={},v,w;r.contents().each(function(){this&&this.nodeType!==1&&k.removeChild(this)}),b.extend(!0,u,a.bindingHandlers.sortable),s.options&&u.options&&(a.utils.extend(u.options,s.options),delete s.options),a.utils.extend(u,s),u.connectClass&&(a.isObservable(u.allowDrop)||typeof u.allowDrop=="function")?a.computed({read:function(){var b=h(u.allowDrop),c=typeof b=="function"?b.call(this,t.foreach):b;a.utils.toggleDomNodeCssClass(k,u.connectClass,c)},disposeWhenNodeIsRemoved:k},this):a.utils.toggleDomNodeCssClass(k,u.connectClass,u.allowDrop),a.bindingHandlers.template.init(k,function(){return t},o,p,q),v=u.options.start,w=u.options.update;var x=setTimeout(function(){var l;r.sortable(a.utils.extend(u.options,{start:function(b,c){var e=c.item[0];j(e,d,a.utils.arrayIndexOf(c.item.parent().children(),e)),c.item.find("input:focus").change(),v&&v.apply(this,arguments)},receive:function(a,b){l=i(b.item[0],g),l&&(l.clone&&(l=l.clone()),u.dragged&&(l=u.dragged.call(this,l,a,b)||l))},update:function(g,h){var k,n,o,p,q,r=h.item[0],s=h.item.parent()[0],v=i(r,c)||l;l=null;if(v&&(this===s||b.contains(this,s))){k=i(r,f),o=i(r,d),n=i(r.parentNode,e),p=a.utils.arrayIndexOf(h.item.parent().children(),r),t.includeDestroyed||(o=m(o,k),p=m(p,n));if(u.beforeMove||u.afterMove)q={item:v,sourceParent:k,sourceParentNode:k&&h.sender||r.parentNode,sourceIndex:o,targetParent:n,targetIndex:p,cancelDrop:!1};if(u.beforeMove){u.beforeMove.call(this,q,g,h);if(q.cancelDrop){q.sourceParent?b(q.sourceParent===q.targetParent?this:h.sender).sortable("cancel"):b(r).remove();return}}p>=0&&(k&&(k.splice(o,1),a.processAllDeferredBindingUpdates&&a.processAllDeferredBindingUpdates()),n.splice(p,0,v)),j(r,c,null),h.item.remove(),a.processAllDeferredBindingUpdates&&a.processAllDeferredBindingUpdates(),u.afterMove&&u.afterMove.call(this,q,g,h)}w&&w.apply(this,arguments)},connectWith:u.connectClass?"."+u.connectClass:!1})),u.isEnabled!==undefined&&a.computed({read:function(){r.sortable(h(u.isEnabled)?"enable":"disable")},disposeWhenNodeIsRemoved:k})},0);return a.utils.domNodeDisposal.addDisposeCallback(k,function(){(r.data("ui-sortable")||r.data("sortable"))&&r.sortable("destroy"),clearTimeout(x)}),{controlsDescendantBindings:!0}},update:function(b,c,d,f,g){var h=l(c,"foreach");j(b,e,h.foreach),a.bindingHandlers.template.update(b,function(){return h},d,f,g)},connectClass:"ko_container",allowDrop:!0,afterMove:null,beforeMove:null,options:{}},a.bindingHandlers.draggable={init:function(c,d,e,f,i){var k=h(d())||{},m=k.options||{},n=a.utils.extend({},a.bindingHandlers.draggable.options),o=l(d,"data"),p=k.connectClass||a.bindingHandlers.draggable.connectClass,q=k.isEnabled!==undefined?k.isEnabled:a.bindingHandlers.draggable.isEnabled;return k=k.data||k,j(c,g,k),a.utils.extend(n,m),n.connectToSortable=p?"."+p:!1,b(c).draggable(n),q!==undefined&&a.computed({read:function(){b(c).draggable(h(q)?"enable":"disable")},disposeWhenNodeIsRemoved:c}),a.bindingHandlers.template.init(c,function(){return o},e,f,i)},update:function(b,c,d,e,f){var g=l(c,"data");return a.bindingHandlers.template.update(b,function(){return g},d,e,f)},connectClass:a.bindingHandlers.sortable.connectClass,options:{helper:"clone"}}})
;(function(a,b,c,d){var e=a(b);a.fn.lazyload=function(f){function j(){var b=0;g.each(function(){var c=a(this);if(i.skip_invisible&&!c.is(":visible"))return;if(!a.abovethetop(this,i)&&!a.leftofbegin(this,i))if(!a.belowthefold(this,i)&&!a.rightoffold(this,i))c.trigger("appear"),b=0;else if(++b>i.failure_limit)return!1})}var g=this,h,i={threshold:0,failure_limit:0,event:"scroll",effect:"show",container:b,data_attribute:"original",skip_invisible:!0,appear:null,load:null,placeholder:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAAAANSURBVBhXYzh8+PB/AAffA0nNPuCLAAAAAElFTkSuQmCC"};return f&&(d!==f.failurelimit&&(f.failure_limit=f.failurelimit,delete f.failurelimit),d!==f.effectspeed&&(f.effect_speed=f.effectspeed,delete f.effectspeed),a.extend(i,f)),h=i.container===d||i.container===b?e:a(i.container),0===i.event.indexOf("scroll")&&h.bind(i.event,function(){return j()}),this.each(function(){var b=this,c=a(b);b.loaded=!1,(c.attr("src")===d||c.attr("src")===!1)&&c.is("img")&&c.attr("src",i.placeholder),c.one("appear",function(){if(!this.loaded){if(i.appear){var d=g.length;i.appear.call(b,d,i)}a("<img />").bind("load",function(){var d=c.attr("data-"+i.data_attribute);c.hide(),c.is("img")?c.attr("src",d):c.css("background-image","url('"+d+"')"),c[i.effect](i.effect_speed),b.loaded=!0;var e=a.grep(g,function(a){return!a.loaded});g=a(e);if(i.load){var f=g.length;i.load.call(b,f,i)}}).attr("src",c.attr("data-"+i.data_attribute))}}),0!==i.event.indexOf("scroll")&&c.bind(i.event,function(){b.loaded||c.trigger("appear")})}),e.bind("resize",function(){j()}),/(?:iphone|ipod|ipad).*os 5/gi.test(navigator.appVersion)&&e.bind("pageshow",function(b){b.originalEvent&&b.originalEvent.persisted&&g.each(function(){a(this).trigger("appear")})}),a(c).ready(function(){j()}),this},a.belowthefold=function(c,f){var g;return f.container===d||f.container===b?g=(b.innerHeight?b.innerHeight:e.height())+e.scrollTop():g=a(f.container).offset().top+a(f.container).height(),g<=a(c).offset().top-f.threshold},a.rightoffold=function(c,f){var g;return f.container===d||f.container===b?g=e.width()+e.scrollLeft():g=a(f.container).offset().left+a(f.container).width(),g<=a(c).offset().left-f.threshold},a.abovethetop=function(c,f){var g;return f.container===d||f.container===b?g=e.scrollTop():g=a(f.container).offset().top,g>=a(c).offset().top+f.threshold+a(c).height()},a.leftofbegin=function(c,f){var g;return f.container===d||f.container===b?g=e.scrollLeft():g=a(f.container).offset().left,g>=a(c).offset().left+f.threshold+a(c).width()},a.inviewport=function(b,c){return!a.rightoffold(b,c)&&!a.leftofbegin(b,c)&&!a.belowthefold(b,c)&&!a.abovethetop(b,c)},a.extend(a.expr[":"],{"below-the-fold":function(b){return a.belowthefold(b,{threshold:0})},"above-the-top":function(b){return!a.belowthefold(b,{threshold:0})},"right-of-screen":function(b){return a.rightoffold(b,{threshold:0})},"left-of-screen":function(b){return!a.rightoffold(b,{threshold:0})},"in-viewport":function(b){return a.inviewport(b,{threshold:0})},"above-the-fold":function(b){return!a.belowthefold(b,{threshold:0})},"right-of-fold":function(b){return a.rightoffold(b,{threshold:0})},"left-of-fold":function(b){return!a.rightoffold(b,{threshold:0})}})})(jQuery,window,document)
;(function(a,b){var c=typeof define=="function",d=typeof module!="undefined"&&module.exports;c?define(b):d?module.exports=b():this[a]=b()})("jEmoji",function(){function c(a){var b=Object.keys(a);return b.sort(function(a,b){return b.length-a.length}),new RegExp("("+b.join("|")+")","g")}function e(c){return c.replace(a.EMOJI_RE(),function(a,c){var d=b[c];return'<span class="emoji emoji'+d[2]+'" title="'+d[1]+'"></span>'})}function r(b){return b.replace(a.EMOJI_DOCOMO_RE(),function(a,b){return f[b]})}function t(b){return b.replace(a.EMOJI_KDDI_RE(),function(a,b){return g[b]})}function v(b){return b.replace(a.EMOJI_SOFTBANK_RE(),function(a,b){return h[b]})}function x(b){return b.replace(a.EMOJI_GOOGLE_RE(),function(a,b){return i[b]})}var a={EMOJI_RE:function(){return d||(d=c(b))},EMOJI_DOCOMO_RE:function(){return q||(q=c(f))},EMOJI_KDDI_RE:function(){return s||(s=c(g))},EMOJI_SOFTBANK_RE:function(){return u||(u=c(h))},EMOJI_GOOGLE_RE:function(){return w||(w=c(i))}},b=a.EMOJI_MAP={"👬":["U+1F46C","man and man holding hands","1f46c",["-","-"],["-","-"],["","U+E428"],["󾆠","U+FE1A0"]],"👭":["U+1F46D","woman and woman holding hands","1f46d",["-","-"],["-","-"],["","U+E428"],["󾆠","U+FE1A0"]],"🌲":["U+1F332","evergreen tree","1f332",["-","-"],["","U+EB49"],["","U+E305"],["󾁍","U+FE04D"]],"🌳":["U+1F333","deciduous tree","1f333",["-","-"],["","U+EB49"],["","U+E305"],["󾁍","U+FE04D"]],"🍋":["U+1F34B","lemon","1f34b",["-","-"],["","U+EABA"],["","U+E346"],["󾁒","U+FE052"]],"😎":["U+1F60E","smiling face with sunglasses","1f60e",["","U+E726"],["","U+E5C4"],["","U+E106"],["󾌧","U+FE327"]],"😀":["U+1F600","grinning face","1f600",["","U+E753"],["","U+EB80"],["","U+E404"],["󾌳","U+FE333"]],"☁":["U+2601","cloud","2601",["","U+E63F"],["","U+E48D"],["","U+E049"],["󾀁","U+FE001"]],"☔":["U+2614","umbrella with rain drops","2614",["","U+E640"],["","U+E48C"],["","U+E04B"],["󾀂","U+FE002"]],"⛄":["U+26C4","snowman without snow","26c4",["","U+E641"],["","U+E485"],["","U+E048"],["󾀃","U+FE003"]],"⚡":["U+26A1","high voltage sign","26a1",["","U+E642"],["","U+E487"],["","U+E13D"],["󾀄","U+FE004"]],"🌀":["U+1F300","cyclone","1f300",["","U+E643"],["","U+E469"],["","U+E443"],["󾀅","U+FE005"]],"🌁":["U+1F301","foggy","1f301",["","U+E644"],["","U+E598"],["-","-"],["󾀆","U+FE006"]],"🌂":["U+1F302","closed umbrella","1f302",["","U+E645"],["","U+EAE8"],["","U+E43C"],["󾀇","U+FE007"]],"🌃":["U+1F303","night with stars","1f303",["","U+E6B3"],["","U+EAF1"],["","U+E44B"],["󾀈","U+FE008"]],"🌄":["U+1F304","sunrise over mountains","1f304",["","U+E63E"],["","U+EAF4"],["","U+E04D"],["󾀉","U+FE009"]],"🌅":["U+1F305","sunrise","1f305",["","U+E63E"],["","U+EAF4"],["","U+E449"],["󾀊","U+FE00A"]],"🌆":["U+1F306","cityscape at dusk","1f306",["-","-"],["","U+E5DA"],["","U+E146"],["󾀋","U+FE00B"]],"🌇":["U+1F307","sunset over buildings","1f307",["","U+E63E"],["","U+E5DA"],["","U+E44A"],["󾀌","U+FE00C"]],"🌈":["U+1F308","rainbow","1f308",["-","-"],["","U+EAF2"],["","U+E44C"],["󾀍","U+FE00D"]],"❄":["U+2744","snowflake","2744",["-","-"],["","U+E48A"],["-","-"],["󾀎","U+FE00E"]],"⛅":["U+26C5","sun behind cloud","26c5",["","U+E63E U+E63F"],["","U+E48E"],["","U+E04A U+E049"],["󾀏","U+FE00F"]],"🌉":["U+1F309","bridge at night","1f309",["","U+E6B3"],["","U+E4BF"],["","U+E44B"],["󾀐","U+FE010"]],"🌊":["U+1F30A","water wave","1f30a",["","U+E73F"],["","U+EB7C"],["","U+E43E"],["󾀸","U+FE038"]],"🌋":["U+1F30B","volcano","1f30b",["-","-"],["","U+EB53"],["-","-"],["󾀺","U+FE03A"]],"🌌":["U+1F30C","milky way","1f30c",["","U+E6B3"],["","U+EB5F"],["","U+E44B"],["󾀻","U+FE03B"]],"🌏":["U+1F30F","earth globe asia-australia","1f30f",["-","-"],["","U+E5B3"],["-","-"],["󾀹","U+FE039"]],"🌑":["U+1F311","new moon symbol","1f311",["","U+E69C"],["","U+E5A8"],["-","-"],["󾀑","U+FE011"]],"🌔":["U+1F314","waxing gibbous moon symbol","1f314",["","U+E69D"],["","U+E5A9"],["","U+E04C"],["󾀒","U+FE012"]],"🌓":["U+1F313","first quarter moon symbol","1f313",["","U+E69E"],["","U+E5AA"],["","U+E04C"],["󾀓","U+FE013"]],"🌙":["U+1F319","crescent moon","1f319",["","U+E69F"],["","U+E486"],["","U+E04C"],["󾀔","U+FE014"]],"🌕":["U+1F315","full moon symbol","1f315",["","U+E6A0"],["-","-"],["-","-"],["󾀕","U+FE015"]],"🌛":["U+1F31B","first quarter moon with face","1f31b",["","U+E69E"],["","U+E489"],["","U+E04C"],["󾀖","U+FE016"]],"🌟":["U+1F31F","glowing star","1f31f",["-","-"],["","U+E48B"],["","U+E335"],["󾭩","U+FEB69"]],"🌠":["U+1F320","shooting star","1f320",["-","-"],["","U+E468"],["-","-"],["󾭪","U+FEB6A"]],"🕐":["U+1F550","clock face one oclock","1f550",["","U+E6BA"],["","U+E594"],["","U+E024"],["󾀞","U+FE01E"]],"🕑":["U+1F551","clock face two oclock","1f551",["","U+E6BA"],["","U+E594"],["","U+E025"],["󾀟","U+FE01F"]],"🕒":["U+1F552","clock face three oclock","1f552",["","U+E6BA"],["","U+E594"],["","U+E026"],["󾀠","U+FE020"]],"🕓":["U+1F553","clock face four oclock","1f553",["","U+E6BA"],["","U+E594"],["","U+E027"],["󾀡","U+FE021"]],"🕔":["U+1F554","clock face five oclock","1f554",["","U+E6BA"],["","U+E594"],["","U+E028"],["󾀢","U+FE022"]],"🕕":["U+1F555","clock face six oclock","1f555",["","U+E6BA"],["","U+E594"],["","U+E029"],["󾀣","U+FE023"]],"🕖":["U+1F556","clock face seven oclock","1f556",["","U+E6BA"],["","U+E594"],["","U+E02A"],["󾀤","U+FE024"]],"🕗":["U+1F557","clock face eight oclock","1f557",["","U+E6BA"],["","U+E594"],["","U+E02B"],["󾀥","U+FE025"]],"🕘":["U+1F558","clock face nine oclock","1f558",["","U+E6BA"],["","U+E594"],["","U+E02C"],["󾀦","U+FE026"]],"🕙":["U+1F559","clock face ten oclock","1f559",["","U+E6BA"],["","U+E594"],["","U+E02D"],["󾀧","U+FE027"]],"🕚":["U+1F55A","clock face eleven oclock","1f55a",["","U+E6BA"],["","U+E594"],["","U+E02E"],["󾀨","U+FE028"]],"🕛":["U+1F55B","clock face twelve oclock","1f55b",["","U+E6BA"],["","U+E594"],["","U+E02F"],["󾀩","U+FE029"]],"⌚":["U+231A","watch","231a",["","U+E71F"],["","U+E57A"],["-","-"],["󾀝","U+FE01D"]],"⌛":["U+231B","hourglass","231b",["","U+E71C"],["","U+E57B"],["-","-"],["󾀜","U+FE01C"]],"⏰":["U+23F0","alarm clock","23f0",["","U+E6BA"],["","U+E594"],["","U+E02D"],["󾀪","U+FE02A"]],"⏳":["U+23F3","hourglass with flowing sand","23f3",["","U+E71C"],["","U+E47C"],["-","-"],["󾀛","U+FE01B"]],"♈":["U+2648","aries","2648",["","U+E646"],["","U+E48F"],["","U+E23F"],["󾀫","U+FE02B"]],"♉":["U+2649","taurus","2649",["","U+E647"],["","U+E490"],["","U+E240"],["󾀬","U+FE02C"]],"♊":["U+264A","gemini","264a",["","U+E648"],["","U+E491"],["","U+E241"],["󾀭","U+FE02D"]],"♋":["U+264B","cancer","264b",["","U+E649"],["","U+E492"],["","U+E242"],["󾀮","U+FE02E"]],"♌":["U+264C","leo","264c",["","U+E64A"],["","U+E493"],["","U+E243"],["󾀯","U+FE02F"]],"♍":["U+264D","virgo","264d",["","U+E64B"],["","U+E494"],["","U+E244"],["󾀰","U+FE030"]],"♎":["U+264E","libra","264e",["","U+E64C"],["","U+E495"],["","U+E245"],["󾀱","U+FE031"]],"♏":["U+264F","scorpius","264f",["","U+E64D"],["","U+E496"],["","U+E246"],["󾀲","U+FE032"]],"♐":["U+2650","sagittarius","2650",["","U+E64E"],["","U+E497"],["","U+E247"],["󾀳","U+FE033"]],"♑":["U+2651","capricorn","2651",["","U+E64F"],["","U+E498"],["","U+E248"],["󾀴","U+FE034"]],"♒":["U+2652","aquarius","2652",["","U+E650"],["","U+E499"],["","U+E249"],["󾀵","U+FE035"]],"♓":["U+2653","pisces","2653",["","U+E651"],["","U+E49A"],["","U+E24A"],["󾀶","U+FE036"]],"⛎":["U+26CE","ophiuchus","26ce",["-","-"],["","U+E49B"],["","U+E24B"],["󾀷","U+FE037"]],"🍀":["U+1F340","four leaf clover","1f340",["","U+E741"],["","U+E513"],["","U+E110"],["󾀼","U+FE03C"]],"🌷":["U+1F337","tulip","1f337",["","U+E743"],["","U+E4E4"],["","U+E304"],["󾀽","U+FE03D"]],"🌱":["U+1F331","seedling","1f331",["","U+E746"],["","U+EB7D"],["","U+E110"],["󾀾","U+FE03E"]],"🍁":["U+1F341","maple leaf","1f341",["","U+E747"],["","U+E4CE"],["","U+E118"],["󾀿","U+FE03F"]],"🌸":["U+1F338","cherry blossom","1f338",["","U+E748"],["","U+E4CA"],["","U+E030"],["󾁀","U+FE040"]],"🌹":["U+1F339","rose","1f339",["-","-"],["","U+E5BA"],["","U+E032"],["󾁁","U+FE041"]],"🍂":["U+1F342","fallen leaf","1f342",["","U+E747"],["","U+E5CD"],["","U+E119"],["󾁂","U+FE042"]],"🍃":["U+1F343","leaf fluttering in wind","1f343",["-","-"],["","U+E5CD"],["","U+E447"],["󾁃","U+FE043"]],"🌺":["U+1F33A","hibiscus","1f33a",["-","-"],["","U+EA94"],["","U+E303"],["󾁅","U+FE045"]],"🌻":["U+1F33B","sunflower","1f33b",["-","-"],["","U+E4E3"],["","U+E305"],["󾁆","U+FE046"]],"🌴":["U+1F334","palm tree","1f334",["-","-"],["","U+E4E2"],["","U+E307"],["󾁇","U+FE047"]],"🌵":["U+1F335","cactus","1f335",["-","-"],["","U+EA96"],["","U+E308"],["󾁈","U+FE048"]],"🌾":["U+1F33E","ear of rice","1f33e",["-","-"],["-","-"],["","U+E444"],["󾁉","U+FE049"]],"🌽":["U+1F33D","ear of maize","1f33d",["-","-"],["","U+EB36"],["-","-"],["󾁊","U+FE04A"]],"🍄":["U+1F344","mushroom","1f344",["-","-"],["","U+EB37"],["-","-"],["󾁋","U+FE04B"]],"🌰":["U+1F330","chestnut","1f330",["-","-"],["","U+EB38"],["-","-"],["󾁌","U+FE04C"]],"🌼":["U+1F33C","blossom","1f33c",["-","-"],["","U+EB49"],["","U+E305"],["󾁍","U+FE04D"]],"🌿":["U+1F33F","herb","1f33f",["","U+E741"],["","U+EB82"],["","U+E110"],["󾁎","U+FE04E"]],"🍒":["U+1F352","cherries","1f352",["","U+E742"],["","U+E4D2"],["-","-"],["󾁏","U+FE04F"]],"🍌":["U+1F34C","banana","1f34c",["","U+E744"],["","U+EB35"],["-","-"],["󾁐","U+FE050"]],"🍎":["U+1F34E","red apple","1f34e",["","U+E745"],["","U+EAB9"],["","U+E345"],["󾁑","U+FE051"]],"🍊":["U+1F34A","tangerine","1f34a",["-","-"],["","U+EABA"],["","U+E346"],["󾁒","U+FE052"]],"🍓":["U+1F353","strawberry","1f353",["-","-"],["","U+E4D4"],["","U+E347"],["󾁓","U+FE053"]],"🍉":["U+1F349","watermelon","1f349",["-","-"],["","U+E4CD"],["","U+E348"],["󾁔","U+FE054"]],"🍅":["U+1F345","tomato","1f345",["-","-"],["","U+EABB"],["","U+E349"],["󾁕","U+FE055"]],"🍆":["U+1F346","aubergine","1f346",["-","-"],["","U+EABC"],["","U+E34A"],["󾁖","U+FE056"]],"🍈":["U+1F348","melon","1f348",["-","-"],["","U+EB32"],["-","-"],["󾁗","U+FE057"]],"🍍":["U+1F34D","pineapple","1f34d",["-","-"],["","U+EB33"],["-","-"],["󾁘","U+FE058"]],"🍇":["U+1F347","grapes","1f347",["-","-"],["","U+EB34"],["-","-"],["󾁙","U+FE059"]],"🍑":["U+1F351","peach","1f351",["-","-"],["","U+EB39"],["-","-"],["󾁚","U+FE05A"]],"🍏":["U+1F34F","green apple","1f34f",["","U+E745"],["","U+EB5A"],["","U+E345"],["󾁛","U+FE05B"]],"👀":["U+1F440","eyes","1f440",["","U+E691"],["","U+E5A4"],["","U+E419"],["󾆐","U+FE190"]],"👂":["U+1F442","ear","1f442",["","U+E692"],["","U+E5A5"],["","U+E41B"],["󾆑","U+FE191"]],"👃":["U+1F443","nose","1f443",["-","-"],["","U+EAD0"],["","U+E41A"],["󾆒","U+FE192"]],"👄":["U+1F444","mouth","1f444",["","U+E6F9"],["","U+EAD1"],["","U+E41C"],["󾆓","U+FE193"]],"👅":["U+1F445","tongue","1f445",["","U+E728"],["","U+EB47"],["","U+E409"],["󾆔","U+FE194"]],"💄":["U+1F484","lipstick","1f484",["","U+E710"],["","U+E509"],["","U+E31C"],["󾆕","U+FE195"]],"💅":["U+1F485","nail polish","1f485",["-","-"],["","U+EAA0"],["","U+E31D"],["󾆖","U+FE196"]],"💆":["U+1F486","face massage","1f486",["-","-"],["","U+E50B"],["","U+E31E"],["󾆗","U+FE197"]],"💇":["U+1F487","haircut","1f487",["","U+E675"],["","U+EAA1"],["","U+E31F"],["󾆘","U+FE198"]],"💈":["U+1F488","barber pole","1f488",["-","-"],["","U+EAA2"],["","U+E320"],["󾆙","U+FE199"]],"👤":["U+1F464","bust in silhouette","1f464",["","U+E6B1"],["-","-"],["-","-"],["󾆚","U+FE19A"]],"👦":["U+1F466","boy","1f466",["","U+E6F0"],["","U+E4FC"],["","U+E001"],["󾆛","U+FE19B"]],"👧":["U+1F467","girl","1f467",["","U+E6F0"],["","U+E4FA"],["","U+E002"],["󾆜","U+FE19C"]],"👨":["U+1F468","man","1f468",["","U+E6F0"],["","U+E4FC"],["","U+E004"],["󾆝","U+FE19D"]],"👩":["U+1F469","woman","1f469",["","U+E6F0"],["","U+E4FA"],["","U+E005"],["󾆞","U+FE19E"]],"👪":["U+1F46A","family","1f46a",["-","-"],["","U+E501"],["-","-"],["󾆟","U+FE19F"]],"👫":["U+1F46B","man and woman holding hands","1f46b",["-","-"],["-","-"],["","U+E428"],["󾆠","U+FE1A0"]],"👮":["U+1F46E","police officer","1f46e",["-","-"],["","U+E5DD"],["","U+E152"],["󾆡","U+FE1A1"]],"👯":["U+1F46F","woman with bunny ears","1f46f",["-","-"],["","U+EADB"],["","U+E429"],["󾆢","U+FE1A2"]],"👰":["U+1F470","bride with veil","1f470",["-","-"],["","U+EAE9"],["-","-"],["󾆣","U+FE1A3"]],"👱":["U+1F471","person with blond hair","1f471",["-","-"],["","U+EB13"],["","U+E515"],["󾆤","U+FE1A4"]],"👲":["U+1F472","man with gua pi mao","1f472",["-","-"],["","U+EB14"],["","U+E516"],["󾆥","U+FE1A5"]],"👳":["U+1F473","man with turban","1f473",["-","-"],["","U+EB15"],["","U+E517"],["󾆦","U+FE1A6"]],"👴":["U+1F474","older man","1f474",["-","-"],["","U+EB16"],["","U+E518"],["󾆧","U+FE1A7"]],"👵":["U+1F475","older woman","1f475",["-","-"],["","U+EB17"],["","U+E519"],["󾆨","U+FE1A8"]],"👶":["U+1F476","baby","1f476",["-","-"],["","U+EB18"],["","U+E51A"],["󾆩","U+FE1A9"]],"👷":["U+1F477","construction worker","1f477",["-","-"],["","U+EB19"],["","U+E51B"],["󾆪","U+FE1AA"]],"👸":["U+1F478","princess","1f478",["-","-"],["","U+EB1A"],["","U+E51C"],["󾆫","U+FE1AB"]],"👹":["U+1F479","japanese ogre","1f479",["-","-"],["","U+EB44"],["-","-"],["󾆬","U+FE1AC"]],"👺":["U+1F47A","japanese goblin","1f47a",["-","-"],["","U+EB45"],["-","-"],["󾆭","U+FE1AD"]],"👻":["U+1F47B","ghost","1f47b",["-","-"],["","U+E4CB"],["","U+E11B"],["󾆮","U+FE1AE"]],"👼":["U+1F47C","baby angel","1f47c",["-","-"],["","U+E5BF"],["","U+E04E"],["󾆯","U+FE1AF"]],"👽":["U+1F47D","extraterrestrial alien","1f47d",["-","-"],["","U+E50E"],["","U+E10C"],["󾆰","U+FE1B0"]],"👾":["U+1F47E","alien monster","1f47e",["-","-"],["","U+E4EC"],["","U+E12B"],["󾆱","U+FE1B1"]],"👿":["U+1F47F","imp","1f47f",["-","-"],["","U+E4EF"],["","U+E11A"],["󾆲","U+FE1B2"]],"💀":["U+1F480","skull","1f480",["-","-"],["","U+E4F8"],["","U+E11C"],["󾆳","U+FE1B3"]],"💁":["U+1F481","information desk person","1f481",["-","-"],["-","-"],["","U+E253"],["󾆴","U+FE1B4"]],"💂":["U+1F482","guardsman","1f482",["-","-"],["-","-"],["","U+E51E"],["󾆵","U+FE1B5"]],"💃":["U+1F483","dancer","1f483",["-","-"],["","U+EB1C"],["","U+E51F"],["󾆶","U+FE1B6"]],"🐌":["U+1F40C","snail","1f40c",["","U+E74E"],["","U+EB7E"],["-","-"],["󾆹","U+FE1B9"]],"🐍":["U+1F40D","snake","1f40d",["-","-"],["","U+EB22"],["","U+E52D"],["󾇓","U+FE1D3"]],"🐎":["U+1F40E","horse","1f40e",["","U+E754"],["","U+E4D8"],["","U+E134"],["󾟜","U+FE7DC"]],"🐊":["U+1F40A","crocodile","1f40a",["-","-"],["-","-"],["-","-"],["-","-"]],"🐋":["U+1F40B","whale","1f40b",["-","-"],["-","-"],["-","-"],["-","-"]],"🐉":["U+1F409","dragon","1f409",["-","-"],["-","-"],["-","-"],["-","-"]],"🐈":["U+1F408","cat","1f408",["-","-"],["-","-"],["-","-"],["-","-"]],"🐇":["U+1F407","rabbit","1f407",["-","-"],["-","-"],["-","-"],["-","-"]],"🐆":["U+1F406","leopard","1f406",["-","-"],["-","-"],["-","-"],["-","-"]],"🐅":["U+1F405","tiger","1f405",["-","-"],["-","-"],["-","-"],["-","-"]],"🐄":["U+1F404","cow","1f404",["-","-"],["-","-"],["-","-"],["-","-"]],"🐃":["U+1F403","water buffalo","1f403",["-","-"],["-","-"],["-","-"],["-","-"]],"🐂":["U+1F402","ox","1f402",["-","-"],["-","-"],["-","-"],["-","-"]],"🐁":["U+1F401","mouse","1f401",["-","-"],["-","-"],["-","-"],["-","-"]],"🐀":["U+1F400","rat","1f400",["-","-"],["-","-"],["-","-"],["-","-"]],"🐔":["U+1F414","chicken","1f414",["-","-"],["","U+EB23"],["","U+E52E"],["󾇔","U+FE1D4"]],"🐗":["U+1F417","boar","1f417",["-","-"],["","U+EB24"],["","U+E52F"],["󾇕","U+FE1D5"]],"🐫":["U+1F42B","bactrian camel","1f42b",["-","-"],["","U+EB25"],["","U+E530"],["󾇖","U+FE1D6"]],"🐘":["U+1F418","elephant","1f418",["-","-"],["","U+EB1F"],["","U+E526"],["󾇌","U+FE1CC"]],"🐨":["U+1F428","koala","1f428",["-","-"],["","U+EB20"],["","U+E527"],["󾇍","U+FE1CD"]],"🐒":["U+1F412","monkey","1f412",["-","-"],["","U+E4D9"],["","U+E528"],["󾇎","U+FE1CE"]],"🐑":["U+1F411","sheep","1f411",["-","-"],["","U+E48F"],["","U+E529"],["󾇏","U+FE1CF"]],"🐙":["U+1F419","octopus","1f419",["-","-"],["","U+E5C7"],["","U+E10A"],["󾇅","U+FE1C5"]],"🐚":["U+1F41A","spiral shell","1f41a",["-","-"],["","U+EAEC"],["","U+E441"],["󾇆","U+FE1C6"]],"🐛":["U+1F41B","bug","1f41b",["-","-"],["","U+EB1E"],["","U+E525"],["󾇋","U+FE1CB"]],"🐜":["U+1F41C","ant","1f41c",["-","-"],["","U+E4DD"],["-","-"],["󾇚","U+FE1DA"]],"🐝":["U+1F41D","honeybee","1f41d",["-","-"],["","U+EB57"],["-","-"],["󾇡","U+FE1E1"]],"🐞":["U+1F41E","lady beetle","1f41e",["-","-"],["","U+EB58"],["-","-"],["󾇢","U+FE1E2"]],"🐠":["U+1F420","tropical fish","1f420",["","U+E751"],["","U+EB1D"],["","U+E522"],["󾇉","U+FE1C9"]],"🐡":["U+1F421","blowfish","1f421",["","U+E751"],["","U+E4D3"],["","U+E019"],["󾇙","U+FE1D9"]],"🐢":["U+1F422","turtle","1f422",["-","-"],["","U+E5D4"],["-","-"],["󾇜","U+FE1DC"]],"🐤":["U+1F424","baby chick","1f424",["","U+E74F"],["","U+E4E0"],["","U+E523"],["󾆺","U+FE1BA"]],"🐥":["U+1F425","front-facing baby chick","1f425",["","U+E74F"],["","U+EB76"],["","U+E523"],["󾆻","U+FE1BB"]],"🐦":["U+1F426","bird","1f426",["","U+E74F"],["","U+E4E0"],["","U+E521"],["󾇈","U+FE1C8"]],"🐣":["U+1F423","hatching chick","1f423",["","U+E74F"],["","U+E5DB"],["","U+E523"],["󾇝","U+FE1DD"]],"🐧":["U+1F427","penguin","1f427",["","U+E750"],["","U+E4DC"],["","U+E055"],["󾆼","U+FE1BC"]],"🐩":["U+1F429","poodle","1f429",["","U+E6A1"],["","U+E4DF"],["","U+E052"],["󾇘","U+FE1D8"]],"🐟":["U+1F41F","fish","1f41f",["","U+E751"],["","U+E49A"],["","U+E019"],["󾆽","U+FE1BD"]],"🐬":["U+1F42C","dolphin","1f42c",["-","-"],["","U+EB1B"],["","U+E520"],["󾇇","U+FE1C7"]],"🐭":["U+1F42D","mouse face","1f42d",["-","-"],["","U+E5C2"],["","U+E053"],["󾇂","U+FE1C2"]],"🐯":["U+1F42F","tiger face","1f42f",["-","-"],["","U+E5C0"],["","U+E050"],["󾇀","U+FE1C0"]],"🐱":["U+1F431","cat face","1f431",["","U+E6A2"],["","U+E4DB"],["","U+E04F"],["󾆸","U+FE1B8"]],"🐳":["U+1F433","spouting whale","1f433",["-","-"],["","U+E470"],["","U+E054"],["󾇃","U+FE1C3"]],"🐴":["U+1F434","horse face","1f434",["","U+E754"],["","U+E4D8"],["","U+E01A"],["󾆾","U+FE1BE"]],"🐵":["U+1F435","monkey face","1f435",["-","-"],["","U+E4D9"],["","U+E109"],["󾇄","U+FE1C4"]],"🐶":["U+1F436","dog face","1f436",["","U+E6A1"],["","U+E4E1"],["","U+E052"],["󾆷","U+FE1B7"]],"🐷":["U+1F437","pig face","1f437",["","U+E755"],["","U+E4DE"],["","U+E10B"],["󾆿","U+FE1BF"]],"🐻":["U+1F43B","bear face","1f43b",["-","-"],["","U+E5C1"],["","U+E051"],["󾇁","U+FE1C1"]],"🐹":["U+1F439","hamster face","1f439",["-","-"],["-","-"],["","U+E524"],["󾇊","U+FE1CA"]],"🐺":["U+1F43A","wolf face","1f43a",["","U+E6A1"],["","U+E4E1"],["","U+E52A"],["󾇐","U+FE1D0"]],"🐮":["U+1F42E","cow face","1f42e",["-","-"],["","U+EB21"],["","U+E52B"],["󾇑","U+FE1D1"]],"🐰":["U+1F430","rabbit face","1f430",["-","-"],["","U+E4D7"],["","U+E52C"],["󾇒","U+FE1D2"]],"🐸":["U+1F438","frog face","1f438",["-","-"],["","U+E4DA"],["","U+E531"],["󾇗","U+FE1D7"]],"🐾":["U+1F43E","paw prints","1f43e",["","U+E698"],["","U+E4EE"],["","U+E536"],["󾇛","U+FE1DB"]],"🐲":["U+1F432","dragon face","1f432",["-","-"],["","U+EB3F"],["-","-"],["󾇞","U+FE1DE"]],"🐼":["U+1F43C","panda face","1f43c",["-","-"],["","U+EB46"],["-","-"],["󾇟","U+FE1DF"]],"🐽":["U+1F43D","pig nose","1f43d",["","U+E755"],["","U+EB48"],["","U+E10B"],["󾇠","U+FE1E0"]],"😠":["U+1F620","angry face","1f620",["","U+E6F1"],["","U+E472"],["","U+E059"],["󾌠","U+FE320"]],"😩":["U+1F629","weary face","1f629",["","U+E6F3"],["","U+EB67"],["","U+E403"],["󾌡","U+FE321"]],"😲":["U+1F632","astonished face","1f632",["","U+E6F4"],["","U+EACA"],["","U+E410"],["󾌢","U+FE322"]],"😞":["U+1F61E","disappointed face","1f61e",["","U+E6F2"],["","U+EAC0"],["","U+E058"],["󾌣","U+FE323"]],"😵":["U+1F635","dizzy face","1f635",["","U+E6F4"],["","U+E5AE"],["","U+E406"],["󾌤","U+FE324"]],"😰":["U+1F630","face with open mouth and cold sweat","1f630",["","U+E723"],["","U+EACB"],["","U+E40F"],["󾌥","U+FE325"]],"😒":["U+1F612","unamused face","1f612",["","U+E725"],["","U+EAC9"],["","U+E40E"],["󾌦","U+FE326"]],"😍":["U+1F60D","smiling face with heart-shaped eyes","1f60d",["","U+E726"],["","U+E5C4"],["","U+E106"],["󾌧","U+FE327"]],"😤":["U+1F624","face with look of triumph","1f624",["","U+E753"],["","U+EAC1"],["","U+E404"],["󾌨","U+FE328"]],"😜":["U+1F61C","face with stuck-out tongue and winking eye","1f61c",["","U+E728"],["","U+E4E7"],["","U+E105"],["󾌩","U+FE329"]],"😝":["U+1F61D","face with stuck-out tongue and tightly-closed eyes","1f61d",["","U+E728"],["","U+E4E7"],["","U+E409"],["󾌪","U+FE32A"]],"😋":["U+1F60B","face savouring delicious food","1f60b",["","U+E752"],["","U+EACD"],["","U+E056"],["󾌫","U+FE32B"]],"😘":["U+1F618","face throwing a kiss","1f618",["","U+E726"],["","U+EACF"],["","U+E418"],["󾌬","U+FE32C"]],"😚":["U+1F61A","kissing face with closed eyes","1f61a",["","U+E726"],["","U+EACE"],["","U+E417"],["󾌭","U+FE32D"]],"😷":["U+1F637","face with medical mask","1f637",["-","-"],["","U+EAC7"],["","U+E40C"],["󾌮","U+FE32E"]],"😳":["U+1F633","flushed face","1f633",["","U+E72A"],["","U+EAC8"],["","U+E40D"],["󾌯","U+FE32F"]],"😃":["U+1F603","smiling face with open mouth","1f603",["","U+E6F0"],["","U+E471"],["","U+E057"],["󾌰","U+FE330"]],"😅":["U+1F605","smiling face with open mouth and cold sweat","1f605",["","U+E722"],["","U+E471 U+E5B1"],["","U+E415 U+E331"],["󾌱","U+FE331"]],"😆":["U+1F606","smiling face with open mouth and tightly-closed eyes","1f606",["","U+E72A"],["","U+EAC5"],["","U+E40A"],["󾌲","U+FE332"]],"😁":["U+1F601","grinning face with smiling eyes","1f601",["","U+E753"],["","U+EB80"],["","U+E404"],["󾌳","U+FE333"]],"😂":["U+1F602","face with tears of joy","1f602",["","U+E72A"],["","U+EB64"],["","U+E412"],["󾌴","U+FE334"]],"😊":["U+1F60A","smiling face with smiling eyes","1f60a",["","U+E6F0"],["","U+EACD"],["","U+E056"],["󾌵","U+FE335"]],"☺":["U+263A","white smiling face","263a",["","U+E6F0"],["","U+E4FB"],["","U+E414"],["󾌶","U+FE336"]],"😄":["U+1F604","smiling face with open mouth and smiling eyes","1f604",["","U+E6F0"],["","U+E471"],["","U+E415"],["󾌸","U+FE338"]],"😢":["U+1F622","crying face","1f622",["","U+E72E"],["","U+EB69"],["","U+E413"],["󾌹","U+FE339"]],"😭":["U+1F62D","loudly crying face","1f62d",["","U+E72D"],["","U+E473"],["","U+E411"],["󾌺","U+FE33A"]],"😨":["U+1F628","fearful face","1f628",["","U+E757"],["","U+EAC6"],["","U+E40B"],["󾌻","U+FE33B"]],"😣":["U+1F623","persevering face","1f623",["","U+E72B"],["","U+EAC2"],["","U+E406"],["󾌼","U+FE33C"]],"😡":["U+1F621","pouting face","1f621",["","U+E724"],["","U+EB5D"],["","U+E416"],["󾌽","U+FE33D"]],"😌":["U+1F60C","relieved face","1f60c",["","U+E721"],["","U+EAC5"],["","U+E40A"],["󾌾","U+FE33E"]],"😖":["U+1F616","confounded face","1f616",["","U+E6F3"],["","U+EAC3"],["","U+E407"],["󾌿","U+FE33F"]],"😔":["U+1F614","pensive face","1f614",["","U+E720"],["","U+EAC0"],["","U+E403"],["󾍀","U+FE340"]],"😱":["U+1F631","face screaming in fear","1f631",["","U+E757"],["","U+E5C5"],["","U+E107"],["󾍁","U+FE341"]],"😪":["U+1F62A","sleepy face","1f62a",["","U+E701"],["","U+EAC4"],["","U+E408"],["󾍂","U+FE342"]],"😏":["U+1F60F","smirking face","1f60f",["","U+E72C"],["","U+EABF"],["","U+E402"],["󾍃","U+FE343"]],"😓":["U+1F613","face with cold sweat","1f613",["","U+E723"],["","U+E5C6"],["","U+E108"],["󾍄","U+FE344"]],"😥":["U+1F625","disappointed but relieved face","1f625",["","U+E723"],["","U+E5C6"],["","U+E401"],["󾍅","U+FE345"]],"😫":["U+1F62B","tired face","1f62b",["","U+E72B"],["","U+E474"],["","U+E406"],["󾍆","U+FE346"]],"😉":["U+1F609","winking face","1f609",["","U+E729"],["","U+E5C3"],["","U+E405"],["󾍇","U+FE347"]],"😺":["U+1F63A","smiling cat face with open mouth","1f63a",["","U+E6F0"],["","U+EB61"],["","U+E057"],["󾍈","U+FE348"]],"😸":["U+1F638","grinning cat face with smiling eyes","1f638",["","U+E753"],["","U+EB7F"],["","U+E404"],["󾍉","U+FE349"]],"😹":["U+1F639","cat face with tears of joy","1f639",["","U+E72A"],["","U+EB63"],["","U+E412"],["󾍊","U+FE34A"]],"😽":["U+1F63D","kissing cat face with closed eyes","1f63d",["","U+E726"],["","U+EB60"],["","U+E418"],["󾍋","U+FE34B"]],"😻":["U+1F63B","smiling cat face with heart-shaped eyes","1f63b",["","U+E726"],["","U+EB65"],["","U+E106"],["󾍌","U+FE34C"]],"😿":["U+1F63F","crying cat face","1f63f",["","U+E72E"],["","U+EB68"],["","U+E413"],["󾍍","U+FE34D"]],"😾":["U+1F63E","pouting cat face","1f63e",["","U+E724"],["","U+EB5E"],["","U+E416"],["󾍎","U+FE34E"]],"😼":["U+1F63C","cat face with wry smile","1f63c",["","U+E753"],["","U+EB6A"],["","U+E404"],["󾍏","U+FE34F"]],"🙀":["U+1F640","weary cat face","1f640",["","U+E6F3"],["","U+EB66"],["","U+E403"],["󾍐","U+FE350"]],"🙅":["U+1F645","face with no good gesture","1f645",["","U+E72F"],["","U+EAD7"],["","U+E423"],["󾍑","U+FE351"]],"🙆":["U+1F646","face with ok gesture","1f646",["","U+E70B"],["","U+EAD8"],["","U+E424"],["󾍒","U+FE352"]],"🙇":["U+1F647","person bowing deeply","1f647",["-","-"],["","U+EAD9"],["","U+E426"],["󾍓","U+FE353"]],"🙈":["U+1F648","see-no-evil monkey","1f648",["-","-"],["","U+EB50"],["-","-"],["󾍔","U+FE354"]],"🙊":["U+1F64A","speak-no-evil monkey","1f64a",["-","-"],["","U+EB51"],["-","-"],["󾍕","U+FE355"]],"🙉":["U+1F649","hear-no-evil monkey","1f649",["-","-"],["","U+EB52"],["-","-"],["󾍖","U+FE356"]],"🙋":["U+1F64B","happy person raising one hand","1f64b",["-","-"],["","U+EB85"],["","U+E012"],["󾍗","U+FE357"]],"🙌":["U+1F64C","person raising both hands in celebration","1f64c",["-","-"],["","U+EB86"],["","U+E427"],["󾍘","U+FE358"]],"🙍":["U+1F64D","person frowning","1f64d",["","U+E6F3"],["","U+EB87"],["","U+E403"],["󾍙","U+FE359"]],"🙎":["U+1F64E","person with pouting face","1f64e",["","U+E6F1"],["","U+EB88"],["","U+E416"],["󾍚","U+FE35A"]],"🙏":["U+1F64F","person with folded hands","1f64f",["-","-"],["","U+EAD2"],["","U+E41D"],["󾍛","U+FE35B"]],"🏠":["U+1F3E0","house building","1f3e0",["","U+E663"],["","U+E4AB"],["","U+E036"],["󾒰","U+FE4B0"]],"🏡":["U+1F3E1","house with garden","1f3e1",["","U+E663"],["","U+EB09"],["","U+E036"],["󾒱","U+FE4B1"]],"🏢":["U+1F3E2","office building","1f3e2",["","U+E664"],["","U+E4AD"],["","U+E038"],["󾒲","U+FE4B2"]],"🏣":["U+1F3E3","japanese post office","1f3e3",["","U+E665"],["","U+E5DE"],["","U+E153"],["󾒳","U+FE4B3"]],"🏥":["U+1F3E5","hospital","1f3e5",["","U+E666"],["","U+E5DF"],["","U+E155"],["󾒴","U+FE4B4"]],"🏦":["U+1F3E6","bank","1f3e6",["","U+E667"],["","U+E4AA"],["","U+E14D"],["󾒵","U+FE4B5"]],"🏧":["U+1F3E7","automated teller machine","1f3e7",["","U+E668"],["","U+E4A3"],["","U+E154"],["󾒶","U+FE4B6"]],"🏨":["U+1F3E8","hotel","1f3e8",["","U+E669"],["","U+EA81"],["","U+E158"],["󾒷","U+FE4B7"]],"🏩":["U+1F3E9","love hotel","1f3e9",["","U+E669 U+E6EF"],["","U+EAF3"],["","U+E501"],["󾒸","U+FE4B8"]],"🏪":["U+1F3EA","convenience store","1f3ea",["","U+E66A"],["","U+E4A4"],["","U+E156"],["󾒹","U+FE4B9"]],"🏫":["U+1F3EB","school","1f3eb",["","U+E73E"],["","U+EA80"],["","U+E157"],["󾒺","U+FE4BA"]],"⛪":["U+26EA","church","26ea",["-","-"],["","U+E5BB"],["","U+E037"],["󾒻","U+FE4BB"]],"⛲":["U+26F2","fountain","26f2",["-","-"],["","U+E5CF"],["","U+E121"],["󾒼","U+FE4BC"]],"🏬":["U+1F3EC","department store","1f3ec",["-","-"],["","U+EAF6"],["","U+E504"],["󾒽","U+FE4BD"]],"🏯":["U+1F3EF","japanese castle","1f3ef",["-","-"],["","U+EAF7"],["","U+E505"],["󾒾","U+FE4BE"]],"🏰":["U+1F3F0","european castle","1f3f0",["-","-"],["","U+EAF8"],["","U+E506"],["󾒿","U+FE4BF"]],"🏭":["U+1F3ED","factory","1f3ed",["-","-"],["","U+EAF9"],["","U+E508"],["󾓀","U+FE4C0"]],"⚓":["U+2693","anchor","2693",["","U+E661"],["","U+E4A9"],["","U+E202"],["󾓁","U+FE4C1"]],"🏮":["U+1F3EE","izakaya lantern","1f3ee",["","U+E74B"],["","U+E4BD"],["","U+E30B"],["󾓂","U+FE4C2"]],"🗻":["U+1F5FB","mount fuji","1f5fb",["","U+E740"],["","U+E5BD"],["","U+E03B"],["󾓃","U+FE4C3"]],"🗼":["U+1F5FC","tokyo tower","1f5fc",["-","-"],["","U+E4C0"],["","U+E509"],["󾓄","U+FE4C4"]],"🗽":["U+1F5FD","statue of liberty","1f5fd",["-","-"],["-","-"],["","U+E51D"],["󾓆","U+FE4C6"]],"🗾":["U+1F5FE","silhouette of japan","1f5fe",["-","-"],["","U+E572"],["-","-"],["󾓇","U+FE4C7"]],"🗿":["U+1F5FF","moyai","1f5ff",["-","-"],["","U+EB6C"],["-","-"],["󾓈","U+FE4C8"]],"👞":["U+1F45E","mans shoe","1f45e",["","U+E699"],["","U+E5B7"],["","U+E007"],["󾓌","U+FE4CC"]],"👟":["U+1F45F","athletic shoe","1f45f",["","U+E699"],["","U+EB2B"],["","U+E007"],["󾓍","U+FE4CD"]],"👠":["U+1F460","high-heeled shoe","1f460",["","U+E674"],["","U+E51A"],["","U+E13E"],["󾓖","U+FE4D6"]],"👡":["U+1F461","womans sandal","1f461",["","U+E674"],["","U+E51A"],["","U+E31A"],["󾓗","U+FE4D7"]],"👢":["U+1F462","womans boots","1f462",["-","-"],["","U+EA9F"],["","U+E31B"],["󾓘","U+FE4D8"]],"👣":["U+1F463","footprints","1f463",["","U+E698"],["","U+EB2A"],["","U+E536"],["󾕓","U+FE553"]],"👓":["U+1F453","eyeglasses","1f453",["","U+E69A"],["","U+E4FE"],["-","-"],["󾓎","U+FE4CE"]],"👕":["U+1F455","t-shirt","1f455",["","U+E70E"],["","U+E5B6"],["","U+E006"],["󾓏","U+FE4CF"]],"👖":["U+1F456","jeans","1f456",["","U+E711"],["","U+EB77"],["-","-"],["󾓐","U+FE4D0"]],"👑":["U+1F451","crown","1f451",["","U+E71A"],["","U+E5C9"],["","U+E10E"],["󾓑","U+FE4D1"]],"👔":["U+1F454","necktie","1f454",["-","-"],["","U+EA93"],["","U+E302"],["󾓓","U+FE4D3"]],"👒":["U+1F452","womans hat","1f452",["-","-"],["","U+EA9E"],["","U+E318"],["󾓔","U+FE4D4"]],"👗":["U+1F457","dress","1f457",["-","-"],["","U+EB6B"],["","U+E319"],["󾓕","U+FE4D5"]],"👘":["U+1F458","kimono","1f458",["-","-"],["","U+EAA3"],["","U+E321"],["󾓙","U+FE4D9"]],"👙":["U+1F459","bikini","1f459",["-","-"],["","U+EAA4"],["","U+E322"],["󾓚","U+FE4DA"]],"👚":["U+1F45A","womans clothes","1f45a",["","U+E70E"],["","U+E50D"],["","U+E006"],["󾓛","U+FE4DB"]],"👛":["U+1F45B","purse","1f45b",["","U+E70F"],["","U+E504"],["-","-"],["󾓜","U+FE4DC"]],"👜":["U+1F45C","handbag","1f45c",["","U+E682"],["","U+E49C"],["","U+E323"],["󾓰","U+FE4F0"]],"👝":["U+1F45D","pouch","1f45d",["","U+E6AD"],["-","-"],["-","-"],["󾓱","U+FE4F1"]],"💰":["U+1F4B0","money bag","1f4b0",["","U+E715"],["","U+E4C7"],["","U+E12F"],["󾓝","U+FE4DD"]],"💱":["U+1F4B1","currency exchange","1f4b1",["-","-"],["-","-"],["","U+E149"],["󾓞","U+FE4DE"]],"💹":["U+1F4B9","chart with upwards trend and yen sign","1f4b9",["-","-"],["","U+E5DC"],["","U+E14A"],["󾓟","U+FE4DF"]],"💲":["U+1F4B2","heavy dollar sign","1f4b2",["","U+E715"],["","U+E579"],["","U+E12F"],["󾓠","U+FE4E0"]],"💳":["U+1F4B3","credit card","1f4b3",["-","-"],["","U+E57C"],["-","-"],["󾓡","U+FE4E1"]],"💴":["U+1F4B4","banknote with yen sign","1f4b4",["","U+E6D6"],["","U+E57D"],["-","-"],["󾓢","U+FE4E2"]],"💵":["U+1F4B5","banknote with dollar sign","1f4b5",["","U+E715"],["","U+E585"],["","U+E12F"],["󾓣","U+FE4E3"]],"💸":["U+1F4B8","money with wings","1f4b8",["-","-"],["","U+EB5B"],["-","-"],["󾓤","U+FE4E4"]],"🇨🇳":["U+1F1E8 U+1F1F3","regional indicator symbol letters cn","1f1e81f1f3",["-","-"],["","U+EB11"],["","U+E513"],["󾓭","U+FE4ED"]],"🇩🇪":["U+1F1E9 U+1F1EA","regional indicator symbol letters de","1f1e91f1ea",["-","-"],["","U+EB0E"],["","U+E50E"],["󾓨","U+FE4E8"]],"🇪🇸":["U+1F1EA U+1F1F8","regional indicator symbol letters es","1f1ea1f1f8",["-","-"],["","U+E5D5"],["","U+E511"],["󾓫","U+FE4EB"]],"🇫🇷":["U+1F1EB U+1F1F7","regional indicator symbol letters fr","1f1eb1f1f7",["-","-"],["","U+EAFA"],["","U+E50D"],["󾓧","U+FE4E7"]],"🇬🇧":["U+1F1EC U+1F1E7","regional indicator symbol letters gb","1f1ec1f1e7",["-","-"],["","U+EB10"],["","U+E510"],["󾓪","U+FE4EA"]],"🇮🇹":["U+1F1EE U+1F1F9","regional indicator symbol letters it","1f1ee1f1f9",["-","-"],["","U+EB0F"],["","U+E50F"],["󾓩","U+FE4E9"]],"🇯🇵":["U+1F1EF U+1F1F5","regional indicator symbol letters jp","1f1ef1f1f5",["-","-"],["","U+E4CC"],["","U+E50B"],["󾓥","U+FE4E5"]],"🇰🇷":["U+1F1F0 U+1F1F7","regional indicator symbol letters kr","1f1f01f1f7",["-","-"],["","U+EB12"],["","U+E514"],["󾓮","U+FE4EE"]],"🇷🇺":["U+1F1F7 U+1F1FA","regional indicator symbol letters ru","1f1f71f1fa",["-","-"],["","U+E5D6"],["","U+E512"],["󾓬","U+FE4EC"]],"🇺🇸":["U+1F1FA U+1F1F8","regional indicator symbol letters us","1f1fa1f1f8",["-","-"],["","U+E573"],["","U+E50C"],["󾓦","U+FE4E6"]],"🔥":["U+1F525","fire","1f525",["-","-"],["","U+E47B"],["","U+E11D"],["󾓶","U+FE4F6"]],"🔦":["U+1F526","electric torch","1f526",["","U+E6FB"],["","U+E583"],["-","-"],["󾓻","U+FE4FB"]],"🔧":["U+1F527","wrench","1f527",["","U+E718"],["","U+E587"],["-","-"],["󾓉","U+FE4C9"]],"🔨":["U+1F528","hammer","1f528",["-","-"],["","U+E5CB"],["","U+E116"],["󾓊","U+FE4CA"]],"🔩":["U+1F529","nut and bolt","1f529",["-","-"],["","U+E581"],["-","-"],["󾓋","U+FE4CB"]],"🔪":["U+1F52A","hocho","1f52a",["-","-"],["","U+E57F"],["-","-"],["󾓺","U+FE4FA"]],"🔫":["U+1F52B","pistol","1f52b",["-","-"],["","U+E50A"],["","U+E113"],["󾓵","U+FE4F5"]],"🔮":["U+1F52E","crystal ball","1f52e",["-","-"],["","U+EA8F"],["","U+E23E"],["󾓷","U+FE4F7"]],"🔯":["U+1F52F","six pointed star with middle dot","1f52f",["-","-"],["","U+EA8F"],["","U+E23E"],["󾓸","U+FE4F8"]],"🔰":["U+1F530","japanese symbol for beginner","1f530",["-","-"],["","U+E480"],["","U+E209"],["󾁄","U+FE044"]],"🔱":["U+1F531","trident emblem","1f531",["","U+E71A"],["","U+E5C9"],["","U+E031"],["󾓒","U+FE4D2"]],"💉":["U+1F489","syringe","1f489",["-","-"],["","U+E510"],["","U+E13B"],["󾔉","U+FE509"]],"💊":["U+1F48A","pill","1f48a",["-","-"],["","U+EA9A"],["","U+E30F"],["󾔊","U+FE50A"]],"🅰":["U+1F170","negative squared latin capital letter a","1f170",["-","-"],["","U+EB26"],["","U+E532"],["󾔋","U+FE50B"]],"🅱":["U+1F171","negative squared latin capital letter b","1f171",["-","-"],["","U+EB27"],["","U+E533"],["󾔌","U+FE50C"]],"🆎":["U+1F18E","negative squared ab","1f18e",["-","-"],["","U+EB29"],["","U+E534"],["󾔍","U+FE50D"]],"🅾":["U+1F17E","negative squared latin capital letter o","1f17e",["-","-"],["","U+EB28"],["","U+E535"],["󾔎","U+FE50E"]],"🎀":["U+1F380","ribbon","1f380",["","U+E684"],["","U+E59F"],["","U+E314"],["󾔏","U+FE50F"]],"🎁":["U+1F381","wrapped present","1f381",["","U+E685"],["","U+E4CF"],["","U+E112"],["󾔐","U+FE510"]],"🎂":["U+1F382","birthday cake","1f382",["","U+E686"],["","U+E5A0"],["","U+E34B"],["󾔑","U+FE511"]],"🎄":["U+1F384","christmas tree","1f384",["","U+E6A4"],["","U+E4C9"],["","U+E033"],["󾔒","U+FE512"]],"🎅":["U+1F385","father christmas","1f385",["-","-"],["","U+EAF0"],["","U+E448"],["󾔓","U+FE513"]],"🎌":["U+1F38C","crossed flags","1f38c",["-","-"],["","U+E5D9"],["","U+E143"],["󾔔","U+FE514"]],"🎆":["U+1F386","fireworks","1f386",["-","-"],["","U+E5CC"],["","U+E117"],["󾔕","U+FE515"]],"🎈":["U+1F388","balloon","1f388",["-","-"],["","U+EA9B"],["","U+E310"],["󾔖","U+FE516"]],"🎉":["U+1F389","party popper","1f389",["-","-"],["","U+EA9C"],["","U+E312"],["󾔗","U+FE517"]],"🎍":["U+1F38D","pine decoration","1f38d",["-","-"],["","U+EAE3"],["","U+E436"],["󾔘","U+FE518"]],"🎎":["U+1F38E","japanese dolls","1f38e",["-","-"],["","U+EAE4"],["","U+E438"],["󾔙","U+FE519"]],"🎓":["U+1F393","graduation cap","1f393",["-","-"],["","U+EAE5"],["","U+E439"],["󾔚","U+FE51A"]],"🎒":["U+1F392","school satchel","1f392",["-","-"],["","U+EAE6"],["","U+E43A"],["󾔛","U+FE51B"]],"🎏":["U+1F38F","carp streamer","1f38f",["-","-"],["","U+EAE7"],["","U+E43B"],["󾔜","U+FE51C"]],"🎇":["U+1F387","firework sparkler","1f387",["-","-"],["","U+EAEB"],["","U+E440"],["󾔝","U+FE51D"]],"🎐":["U+1F390","wind chime","1f390",["-","-"],["","U+EAED"],["","U+E442"],["󾔞","U+FE51E"]],"🎃":["U+1F383","jack-o-lantern","1f383",["-","-"],["","U+EAEE"],["","U+E445"],["󾔟","U+FE51F"]],"🎊":["U+1F38A","confetti ball","1f38a",["-","-"],["","U+E46F"],["-","-"],["󾔠","U+FE520"]],"🎋":["U+1F38B","tanabata tree","1f38b",["-","-"],["","U+EB3D"],["-","-"],["󾔡","U+FE521"]],"🎑":["U+1F391","moon viewing ceremony","1f391",["-","-"],["","U+EAEF"],["","U+E446"],["󾀗","U+FE017"]],"📟":["U+1F4DF","pager","1f4df",["","U+E65A"],["","U+E59B"],["-","-"],["󾔢","U+FE522"]],"☎":["U+260E","black telephone","260e",["","U+E687"],["","U+E596"],["","U+E009"],["󾔣","U+FE523"]],"📞":["U+1F4DE","telephone receiver","1f4de",["","U+E687"],["","U+E51E"],["","U+E009"],["󾔤","U+FE524"]],"📱":["U+1F4F1","mobile phone","1f4f1",["","U+E688"],["","U+E588"],["","U+E00A"],["󾔥","U+FE525"]],"📲":["U+1F4F2","mobile phone with rightwards arrow at left","1f4f2",["","U+E6CE"],["","U+EB08"],["","U+E104"],["󾔦","U+FE526"]],"📝":["U+1F4DD","memo","1f4dd",["","U+E689"],["","U+EA92"],["","U+E301"],["󾔧","U+FE527"]],"📠":["U+1F4E0","fax machine","1f4e0",["","U+E6D0"],["","U+E520"],["","U+E00B"],["󾔨","U+FE528"]],"✉":["U+2709","envelope","2709",["","U+E6D3"],["","U+E521"],["","U+E103"],["󾔩","U+FE529"]],"📨":["U+1F4E8","incoming envelope","1f4e8",["","U+E6CF"],["","U+E591"],["","U+E103"],["󾔪","U+FE52A"]],"📩":["U+1F4E9","envelope with downwards arrow above","1f4e9",["","U+E6CF"],["","U+EB62"],["","U+E103"],["󾔫","U+FE52B"]],"📪":["U+1F4EA","closed mailbox with lowered flag","1f4ea",["","U+E665"],["","U+E51B"],["","U+E101"],["󾔬","U+FE52C"]],"📫":["U+1F4EB","closed mailbox with raised flag","1f4eb",["","U+E665"],["","U+EB0A"],["","U+E101"],["󾔭","U+FE52D"]],"📮":["U+1F4EE","postbox","1f4ee",["","U+E665"],["","U+E51B"],["","U+E102"],["󾔮","U+FE52E"]],"📰":["U+1F4F0","newspaper","1f4f0",["-","-"],["","U+E58B"],["-","-"],["󾠢","U+FE822"]],"📢":["U+1F4E2","public address loudspeaker","1f4e2",["-","-"],["","U+E511"],["","U+E142"],["󾔯","U+FE52F"]],"📣":["U+1F4E3","cheering megaphone","1f4e3",["-","-"],["","U+E511"],["","U+E317"],["󾔰","U+FE530"]],"📡":["U+1F4E1","satellite antenna","1f4e1",["-","-"],["","U+E4A8"],["","U+E14B"],["󾔱","U+FE531"]],"📤":["U+1F4E4","outbox tray","1f4e4",["-","-"],["","U+E592"],["-","-"],["󾔳","U+FE533"]],"📥":["U+1F4E5","inbox tray","1f4e5",["-","-"],["","U+E593"],["-","-"],["󾔴","U+FE534"]],"📦":["U+1F4E6","package","1f4e6",["","U+E685"],["","U+E51F"],["","U+E112"],["󾔵","U+FE535"]],"📧":["U+1F4E7","e-mail symbol","1f4e7",["","U+E6D3"],["","U+EB71"],["","U+E103"],["󾮒","U+FEB92"]],"🔠":["U+1F520","input symbol for latin capital letters","1f520",["-","-"],["","U+EAFD"],["-","-"],["󾭼","U+FEB7C"]],"🔡":["U+1F521","input symbol for latin small letters","1f521",["-","-"],["","U+EAFE"],["-","-"],["󾭽","U+FEB7D"]],"🔢":["U+1F522","input symbol for numbers","1f522",["-","-"],["","U+EAFF"],["-","-"],["󾭾","U+FEB7E"]],"🔣":["U+1F523","input symbol for symbols","1f523",["-","-"],["","U+EB00"],["-","-"],["󾭿","U+FEB7F"]],"🔤":["U+1F524","input symbol for latin letters","1f524",["-","-"],["","U+EB55"],["-","-"],["󾮀","U+FEB80"]],"✒":["U+2712","black nib","2712",["","U+E6AE"],["","U+EB03"],["-","-"],["󾔶","U+FE536"]],"💺":["U+1F4BA","seat","1f4ba",["","U+E6B2"],["-","-"],["","U+E11F"],["󾔷","U+FE537"]],"💻":["U+1F4BB","personal computer","1f4bb",["","U+E716"],["","U+E5B8"],["","U+E00C"],["󾔸","U+FE538"]],"✏":["U+270F","pencil","270f",["","U+E719"],["","U+E4A1"],["","U+E301"],["󾔹","U+FE539"]],"📎":["U+1F4CE","paperclip","1f4ce",["","U+E730"],["","U+E4A0"],["-","-"],["󾔺","U+FE53A"]],"💼":["U+1F4BC","briefcase","1f4bc",["","U+E682"],["","U+E5CE"],["","U+E11E"],["󾔻","U+FE53B"]],"💽":["U+1F4BD","minidisc","1f4bd",["-","-"],["","U+E582"],["","U+E316"],["󾔼","U+FE53C"]],"💾":["U+1F4BE","floppy disk","1f4be",["-","-"],["","U+E562"],["","U+E316"],["󾔽","U+FE53D"]],"💿":["U+1F4BF","optical disc","1f4bf",["","U+E68C"],["","U+E50C"],["","U+E126"],["󾠝","U+FE81D"]],"📀":["U+1F4C0","dvd","1f4c0",["","U+E68C"],["","U+E50C"],["","U+E127"],["󾠞","U+FE81E"]],"✂":["U+2702","black scissors","2702",["","U+E675"],["","U+E516"],["","U+E313"],["󾔾","U+FE53E"]],"📍":["U+1F4CD","round pushpin","1f4cd",["-","-"],["","U+E560"],["-","-"],["󾔿","U+FE53F"]],"📃":["U+1F4C3","page with curl","1f4c3",["","U+E689"],["","U+E561"],["","U+E301"],["󾕀","U+FE540"]],"📄":["U+1F4C4","page facing up","1f4c4",["","U+E689"],["","U+E569"],["","U+E301"],["󾕁","U+FE541"]],"📅":["U+1F4C5","calendar","1f4c5",["-","-"],["","U+E563"],["-","-"],["󾕂","U+FE542"]],"📁":["U+1F4C1","file folder","1f4c1",["-","-"],["","U+E58F"],["-","-"],["󾕃","U+FE543"]],"📂":["U+1F4C2","open file folder","1f4c2",["-","-"],["","U+E590"],["-","-"],["󾕄","U+FE544"]],"📓":["U+1F4D3","notebook","1f4d3",["","U+E683"],["","U+E56B"],["","U+E148"],["󾕅","U+FE545"]],"📖":["U+1F4D6","open book","1f4d6",["","U+E683"],["","U+E49F"],["","U+E148"],["󾕆","U+FE546"]],"📔":["U+1F4D4","notebook with decorative cover","1f4d4",["","U+E683"],["","U+E49D"],["","U+E148"],["󾕇","U+FE547"]],"📕":["U+1F4D5","closed book","1f4d5",["","U+E683"],["","U+E568"],["","U+E148"],["󾔂","U+FE502"]],"📗":["U+1F4D7","green book","1f4d7",["","U+E683"],["","U+E565"],["","U+E148"],["󾓿","U+FE4FF"]],"📘":["U+1F4D8","blue book","1f4d8",["","U+E683"],["","U+E566"],["","U+E148"],["󾔀","U+FE500"]],"📙":["U+1F4D9","orange book","1f4d9",["","U+E683"],["","U+E567"],["","U+E148"],["󾔁","U+FE501"]],"📚":["U+1F4DA","books","1f4da",["","U+E683"],["","U+E56F"],["","U+E148"],["󾔃","U+FE503"]],"📛":["U+1F4DB","name badge","1f4db",["-","-"],["","U+E51D"],["-","-"],["󾔄","U+FE504"]],"📜":["U+1F4DC","scroll","1f4dc",["","U+E70A"],["","U+E55F"],["-","-"],["󾓽","U+FE4FD"]],"📋":["U+1F4CB","clipboard","1f4cb",["","U+E689"],["","U+E564"],["","U+E301"],["󾕈","U+FE548"]],"📆":["U+1F4C6","tear-off calendar","1f4c6",["-","-"],["","U+E56A"],["-","-"],["󾕉","U+FE549"]],"📊":["U+1F4CA","bar chart","1f4ca",["-","-"],["","U+E574"],["","U+E14A"],["󾕊","U+FE54A"]],"📈":["U+1F4C8","chart with upwards trend","1f4c8",["-","-"],["","U+E575"],["","U+E14A"],["󾕋","U+FE54B"]],"📉":["U+1F4C9","chart with downwards trend","1f4c9",["-","-"],["","U+E576"],["-","-"],["󾕌","U+FE54C"]],"📇":["U+1F4C7","card index","1f4c7",["","U+E683"],["","U+E56C"],["","U+E148"],["󾕍","U+FE54D"]],"📌":["U+1F4CC","pushpin","1f4cc",["-","-"],["","U+E56D"],["-","-"],["󾕎","U+FE54E"]],"📒":["U+1F4D2","ledger","1f4d2",["","U+E683"],["","U+E56E"],["","U+E148"],["󾕏","U+FE54F"]],"📏":["U+1F4CF","straight ruler","1f4cf",["-","-"],["","U+E570"],["-","-"],["󾕐","U+FE550"]],"📐":["U+1F4D0","triangular ruler","1f4d0",["-","-"],["","U+E4A2"],["-","-"],["󾕑","U+FE551"]],"📑":["U+1F4D1","bookmark tabs","1f4d1",["","U+E689"],["","U+EB0B"],["","U+E301"],["󾕒","U+FE552"]],"🎽":["U+1F3BD","running shirt with sash","1f3bd",["","U+E652"],["-","-"],["-","-"],["󾟐","U+FE7D0"]],"⚾":["U+26BE","baseball","26be",["","U+E653"],["","U+E4BA"],["","U+E016"],["󾟑","U+FE7D1"]],"⛳":["U+26F3","flag in hole","26f3",["","U+E654"],["","U+E599"],["","U+E014"],["󾟒","U+FE7D2"]],"🎾":["U+1F3BE","tennis racquet and ball","1f3be",["","U+E655"],["","U+E4B7"],["","U+E015"],["󾟓","U+FE7D3"]],"⚽":["U+26BD","soccer ball","26bd",["","U+E656"],["","U+E4B6"],["","U+E018"],["󾟔","U+FE7D4"]],"🎿":["U+1F3BF","ski and ski boot","1f3bf",["","U+E657"],["","U+EAAC"],["","U+E013"],["󾟕","U+FE7D5"]],"🏀":["U+1F3C0","basketball and hoop","1f3c0",["","U+E658"],["","U+E59A"],["","U+E42A"],["󾟖","U+FE7D6"]],"🏁":["U+1F3C1","chequered flag","1f3c1",["","U+E659"],["","U+E4B9"],["","U+E132"],["󾟗","U+FE7D7"]],"🏂":["U+1F3C2","snowboarder","1f3c2",["","U+E712"],["","U+E4B8"],["-","-"],["󾟘","U+FE7D8"]],"🏃":["U+1F3C3","runner","1f3c3",["","U+E733"],["","U+E46B"],["","U+E115"],["󾟙","U+FE7D9"]],"🏄":["U+1F3C4","surfer","1f3c4",["","U+E712"],["","U+EB41"],["","U+E017"],["󾟚","U+FE7DA"]],"🏆":["U+1F3C6","trophy","1f3c6",["-","-"],["","U+E5D3"],["","U+E131"],["󾟛","U+FE7DB"]],"🏈":["U+1F3C8","american football","1f3c8",["-","-"],["","U+E4BB"],["","U+E42B"],["󾟝","U+FE7DD"]],"🏊":["U+1F3CA","swimmer","1f3ca",["-","-"],["","U+EADE"],["","U+E42D"],["󾟞","U+FE7DE"]],"🚃":["U+1F683","railway car","1f683",["","U+E65B"],["","U+E4B5"],["","U+E01E"],["󾟟","U+FE7DF"]],"🚇":["U+1F687","metro","1f687",["","U+E65C"],["","U+E5BC"],["","U+E434"],["󾟠","U+FE7E0"]],"Ⓜ":["U+24C2","circled latin capital letter m","24c2",["","U+E65C"],["","U+E5BC"],["","U+E434"],["󾟡","U+FE7E1"]],"🚄":["U+1F684","high-speed train","1f684",["","U+E65D"],["","U+E4B0"],["","U+E435"],["󾟢","U+FE7E2"]],"🚅":["U+1F685","high-speed train with bullet nose","1f685",["","U+E65D"],["","U+E4B0"],["","U+E01F"],["󾟣","U+FE7E3"]],"🚗":["U+1F697","automobile","1f697",["","U+E65E"],["","U+E4B1"],["","U+E01B"],["󾟤","U+FE7E4"]],"🚙":["U+1F699","recreational vehicle","1f699",["","U+E65F"],["","U+E4B1"],["","U+E42E"],["󾟥","U+FE7E5"]],"🚌":["U+1F68C","bus","1f68c",["","U+E660"],["","U+E4AF"],["","U+E159"],["󾟦","U+FE7E6"]],"🚏":["U+1F68F","bus stop","1f68f",["-","-"],["","U+E4A7"],["","U+E150"],["󾟧","U+FE7E7"]],"🚢":["U+1F6A2","ship","1f6a2",["","U+E661"],["","U+EA82"],["","U+E202"],["󾟨","U+FE7E8"]],"✈":["U+2708","airplane","2708",["","U+E662"],["","U+E4B3"],["","U+E01D"],["󾟩","U+FE7E9"]],"⛵":["U+26F5","sailboat","26f5",["","U+E6A3"],["","U+E4B4"],["","U+E01C"],["󾟪","U+FE7EA"]],"🚉":["U+1F689","station","1f689",["-","-"],["","U+EB6D"],["","U+E039"],["󾟬","U+FE7EC"]],"🚀":["U+1F680","rocket","1f680",["-","-"],["","U+E5C8"],["","U+E10D"],["󾟭","U+FE7ED"]],"🚤":["U+1F6A4","speedboat","1f6a4",["","U+E6A3"],["","U+E4B4"],["","U+E135"],["󾟮","U+FE7EE"]],"🚕":["U+1F695","taxi","1f695",["","U+E65E"],["","U+E4B1"],["","U+E15A"],["󾟯","U+FE7EF"]],"🚚":["U+1F69A","delivery truck","1f69a",["-","-"],["","U+E4B2"],["","U+E42F"],["󾟱","U+FE7F1"]],"🚒":["U+1F692","fire engine","1f692",["-","-"],["","U+EADF"],["","U+E430"],["󾟲","U+FE7F2"]],"🚑":["U+1F691","ambulance","1f691",["-","-"],["","U+EAE0"],["","U+E431"],["󾟳","U+FE7F3"]],"🚓":["U+1F693","police car","1f693",["-","-"],["","U+EAE1"],["","U+E432"],["󾟴","U+FE7F4"]],"⛽":["U+26FD","fuel pump","26fd",["","U+E66B"],["","U+E571"],["","U+E03A"],["󾟵","U+FE7F5"]],"🅿":["U+1F17F","negative squared latin capital letter p","1f17f",["","U+E66C"],["","U+E4A6"],["","U+E14F"],["󾟶","U+FE7F6"]],"🚥":["U+1F6A5","horizontal traffic light","1f6a5",["","U+E66D"],["","U+E46A"],["","U+E14E"],["󾟷","U+FE7F7"]],"🚧":["U+1F6A7","construction sign","1f6a7",["-","-"],["","U+E5D7"],["","U+E137"],["󾟸","U+FE7F8"]],"🚨":["U+1F6A8","police cars revolving light","1f6a8",["-","-"],["","U+EB73"],["","U+E432"],["󾟹","U+FE7F9"]],"♨":["U+2668","hot springs","2668",["","U+E6F7"],["","U+E4BC"],["","U+E123"],["󾟺","U+FE7FA"]],"⛺":["U+26FA","tent","26fa",["-","-"],["","U+E5D0"],["","U+E122"],["󾟻","U+FE7FB"]],"🎠":["U+1F3A0","carousel horse","1f3a0",["","U+E679"],["-","-"],["-","-"],["󾟼","U+FE7FC"]],"🎡":["U+1F3A1","ferris wheel","1f3a1",["-","-"],["","U+E46D"],["","U+E124"],["󾟽","U+FE7FD"]],"🎢":["U+1F3A2","roller coaster","1f3a2",["-","-"],["","U+EAE2"],["","U+E433"],["󾟾","U+FE7FE"]],"🎣":["U+1F3A3","fishing pole and fish","1f3a3",["","U+E751"],["","U+EB42"],["","U+E019"],["󾟿","U+FE7FF"]],"🎤":["U+1F3A4","microphone","1f3a4",["","U+E676"],["","U+E503"],["","U+E03C"],["󾠀","U+FE800"]],"🎥":["U+1F3A5","movie camera","1f3a5",["","U+E677"],["","U+E517"],["","U+E03D"],["󾠁","U+FE801"]],"🎦":["U+1F3A6","cinema","1f3a6",["","U+E677"],["","U+E517"],["","U+E507"],["󾠂","U+FE802"]],"🎧":["U+1F3A7","headphone","1f3a7",["","U+E67A"],["","U+E508"],["","U+E30A"],["󾠃","U+FE803"]],"🎨":["U+1F3A8","artist palette","1f3a8",["","U+E67B"],["","U+E59C"],["","U+E502"],["󾠄","U+FE804"]],"🎩":["U+1F3A9","top hat","1f3a9",["","U+E67C"],["","U+EAF5"],["","U+E503"],["󾠅","U+FE805"]],"🎪":["U+1F3AA","circus tent","1f3aa",["","U+E67D"],["","U+E59E"],["-","-"],["󾠆","U+FE806"]],"🎫":["U+1F3AB","ticket","1f3ab",["","U+E67E"],["","U+E49E"],["","U+E125"],["󾠇","U+FE807"]],"🎬":["U+1F3AC","clapper board","1f3ac",["","U+E6AC"],["","U+E4BE"],["","U+E324"],["󾠈","U+FE808"]],"🎭":["U+1F3AD","performing arts","1f3ad",["-","-"],["","U+E59D"],["","U+E503"],["󾠉","U+FE809"]],"🎮":["U+1F3AE","video game","1f3ae",["","U+E68B"],["","U+E4C6"],["-","-"],["󾠊","U+FE80A"]],"🀄":["U+1F004","mahjong tile red dragon","1f004",["-","-"],["","U+E5D1"],["","U+E12D"],["󾠋","U+FE80B"]],"🎯":["U+1F3AF","direct hit","1f3af",["-","-"],["","U+E4C5"],["","U+E130"],["󾠌","U+FE80C"]],"🎰":["U+1F3B0","slot machine","1f3b0",["-","-"],["","U+E46E"],["","U+E133"],["󾠍","U+FE80D"]],"🎱":["U+1F3B1","billiards","1f3b1",["-","-"],["","U+EADD"],["","U+E42C"],["󾠎","U+FE80E"]],"🎲":["U+1F3B2","game die","1f3b2",["-","-"],["","U+E4C8"],["-","-"],["󾠏","U+FE80F"]],"🎳":["U+1F3B3","bowling","1f3b3",["-","-"],["","U+EB43"],["-","-"],["󾠐","U+FE810"]],"🎴":["U+1F3B4","flower playing cards","1f3b4",["-","-"],["","U+EB6E"],["-","-"],["󾠑","U+FE811"]],"🃏":["U+1F0CF","playing card black joker","1f0cf",["-","-"],["","U+EB6F"],["-","-"],["󾠒","U+FE812"]],"🎵":["U+1F3B5","musical note","1f3b5",["","U+E6F6"],["","U+E5BE"],["","U+E03E"],["󾠓","U+FE813"]],"🎶":["U+1F3B6","multiple musical notes","1f3b6",["","U+E6FF"],["","U+E505"],["","U+E326"],["󾠔","U+FE814"]],"🎷":["U+1F3B7","saxophone","1f3b7",["-","-"],["-","-"],["","U+E040"],["󾠕","U+FE815"]],"🎸":["U+1F3B8","guitar","1f3b8",["-","-"],["","U+E506"],["","U+E041"],["󾠖","U+FE816"]],"🎹":["U+1F3B9","musical keyboard","1f3b9",["-","-"],["","U+EB40"],["-","-"],["󾠗","U+FE817"]],"🎺":["U+1F3BA","trumpet","1f3ba",["-","-"],["","U+EADC"],["","U+E042"],["󾠘","U+FE818"]],"🎻":["U+1F3BB","violin","1f3bb",["-","-"],["","U+E507"],["-","-"],["󾠙","U+FE819"]],"🎼":["U+1F3BC","musical score","1f3bc",["","U+E6FF"],["","U+EACC"],["","U+E326"],["󾠚","U+FE81A"]],"〽":["U+303D","part alternation mark","303d",["-","-"],["-","-"],["","U+E12C"],["󾠛","U+FE81B"]],"📷":["U+1F4F7","camera","1f4f7",["","U+E681"],["","U+E515"],["","U+E008"],["󾓯","U+FE4EF"]],"📹":["U+1F4F9","video camera","1f4f9",["","U+E677"],["","U+E57E"],["","U+E03D"],["󾓹","U+FE4F9"]],"📺":["U+1F4FA","television","1f4fa",["","U+E68A"],["","U+E502"],["","U+E12A"],["󾠜","U+FE81C"]],"📻":["U+1F4FB","radio","1f4fb",["-","-"],["","U+E5B9"],["","U+E128"],["󾠟","U+FE81F"]],"📼":["U+1F4FC","videocassette","1f4fc",["-","-"],["","U+E580"],["","U+E129"],["󾠠","U+FE820"]],"💋":["U+1F48B","kiss mark","1f48b",["","U+E6F9"],["","U+E4EB"],["","U+E003"],["󾠣","U+FE823"]],"💌":["U+1F48C","love letter","1f48c",["","U+E717"],["","U+EB78"],["","U+E103 U+E328"],["󾠤","U+FE824"]],"💍":["U+1F48D","ring","1f48d",["","U+E71B"],["","U+E514"],["","U+E034"],["󾠥","U+FE825"]],"💎":["U+1F48E","gem stone","1f48e",["","U+E71B"],["","U+E514"],["","U+E035"],["󾠦","U+FE826"]],"💏":["U+1F48F","kiss","1f48f",["","U+E6F9"],["","U+E5CA"],["","U+E111"],["󾠧","U+FE827"]],"💐":["U+1F490","bouquet","1f490",["-","-"],["","U+EA95"],["","U+E306"],["󾠨","U+FE828"]],"💑":["U+1F491","couple with heart","1f491",["","U+E6ED"],["","U+EADA"],["","U+E425"],["󾠩","U+FE829"]],"💒":["U+1F492","wedding","1f492",["-","-"],["","U+E5BB"],["","U+E43D"],["󾠪","U+FE82A"]],"🔞":["U+1F51E","no one under eighteen symbol","1f51e",["-","-"],["","U+EA83"],["","U+E207"],["󾬥","U+FEB25"]],"©":["U+00A9","copyright sign","a9",["","U+E731"],["","U+E558"],["","U+E24E"],["󾬩","U+FEB29"]],"®":["U+00AE","registered sign","ae",["","U+E736"],["","U+E559"],["","U+E24F"],["󾬭","U+FEB2D"]],"™":["U+2122","trade mark sign","2122",["","U+E732"],["","U+E54E"],["","U+E537"],["󾬪","U+FEB2A"]],"ℹ":["U+2139","information source","2139",["-","-"],["","U+E533"],["-","-"],["󾭇","U+FEB47"]],"#⃣":["U+0023 U+20E3","hash key","2320e3",["","U+E6E0"],["","U+EB84"],["","U+E210"],["󾠬","U+FE82C"]],"1⃣":["U+0031 U+20E3","keycap 1","3120e3",["","U+E6E2"],["","U+E522"],["","U+E21C"],["󾠮","U+FE82E"]],"2⃣":["U+0032 U+20E3","keycap 2","3220e3",["","U+E6E3"],["","U+E523"],["","U+E21D"],["󾠯","U+FE82F"]],"3⃣":["U+0033 U+20E3","keycap 3","3320e3",["","U+E6E4"],["","U+E524"],["","U+E21E"],["󾠰","U+FE830"]],"4⃣":["U+0034 U+20E3","keycap 4","3420e3",["","U+E6E5"],["","U+E525"],["","U+E21F"],["󾠱","U+FE831"]],"5⃣":["U+0035 U+20E3","keycap 5","3520e3",["","U+E6E6"],["","U+E526"],["","U+E220"],["󾠲","U+FE832"]],"6⃣":["U+0036 U+20E3","keycap 6","3620e3",["","U+E6E7"],["","U+E527"],["","U+E221"],["󾠳","U+FE833"]],"7⃣":["U+0037 U+20E3","keycap 7","3720e3",["","U+E6E8"],["","U+E528"],["","U+E222"],["󾠴","U+FE834"]],"8⃣":["U+0038 U+20E3","keycap 8","3820e3",["","U+E6E9"],["","U+E529"],["","U+E223"],["󾠵","U+FE835"]],"9⃣":["U+0039 U+20E3","keycap 9","3920e3",["","U+E6EA"],["","U+E52A"],["","U+E224"],["󾠶","U+FE836"]],"0⃣":["U+0030 U+20E3","keycap 0","3020e3",["","U+E6EB"],["","U+E5AC"],["","U+E225"],["󾠷","U+FE837"]],"🔟":["U+1F51F","keycap ten","1f51f",["-","-"],["","U+E52B"],["-","-"],["󾠻","U+FE83B"]],"📶":["U+1F4F6","antenna with bars","1f4f6",["-","-"],["","U+EA84"],["","U+E20B"],["󾠸","U+FE838"]],"📳":["U+1F4F3","vibration mode","1f4f3",["-","-"],["","U+EA90"],["","U+E250"],["󾠹","U+FE839"]],"📴":["U+1F4F4","mobile phone off","1f4f4",["-","-"],["","U+EA91"],["","U+E251"],["󾠺","U+FE83A"]],"🍔":["U+1F354","hamburger","1f354",["","U+E673"],["","U+E4D6"],["","U+E120"],["󾥠","U+FE960"]],"🍙":["U+1F359","rice ball","1f359",["","U+E749"],["","U+E4D5"],["","U+E342"],["󾥡","U+FE961"]],"🍰":["U+1F370","shortcake","1f370",["","U+E74A"],["","U+E4D0"],["","U+E046"],["󾥢","U+FE962"]],"🍜":["U+1F35C","steaming bowl","1f35c",["","U+E74C"],["","U+E5B4"],["","U+E340"],["󾥣","U+FE963"]],"🍞":["U+1F35E","bread","1f35e",["","U+E74D"],["","U+EAAF"],["","U+E339"],["󾥤","U+FE964"]],"🍳":["U+1F373","cooking","1f373",["-","-"],["","U+E4D1"],["","U+E147"],["󾥥","U+FE965"]],"🍦":["U+1F366","soft ice cream","1f366",["-","-"],["","U+EAB0"],["","U+E33A"],["󾥦","U+FE966"]],"🍟":["U+1F35F","french fries","1f35f",["-","-"],["","U+EAB1"],["","U+E33B"],["󾥧","U+FE967"]],"🍡":["U+1F361","dango","1f361",["-","-"],["","U+EAB2"],["","U+E33C"],["󾥨","U+FE968"]],"🍘":["U+1F358","rice cracker","1f358",["-","-"],["","U+EAB3"],["","U+E33D"],["󾥩","U+FE969"]],"🍚":["U+1F35A","cooked rice","1f35a",["","U+E74C"],["","U+EAB4"],["","U+E33E"],["󾥪","U+FE96A"]],"🍝":["U+1F35D","spaghetti","1f35d",["-","-"],["","U+EAB5"],["","U+E33F"],["󾥫","U+FE96B"]],"🍛":["U+1F35B","curry and rice","1f35b",["-","-"],["","U+EAB6"],["","U+E341"],["󾥬","U+FE96C"]],"🍢":["U+1F362","oden","1f362",["-","-"],["","U+EAB7"],["","U+E343"],["󾥭","U+FE96D"]],"🍣":["U+1F363","sushi","1f363",["-","-"],["","U+EAB8"],["","U+E344"],["󾥮","U+FE96E"]],"🍱":["U+1F371","bento box","1f371",["-","-"],["","U+EABD"],["","U+E34C"],["󾥯","U+FE96F"]],"🍲":["U+1F372","pot of food","1f372",["-","-"],["","U+EABE"],["","U+E34D"],["󾥰","U+FE970"]],"🍧":["U+1F367","shaved ice","1f367",["-","-"],["","U+EAEA"],["","U+E43F"],["󾥱","U+FE971"]],"🍖":["U+1F356","meat on bone","1f356",["-","-"],["","U+E4C4"],["-","-"],["󾥲","U+FE972"]],"🍥":["U+1F365","fish cake with swirl design","1f365",["","U+E643"],["","U+E4ED"],["-","-"],["󾥳","U+FE973"]],"🍠":["U+1F360","roasted sweet potato","1f360",["-","-"],["","U+EB3A"],["-","-"],["󾥴","U+FE974"]],"🍕":["U+1F355","slice of pizza","1f355",["-","-"],["","U+EB3B"],["-","-"],["󾥵","U+FE975"]],"🍗":["U+1F357","poultry leg","1f357",["-","-"],["","U+EB3C"],["-","-"],["󾥶","U+FE976"]],"🍨":["U+1F368","ice cream","1f368",["-","-"],["","U+EB4A"],["-","-"],["󾥷","U+FE977"]],"🍩":["U+1F369","doughnut","1f369",["-","-"],["","U+EB4B"],["-","-"],["󾥸","U+FE978"]],"🍪":["U+1F36A","cookie","1f36a",["-","-"],["","U+EB4C"],["-","-"],["󾥹","U+FE979"]],"🍫":["U+1F36B","chocolate bar","1f36b",["-","-"],["","U+EB4D"],["-","-"],["󾥺","U+FE97A"]],"🍬":["U+1F36C","candy","1f36c",["-","-"],["","U+EB4E"],["-","-"],["󾥻","U+FE97B"]],"🍭":["U+1F36D","lollipop","1f36d",["-","-"],["","U+EB4F"],["-","-"],["󾥼","U+FE97C"]],"🍮":["U+1F36E","custard","1f36e",["-","-"],["","U+EB56"],["-","-"],["󾥽","U+FE97D"]],"🍯":["U+1F36F","honey pot","1f36f",["-","-"],["","U+EB59"],["-","-"],["󾥾","U+FE97E"]],"🍤":["U+1F364","fried shrimp","1f364",["-","-"],["","U+EB70"],["-","-"],["󾥿","U+FE97F"]],"🍴":["U+1F374","fork and knife","1f374",["","U+E66F"],["","U+E4AC"],["","U+E043"],["󾦀","U+FE980"]],"☕":["U+2615","hot beverage","2615",["","U+E670"],["","U+E597"],["","U+E045"],["󾦁","U+FE981"]],"🍸":["U+1F378","cocktail glass","1f378",["","U+E671"],["","U+E4C2"],["","U+E044"],["󾦂","U+FE982"]],"🍺":["U+1F37A","beer mug","1f37a",["","U+E672"],["","U+E4C3"],["","U+E047"],["󾦃","U+FE983"]],"🍵":["U+1F375","teacup without handle","1f375",["","U+E71E"],["","U+EAAE"],["","U+E338"],["󾦄","U+FE984"]],"🍶":["U+1F376","sake bottle and cup","1f376",["","U+E74B"],["","U+EA97"],["","U+E30B"],["󾦅","U+FE985"]],"🍷":["U+1F377","wine glass","1f377",["","U+E756"],["","U+E4C1"],["","U+E044"],["󾦆","U+FE986"]],"🍻":["U+1F37B","clinking beer mugs","1f37b",["","U+E672"],["","U+EA98"],["","U+E30C"],["󾦇","U+FE987"]],"🍹":["U+1F379","tropical drink","1f379",["","U+E671"],["","U+EB3E"],["","U+E044"],["󾦈","U+FE988"]],"↗":["U+2197","north east arrow","2197",["","U+E678"],["","U+E555"],["","U+E236"],["󾫰","U+FEAF0"]],"↘":["U+2198","south east arrow","2198",["","U+E696"],["","U+E54D"],["","U+E238"],["󾫱","U+FEAF1"]],"↖":["U+2196","north west arrow","2196",["","U+E697"],["","U+E54C"],["","U+E237"],["󾫲","U+FEAF2"]],"↙":["U+2199","south west arrow","2199",["","U+E6A5"],["","U+E556"],["","U+E239"],["󾫳","U+FEAF3"]],"⤴":["U+2934","arrow pointing rightwards then curving upwards","2934",["","U+E6F5"],["","U+EB2D"],["","U+E236"],["󾫴","U+FEAF4"]],"⤵":["U+2935","arrow pointing rightwards then curving downwards","2935",["","U+E700"],["","U+EB2E"],["","U+E238"],["󾫵","U+FEAF5"]],"↔":["U+2194","left right arrow","2194",["","U+E73C"],["","U+EB7A"],["-","-"],["󾫶","U+FEAF6"]],"↕":["U+2195","up down arrow","2195",["","U+E73D"],["","U+EB7B"],["-","-"],["󾫷","U+FEAF7"]],"⬆":["U+2B06","upwards black arrow","2b06",["-","-"],["","U+E53F"],["","U+E232"],["󾫸","U+FEAF8"]],"⬇":["U+2B07","downwards black arrow","2b07",["-","-"],["","U+E540"],["","U+E233"],["󾫹","U+FEAF9"]],"➡":["U+27A1","black rightwards arrow","27a1",["-","-"],["","U+E552"],["","U+E234"],["󾫺","U+FEAFA"]],"⬅":["U+2B05","leftwards black arrow","2b05",["-","-"],["","U+E553"],["","U+E235"],["󾫻","U+FEAFB"]],"▶":["U+25B6","black right-pointing triangle","25b6",["-","-"],["","U+E52E"],["","U+E23A"],["󾫼","U+FEAFC"]],"◀":["U+25C0","black left-pointing triangle","25c0",["-","-"],["","U+E52D"],["","U+E23B"],["󾫽","U+FEAFD"]],"⏩":["U+23E9","black right-pointing double triangle","23e9",["-","-"],["","U+E530"],["","U+E23C"],["󾫾","U+FEAFE"]],"⏪":["U+23EA","black left-pointing double triangle","23ea",["-","-"],["","U+E52F"],["","U+E23D"],["󾫿","U+FEAFF"]],"⏫":["U+23EB","black up-pointing double triangle","23eb",["-","-"],["","U+E545"],["-","-"],["󾬃","U+FEB03"]],"⏬":["U+23EC","black down-pointing double triangle","23ec",["-","-"],["","U+E544"],["-","-"],["󾬂","U+FEB02"]],"🔺":["U+1F53A","up-pointing red triangle","1f53a",["-","-"],["","U+E55A"],["-","-"],["󾭸","U+FEB78"]],"🔻":["U+1F53B","down-pointing red triangle","1f53b",["-","-"],["","U+E55B"],["-","-"],["󾭹","U+FEB79"]],"🔼":["U+1F53C","up-pointing small red triangle","1f53c",["-","-"],["","U+E543"],["-","-"],["󾬁","U+FEB01"]],"🔽":["U+1F53D","down-pointing small red triangle","1f53d",["-","-"],["","U+E542"],["-","-"],["󾬀","U+FEB00"]],"⭕":["U+2B55","heavy large circle","2b55",["","U+E6A0"],["","U+EAAD"],["","U+E332"],["󾭄","U+FEB44"]],"❌":["U+274C","cross mark","274c",["-","-"],["","U+E550"],["","U+E333"],["󾭅","U+FEB45"]],"❎":["U+274E","negative squared cross mark","274e",["-","-"],["","U+E551"],["","U+E333"],["󾭆","U+FEB46"]],"❗":["U+2757","heavy exclamation mark symbol","2757",["","U+E702"],["","U+E482"],["","U+E021"],["󾬄","U+FEB04"]],"⁉":["U+2049","exclamation question mark","2049",["","U+E703"],["","U+EB2F"],["-","-"],["󾬅","U+FEB05"]],"‼":["U+203C","double exclamation mark","203c",["","U+E704"],["","U+EB30"],["-","-"],["󾬆","U+FEB06"]],"❓":["U+2753","black question mark ornament","2753",["-","-"],["","U+E483"],["","U+E020"],["󾬉","U+FEB09"]],"❔":["U+2754","white question mark ornament","2754",["-","-"],["","U+E483"],["","U+E336"],["󾬊","U+FEB0A"]],"❕":["U+2755","white exclamation mark ornament","2755",["","U+E702"],["","U+E482"],["","U+E337"],["󾬋","U+FEB0B"]],"〰":["U+3030","wavy dash","3030",["","U+E709"],["-","-"],["-","-"],["󾬇","U+FEB07"]],"➰":["U+27B0","curly loop","27b0",["","U+E70A"],["","U+EB31"],["-","-"],["󾬈","U+FEB08"]],"➿":["U+27BF","double curly loop","27bf",["","U+E6DF"],["-","-"],["","U+E211"],["󾠫","U+FE82B"]],"❤":["U+2764","heavy black heart","2764",["","U+E6EC"],["","U+E595"],["","U+E022"],["󾬌","U+FEB0C"]],"💓":["U+1F493","beating heart","1f493",["","U+E6ED"],["","U+EB75"],["","U+E327"],["󾬍","U+FEB0D"]],"💔":["U+1F494","broken heart","1f494",["","U+E6EE"],["","U+E477"],["","U+E023"],["󾬎","U+FEB0E"]],"💕":["U+1F495","two hearts","1f495",["","U+E6EF"],["","U+E478"],["","U+E327"],["󾬏","U+FEB0F"]],"💖":["U+1F496","sparkling heart","1f496",["","U+E6EC"],["","U+EAA6"],["","U+E327"],["󾬐","U+FEB10"]],"💗":["U+1F497","growing heart","1f497",["","U+E6ED"],["","U+EB75"],["","U+E328"],["󾬑","U+FEB11"]],"💘":["U+1F498","heart with arrow","1f498",["","U+E6EC"],["","U+E4EA"],["","U+E329"],["󾬒","U+FEB12"]],"💙":["U+1F499","blue heart","1f499",["","U+E6EC"],["","U+EAA7"],["","U+E32A"],["󾬓","U+FEB13"]],"💚":["U+1F49A","green heart","1f49a",["","U+E6EC"],["","U+EAA8"],["","U+E32B"],["󾬔","U+FEB14"]],"💛":["U+1F49B","yellow heart","1f49b",["","U+E6EC"],["","U+EAA9"],["","U+E32C"],["󾬕","U+FEB15"]],"💜":["U+1F49C","purple heart","1f49c",["","U+E6EC"],["","U+EAAA"],["","U+E32D"],["󾬖","U+FEB16"]],"💝":["U+1F49D","heart with ribbon","1f49d",["","U+E6EC"],["","U+EB54"],["","U+E437"],["󾬗","U+FEB17"]],"💞":["U+1F49E","revolving hearts","1f49e",["","U+E6ED"],["","U+E5AF"],["","U+E327"],["󾬘","U+FEB18"]],"💟":["U+1F49F","heart decoration","1f49f",["","U+E6F8"],["","U+E595"],["","U+E204"],["󾬙","U+FEB19"]],"♥":["U+2665","black heart suit","2665",["","U+E68D"],["","U+EAA5"],["","U+E20C"],["󾬚","U+FEB1A"]],"♠":["U+2660","black spade suit","2660",["","U+E68E"],["","U+E5A1"],["","U+E20E"],["󾬛","U+FEB1B"]],"♦":["U+2666","black diamond suit","2666",["","U+E68F"],["","U+E5A2"],["","U+E20D"],["󾬜","U+FEB1C"]],"♣":["U+2663","black club suit","2663",["","U+E690"],["","U+E5A3"],["","U+E20F"],["󾬝","U+FEB1D"]],"🚬":["U+1F6AC","smoking symbol","1f6ac",["","U+E67F"],["","U+E47D"],["","U+E30E"],["󾬞","U+FEB1E"]],"🚭":["U+1F6AD","no smoking symbol","1f6ad",["","U+E680"],["","U+E47E"],["","U+E208"],["󾬟","U+FEB1F"]],"♿":["U+267F","wheelchair symbol","267f",["","U+E69B"],["","U+E47F"],["","U+E20A"],["󾬠","U+FEB20"]],"🚩":["U+1F6A9","triangular flag on post","1f6a9",["","U+E6DE"],["","U+EB2C"],["-","-"],["󾬢","U+FEB22"]],"⚠":["U+26A0","warning sign","26a0",["","U+E737"],["","U+E481"],["","U+E252"],["󾬣","U+FEB23"]],"⛔":["U+26D4","no entry","26d4",["","U+E72F"],["","U+E484"],["","U+E137"],["󾬦","U+FEB26"]],"♻":["U+267B","black universal recycling symbol","267b",["","U+E735"],["","U+EB79"],["-","-"],["󾬬","U+FEB2C"]],"🚲":["U+1F6B2","bicycle","1f6b2",["","U+E71D"],["","U+E4AE"],["","U+E136"],["󾟫","U+FE7EB"]],"🚶":["U+1F6B6","pedestrian","1f6b6",["","U+E733"],["","U+EB72"],["","U+E201"],["󾟰","U+FE7F0"]],"🚹":["U+1F6B9","mens symbol","1f6b9",["-","-"],["-","-"],["","U+E138"],["󾬳","U+FEB33"]],"🚺":["U+1F6BA","womens symbol","1f6ba",["-","-"],["-","-"],["","U+E139"],["󾬴","U+FEB34"]],"🛀":["U+1F6C0","bath","1f6c0",["","U+E6F7"],["","U+E5D8"],["","U+E13F"],["󾔅","U+FE505"]],"🚻":["U+1F6BB","restroom","1f6bb",["","U+E66E"],["","U+E4A5"],["","U+E151"],["󾔆","U+FE506"]],"🚽":["U+1F6BD","toilet","1f6bd",["","U+E66E"],["","U+E4A5"],["","U+E140"],["󾔇","U+FE507"]],"🚾":["U+1F6BE","water closet","1f6be",["","U+E66E"],["","U+E4A5"],["","U+E309"],["󾔈","U+FE508"]],"🚼":["U+1F6BC","baby symbol","1f6bc",["-","-"],["","U+EB18"],["","U+E13A"],["󾬵","U+FEB35"]],"🚪":["U+1F6AA","door","1f6aa",["","U+E714"],["-","-"],["-","-"],["󾓳","U+FE4F3"]],"🚫":["U+1F6AB","no entry sign","1f6ab",["","U+E738"],["","U+E541"],["-","-"],["󾭈","U+FEB48"]],"✔":["U+2714","heavy check mark","2714",["-","-"],["","U+E557"],["-","-"],["󾭉","U+FEB49"]],"🆑":["U+1F191","squared cl","1f191",["","U+E6DB"],["","U+E5AB"],["-","-"],["󾮄","U+FEB84"]],"🆒":["U+1F192","squared cool","1f192",["-","-"],["","U+EA85"],["","U+E214"],["󾬸","U+FEB38"]],"🆓":["U+1F193","squared free","1f193",["","U+E6D7"],["","U+E578"],["-","-"],["󾬡","U+FEB21"]],"🆔":["U+1F194","squared id","1f194",["","U+E6D8"],["","U+EA88"],["","U+E229"],["󾮁","U+FEB81"]],"🆕":["U+1F195","squared new","1f195",["","U+E6DD"],["","U+E5B5"],["","U+E212"],["󾬶","U+FEB36"]],"🆖":["U+1F196","squared ng","1f196",["","U+E72F"],["-","-"],["-","-"],["󾬨","U+FEB28"]],"🆗":["U+1F197","squared ok","1f197",["","U+E70B"],["","U+E5AD"],["","U+E24D"],["󾬧","U+FEB27"]],"🆘":["U+1F198","squared sos","1f198",["-","-"],["","U+E4E8"],["-","-"],["󾭏","U+FEB4F"]],"🆙":["U+1F199","squared up with exclamation mark","1f199",["-","-"],["","U+E50F"],["","U+E213"],["󾬷","U+FEB37"]],"🆚":["U+1F19A","squared vs","1f19a",["-","-"],["","U+E5D2"],["","U+E12E"],["󾬲","U+FEB32"]],"🈁":["U+1F201","squared katakana koko","1f201",["-","-"],["-","-"],["","U+E203"],["󾬤","U+FEB24"]],"🈂":["U+1F202","squared katakana sa","1f202",["-","-"],["","U+EA87"],["","U+E228"],["󾬿","U+FEB3F"]],"🈲":["U+1F232","squared cjk unified ideograph-7981","1f232",["","U+E738"],["-","-"],["-","-"],["󾬮","U+FEB2E"]],"🈳":["U+1F233","squared cjk unified ideograph-7a7a","1f233",["","U+E739"],["","U+EA8A"],["","U+E22B"],["󾬯","U+FEB2F"]],"🈴":["U+1F234","squared cjk unified ideograph-5408","1f234",["","U+E73A"],["-","-"],["-","-"],["󾬰","U+FEB30"]],"🈵":["U+1F235","squared cjk unified ideograph-6e80","1f235",["","U+E73B"],["","U+EA89"],["","U+E22A"],["󾬱","U+FEB31"]],"🈶":["U+1F236","squared cjk unified ideograph-6709","1f236",["-","-"],["-","-"],["","U+E215"],["󾬹","U+FEB39"]],"🈚":["U+1F21A","squared cjk unified ideograph-7121","1f21a",["-","-"],["-","-"],["","U+E216"],["󾬺","U+FEB3A"]],"🈷":["U+1F237","squared cjk unified ideograph-6708","1f237",["-","-"],["-","-"],["","U+E217"],["󾬻","U+FEB3B"]],"🈸":["U+1F238","squared cjk unified ideograph-7533","1f238",["-","-"],["-","-"],["","U+E218"],["󾬼","U+FEB3C"]],"🈹":["U+1F239","squared cjk unified ideograph-5272","1f239",["-","-"],["","U+EA86"],["","U+E227"],["󾬾","U+FEB3E"]],"🈯":["U+1F22F","squared cjk unified ideograph-6307","1f22f",["-","-"],["","U+EA8B"],["","U+E22C"],["󾭀","U+FEB40"]],"🈺":["U+1F23A","squared cjk unified ideograph-55b6","1f23a",["-","-"],["","U+EA8C"],["","U+E22D"],["󾭁","U+FEB41"]],"㊙":["U+3299","circled ideograph secret","3299",["","U+E734"],["","U+E4F1"],["","U+E315"],["󾬫","U+FEB2B"]],"㊗":["U+3297","circled ideograph congratulation","3297",["-","-"],["","U+EA99"],["","U+E30D"],["󾭃","U+FEB43"]],"🉐":["U+1F250","circled ideograph advantage","1f250",["-","-"],["","U+E4F7"],["","U+E226"],["󾬽","U+FEB3D"]],"🉑":["U+1F251","circled ideograph accept","1f251",["-","-"],["","U+EB01"],["-","-"],["󾭐","U+FEB50"]],"➕":["U+2795","heavy plus sign","2795",["-","-"],["","U+E53C"],["-","-"],["󾭑","U+FEB51"]],"➖":["U+2796","heavy minus sign","2796",["-","-"],["","U+E53D"],["-","-"],["󾭒","U+FEB52"]],"✖":["U+2716","heavy multiplication x","2716",["-","-"],["","U+E54F"],["","U+E333"],["󾭓","U+FEB53"]],"➗":["U+2797","heavy division sign","2797",["-","-"],["","U+E554"],["-","-"],["󾭔","U+FEB54"]],"💠":["U+1F4A0","diamond shape with a dot inside","1f4a0",["","U+E6F8"],["-","-"],["-","-"],["󾭕","U+FEB55"]],"💡":["U+1F4A1","electric light bulb","1f4a1",["","U+E6FB"],["","U+E476"],["","U+E10F"],["󾭖","U+FEB56"]],"💢":["U+1F4A2","anger symbol","1f4a2",["","U+E6FC"],["","U+E4E5"],["","U+E334"],["󾭗","U+FEB57"]],"💣":["U+1F4A3","bomb","1f4a3",["","U+E6FE"],["","U+E47A"],["","U+E311"],["󾭘","U+FEB58"]],"💤":["U+1F4A4","sleeping symbol","1f4a4",["","U+E701"],["","U+E475"],["","U+E13C"],["󾭙","U+FEB59"]],"💥":["U+1F4A5","collision symbol","1f4a5",["","U+E705"],["","U+E5B0"],["-","-"],["󾭚","U+FEB5A"]],"💦":["U+1F4A6","splashing sweat symbol","1f4a6",["","U+E706"],["","U+E5B1"],["","U+E331"],["󾭛","U+FEB5B"]],"💧":["U+1F4A7","droplet","1f4a7",["","U+E707"],["","U+E4E6"],["","U+E331"],["󾭜","U+FEB5C"]],"💨":["U+1F4A8","dash symbol","1f4a8",["","U+E708"],["","U+E4F4"],["","U+E330"],["󾭝","U+FEB5D"]],"💩":["U+1F4A9","pile of poo","1f4a9",["-","-"],["","U+E4F5"],["","U+E05A"],["󾓴","U+FE4F4"]],"💪":["U+1F4AA","flexed biceps","1f4aa",["-","-"],["","U+E4E9"],["","U+E14C"],["󾭞","U+FEB5E"]],"💫":["U+1F4AB","dizzy symbol","1f4ab",["-","-"],["","U+EB5C"],["","U+E407"],["󾭟","U+FEB5F"]],"💬":["U+1F4AC","speech balloon","1f4ac",["-","-"],["","U+E4FD"],["-","-"],["󾔲","U+FE532"]],"✨":["U+2728","sparkles","2728",["","U+E6FA"],["","U+EAAB"],["","U+E32E"],["󾭠","U+FEB60"]],"✴":["U+2734","eight pointed black star","2734",["","U+E6F8"],["","U+E479"],["","U+E205"],["󾭡","U+FEB61"]],"✳":["U+2733","eight spoked asterisk","2733",["","U+E6F8"],["","U+E53E"],["","U+E206"],["󾭢","U+FEB62"]],"⚪":["U+26AA","medium white circle","26aa",["","U+E69C"],["","U+E53A"],["","U+E219"],["󾭥","U+FEB65"]],"⚫":["U+26AB","medium black circle","26ab",["","U+E69C"],["","U+E53B"],["","U+E219"],["󾭦","U+FEB66"]],"🔴":["U+1F534","large red circle","1f534",["","U+E69C"],["","U+E54A"],["","U+E219"],["󾭣","U+FEB63"]],"🔵":["U+1F535","large blue circle","1f535",["","U+E69C"],["","U+E54B"],["","U+E21A"],["󾭤","U+FEB64"]],"🔲":["U+1F532","black square button","1f532",["","U+E69C"],["","U+E54B"],["","U+E21A"],["󾭤","U+FEB64"]],"🔳":["U+1F533","white square button","1f533",["","U+E69C"],["","U+E54B"],["","U+E21B"],["󾭧","U+FEB67"]],"⭐":["U+2B50","white medium star","2b50",["-","-"],["","U+E48B"],["","U+E32F"],["󾭨","U+FEB68"]],"⬜":["U+2B1C","white large square","2b1c",["-","-"],["","U+E548"],["","U+E21B"],["󾭫","U+FEB6B"]],"⬛":["U+2B1B","black large square","2b1b",["-","-"],["","U+E549"],["","U+E21A"],["󾭬","U+FEB6C"]],"▫":["U+25AB","white small square","25ab",["-","-"],["","U+E531"],["","U+E21B"],["󾭭","U+FEB6D"]],"▪":["U+25AA","black small square","25aa",["-","-"],["","U+E532"],["","U+E21A"],["󾭮","U+FEB6E"]],"◽":["U+25FD","white medium small square","25fd",["-","-"],["","U+E534"],["","U+E21B"],["󾭯","U+FEB6F"]],"◾":["U+25FE","black medium small square","25fe",["-","-"],["","U+E535"],["","U+E21A"],["󾭰","U+FEB70"]],"◻":["U+25FB","white medium square","25fb",["-","-"],["","U+E538"],["","U+E21B"],["󾭱","U+FEB71"]],"◼":["U+25FC","black medium square","25fc",["-","-"],["","U+E539"],["","U+E21A"],["󾭲","U+FEB72"]],"🔶":["U+1F536","large orange diamond","1f536",["-","-"],["","U+E546"],["","U+E21B"],["󾭳","U+FEB73"]],"🔷":["U+1F537","large blue diamond","1f537",["-","-"],["","U+E547"],["","U+E21B"],["󾭴","U+FEB74"]],"🔸":["U+1F538","small orange diamond","1f538",["-","-"],["","U+E536"],["","U+E21B"],["󾭵","U+FEB75"]],"🔹":["U+1F539","small blue diamond","1f539",["-","-"],["","U+E537"],["","U+E21B"],["󾭶","U+FEB76"]],"❇":["U+2747","sparkle","2747",["","U+E6FA"],["","U+E46C"],["","U+E32E"],["󾭷","U+FEB77"]],"💮":["U+1F4AE","white flower","1f4ae",["-","-"],["","U+E4F0"],["-","-"],["󾭺","U+FEB7A"]],"💯":["U+1F4AF","hundred points symbol","1f4af",["-","-"],["","U+E4F2"],["-","-"],["󾭻","U+FEB7B"]],"↩":["U+21A9","leftwards arrow with hook","21a9",["","U+E6DA"],["","U+E55D"],["-","-"],["󾮃","U+FEB83"]],"↪":["U+21AA","rightwards arrow with hook","21aa",["-","-"],["","U+E55C"],["-","-"],["󾮈","U+FEB88"]],"🔃":["U+1F503","clockwise downwards and upwards open circle arrows","1f503",["","U+E735"],["","U+EB0D"],["-","-"],["󾮑","U+FEB91"]],"🔊":["U+1F50A","speaker with three sound waves","1f50a",["-","-"],["","U+E511"],["","U+E141"],["󾠡","U+FE821"]],"🔋":["U+1F50B","battery","1f50b",["-","-"],["","U+E584"],["-","-"],["󾓼","U+FE4FC"]],"🔌":["U+1F50C","electric plug","1f50c",["-","-"],["","U+E589"],["-","-"],["󾓾","U+FE4FE"]],"🔍":["U+1F50D","left-pointing magnifying glass","1f50d",["","U+E6DC"],["","U+E518"],["","U+E114"],["󾮅","U+FEB85"]],"🔎":["U+1F50E","right-pointing magnifying glass","1f50e",["","U+E6DC"],["","U+EB05"],["","U+E114"],["󾮍","U+FEB8D"]],"🔒":["U+1F512","lock","1f512",["","U+E6D9"],["","U+E51C"],["","U+E144"],["󾮆","U+FEB86"]],"🔓":["U+1F513","open lock","1f513",["","U+E6D9"],["","U+E51C"],["","U+E145"],["󾮇","U+FEB87"]],"🔏":["U+1F50F","lock with ink pen","1f50f",["","U+E6D9"],["","U+EB0C"],["","U+E144"],["󾮐","U+FEB90"]],"🔐":["U+1F510","closed lock with key","1f510",["","U+E6D9"],["","U+EAFC"],["","U+E144"],["󾮊","U+FEB8A"]],"🔑":["U+1F511","key","1f511",["","U+E6D9"],["","U+E519"],["","U+E03F"],["󾮂","U+FEB82"]],"🔔":["U+1F514","bell","1f514",["","U+E713"],["","U+E512"],["","U+E325"],["󾓲","U+FE4F2"]],"☑":["U+2611","ballot box with check","2611",["-","-"],["","U+EB02"],["-","-"],["󾮋","U+FEB8B"]],"🔘":["U+1F518","radio button","1f518",["-","-"],["","U+EB04"],["-","-"],["󾮌","U+FEB8C"]],"🔖":["U+1F516","bookmark","1f516",["-","-"],["","U+EB07"],["-","-"],["󾮏","U+FEB8F"]],"🔗":["U+1F517","link symbol","1f517",["-","-"],["","U+E58A"],["-","-"],["󾭋","U+FEB4B"]],"🔙":["U+1F519","back with leftwards arrow above","1f519",["-","-"],["","U+EB06"],["","U+E235"],["󾮎","U+FEB8E"]],"🔚":["U+1F51A","end with leftwards arrow above","1f51a",["","U+E6B9"],["-","-"],["-","-"],["󾀚","U+FE01A"]],"🔛":["U+1F51B","on with exclamation mark with left right arrow above","1f51b",["","U+E6B8"],["-","-"],["-","-"],["󾀙","U+FE019"]],"🔜":["U+1F51C","soon with rightwards arrow above","1f51c",["","U+E6B7"],["-","-"],["-","-"],["󾀘","U+FE018"]],"🔝":["U+1F51D","top with upwards arrow above","1f51d",["-","-"],["-","-"],["","U+E24C"],["󾭂","U+FEB42"]],"✅":["U+2705","white heavy check mark","2705",["-","-"],["","U+E55E"],["-","-"],["󾭊","U+FEB4A"]],"✊":["U+270A","raised fist","270a",["","U+E693"],["","U+EB83"],["","U+E010"],["󾮓","U+FEB93"]],"✋":["U+270B","raised hand","270b",["","U+E695"],["","U+E5A7"],["","U+E012"],["󾮕","U+FEB95"]],"✌":["U+270C","victory hand","270c",["","U+E694"],["","U+E5A6"],["","U+E011"],["󾮔","U+FEB94"]],"👊":["U+1F44A","fisted hand sign","1f44a",["","U+E6FD"],["","U+E4F3"],["","U+E00D"],["󾮖","U+FEB96"]],"👍":["U+1F44D","thumbs up sign","1f44d",["","U+E727"],["","U+E4F9"],["","U+E00E"],["󾮗","U+FEB97"]],"☝":["U+261D","white up pointing index","261d",["-","-"],["","U+E4F6"],["","U+E00F"],["󾮘","U+FEB98"]],"👆":["U+1F446","white up pointing backhand index","1f446",["-","-"],["","U+EA8D"],["","U+E22E"],["󾮙","U+FEB99"]],"👇":["U+1F447","white down pointing backhand index","1f447",["-","-"],["","U+EA8E"],["","U+E22F"],["󾮚","U+FEB9A"]],"👈":["U+1F448","white left pointing backhand index","1f448",["-","-"],["","U+E4FF"],["","U+E230"],["󾮛","U+FEB9B"]],"👉":["U+1F449","white right pointing backhand index","1f449",["-","-"],["","U+E500"],["","U+E231"],["󾮜","U+FEB9C"]],"👋":["U+1F44B","waving hand sign","1f44b",["","U+E695"],["","U+EAD6"],["","U+E41E"],["󾮝","U+FEB9D"]],"👏":["U+1F44F","clapping hands sign","1f44f",["-","-"],["","U+EAD3"],["","U+E41F"],["󾮞","U+FEB9E"]],"👌":["U+1F44C","ok hand sign","1f44c",["","U+E70B"],["","U+EAD4"],["","U+E420"],["󾮟","U+FEB9F"]],"👎":["U+1F44E","thumbs down sign","1f44e",["","U+E700"],["","U+EAD5"],["","U+E421"],["󾮠","U+FEBA0"]],"👐":["U+1F450","open hands sign","1f450",["","U+E695"],["","U+EAD6"],["","U+E422"],["󾮡","U+FEBA1"]],"🏇":["U+1F3C7","horse racer","1f3c7",["-","-"],["-","-"],["-","-"],["-","-"]],"🏉":["U+1F3C9","rugby football","1f3c9",["-","-"],["-","-"],["-","-"],["-","-"]],"🍼":["U+1F37C","babby bottle","1f37c",["-","-"],["-","-"],["-","-"],["-","-"]],"🍐":["U+1F350","pear","1f350",["-","-"],["-","-"],["-","-"],["-","-"]],"🌞":["U+1F31e","sun with face","1f31e",["-","-"],["-","-"],["-","-"],["-","-"]],"🌝":["U+1F31D","full moon with face","1f31d",["-","-"],["-","-"],["-","-"],["-","-"]],"🌜":["U+1F31C","last quarter moon with face","1f31c",["-","-"],["-","-"],["-","-"],["-","-"]],"🌚":["U+1F31A","new moon with face","1f31a",["-","-"],["-","-"],["-","-"],["-","-"]],"🌘":["U+1F318","waning crescent moon symbol","1f318",["-","-"],["-","-"],["-","-"],["-","-"]],"🌗":["U+1F317","last quarter moon symbol","1f317",["-","-"],["-","-"],["-","-"],["-","-"]],"🌖":["U+1F316","waning gibbous moon symbol","1f316",["-","-"],["-","-"],["-","-"],["-","-"]],"🌒":["U+1F312","waxing crescent moon symbol","1f312",["-","-"],["-","-"],["-","-"],["-","-"]],"🌐":["U+1F310","globe with meridians","1f310",["-","-"],["-","-"],["-","-"],["-","-"]],"🌎":["U+1F30E","earth globe americas","1f30e",["-","-"],["-","-"],["-","-"],["-","-"]],"🌍":["U+1F30D","earth globe europe-africa","1f30d",["-","-"],["-","-"],["-","-"],["-","-"]],"🏤":["U+1F3E4","european post office","1f3e4",["-","-"],["-","-"],["-","-"],["-","-"]],"🐏":["U+1F40F","ram","1f40f",["-","-"],["-","-"],["-","-"],["-","-"]],"🐐":["U+1F410","goat","1f410",["-","-"],["-","-"],["-","-"],["-","-"]],"🐓":["U+1F413","rooster","1f413",["-","-"],["-","-"],["-","-"],["-","-"]],"🐕":["U+1F415","dog","1f415",["-","-"],["-","-"],["-","-"],["-","-"]],"🐖":["U+1F416","pig","1f416",["-","-"],["-","-"],["-","-"],["-","-"]],"🐪":["U+1F42A","dromedary camel","1f42a",["-","-"],["-","-"],["-","-"],["-","-"]],"👥":["U+1F465","busts in silhouette","1f465",["-","-"],["-","-"],["-","-"],["-","-"]],"💭":["U+1F4AD","thought balloon","1f4ad",["-","-"],["-","-"],["-","-"],["-","-"]],"💶":["U+1F4B6","banknote with euro sign","1f4b6",["-","-"],["-","-"],["-","-"],["-","-"]],"💷":["U+1F4B7","banknote with pound sign","1f4b7",["-","-"],["-","-"],["-","-"],["-","-"]],"📬":["U+1F4EC","open mailbox with raised flag","1f4ec",["-","-"],["-","-"],["-","-"],["-","-"]],"📭":["U+1F4ED","open mailbox with lowered flag","1f4ed",["-","-"],["-","-"],["-","-"],["-","-"]],"📯":["U+1F4EF","postal horn","1f4ef",["-","-"],["-","-"],["-","-"],["-","-"]],"📵":["U+1F4F5","no mobile phones","1f4f5",["-","-"],["-","-"],["-","-"],["-","-"]],"🔀":["U+1F500","twisted rightwards arrows","1f500",["-","-"],["-","-"],["-","-"],["-","-"]],"🔁":["U+1F501","clockwise rightwards and leftwards open circle arrows","1f501",["-","-"],["-","-"],["-","-"],["-","-"]],"🔂":["U+1F502","clockwise rightwards and leftwards open circle arrows with circled one overlay","1f502",["-","-"],["-","-"],["-","-"],["-","-"]],"🔃":["U+1F503","clockwise downwards and upwards open circle arrows","1f503",["-","-"],["-","-"],["-","-"],["-","-"]],"🔄":["U+1F504","anticlockwise downwards and upwards open circle arrows","1f504",["-","-"],["-","-"],["-","-"],["-","-"]],"🔅":["U+1F505","low brightness symbol","1f505",["-","-"],["-","-"],["-","-"],["-","-"]],"🔆":["U+1F506","high brightness symbol","1f506",["-","-"],["-","-"],["-","-"],["-","-"]],"🔇":["U+1F507","speaker with cancellation stroke","1f507",["-","-"],["-","-"],["-","-"],["-","-"]],"🔉":["U+1F509","speaker with one sound wave","1f509",["-","-"],["-","-"],["-","-"],["-","-"]],"🔕":["U+1F515","bell with cancellation stroke","1f515",["-","-"],["-","-"],["-","-"],["-","-"]],"🔬":["U+1F52C","microscope","1f52c",["-","-"],["-","-"],["-","-"],["-","-"]],"🔭":["U+1F52D","telescope","1f52d",["-","-"],["-","-"],["-","-"],["-","-"]],"🕜":["U+1F55C","clock face one-thirty","1f55c",["-","-"],["-","-"],["-","-"],["-","-"]],"🕝":["U+1F55D","clock face two-thirty","1f55d",["-","-"],["-","-"],["-","-"],["-","-"]],"🕞":["U+1F55E","clock face three-thirty","1f55e",["-","-"],["-","-"],["-","-"],["-","-"]],"🕟":["U+1F55F","clock face four-thirty","1f55f",["-","-"],["-","-"],["-","-"],["-","-"]],"🕠":["U+1F560","clock face five-thirty","1f560",["-","-"],["-","-"],["-","-"],["-","-"]],"🕡":["U+1F561","clock face six-thirty","1f561",["-","-"],["-","-"],["-","-"],["-","-"]],"🕢":["U+1F562","clock face seven-thirty","1f562",["-","-"],["-","-"],["-","-"],["-","-"]],"🕣":["U+1F563","clock face eight-thirty","1f563",["-","-"],["-","-"],["-","-"],["-","-"]],"🕤":["U+1F564","clock face nine-thirty","1f564",["-","-"],["-","-"],["-","-"],["-","-"]],"🕥":["U+1F565","clock face ten-thirty","1f565",["-","-"],["-","-"],["-","-"],["-","-"]],"🕦":["U+1F566","clock face eleven-thirty","1f566",["-","-"],["-","-"],["-","-"],["-","-"]],"🕧":["U+1F567","clock face twelve-thirty","1f567",["-","-"],["-","-"],["-","-"],["-","-"]],"🕧":["U+1F567","grinning face","1f600",["-","-"],["-","-"],["-","-"],["-","-"]],"😇":["U+1F607","smiling face with halo","1f607",["-","-"],["-","-"],["-","-"],["-","-"]],"😈":["U+1F608","smiling face with horns","1f608",["-","-"],["-","-"],["-","-"],["-","-"]],"😐":["U+1F610","neutral face","1f610",["-","-"],["-","-"],["-","-"],["-","-"]],"😑":["U+1F611","expressionless face","1f611",["-","-"],["-","-"],["-","-"],["-","-"]],"😕":["U+1F615","confused face","1f615",["-","-"],["-","-"],["-","-"],["-","-"]],"😗":["U+1F617","kissing face","1f617",["-","-"],["-","-"],["-","-"],["-","-"]],"😗":["U+1F617","kissing face","1f617",["-","-"],["-","-"],["-","-"],["-","-"]],"😛":["U+1F61B","face with stuck-out tongue","1f61b",["-","-"],["-","-"],["-","-"],["-","-"]],"😟":["U+1F61F","worried face","1f61f",["-","-"],["-","-"],["-","-"],["-","-"]],"😥":["U+1F625","disappointed but relieved face","1f625",["-","-"],["-","-"],["-","-"],["-","-"]],"😦":["U+1F626","frowning face with open mouth","1f626",["-","-"],["-","-"],["-","-"],["-","-"]],"😧":["U+1F627","anguished face","1f627",["-","-"],["-","-"],["-","-"],["-","-"]],"😬":["U+1F62C","grimacing face","1f62c",["-","-"],["-","-"],["-","-"],["-","-"]],"😬":["U+1F62C","grimacing face","1f62c",["-","-"],["-","-"],["-","-"],["-","-"]],"😮":["U+1F62E","face with open mouth","1f62e",["-","-"],["-","-"],["-","-"],["-","-"]],"😯":["U+1F62F","hushed face","1f62f",["-","-"],["-","-"],["-","-"],["-","-"]],"😴":["U+1F634","sleeping face","1f634",["-","-"],["-","-"],["-","-"],["-","-"]],"😶":["U+1F636","face without mouth","1f636",["-","-"],["-","-"],["-","-"],["-","-"]],"🚁":["U+1F681","helicopter","1f681",["-","-"],["-","-"],["-","-"],["-","-"]],"🚂":["U+1F682","steam locomotive","1f682",["-","-"],["-","-"],["-","-"],["-","-"]],"🚆":["U+1F686","train","1f686",["-","-"],["-","-"],["-","-"],["-","-"]],"🚈":["U+1F688","light rail","1f688",["-","-"],["-","-"],["-","-"],["-","-"]],"🚎":["U+1F68E","trolleybus","1f68e",["-","-"],["-","-"],["-","-"],["-","-"]],"🚍":["U+1F68D","oncoming bus","1f68d",["-","-"],["-","-"],["-","-"],["-","-"]],"🚐":["U+1F690","minibus","1f690",["-","-"],["-","-"],["-","-"],["-","-"]],"🚔":["U+1F694","oncoming police car","1f694",["-","-"],["-","-"],["-","-"],["-","-"]],"🚖":["U+1F696","oncoming taxi","1f696",["-","-"],["-","-"],["-","-"],["-","-"]],"🚘":["U+1F698","oncoming automobile","1f698",["-","-"],["-","-"],["-","-"],["-","-"]],"🚛":["U+1F69B","articulated lorry","1f69b",["-","-"],["-","-"],["-","-"],["-","-"]],"🚜":["U+1F69C","tractor","1f69c",["-","-"],["-","-"],["-","-"],["-","-"]],"🚝":["U+1F69D","monorail","1f69d",["-","-"],["-","-"],["-","-"],["-","-"]],"🚞":["U+1F69E","mountain railway","1f69e",["-","-"],["-","-"],["-","-"],["-","-"]],"🚟":["U+1F69F","suspension railway","1f69f",["-","-"],["-","-"],["-","-"],["-","-"]],"🚠":["U+1F6A0","mountain cableway","1f6a0",["-","-"],["-","-"],["-","-"],["-","-"]],"🚡":["U+1F6A1","aerial tramway","1f6a1",["-","-"],["-","-"],["-","-"],["-","-"]],"🚣":["U+1F6A3","rowboat","1f6a3",["-","-"],["-","-"],["-","-"],["-","-"]],"🚦":["U+1F6A6","vertical traffic light","1f6a6",["-","-"],["-","-"],["-","-"],["-","-"]],"🚮":["U+1F6AE","put litter in its place symbol","1f6ae",["-","-"],["-","-"],["-","-"],["-","-"]],"🚯":["U+1F6AF","do not litter symbol","1f6af",["-","-"],["-","-"],["-","-"],["-","-"]],"🚰":["U+1F6B0","potable water symbol","1f6b0",["-","-"],["-","-"],["-","-"],["-","-"]],"🚱":["U+1F6B1","non-potable water symbol","1f6b1",["-","-"],["-","-"],["-","-"],["-","-"]],"🚳":["U+1F6B3","no bicycles","1f6b3",["-","-"],["-","-"],["-","-"],["-","-"]],"🚴":["U+1F6B4","bicyclist","1f6b4",["-","-"],["-","-"],["-","-"],["-","-"]],"🚵":["U+1F6B5","mountain bicyclist","1f6b5",["-","-"],["-","-"],["-","-"],["-","-"]],"🚷":["U+1F6B7","no pedestrians","1f6b7",["-","-"],["-","-"],["-","-"],["-","-"]],"🚸":["U+1F6B8","children crossing","1f6b8",["-","-"],["-","-"],["-","-"],["-","-"]],"🚿":["U+1F6BF","shower","1f6bf",["-","-"],["-","-"],["-","-"],["-","-"]],"🛁":["U+1F6C1","bathtub","1f6c1",["-","-"],["-","-"],["-","-"],["-","-"]],"🛂":["U+1F6C2","passport control","1f6c2",["-","-"],["-","-"],["-","-"],["-","-"]],"🛃":["U+1F6C3","customs","1f6c3",["-","-"],["-","-"],["-","-"],["-","-"]],"🛄":["U+1F6C4","baggage claim","1f6c4",["-","-"],["-","-"],["-","-"],["-","-"]],"🛅":["U+1F6C5","left luggage","1f6c5",["-","-"],["-","-"],["-","-"],["-","-"]],"😙":["U+1F619","kissing face with smiling eyes","1f619",["-","-"],["-","-"],["-","-"],["-","-"]],"🚊":["U+1F68A","tram","1f68a",["-","-"],["-","-"],["-","-"],["-","-"]]},d=null;a.unifiedToHTML=e;var f={},g={},h={},i={},j=[f,g,h,i];for(var k in b){var l=b[k];for(var m=0;m<j.length;m++){var n=m+3,o=l[n][0],p=j[m];if(o==="-"||p[o])continue;p[o]=k}}var q=null;a.docomoToUnified=r;var s=null;a.kddiToUnified=t;var u=null;a.softbankToUnified=v;var w=null;return a.googleToUnified=x,a})
;function getEatingPreferencesModel(a){var b;for(b=0;b<a.Cuisines.length;b++)a.Cuisines[b].Selected=ko.observable(a.Cuisines[b].Selected);for(b=0;b<a.Purposes.length;b++)a.Purposes[b].Selected=ko.observable(a.Purposes[b].Selected);for(b=0;b<a.Dishes.length;b++)a.Dishes[b].Selected=ko.observable(a.Dishes[b].Selected);for(b=0;b<a.Dinings.length;b++)a.Dinings[b].Selected=ko.observable(a.Dinings[b].Selected);for(b=0;b<a.EatingHabits.length;b++)a.EatingHabits[b].Selected=ko.observable(a.EatingHabits[b].Selected);for(b=0;b<a.Districts.length;b++)a.Districts[b].Selected=ko.observable(a.Districts[b].Selected);return new EatingPreferenceModel(a)}function formatCurrency(a){return a==0?a:(a/=1e3,a<1e3?a.format("N0")+" "+MoneyText.Thousand:(parseFloat(a)/1e3).format("N2")+" "+MoneyText.Million)}function getEatingPreferencesPostData(a){var b=new Array;for(var c=0;c<a.Cuisines().length;c++){var d=a.Cuisines()[c];d.Selected()&&b.push({Id:d.Id,Selected:!0})}var e=new Array;for(var c=0;c<a.Purposes().length;c++){var d=a.Purposes()[c];d.Selected()&&e.push({Id:d.Id,Selected:!0})}var f=new Array;for(var c=0;c<a.Dishes().length;c++){var d=a.Dishes()[c];d.Selected()&&f.push({Id:d.Id,Selected:!0})}var g=new Array;for(var c=0;c<a.Dinings().length;c++){var d=a.Dinings()[c];d.Selected()&&g.push({Id:d.Id,Selected:!0})}var h=new Array;for(var c=0;c<a.EatingHabits().length;c++){var d=a.EatingHabits()[c];d.Selected()&&h.push({Id:d.Id,Selected:!0})}var i=new Array;for(var c=0;c<a.Districts().length;c++){var d=a.Districts()[c];d.Selected()&&i.push({Id:d.Id,Selected:!0})}var j={Cuisines:b,Purposes:e,Dinings:g,Dishes:f,EatingHabits:h,Districts:i,MaxCost:a.MaxCost(),AllSelectedDistricts:a.AllSelectedDistricts()};return JSON.stringify(j)}var OptionData=function(){},EatingPreferenceModel=function(a){var b=this;b.Cuisines=ko.observableArray(a.Cuisines),b.Purposes=ko.observableArray(a.Purposes),b.Dinings=ko.observableArray(a.Dinings),b.Dishes=ko.observableArray(a.Dishes),b.EatingHabits=ko.observableArray(a.EatingHabits),b.Districts=ko.observableArray(a.Districts),b.Provinces=ko.observableArray(a.Provinces),b.ProvinceId=ko.observable(a.ProvinceId),b.MaxCost=ko.observable(a.MaxCost),b.AllSelectedDistricts=ko.observableArray(a.AllSelectedDistricts),b.getFormattedMaxCost=ko.computed(function(){return formatCurrency(b.MaxCost())}),b.IsSaving=ko.observable(!1),b.IsSavingSuccess=ko.observable(!1),b.IsSavingFail=ko.observable(!1),b.submit=function(){if(!b.IsSaving()){b.IsSaving(!0),b.IsSavingSuccess(!1);var a=getEatingPreferencesPostData(b);$.ajax({type:"POST",url:"/Account/EatingPreferences",data:a,success:function(a){a.success?(b.IsSaving(!1),b.IsSavingSuccess(!0)):b.IsSavingFail(!0)},dataType:"json",contentType:"application/json"})}},b.anyClick=function(){b.IsSavingSuccess(!1),b.IsSavingFail(!1)},b.CuisinesSelected=ko.computed(function(){var a=!1;for(var b=0;b<this.Cuisines().length;b++)if(this.Cuisines()[b].Selected()){a=!0;break}return a},b),b.PurposesSelected=ko.computed(function(){var a=!1;for(var c=0;c<b.Purposes().length;c++)if(b.Purposes()[c].Selected()){a=!0;break}return a},b),b.DiningsSelected=ko.computed(function(){var a=!1;for(var c=0;c<b.Dinings().length;c++)if(b.Dinings()[c].Selected()){a=!0;break}return a},b),b.DishesSelected=ko.computed(function(){var a=!1;for(var c=0;c<b.Dishes().length;c++)if(b.Dishes()[c].Selected()){a=!0;break}return a},b),b.EatingHabitsSelected=ko.computed(function(){var a=!1;for(var c=0;c<b.EatingHabits().length;c++)if(b.EatingHabits()[c].Selected()){a=!0;break}return a},b),b.DistrictsSelected=ko.computed(function(){var a=!1;for(var c=0;c<b.Districts().length;c++){var d=b.AllSelectedDistricts().indexOf(b.Districts()[c].Id);b.Districts()[c].Selected()?d==-1&&b.AllSelectedDistricts.push(b.Districts()[c].Id):d!=-1&&b.AllSelectedDistricts.splice(d,1)}return b.AllSelectedDistricts().length>0?a=!0:a=!1,a},b),b.UnChecked=ko.observable(!1),b.isLoadingDistricts=ko.observable(!1),b.changeDistricts=function(a,c){var d=$(c.target).val();if(d!="undefined"&&d!=null&&d!=""&&!b.isLoadingDistricts()){b.isLoadingDistricts(!0);var e=new Date;$.get("/Account/GetDistrictPreferenceOptions?provinceId="+d+"&t="+e.getTime(),function(a){a.success?(b.Districts(EatingPreferenceModel.observableOptions(a.data)),b.AllSelectedDistricts(a.allselecteddistricts),b.isLoadingDistricts(!1)):b.isLoadingDistricts(!1)})}}};EatingPreferenceModel.observableOptions=function(a){var b;for(b=0;b<a.length;b++)a[b].Selected=ko.observable(a[b].Selected);return a};var PreferenceBox=function(a,b){var c=this;c.uid="",c.islogin=ko.observable(a),c.isUpdatedAll=ko.observable(!1),c.type=ko.observable(1),c.nextType=ko.observable(0),c.options=ko.observableArray([]),c.selectedOptions=ko.observableArray([]),c.provinces=ko.observableArray(),c.provinceId=ko.observable(),c.isloading=ko.observable(!1),c.districts=ko.observableArray([]),c.totalSelected=1,c.isSaving=ko.observable(!1),c.title=ko.computed(function(){switch(c.type()){case 1:return PreferenceBoxText.WhatCuisineTypeDoYouLike;case 2:return PreferenceBoxText.WhatMealDoYouLike;case 3:return PreferenceBoxText.WhatTypesDoYouCome;case 4:return PreferenceBoxText.WhatDiningTimeDoYouEating;case 5:return PreferenceBoxText.WhatDoItBeforeEating;case 6:return PreferenceBoxText.WhatPlaceDoYouLike}return""}),c.getPostData=function(){var a=new Array;for(var b=0;b<c.selectedOptions().length;b++){var d=c.selectedOptions()[b];a.push(d.Id)}return{Type:c.type(),SelectedOptions:a,ProvinceId:c.provinceId()}},c.submit=function(a){if(!c.isSaving()){var b=c.getPostData();c.isSaving(!0),$.ajax({type:"POST",url:"/Account/PreferenceBoxUpdate",data:JSON.stringify(b),success:function(b){b.success?(c.isSaving(!1),c.nextType(0),c.getNextType(),a&&c.load()):c.isSaving(!1)},dataType:"json",contentType:"application/json"})}},c.skip=function(){if(c.autoLoad()){var a="preferencesskip_"+c.uid;if(!$.cookie(a))$.cookie(a,c.type(),{expires:10,path:"/"});else{var b=$.cookie(a)+","+c.type();$.cookie(a,b,{expires:10,path:"/"})}}else c.getNextType(),c.load()},c.selectedOptionsReRange=ko.computed(function(){for(var a=0;a<c.selectedOptions().length;a++){var b=c.selectedOptions()[a];b.SelectedOrder(a+1)}}),c.add=function(a){a.Selected(!0),c.options.remove(a),c.selectedOptions.push(a),a.SelectedOrder(c.selectedOptions().length)},c.reject=function(a){for(var b=a.SelectedOrder();b<c.selectedOptions().length;b++){var d=c.selectedOptions()[b];d.SelectedOrder(b)}a.Selected(!1),c.selectedOptions.remove(a),c.options.push(a)},c.click=function(a){if(a.Selected()){for(var b=a.SelectedOrder();b<c.selectedOptions().length;b++){var d=c.selectedOptions()[b];d.SelectedOrder(b)}a.Selected(!a.Selected()),c.selectedOptions.remove(a),c.options.push(a)}else a.Selected(!a.Selected()),c.options.remove(a),c.selectedOptions.push(a),a.SelectedOrder(c.selectedOptions().length)},c.isLoadingDistricts=ko.observable(!1),c.changeDistricts=function(a,b){c.submit(!1);var d=$(b.target).val();if(d!="undefined"&&d!=null&&d!=""&&!c.isLoadingDistricts()){c.isLoadingDistricts(!0);var e=new Date;$.get("/Account/GetDistrictPreferenceBoxOptions?provinceId="+d+"&t="+e.getTime(),function(a){if(a.success){var b=a.data;c.options(PreferenceBox.observableOptions(b.Options)),c.selectedOptions(PreferenceBox.observableOptions(b.SelectedOptions)),c.nextType(b.NextType),c.isLoadingDistricts(!1)}else c.isLoadingDistricts(!1)})}},c.load=function(){if(!c.isloading()){c.isloading(!0);var a="/account/getpreferencebox";c.autoLoad()||(a+="?type="+c.type()),$.ajax({url:a,type:"GET",cache:!1,success:function(a){if(a.success){var b=a.data;c.isUpdatedAll(b.AlreadyUpdateAll),b.AlreadyUpdateAll?(c.options.removeAll(),c.selectedOptions.removeAll(),c.provinceId(0),c.provinces.removeAll(),c.type(0),c.nextType(0)):(c.uid=b.UID,c.options(PreferenceBox.observableOptions(b.Options)),b.SelectedOptions.sort(function(a,b){return a.SelectedOrder-b.SelectedOrder}),c.selectedOptions(PreferenceBox.observableOptions(b.SelectedOptions)),c.provinceId(b.ProvinceId),c.provinces(b.Provinces),c.type(b.Type),c.nextType(b.NextType)),c.isloading(!1)}else c.isloading(!1)}})}},c.login=function(){angular.element('div[ng-controller="HelperCtrl"]').scope().ShowDlgLogin(function(a){a.LoggedIn&&(c.islogin(!0),c.load())})},c.openpopup=function(){angular.element('div[ng-controller="HelperCtrl"]').scope().ShowDlgLogin(function(a){a.LoggedIn&&(c.islogin(!0),UpdateProfileModel.loadUpdateProfilePopup(1))})},c.popupDiv=b,c.types=[1,2,6],c.getNextType=function(){var a=c.types.indexOf(c.type());a>=0&&a<c.types.length-1&&c.type(c.types[a+1])},c.isMaxType=function(){return c.type()==c.types[c.types.length-1]},c.autoLoad=ko.observable(!1),c.showPopup=function(){angular.element('div[ng-controller="HelperCtrl"]').scope().ShowDlgLogin(function(a){a.LoggedIn&&($("#"+c.popupDiv).modal({persist:!0}),$("#simplemodal-container").css("height","435px"),$("#simplemodal-container").css("width","700px"),$("#simplemodal-container").css("background","#f8f8f8"),$(window).resize(),c.loadWithType(c.types[0]))})},c.loadWithType=function(a){c.type(a),c.load()},c.doneCallback=null,c.done=function(){$.modal.close(),typeof c.doneCallback!="undefined"&&c.doneCallback!=null&&c.doneCallback()},c.isActiveType=function(a){return c.type()==a},c.submitAndClose=function(){c.submit(),c.done()}};PreferenceBox.observableOptions=function(a){if(a!=null){var b;for(b=0;b<a.length;b++)a[b].Selected=ko.observable(a[b].Selected),a[b].SelectedOrder=ko.observable(a[b].SelectedOrder);return a}return null},PreferenceBox.CreatePopup=function(a){var b="preferences-popup";if($("#"+b).length>0){var c=new PreferenceBox(!0,b);return c.doneCallback=a,ko.applyBindings(c,document.getElementById(b)),c}return null}
;function FoodyBox_2_0(){function b(a){var b=$("#foody-box-2-0 .foody-box-2-0-caption .input-hashtag");if(b.length!==1)return;b.mentionsInput({triggerChar:"#",mentions:a,onDataRequest:function(a,b,c){$.ajax("/hashtag/GetHasgtag",{cache:!1,async:!1,type:"POST",data:JSON.stringify({term:b,type:[1,5,6,7,8,9,10,11]}),contentType:"application/json",dataType:"json",success:function(a){a=_.filter(a,function(a){return a.name.toLowerCase().indexOf(b.toLowerCase())>-1}),c.call(this,a)}})},onRemoveMentions:function(a){console.log(a),$.getJSON("/photo/RemovePhotoHashtags",{resPicId:b.attr("data-id"),hashtagsString:JSON.stringify(a)},function(a){})}}),$("#mention-container").click(function(){$("#foody-box-2-0 .foody-box-2-0-caption .input-hashtag").focus()})}var a=this;a.ContainerId,a.DataId,a.DataGroup,a.IsAnimating,a.CurrentUrl,a.IsRedirectToCurrentUrl,a.ELstThumb=function(){return $("#"+a.ContainerId+" .foody-box-2-0-list-thumb-picture")},a.ELstThumbScroll=function(){return $("#"+a.ContainerId+" .foody-box-2-0-list-thumb-picture-scroll")},a.EActivePic=function(){return $("#"+a.ContainerId+" .foody-box-2-0-thumb-picture.active")},a.ViewModel,a.FirstCount,a.Count,a.LastId,a.TotalRemaining,a.LoadResAlbumFoodyBoxByPicIdsAndGroup=function(){var b={dataId:a.DataId,dataGroup:a.DataGroup,firstCount:a.FirstCount(),lastId:a.LastId()};$.ajax({url:"/Photo/GetResAlbumFoodyBoxByPicIdsAndGroup",data:JSON.stringify(b),type:"POST",contentType:"application/json",success:function(b){b.Message==null||b.Message==""?(CommonHelper.HasKoBinding(a.ContainerId)?ko.mapping.fromJS(b.Result,a.ViewModel):(a.ViewModel=ko.mapping.fromJS(b.Result),ko.applyBindings(a.ViewModel,$("#"+a.ContainerId)[0])),a.LastId(b.Optional.LastId),a.TotalRemaining(b.Optional.Total-b.Result.LstResPicFoodyBox.length),a.ShowDialog(),a.LoadMainPicture()):alert(b.Message)}})},a.LoadMainPicture=function(b){a.IsAnimating=!0,b!=null&&a.ViewModel.SelectedIndex(b);var c=a.ViewModel.LstResPicFoodyBox()[a.ViewModel.SelectedIndex()],d=$("#"+a.ContainerId+" .foody-box-2-0-main-picture"),e=$("#"+a.ContainerId+" .foody-box-2-0-main-picture img");e.attr("src",""),e.attr("src",c.LowQualityUrl()),d.css("line-height",d.height()+"px"),window.history.replaceState(null,null,"/photo/detail/"+c.ResPicId()),a.LoadResPicFoodyBoxInfo(c.ResPicId())},a.LoadResPicFoodyBoxInfo=function(c){var d={resPicId:c};$.ajax({url:"/Photo/GetHtmlResPicFoodyBoxInfo",data:JSON.stringify(d),type:"POST",contentType:"application/json",success:function(c){if(c.Message==null||c.Message==""){if(c.Result!=null&&c.Result!=""){$("#foody-box-2-0-info").html(c.Result),b(c.AdditionalResult);var d=$("#foody-box-2-0-info .social-email-sharing");d.on("click",function(){if(!window.FoodyPopup)return;FoodyPopup.Init(function(){FoodyPopup.Show({title:d.data("title"),content:'<p class="share-social-method">'+d.data("description")+"</p>"+'<ul class="btns-social btns-social-fd-box">'+'<li class="fb"><a provider="1" href="javascript:void(0);" title="Facebook"></a></li>'+'<li class="gg"><a provider="2" href="javascript:void(0);" title="Google"></a></li>'+"</ul>"},function(){$("ul.btns-social-fd-box a").on("click",function(){var b=a.ViewModel.LstResPicFoodyBox()[a.ViewModel.SelectedIndex()],c=location.origin+"/photo/detail/"+b.ResPicId(),d=$(this).attr("provider");d==1&&window.FB?window.FB.ui({method:"share",href:c},function(a){}):d==2&&window.FB&&window.open("https://plus.google.com/share?url="+c),FoodyPopup.Hide()})})})});var e=$("#foody-box-2-0-info .save-photo");e.on("click",function(){if(!window.popupSavePhoto)return;if(window.popupSavePhoto){var b=a.ViewModel.LstResPicFoodyBox()[a.ViewModel.SelectedIndex()];window.popupSavePhoto.Show({PictureId:b.ResPicId()},function(a){})}})}}else alert(c.Message);var f=setInterval(function(){a.IsAnimating=!1,clearInterval(f)},150)}})},a.LoadMoreResPicFoodyBox=function(b){var c={dataId:a.DataId,dataGroup:a.DataGroup,count:a.Count(),lastId:a.LastId()};$.ajax({url:"/Photo/GetMoreResPicFoodyBox",data:JSON.stringify(c),type:"POST",contentType:"application/json",success:function(c){if(c.Message==null||c.Message==""){c.Result=CommonHelper.KoFromArrJs(c.Result);for(var d=0;d<c.Result.length;d++)a.ViewModel.LstResPicFoodyBox.push(c.Result[d]);a.LastId(c.Optional.LastId),a.TotalRemaining(c.Optional.Total-c.Result.length),a.ELstThumbScroll().css("left",a.ELstThumbScroll().position().left-70*(a.ViewModel.LstResPicFoodyBox().length-c.Result.length-1)+"px")}else alert(c.Message);b()}})},a.Prev=function(){if(a.ViewModel.SelectedIndex()>=0&&!a.IsAnimating){var b=a.ViewModel.SelectedIndex();a.ViewModel.SelectedIndex()!=0&&(a.ViewModel.SelectedIndex(b-1),a.LoadMainPicture(),a.AnimateLstThumb(!1))}},a.Next=function(){if(a.ViewModel.SelectedIndex()<=a.ViewModel.LstResPicFoodyBox().length-1&&!a.IsAnimating){var b=a.ViewModel.SelectedIndex();a.ViewModel.SelectedIndex()==a.ViewModel.LstResPicFoodyBox().length-1?a.TotalRemaining()>0?a.LoadMoreResPicFoodyBox(function(){a.ViewModel.SelectedIndex(b+1),a.LoadMainPicture(),a.AnimateLstThumb(!0)}):(a.ViewModel.SelectedIndex(0),a.LoadMainPicture(),a.MoveToFirst()):(a.ViewModel.SelectedIndex(b+1),a.LoadMainPicture(),a.AnimateLstThumb(!0))}},a.MoveToFirst=function(){a.ELstThumbScroll().css("left","10px")},a.AnimateLstThumb=function(b){(b&&a.ELstThumbScroll().width()+a.ELstThumbScroll().position().left-a.ELstThumb().width()>=70||!b&&a.ELstThumbScroll().position().left<0)&&a.ELstThumbScroll().animate({left:(b?"-=":"+=")+"70px"},{complete:function(){}})},a.OnCloseDialog=function(){a.IsRedirectToCurrentUrl?window.location.href=a.CurrentUrl:(window.history.replaceState(null,null,a.CurrentUrl),$.modal.close())},a.ShowDialog=function(){$.modal.close(),$("#foody-box-2-0").modal({persist:!0,opacity:80,onClose:function(){a.OnCloseDialog()},overlayClose:!0}),$("#simplemodal-container").css("width","90%"),$("#simplemodal-container").css("height","90%"),$("#simplemodal-container").css("padding","0"),$(window).resize()},a.Init=function(b){if($("#foodyBoxContainer #foody-box-2-0").length==0){$("#foodyBoxContainer").load("/common/foodybox",function(){a.Init(b)});return}var c={containerId:"foody-box-2-0-picture-container",currentUrl:window.location.href,firstCount:14,count:14};b=$.extend({},c,b),a.ContainerId=b.containerId,a.DataId=b.dataId,a.DataGroup=b.dataGroup,a.IsAnimating=!1,a.CurrentUrl=b.currentUrl,a.IsRedirectToCurrentUrl=b.isRedirectToCurrentUrl,a.FirstCount=ko.observable(b.firstCount),a.Count=ko.observable(b.count),a.LastId=ko.observable(0),a.TotalRemaining=ko.observable(0),a.LoadResAlbumFoodyBoxByPicIdsAndGroup(),$.getScript((window.staticPath||"")+"Scripts/public.hashtag.min.js",function(a,b,c){})}}var foodyBox_2_0;$(function(){foodyBox_2_0=new FoodyBox_2_0;return}),$.fn.foodybox=function(){this.hasClass("foody-box-2-0")||(this.live("click",function(a){a.preventDefault();var b=$(a.currentTarget).data("id"),c=$(a.currentTarget).data("group");LoginPopup.RequiredLogin(function(){foodyBox_2_0.Init({dataId:b,dataGroup:c})})}),this.addClass("foody-box-2-0"))}
;function FoodyBox_2_0_LikeComment(){var a=this;a.ContainerId,a.ViewModel,a.IsShowCommentInput=ko.observable(!1),a.Like=function(){var b=a.ViewModel.LikeModel.Liked()?"/Photo/UnLikePhoto":"/Photo/LikePhoto",c={id:a.ViewModel.ReferenceId()};$.ajax({url:b,data:JSON.stringify(c),type:"POST",contentType:"application/json",success:function(b){b.Success&&(a.ViewModel.LikeModel.Liked()?(a.ViewModel.LikeModel.Liked(!1),a.ViewModel.TotalLikes(a.ViewModel.TotalLikes()-1)):(a.ViewModel.LikeModel.Liked(!0),a.ViewModel.TotalLikes(a.ViewModel.TotalLikes()+1)))}})},a.ShowCommentInput=function(){var b=!a.IsShowCommentInput();a.IsShowCommentInput(b);if(b){var c=$(".foody-box-2-0-container").height();$(".foody-box-2-0-like-comment .photo-comment-wrapper").css("max-height",c-280+"px"),$(".foody-box-2-0-right-col .banner-ads").hide(),setTimeout(function(){$("#photo-comment-text").focus()},500)}else $(".foody-box-2-0-right-col .banner-ads").show(),$(".foody-box-2-0-like-comment .photo-comment-wrapper").css("max-height","")},a.AddComment=function(b){if(b.keyCode===13&&$("#photo-comment-text").val()!=null&&$("#photo-comment-text").val()!=""){var c={id:a.ViewModel.ReferenceId(),comment:$("#photo-comment-text").val()};$.ajax({url:"/Photo/AddPhotoComment",data:JSON.stringify(c),type:"POST",contentType:"application/json",success:function(b){b.Success&&b.data!=null&&(a.ViewModel.CommentModel.Comments.push(ko.mapping.fromJS(b.data)),$("#photo-comment-text").val(""),a.ViewModel.TotalComments(a.ViewModel.TotalComments()+1))}})}},a.RemoveComment=function(b){if(confirm("Bạn có chắc muốn xóa bình luận này?")){var c={id:b};$.ajax({url:"/Photo/RemoveComment",data:JSON.stringify(c),type:"POST",contentType:"application/json",success:function(c){if(c.Success){var d=null;for(var e=0;e<a.ViewModel.CommentModel.Comments().length;e++){var f=a.ViewModel.CommentModel.Comments()[e];if(f.Id()==b){d=f;break}}a.ViewModel.CommentModel.Comments.remove(d),a.ViewModel.TotalComments(a.ViewModel.TotalComments()-1)}}})}},a.ShowAllComment=function(){a.ViewModel.IsShowAllComment(!0)},a.InitChangeCaption=function(){$("#foody-box-2-0 .foody-box-2-0-user #mention-container .btn-save").live("click",function(){var a=$("#foody-box-2-0 .foody-box-2-0-user #mention-container .input-hashtag");window.setTimeout(function(){var b=a.data("id"),c=a.data("messageText");if(!c||c.length===0)c=a.val();var d={resPicId:b,caption:c};$.ajax({url:"/Photo/ChangeCaption",data:JSON.stringify(d),type:"POST",contentType:"application/json",success:function(a){a.Message!=null&&a.Message!=""&&alert(a.Message)}})},10)})},a.LoadEmoji=function(){var b=$("#"+a.ContainerId+" .review-reply-item-content span:eq(0)");if(b.length>0){var c=b.html();c!=null&&c!=""&&(c=jEmoji.unifiedToHTML(c),b.html(c))}},a.Init=function(b){var c={containerId:"foody-box-2-0-like-comment-container"};b=$.extend({},c,b),a.ContainerId=b.containerId,a.ViewModel=b.viewModel,ko.applyBindings(a.ViewModel,$("#"+a.ContainerId)[0]),a.InitChangeCaption(),a.LoadEmoji()}}
;/*! jCarousel - v0.3.3 - 2015-02-28
* http://sorgalla.com/jcarousel/
* Copyright (c) 2006-2015 Jan Sorgalla; Licensed MIT */
(function(t){"use strict";var i=t.jCarousel={};i.version="0.3.3";var s=/^([+\-]=)?(.+)$/;i.parseTarget=function(t){var i=!1,e="object"!=typeof t?s.exec(t):null;return e?(t=parseInt(e[2],10)||0,e[1]&&(i=!0,"-="===e[1]&&(t*=-1))):"object"!=typeof t&&(t=parseInt(t,10)||0),{target:t,relative:i}},i.detectCarousel=function(t){for(var i;t.length>0;){if(i=t.filter("[data-jcarousel]"),i.length>0)return i;if(i=t.find("[data-jcarousel]"),i.length>0)return i;t=t.parent()}return null},i.base=function(s){return{version:i.version,_options:{},_element:null,_carousel:null,_init:t.noop,_create:t.noop,_destroy:t.noop,_reload:t.noop,create:function(){return this._element.attr("data-"+s.toLowerCase(),!0).data(s,this),!1===this._trigger("create")?this:(this._create(),this._trigger("createend"),this)},destroy:function(){return!1===this._trigger("destroy")?this:(this._destroy(),this._trigger("destroyend"),this._element.removeData(s).removeAttr("data-"+s.toLowerCase()),this)},reload:function(t){return!1===this._trigger("reload")?this:(t&&this.options(t),this._reload(),this._trigger("reloadend"),this)},element:function(){return this._element},options:function(i,s){if(0===arguments.length)return t.extend({},this._options);if("string"==typeof i){if(s===void 0)return this._options[i]===void 0?null:this._options[i];this._options[i]=s}else this._options=t.extend({},this._options,i);return this},carousel:function(){return this._carousel||(this._carousel=i.detectCarousel(this.options("carousel")||this._element),this._carousel||t.error('Could not detect carousel for plugin "'+s+'"')),this._carousel},_trigger:function(i,e,r){var n,o=!1;return r=[this].concat(r||[]),(e||this._element).each(function(){n=t.Event((s+":"+i).toLowerCase()),t(this).trigger(n,r),n.isDefaultPrevented()&&(o=!0)}),!o}}},i.plugin=function(s,e){var r=t[s]=function(i,s){this._element=t(i),this.options(s),this._init(),this.create()};return r.fn=r.prototype=t.extend({},i.base(s),e),t.fn[s]=function(i){var e=Array.prototype.slice.call(arguments,1),n=this;return"string"==typeof i?this.each(function(){var r=t(this).data(s);if(!r)return t.error("Cannot call methods on "+s+" prior to initialization; "+'attempted to call method "'+i+'"');if(!t.isFunction(r[i])||"_"===i.charAt(0))return t.error('No such method "'+i+'" for '+s+" instance");var o=r[i].apply(r,e);return o!==r&&o!==void 0?(n=o,!1):void 0}):this.each(function(){var e=t(this).data(s);e instanceof r?e.reload(i):new r(this,i)}),n},r}})(jQuery),function(t,i){"use strict";var s=function(t){return parseFloat(t)||0};t.jCarousel.plugin("jcarousel",{animating:!1,tail:0,inTail:!1,resizeTimer:null,lt:null,vertical:!1,rtl:!1,circular:!1,underflow:!1,relative:!1,_options:{list:function(){return this.element().children().eq(0)},items:function(){return this.list().children()},animation:400,transitions:!1,wrap:null,vertical:null,rtl:null,center:!1},_list:null,_items:null,_target:t(),_first:t(),_last:t(),_visible:t(),_fullyvisible:t(),_init:function(){var t=this;return this.onWindowResize=function(){t.resizeTimer&&clearTimeout(t.resizeTimer),t.resizeTimer=setTimeout(function(){t.reload()},100)},this},_create:function(){this._reload(),t(i).on("resize.jcarousel",this.onWindowResize)},_destroy:function(){t(i).off("resize.jcarousel",this.onWindowResize)},_reload:function(){this.vertical=this.options("vertical"),null==this.vertical&&(this.vertical=this.list().height()>this.list().width()),this.rtl=this.options("rtl"),null==this.rtl&&(this.rtl=function(i){if("rtl"===(""+i.attr("dir")).toLowerCase())return!0;var s=!1;return i.parents("[dir]").each(function(){return/rtl/i.test(t(this).attr("dir"))?(s=!0,!1):void 0}),s}(this._element)),this.lt=this.vertical?"top":"left",this.relative="relative"===this.list().css("position"),this._list=null,this._items=null;var i=this.index(this._target)>=0?this._target:this.closest();this.circular="circular"===this.options("wrap"),this.underflow=!1;var s={left:0,top:0};return i.length>0&&(this._prepare(i),this.list().find("[data-jcarousel-clone]").remove(),this._items=null,this.underflow=this._fullyvisible.length>=this.items().length,this.circular=this.circular&&!this.underflow,s[this.lt]=this._position(i)+"px"),this.move(s),this},list:function(){if(null===this._list){var i=this.options("list");this._list=t.isFunction(i)?i.call(this):this._element.find(i)}return this._list},items:function(){if(null===this._items){var i=this.options("items");this._items=(t.isFunction(i)?i.call(this):this.list().find(i)).not("[data-jcarousel-clone]")}return this._items},index:function(t){return this.items().index(t)},closest:function(){var i,e=this,r=this.list().position()[this.lt],n=t(),o=!1,l=this.vertical?"bottom":this.rtl&&!this.relative?"left":"right";return this.rtl&&this.relative&&!this.vertical&&(r+=this.list().width()-this.clipping()),this.items().each(function(){if(n=t(this),o)return!1;var a=e.dimension(n);if(r+=a,r>=0){if(i=a-s(n.css("margin-"+l)),!(0>=Math.abs(r)-a+i/2))return!1;o=!0}}),n},target:function(){return this._target},first:function(){return this._first},last:function(){return this._last},visible:function(){return this._visible},fullyvisible:function(){return this._fullyvisible},hasNext:function(){if(!1===this._trigger("hasnext"))return!0;var t=this.options("wrap"),i=this.items().length-1,s=this.options("center")?this._target:this._last;return i>=0&&!this.underflow&&(t&&"first"!==t||i>this.index(s)||this.tail&&!this.inTail)?!0:!1},hasPrev:function(){if(!1===this._trigger("hasprev"))return!0;var t=this.options("wrap");return this.items().length>0&&!this.underflow&&(t&&"last"!==t||this.index(this._first)>0||this.tail&&this.inTail)?!0:!1},clipping:function(){return this._element["inner"+(this.vertical?"Height":"Width")]()},dimension:function(t){return t["outer"+(this.vertical?"Height":"Width")](!0)},scroll:function(i,s,e){if(this.animating)return this;if(!1===this._trigger("scroll",null,[i,s]))return this;t.isFunction(s)&&(e=s,s=!0);var r=t.jCarousel.parseTarget(i);if(r.relative){var n,o,l,a,h,u,c,f,d=this.items().length-1,_=Math.abs(r.target),p=this.options("wrap");if(r.target>0){var g=this.index(this._last);if(g>=d&&this.tail)this.inTail?"both"===p||"last"===p?this._scroll(0,s,e):t.isFunction(e)&&e.call(this,!1):this._scrollTail(s,e);else if(n=this.index(this._target),this.underflow&&n===d&&("circular"===p||"both"===p||"last"===p)||!this.underflow&&g===d&&("both"===p||"last"===p))this._scroll(0,s,e);else if(l=n+_,this.circular&&l>d){for(f=d,h=this.items().get(-1);l>f++;)h=this.items().eq(0),u=this._visible.index(h)>=0,u&&h.after(h.clone(!0).attr("data-jcarousel-clone",!0)),this.list().append(h),u||(c={},c[this.lt]=this.dimension(h),this.moveBy(c)),this._items=null;this._scroll(h,s,e)}else this._scroll(Math.min(l,d),s,e)}else if(this.inTail)this._scroll(Math.max(this.index(this._first)-_+1,0),s,e);else if(o=this.index(this._first),n=this.index(this._target),a=this.underflow?n:o,l=a-_,0>=a&&(this.underflow&&"circular"===p||"both"===p||"first"===p))this._scroll(d,s,e);else if(this.circular&&0>l){for(f=l,h=this.items().get(0);0>f++;){h=this.items().eq(-1),u=this._visible.index(h)>=0,u&&h.after(h.clone(!0).attr("data-jcarousel-clone",!0)),this.list().prepend(h),this._items=null;var v=this.dimension(h);c={},c[this.lt]=-v,this.moveBy(c)}this._scroll(h,s,e)}else this._scroll(Math.max(l,0),s,e)}else this._scroll(r.target,s,e);return this._trigger("scrollend"),this},moveBy:function(t,i){var e=this.list().position(),r=1,n=0;return this.rtl&&!this.vertical&&(r=-1,this.relative&&(n=this.list().width()-this.clipping())),t.left&&(t.left=e.left+n+s(t.left)*r+"px"),t.top&&(t.top=e.top+n+s(t.top)*r+"px"),this.move(t,i)},move:function(i,s){s=s||{};var e=this.options("transitions"),r=!!e,n=!!e.transforms,o=!!e.transforms3d,l=s.duration||0,a=this.list();if(!r&&l>0)return a.animate(i,s),void 0;var h=s.complete||t.noop,u={};if(r){var c={transitionDuration:a.css("transitionDuration"),transitionTimingFunction:a.css("transitionTimingFunction"),transitionProperty:a.css("transitionProperty")},f=h;h=function(){t(this).css(c),f.call(this)},u={transitionDuration:(l>0?l/1e3:0)+"s",transitionTimingFunction:e.easing||s.easing,transitionProperty:l>0?function(){return n||o?"all":i.left?"left":"top"}():"none",transform:"none"}}o?u.transform="translate3d("+(i.left||0)+","+(i.top||0)+",0)":n?u.transform="translate("+(i.left||0)+","+(i.top||0)+")":t.extend(u,i),r&&l>0&&a.one("transitionend webkitTransitionEnd oTransitionEnd otransitionend MSTransitionEnd",h),a.css(u),0>=l&&a.each(function(){h.call(this)})},_scroll:function(i,s,e){if(this.animating)return t.isFunction(e)&&e.call(this,!1),this;if("object"!=typeof i?i=this.items().eq(i):i.jquery===void 0&&(i=t(i)),0===i.length)return t.isFunction(e)&&e.call(this,!1),this;this.inTail=!1,this._prepare(i);var r=this._position(i),n=this.list().position()[this.lt];if(r===n)return t.isFunction(e)&&e.call(this,!1),this;var o={};return o[this.lt]=r+"px",this._animate(o,s,e),this},_scrollTail:function(i,s){if(this.animating||!this.tail)return t.isFunction(s)&&s.call(this,!1),this;var e=this.list().position()[this.lt];this.rtl&&this.relative&&!this.vertical&&(e+=this.list().width()-this.clipping()),this.rtl&&!this.vertical?e+=this.tail:e-=this.tail,this.inTail=!0;var r={};return r[this.lt]=e+"px",this._update({target:this._target.next(),fullyvisible:this._fullyvisible.slice(1).add(this._visible.last())}),this._animate(r,i,s),this},_animate:function(i,s,e){if(e=e||t.noop,!1===this._trigger("animate"))return e.call(this,!1),this;this.animating=!0;var r=this.options("animation"),n=t.proxy(function(){this.animating=!1;var t=this.list().find("[data-jcarousel-clone]");t.length>0&&(t.remove(),this._reload()),this._trigger("animateend"),e.call(this,!0)},this),o="object"==typeof r?t.extend({},r):{duration:r},l=o.complete||t.noop;return s===!1?o.duration=0:t.fx.speeds[o.duration]!==void 0&&(o.duration=t.fx.speeds[o.duration]),o.complete=function(){n(),l.call(this)},this.move(i,o),this},_prepare:function(i){var e,r,n,o,l=this.index(i),a=l,h=this.dimension(i),u=this.clipping(),c=this.vertical?"bottom":this.rtl?"left":"right",f=this.options("center"),d={target:i,first:i,last:i,visible:i,fullyvisible:u>=h?i:t()};if(f&&(h/=2,u/=2),u>h)for(;;){if(e=this.items().eq(++a),0===e.length){if(!this.circular)break;if(e=this.items().eq(0),i.get(0)===e.get(0))break;if(r=this._visible.index(e)>=0,r&&e.after(e.clone(!0).attr("data-jcarousel-clone",!0)),this.list().append(e),!r){var _={};_[this.lt]=this.dimension(e),this.moveBy(_)}this._items=null}if(o=this.dimension(e),0===o)break;if(h+=o,d.last=e,d.visible=d.visible.add(e),n=s(e.css("margin-"+c)),u>=h-n&&(d.fullyvisible=d.fullyvisible.add(e)),h>=u)break}if(!this.circular&&!f&&u>h)for(a=l;;){if(0>--a)break;if(e=this.items().eq(a),0===e.length)break;if(o=this.dimension(e),0===o)break;if(h+=o,d.first=e,d.visible=d.visible.add(e),n=s(e.css("margin-"+c)),u>=h-n&&(d.fullyvisible=d.fullyvisible.add(e)),h>=u)break}return this._update(d),this.tail=0,f||"circular"===this.options("wrap")||"custom"===this.options("wrap")||this.index(d.last)!==this.items().length-1||(h-=s(d.last.css("margin-"+c)),h>u&&(this.tail=h-u)),this},_position:function(t){var i=this._first,s=i.position()[this.lt],e=this.options("center"),r=e?this.clipping()/2-this.dimension(i)/2:0;return this.rtl&&!this.vertical?(s-=this.relative?this.list().width()-this.dimension(i):this.clipping()-this.dimension(i),s+=r):s-=r,!e&&(this.index(t)>this.index(i)||this.inTail)&&this.tail?(s=this.rtl&&!this.vertical?s-this.tail:s+this.tail,this.inTail=!0):this.inTail=!1,-s},_update:function(i){var s,e=this,r={target:this._target,first:this._first,last:this._last,visible:this._visible,fullyvisible:this._fullyvisible},n=this.index(i.first||r.first)<this.index(r.first),o=function(s){var o=[],l=[];i[s].each(function(){0>r[s].index(this)&&o.push(this)}),r[s].each(function(){0>i[s].index(this)&&l.push(this)}),n?o=o.reverse():l=l.reverse(),e._trigger(s+"in",t(o)),e._trigger(s+"out",t(l)),e["_"+s]=i[s]};for(s in i)o(s);return this}})}(jQuery,window),function(t){"use strict";t.jcarousel.fn.scrollIntoView=function(i,s,e){var r,n=t.jCarousel.parseTarget(i),o=this.index(this._fullyvisible.first()),l=this.index(this._fullyvisible.last());if(r=n.relative?0>n.target?Math.max(0,o+n.target):l+n.target:"object"!=typeof n.target?n.target:this.index(n.target),o>r)return this.scroll(r,s,e);if(r>=o&&l>=r)return t.isFunction(e)&&e.call(this,!1),this;for(var a,h=this.items(),u=this.clipping(),c=this.vertical?"bottom":this.rtl?"left":"right",f=0;;){if(a=h.eq(r),0===a.length)break;if(f+=this.dimension(a),f>=u){var d=parseFloat(a.css("margin-"+c))||0;f-d!==u&&r++;break}if(0>=r)break;r--}return this.scroll(r,s,e)}}(jQuery),function(t){"use strict";t.jCarousel.plugin("jcarouselControl",{_options:{target:"+=1",event:"click",method:"scroll"},_active:null,_init:function(){this.onDestroy=t.proxy(function(){this._destroy(),this.carousel().one("jcarousel:createend",t.proxy(this._create,this))},this),this.onReload=t.proxy(this._reload,this),this.onEvent=t.proxy(function(i){i.preventDefault();var s=this.options("method");t.isFunction(s)?s.call(this):this.carousel().jcarousel(this.options("method"),this.options("target"))},this)},_create:function(){this.carousel().one("jcarousel:destroy",this.onDestroy).on("jcarousel:reloadend jcarousel:scrollend",this.onReload),this._element.on(this.options("event")+".jcarouselcontrol",this.onEvent),this._reload()},_destroy:function(){this._element.off(".jcarouselcontrol",this.onEvent),this.carousel().off("jcarousel:destroy",this.onDestroy).off("jcarousel:reloadend jcarousel:scrollend",this.onReload)},_reload:function(){var i,s=t.jCarousel.parseTarget(this.options("target")),e=this.carousel();if(s.relative)i=e.jcarousel(s.target>0?"hasNext":"hasPrev");else{var r="object"!=typeof s.target?e.jcarousel("items").eq(s.target):s.target;i=e.jcarousel("target").index(r)>=0}return this._active!==i&&(this._trigger(i?"active":"inactive"),this._active=i),this}})}(jQuery),function(t){"use strict";t.jCarousel.plugin("jcarouselPagination",{_options:{perPage:null,item:function(t){return'<a href="#'+t+'">'+t+"</a>"},event:"click",method:"scroll"},_carouselItems:null,_pages:{},_items:{},_currentPage:null,_init:function(){this.onDestroy=t.proxy(function(){this._destroy(),this.carousel().one("jcarousel:createend",t.proxy(this._create,this))},this),this.onReload=t.proxy(this._reload,this),this.onScroll=t.proxy(this._update,this)},_create:function(){this.carousel().one("jcarousel:destroy",this.onDestroy).on("jcarousel:reloadend",this.onReload).on("jcarousel:scrollend",this.onScroll),this._reload()},_destroy:function(){this._clear(),this.carousel().off("jcarousel:destroy",this.onDestroy).off("jcarousel:reloadend",this.onReload).off("jcarousel:scrollend",this.onScroll),this._carouselItems=null},_reload:function(){var i=this.options("perPage");if(this._pages={},this._items={},t.isFunction(i)&&(i=i.call(this)),null==i)this._pages=this._calculatePages();else for(var s,e=parseInt(i,10)||0,r=this._getCarouselItems(),n=1,o=0;;){if(s=r.eq(o++),0===s.length)break;this._pages[n]=this._pages[n]?this._pages[n].add(s):s,0===o%e&&n++}this._clear();var l=this,a=this.carousel().data("jcarousel"),h=this._element,u=this.options("item"),c=this._getCarouselItems().length;t.each(this._pages,function(i,s){var e=l._items[i]=t(u.call(l,i,s));e.on(l.options("event")+".jcarouselpagination",t.proxy(function(){var t=s.eq(0);if(a.circular){var e=a.index(a.target()),r=a.index(t);parseFloat(i)>parseFloat(l._currentPage)?e>r&&(t="+="+(c-e+r)):r>e&&(t="-="+(e+(c-r)))}a[this.options("method")](t)},l)),h.append(e)}),this._update()},_update:function(){var i,s=this.carousel().jcarousel("target");t.each(this._pages,function(t,e){return e.each(function(){return s.is(this)?(i=t,!1):void 0}),i?!1:void 0}),this._currentPage!==i&&(this._trigger("inactive",this._items[this._currentPage]),this._trigger("active",this._items[i])),this._currentPage=i},items:function(){return this._items},reloadCarouselItems:function(){return this._carouselItems=null,this},_clear:function(){this._element.empty(),this._currentPage=null},_calculatePages:function(){for(var t,i,s=this.carousel().data("jcarousel"),e=this._getCarouselItems(),r=s.clipping(),n=0,o=0,l=1,a={};;){if(t=e.eq(o++),0===t.length)break;i=s.dimension(t),n+i>r&&(l++,n=0),n+=i,a[l]=a[l]?a[l].add(t):t}return a},_getCarouselItems:function(){return this._carouselItems||(this._carouselItems=this.carousel().jcarousel("items")),this._carouselItems}})}(jQuery),function(t){"use strict";t.jCarousel.plugin("jcarouselAutoscroll",{_options:{target:"+=1",interval:3e3,autostart:!0},_timer:null,_init:function(){this.onDestroy=t.proxy(function(){this._destroy(),this.carousel().one("jcarousel:createend",t.proxy(this._create,this))},this),this.onAnimateEnd=t.proxy(this.start,this)},_create:function(){this.carousel().one("jcarousel:destroy",this.onDestroy),this.options("autostart")&&this.start()},_destroy:function(){this.stop(),this.carousel().off("jcarousel:destroy",this.onDestroy)},start:function(){return this.stop(),this.carousel().one("jcarousel:animateend",this.onAnimateEnd),this._timer=setTimeout(t.proxy(function(){this.carousel().jcarousel("scroll",this.options("target"))},this),this.options("interval")),this},stop:function(){return this._timer&&(this._timer=clearTimeout(this._timer)),this.carousel().off("jcarousel:animateend",this.onAnimateEnd),this}})}(jQuery);
;function showLoading(a){a?$("#friend-status-loading").show():$("#friend-status-loading").hide()}function updateFriendStatus(){window.location.href.indexOf("/thanh-vien/")>-1&&window.location.href.indexOf("/ban-be")>-1&&(window.location=window.location.href)}var isSubmitting=!1;$(".add-friend").live("click",function(){if(!isSubmitting){isSubmitting=!0,showLoading(!0);var a=$(this).attr("friendid"),b={friendid:a};$.post("/friend/addfriend",b,function(a){a.success&&($("#userfriendstatus").html(a.html),followStatus.loadStatus()),isSubmitting=!1,showLoading(!1)})}}),$(".cancel-add-friend").live("click",function(){if(!isSubmitting){showLoading(!0),isSubmitting=!0;var a=$(this).attr("friendid"),b={friendid:a};$.post("/friend/canceladdfriend",b,function(a){a.success&&($("#userfriendstatus").html(a.html),followStatus.loadStatus()),isSubmitting=!1,showLoading(!1)})}}),$(".cancel-request").live("click",function(){if(!isSubmitting){showLoading(!0),isSubmitting=!0;var a=$(this).attr("friendid"),b={friendid:a};$.post("/friend/canceladdfriend",b,function(a){a.success&&($("#userfriendstatus").html(a.html),followStatus.loadStatus()),isSubmitting=!1,showLoading(!1)})}}),$("#friend-status").live("mouseover",function(){$(".isfriend").hide(),$(".remove-friend").show()}),$("#friend-status").live("mouseout",function(){$(".remove-friend").hide(),$(".isfriend").show()}),$(".accept-request").live("click",function(){if(!isSubmitting){showLoading(!0),isSubmitting=!0;var a=$(this).attr("friendid"),b={friendid:a};$.post("/friend/acceptaddfriend",b,function(a){a.success&&($("#userfriendstatus").html(a.html),followStatus.loadStatus()),isSubmitting=!1,showLoading(!1)})}}),$(".remove-friend").live("click",function(){if(confirm(FriendText.Friend_RemoveFriendConfirm)&&!isSubmitting){showLoading(!0),isSubmitting=!0;var a=$(this).attr("friendid"),b={friendid:a};$.post("/friend/removefriend",b,function(a){a.success&&($("#userfriendstatus").html(a.html),followStatus.loadStatus()),isSubmitting=!1,showLoading(!1)})}}),$(".add-suggested-friend").live("click",function(){var a=this,b=$(a).closest(".profile-hotfoody-item"),c=$(b).closest(".friends-suggests"),d=$(b).attr("friendid"),e={friendid:d};$(b).find(".add-friend-loading:first").show(),$.post("/friend/addfriend?nonhtml=true",e,function(d){$(b).find(".add-friend-loading:first").hide(),d.success&&($(a).hide(),$(b).find(".sent-add-friend-msg").fadeIn(),setTimeout(function(){$(b).fadeOut(1e3,function(){var a=$(".profile-hotfoody-item").map(function(){return $(this).attr("friendid")}).get();$.ajax({type:"POST",url:"/friend/GetSuggestFriend",data:JSON.stringify(a),success:function(a){a.success&&$(c).append(a.html).fadeIn()},dataType:"json",contentType:"application/json"}),$(b).remove()})},1e3))})})
;(function(a){a.fn.extend({tabify:function(b){function c(b){return hash=a(b).find("a").attr("href"),hash=hash.substring(0,hash.length-4)}function d(b){a(b).addClass("active"),a(c(b)).show(),a(b).siblings("li").each(function(){a(this).removeClass("active"),a(c(this)).hide()})}return this.each(function(){function g(){location.hash&&a(h).find("a[href="+location.hash+"]").length>0&&d(a(h).find("a[href="+location.hash+"]").parent())}var h=this,i={ul:a(h)};a(this).find("li a").each(function(){a(this).attr("href",a(this).attr("href")+"-tab")}),location.hash&&g(),setInterval(g,100),a(this).find("li").each(function(){a(this).hasClass("active")?a(c(this)).show():a(c(this)).hide()}),b&&b(i)})}})})(jQuery)
;jQuery&&jQuery.fn.extend({custabs:function(a){function g(){c.find(">div").hide()}var b={onChanged:function(){},onClick:function(a,b){},IsChangeHash:!1};$.extend(b,a);var c=$(this),d=null,e=!1,f=c.find(">ul>li");if(f.length<1)return;g();for(var h=0;h<f.length;h++)if($(f[h]).hasClass("active")){e=!0,d=f[h];break}e?$(f).each(function(){var a=$(this).find("a"),b=a.attr("href"),d=c.find(">div"+b);if(a.parent().hasClass("active")){d.show();return}}):($(f[0]).addClass("active"),$(c.find(">div")[0]).show()),f.on("click",function(a){var e=$(this).find(">a");if(e.length==0)return a.preventDefault(),!1;g(),f.removeClass("active");var h=e.attr("href"),i=c.find(">div"+h);return i.show(),e.parent().addClass("active"),b.IsChangeHash==1&&(window.location.hash=h),d!=this&&b.onChanged(this),b.onClick(this,a),d=this,!1}),this.Reset=function(){d=null,f.removeClass("active"),g()};if(b.IsChangeHash==1){var i=$(window.location.hash);if(i.length>0){var j=f.find('a[href="'+window.location.hash+'"]');setTimeout(function(){j.parent().click()},200)}}return this}})
;jQuery&&jQuery.fn.extend({foodyTabs:function(a){function g(){c.parent().find("div.list-tabs-content").hide()}var b={onChanged:function(){},onClick:function(a,b){},IsChangeHash:!1};$.extend(b,a);var c=$(this),d=null,e=!1,f=c.find("ul.list-tabs>li");if(f.length<1)return;g();for(var h=0;h<f.length;h++)if($(f[h]).hasClass("active")){e=!0,d=f[h];break}e?$(f).each(function(){var a=$(this).find("a"),b=a.attr("href"),d=c.parent().find("div.list-tabs-content"+b);if(a.parent().hasClass("active")){d.show();return}}):($(f[0]).addClass("active"),$(c.parent().find("div.list-tabs-content")[0]).show()),f.on("click",function(a){if($(this).find("input").length>0)return;var e=$(this).find(">a");if(e.length==0)return a.preventDefault(),!1;g(),f.removeClass("active");var h=e.attr("href"),i=c.parent().find("div.list-tabs-content"+h);return i.show(),e.parent().addClass("active"),b.IsChangeHash==1&&(window.location.hash=h),d!=this&&b.onChanged(this),b.onClick(this,a),d=this,!1}),this.Reset=function(){d=null,f.removeClass("active"),g()};if(b.IsChangeHash==1){var i=$(window.location.hash);if(i.length>0){var j=f.find('a[href="'+window.location.hash+'"]');setTimeout(function(){j.parent().click()},200)}}return this}})
;function PopupSuggestResLocation(){function b(b){$.cookie("ulat",b.coords.latitude,{expires:360}),$.cookie("ulon",b.coords.longitude,{expires:360}),a.supportLocation(!0),a.lat(b.coords.latitude),a.long(b.coords.longitude),a.InitializeMap()}function c(){a.supportLocation(!1),window.defaultLatgitude?a.lat(window.defaultLatgitude):a.lat(0),window.defaultLongitude?a.long(window.defaultLongitude):a.long(0),a.InitializeMap()}var a=this;a.ContainerId="",a.Map=null,a.Marker=null,a.InfoWindow=null,a.LatLong=null,a.useSearchBox=!1,a.searchBox=null,a.markers=[],a.supportLocation=ko.observable(!1),a.lat=ko.observable(null),a.long=ko.observable(null),navigator&&navigator.geolocation&&navigator.geolocation.getCurrentPosition(b,c),a.InitializeMap=function(){a.LatLong==null&&(a.LatLong=new google.maps.LatLng(parseFloat(parseLocalNum(a.lat())),parseFloat(parseLocalNum(a.long()))))},a.MarkedItIcons=function(){var b={zoom:15,center:a.LatLong,mapTypeId:google.maps.MapTypeId.ROADMAP};a.Map=new google.maps.Map($("#"+a.ContainerId+" .popup-suggest-res-location-map")[0],b),a.LatLong==null&&(a.LatLong=new google.maps.LatLng(parseFloat(parseLocalNum(a.lat())),parseFloat(parseLocalNum(a.long())))),a.Map.setCenter(a.LatLong),a.Marker=new google.maps.Marker({map:a.Map,position:a.LatLong,draggable:!0});if(a.useSearchBox){var c=document.getElementById("pac-input");a.Map.controls[google.maps.ControlPosition.TOP_LEFT].push(c),a.searchBox=new google.maps.places.SearchBox(c),google.maps.event.addListener(a.searchBox,"places_changed",function(){var b=a.searchBox.getPlaces();if(b.length==0)return;for(var c=0,d;d=a.markers[c];c++)d.setMap(null);a.markers=[];var e=new google.maps.LatLngBounds;for(var c=0,f;f=b[c];c++){var g={url:f.icon,size:new google.maps.Size(71,71),origin:new google.maps.Point(0,0),anchor:new google.maps.Point(17,34),scaledSize:new google.maps.Size(25,25)};if(c==0)a.Marker=new google.maps.Marker({map:a.Map,position:f.geometry.location,draggable:!0}),a.markers.push(a.Marker);else{var d=new google.maps.Marker({map:a.Map,icon:g,title:f.name,position:f.geometry.location});a.markers.push(d)}e.extend(f.geometry.location)}a.Map.fitBounds(e)}),google.maps.event.addListener(a.Map,"bounds_changed",function(){var b=a.Map.getBounds();a.searchBox.setBounds(b)})}},a.Popup=function(){$.modal.close(),$("#"+a.ContainerId).modal(),$("#simplemodal-container").css("height","400px"),$("#simplemodal-container").css("width","620px"),$(window).resize(),a.MarkedItIcons()},a.Submit=function(){var b=a.Marker.getPosition().lat(),c=a.Marker.getPosition().lng();$("#Latitude").val(b.toString()),$("#Longitude").val(c.toString()),a.LatLong=new google.maps.LatLng(parseFloat(b),parseFloat(c)),$.modal.close()},a.Init=function(b){var c={};b=$.extend({},c,b),a.ContainerId=b.containerId,a.useSearchBox=b.useSearchBox,$("#"+a.ContainerId+" .popup-suggest-res-location-btn").live("click",function(){a.Submit()})}}
;function ListLoadMoreModel(){var a=this;a.Container=ko.observable(),a.LoadListUrl=ko.observable(),a.Test=ko.observable(),a.AdditionalResult=ko.observableArray(),a.FirstCount=ko.observable(),a.Count=ko.observable(),a.LastId=ko.observable(0),a.TotalRemaining=ko.observable(0),a.Lst=ko.observableArray(),a.AdditionalPostData=null,a.IsLoading=ko.observable(!1),a.IsAppendWhenLoadMore=ko.observable(!0),a.HasNoData=ko.observable(!1),a.NextUrl=ko.observable(),a.GetLoadMoreData=function(b){var c={count:b!=null&&b==1?a.FirstCount():a.Count(),lastId:a.LastId(),nextUrl:a.NextUrl(),additionalPostData:a.AdditionalPostData};return c},a.AfterRender=function(a,b){$(a).find("img.lazy").lazyload({effect:"fadeIn"})},a.LoadMore=function(b){var c=a.GetLoadMoreData(b);a.IsLoading()||(a.IsLoading(!0),$.post(a.LoadListUrl(),c,function(b){if(b.Message==null||b.Message==""){if(b.Result!=null&&b.Result.length>0){b.Result=CommonHelper.KoFromArrJs(b.Result),a.IsAppendWhenLoadMore()||a.Lst.removeAll();for(var c=0;c<b.Result.length;c++)a.Lst.push(b.Result[c]);a.LastId(b.Optional.LastId),a.TotalRemaining(b.Optional.Total-a.Lst().length),b.AdditionalResult=ko.mapping.fromJS(b.AdditionalResult),a.AdditionalResult.push(b.AdditionalResult),a.Test(b.AdditionalResult)}else a.HasNoData(!0);typeof b.Optional.NextUrl!="undefined"&&a.NextUrl(b.Optional.NextUrl)}else alert(b.Message);a.IsLoading(!1)}).error(function(b){a.IsLoading(!1)}))},a.Init=function(b){var c={firstCount:9,count:6,additionalPostData:null,isAppendWhenLoadMore:!0};b=$.extend({},c,b),a.Container(b.container),a.LoadListUrl(b.loadListUrl),a.FirstCount(b.firstCount),a.Count(b.count),a.AdditionalPostData=b.additionalPostData,a.IsAppendWhenLoadMore(b.isAppendWhenLoadMore),ko.applyBindings(a,$("#"+a.Container())[0]),a.LoadMore(!0)}}
;function ListLoadNextPrevModel(){var a=this;a.Container=ko.observable(),a.LoadListUrl=ko.observable(),a.PageIndex=ko.observable(0),a.PageSize=ko.observable(),a.Total=ko.observable(),a.Lst=ko.observableArray(),a.AdditionalPostData=null,a.IsLoading=ko.observable(!1),a.TotalPage=ko.computed(function(){return Math.ceil(a.Total()/a.PageSize())}),a.GetLoadListData=function(b){b!=null&&a.PageIndex(b);var c={pageIndex:a.PageIndex(),pageSize:a.PageSize(),additionalPostData:a.AdditionalPostData};return c},a.Next=function(){if(a.TotalPage()>a.PageIndex()+1){var b=a.PageIndex()+1;a.PageIndex(b)}a.LoadList()},a.Prev=function(){if(a.PageIndex()>0){var b=a.PageIndex()-1;a.PageIndex(b)}a.LoadList()},a.LoadList=function(b){var c=a.GetLoadListData(b);a.IsLoading()||(a.IsLoading(!0),$.ajax({url:a.LoadListUrl(),data:JSON.stringify(c),type:"POST",contentType:"application/json",success:function(b){if(b.Message==null||b.Message==""){if(b.Result!=null&&b.Result.length>0){b.Result=CommonHelper.KoFromArrJs(b.Result),a.Lst.removeAll();for(var c=0;c<b.Result.length;c++)a.Lst.push(b.Result[c])}a.Total(b.Optional)}else alert(b.Message);a.IsLoading(!1)},error:function(b){a.IsLoading(!1)}}))},a.Init=function(b){var c={pageSize:10,additionalPostData:null};b=$.extend({},c,b),a.Container(b.container),a.LoadListUrl(b.loadListUrl),a.PageSize(b.pageSize),a.AdditionalPostData=b.additionalPostData,ko.applyBindings(a,$("#"+a.Container())[0]),a.LoadList()}}
;function ListLoadMoreModelIndex(){var a=this;a.Container=ko.observable(),a.LoadListUrl=ko.observable(),a.FTotalReviews=ko.observable(0),a.FAvgRating=ko.observable(0),a.LstCoverPhoto=ko.observableArray(),a.FirstCount=ko.observable(),a.Count=ko.observable(),a.LastId=ko.observable(0),a.TotalRemaining=ko.observable(0),a.Lst=ko.observableArray(),a.IsLoading=ko.observable(!1),a.IsAppendWhenLoadMore=ko.observable(!0),a.HasNoData=ko.observable(!1),a.NextUrl=ko.observable(),a.IsFirstLoading=ko.observable(!1),a.GetLoadMoreData=function(b){var c={count:b!=null&&b==1?a.FirstCount():a.Count(),lastId:a.LastId(),nextUrl:a.NextUrl(),listId:a.listId,displayOrder:a.displayOrder};return c},a.LoadGalleryPopup=function(a){angular.element(document.getElementById("GalleryPopupApp")).scope().ShowPopupGallery(a)},a.LoadReviewPopup=function(a){angular.element(document.getElementById("GalleryPopupApp")).scope().ShowPopupReviews(a)},a.LoadMore=function(b,c){var d=a.GetLoadMoreData(b);a.IsLoading()||(a.IsLoading(!0),$.ajax({url:a.LoadListUrl(),data:d,type:"GET",contentType:"application/json",success:function(b){if(b.Message==null||b.Message==""){if(b.Result!=null&&b.Result.length>0){b.Result=CommonHelper.KoFromArrJs(b.Result),a.IsAppendWhenLoadMore()||a.Lst.removeAll();for(var c=0;c<b.Result.length;c++)a.Lst.push(b.Result[c]);a.LastId(b.Optional.LastId),a.TotalRemaining(b.Optional.Total-b.Result.length),a.FTotalReviews(b.AdditionalResult.TotalReviews),a.FAvgRating(b.AdditionalResult.AvgRating),a.LstCoverPhoto.removeAll();if(b.AdditionalResult.LstCoverPhoto!=null&&b.AdditionalResult.LstCoverPhoto.length>0){b.AdditionalResult.LstCoverPhoto=CommonHelper.KoFromArrJs(b.AdditionalResult.LstCoverPhoto);for(var d=0;d<b.AdditionalResult.LstCoverPhoto.length;d++)a.LstCoverPhoto.push(b.AdditionalResult.LstCoverPhoto[d])}typeof fnc=="function"&&fnc(b)}else a.HasNoData(!0);typeof b.Optional.NextUrl!="undefined"&&a.NextUrl(b.Optional.NextUrl)}else alert(b.Message);a.IsLoading(!1)},error:function(b){a.IsLoading(!1)}}))},a.Init=function(b){var c={firstCount:9,count:6,isAppendWhenLoadMore:!0};b=$.extend({},c,b),a.Container(b.container),a.LoadListUrl(b.loadListUrl),a.FirstCount(b.firstCount),a.Count(b.count),a.listId=b.listId,a.IsAppendWhenLoadMore(b.isAppendWhenLoadMore),a.Lang=b.lang,ko.applyBindings(a,$("#"+a.Container())[0]),a.LoadMore(!0)}}
;function PopupSavedListByResAndUser(){var a=this;a.ContainerId="popup-saved-list-by-res-and-user",a.ResId=ko.observable(),a.LstList=ko.observableArray(),a.LoadList=function(){var b={resId:a.ResId()};$.ajax({url:"/__post/List/GetAllSavedListsByResAndCurrentUser",data:JSON.stringify(b),type:"POST",contentType:"application/json",success:function(b){if(b.Message==null||b.Message==""){if(b.Result!=null&&b.Result.length>0){b.Result=CommonHelper.KoFromArrJs(b.Result),CommonHelper.HasKoBinding(a.ContainerId)||ko.applyBindings(a,$("#"+a.ContainerId)[0]),a.LstList.removeAll();for(var c=0;c<b.Result.length;c++)a.LstList.push(b.Result[c]);a.Popup()}}else alert(b.Message)}})},a.Popup=function(){$.modal.close(),$("#popup-saved-list-by-res-and-user").bPopup()},a.Init=function(b){var c={};b=$.extend({},c,b),a.ResId(b.resId),a.LoadList()}}var popupSavedListByResAndUser=new PopupSavedListByResAndUser;$(function(){$(".saved-list-by-res-and-user").live("click",function(){var a=$(this).data("res-id");popupSavedListByResAndUser.Init({resId:a})})})
;var PopupVerifyPasswordModel=function(a){var b=this,c=null,d="#ppVerifyPassword";b.VerifyPassword=function(){$.get("/__get/Account/VerifyPassword",function(a){a.Result==1&&b.Show()}).error(function(a){})},b.SetCookiesVerifyPassword=function(c){$.get("/__get/Account/SetCookiesVerifyPassword",function(d){d.Result==1&&(c==1?window.location.href=a:b.Close())}).error(function(a){})},b.Show=function(){c=$(d).bPopup({zIndex:1e4,modalClose:!1,closeClass:"dlgc-btn-close",onOpen:function(){setTimeout(function(){c.reposition(200)},200)}})},b.Close=function(){c.close()},b.VerifyPassword()}
;(function(){var a=!1;window.JQClass=function(){},JQClass.classes={},JQClass.extend=function b(c){function g(){!a&&this._init&&this._init.apply(this,arguments)}var d=this.prototype;a=!0;var e=new this;a=!1;for(var f in c)e[f]=typeof c[f]=="function"&&typeof d[f]=="function"?function(a,b){return function(){var c=this._super;this._super=function(b){return d[a].apply(this,b)};var e=b.apply(this,arguments);return this._super=c,e}}(f,c[f]):c[f];return g.prototype=e,g.prototype.constructor=g,g.extend=b,g}})(),function($){function camelCase(a){return a.replace(/-([a-z])/g,function(a,b){return b.toUpperCase()})}JQClass.classes.JQPlugin=JQClass.extend({name:"plugin",defaultOptions:{},regionalOptions:{},_getters:[],_getMarker:function(){return"is-"+this.name},_init:function(){$.extend(this.defaultOptions,this.regionalOptions&&this.regionalOptions[""]||{});var a=camelCase(this.name);$[a]=this,$.fn[a]=function(b){var c=Array.prototype.slice.call(arguments,1);return $[a]._isNotChained(b,c)?$[a][b].apply($[a],[this[0]].concat(c)):this.each(function(){if(typeof b=="string"){if(b[0]==="_"||!$[a][b])throw"Unknown method: "+b;$[a][b].apply($[a],[this].concat(c))}else $[a]._attach(this,b)})}},setDefaults:function(a){$.extend(this.defaultOptions,a||{})},_isNotChained:function(a,b){return a==="option"&&(b.length===0||b.length===1&&typeof b[0]=="string")?!0:$.inArray(a,this._getters)>-1},_attach:function(a,b){a=$(a);if(a.hasClass(this._getMarker()))return;a.addClass(this._getMarker()),b=$.extend({},this.defaultOptions,this._getMetadata(a),b||{});var c=$.extend({name:this.name,elem:a,options:b},this._instSettings(a,b));a.data(this.name,c),this._postAttach(a,c),this.option(a,b)},_instSettings:function(a,b){return{}},_postAttach:function(a,b){},_getMetadata:function(elem){try{var data=elem.data(this.name.toLowerCase())||"";data=data.replace(/'/g,'"'),data=data.replace(/([a-zA-Z0-9]+):/g,function(a,b,c){var d=data.substring(0,c).match(/"/g);return!d||d.length%2===0?'"'+b+'":':b+":"}),data=$.parseJSON("{"+data+"}");for(var name in data){var value=data[name];typeof value=="string"&&value.match(/^new Date\((.*)\)$/)&&(data[name]=eval(value))}return data}catch(e){return{}}},_getInst:function(a){return $(a).data(this.name)||{}},option:function(a,b,c){a=$(a);var d=a.data(this.name);if(!b||typeof b=="string"&&c==null){var e=(d||{}).options;return e&&b?e[b]:e}if(!a.hasClass(this._getMarker()))return;var e=b||{};typeof b=="string"&&(e={},e[b]=c),this._optionsChanged(a,d,e),$.extend(d.options,e)},_optionsChanged:function(a,b,c){},destroy:function(a){a=$(a);if(!a.hasClass(this._getMarker()))return;this._preDestroy(a,this._getInst(a)),a.removeData(this.name).removeClass(this._getMarker())},_preDestroy:function(a,b){}}),$.JQPlugin={createPlugin:function(a,b){typeof a=="object"&&(b=a,a="JQPlugin"),a=camelCase(a);var c=camelCase(b.name);JQClass.classes[c]=JQClass.classes[a].extend(b),new JQClass.classes[c]}}}(jQuery)
;(function(a){var b="countdown",c=0,d=1,e=2,f=3,g=4,h=5,i=6;a.JQPlugin.createPlugin({name:b,defaultOptions:{until:null,since:null,timezone:null,serverSync:null,format:"dHMS",layout:"",compact:!1,padZeroes:!1,significant:0,description:"",expiryUrl:"",expiryText:"",alwaysExpire:!1,onExpiry:null,onTick:null,tickInterval:1},regionalOptions:{"":{labels:["Years","Months","Weeks","Days","Hours","Minutes","Seconds"],labels1:["Year","Month","Week","Day","Hour","Minute","Second"],compactLabels:["y","m","w","d"],whichLabels:null,digits:["0","1","2","3","4","5","6","7","8","9"],timeSeparator:":",isRTL:!1}},_getters:["getTimes"],_rtlClass:b+"-rtl",_sectionClass:b+"-section",_amountClass:b+"-amount",_periodClass:b+"-period",_rowClass:b+"-row",_holdingClass:b+"-holding",_showClass:b+"-show",_descrClass:b+"-descr",_timerElems:[],_init:function(){function e(a){var h=a<1e12?d?performance.now()+performance.timing.navigationStart:c():a||c();h-g>=1e3&&(b._updateElems(),g=h),f(e)}var b=this;this._super(),this._serverSyncs=[];var c=typeof Date.now=="function"?Date.now:function(){return(new Date).getTime()},d=window.performance&&typeof window.performance.now=="function",f=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||null,g=0;!f||a.noRequestAnimationFrame?(a.noRequestAnimationFrame=null,setInterval(function(){b._updateElems()},980)):(g=window.animationStartTime||window.webkitAnimationStartTime||window.mozAnimationStartTime||window.oAnimationStartTime||window.msAnimationStartTime||c(),f(e))},UTCDate:function(a,b,c,d,e,f,g,h){typeof b=="object"&&b.constructor==Date&&(h=b.getMilliseconds(),g=b.getSeconds(),f=b.getMinutes(),e=b.getHours(),d=b.getDate(),c=b.getMonth(),b=b.getFullYear());var i=new Date;return i.setUTCFullYear(b),i.setUTCDate(1),i.setUTCMonth(c||0),i.setUTCDate(d||1),i.setUTCHours(e||0),i.setUTCMinutes((f||0)-(Math.abs(a)<30?a*60:a)),i.setUTCSeconds(g||0),i.setUTCMilliseconds(h||0),i},periodsToSeconds:function(a){return a[0]*31557600+a[1]*2629800+a[2]*604800+a[3]*86400+a[4]*3600+a[5]*60+a[6]},_instSettings:function(a,b){return{_periods:[0,0,0,0,0,0,0]}},_addElem:function(a){this._hasElem(a)||this._timerElems.push(a)},_hasElem:function(b){return a.inArray(b,this._timerElems)>-1},_removeElem:function(b){this._timerElems=a.map(this._timerElems,function(a){return a==b?null:a})},_updateElems:function(){for(var a=this._timerElems.length-1;a>=0;a--)this._updateCountdown(this._timerElems[a])},_optionsChanged:function(b,c,d){d.layout&&(d.layout=d.layout.replace(/&lt;/g,"<").replace(/&gt;/g,">")),this._resetExtraLabels(c.options,d);var e=c.options.timezone!=d.timezone;a.extend(c.options,d),this._adjustSettings(b,c,d.until!=null||d.since!=null||e);var f=new Date;(c._since&&c._since<f||c._until&&c._until>f)&&this._addElem(b[0]),this._updateCountdown(b,c)},_updateCountdown:function(b,c){b=b.jquery?b:a(b),c=c||b.data(this.name);if(!c)return;b.html(this._generateHTML(c)).toggleClass(this._rtlClass,c.options.isRTL);if(a.isFunction(c.options.onTick)){var d=c._hold!="lap"?c._periods:this._calculatePeriods(c,c._show,c.options.significant,new Date);(c.options.tickInterval==1||this.periodsToSeconds(d)%c.options.tickInterval==0)&&c.options.onTick.apply(b[0],[d])}var e=c._hold!="pause"&&(c._since?c._now.getTime()<c._since.getTime():c._now.getTime()>=c._until.getTime());if(e&&!c._expiring){c._expiring=!0;if(this._hasElem(b[0])||c.options.alwaysExpire){this._removeElem(b[0]),a.isFunction(c.options.onExpiry)&&c.options.onExpiry.apply(b[0],[]);if(c.options.expiryText){var f=c.options.layout;c.options.layout=c.options.expiryText,this._updateCountdown(b[0],c),c.options.layout=f}c.options.expiryUrl&&(window.location=c.options.expiryUrl)}c._expiring=!1}else c._hold=="pause"&&this._removeElem(b[0])},_resetExtraLabels:function(a,b){var c=!1;for(var d in b)if(d!="whichLabels"&&d.match(/[Ll]abels/)){c=!0;break}if(c)for(var d in a)d.match(/[Ll]abels[02-9]|compactLabels1/)&&(a[d]=null)},_adjustSettings:function(b,c,d){var e,f=0,g=null;for(var h=0;h<this._serverSyncs.length;h++)if(this._serverSyncs[h][0]==c.options.serverSync){g=this._serverSyncs[h][1];break}if(g!=null)f=c.options.serverSync?g:0,e=new Date;else{var i=a.isFunction(c.options.serverSync)?c.options.serverSync.apply(b[0],[]):null;e=new Date,f=i?e.getTime()-i.getTime():0,this._serverSyncs.push([c.options.serverSync,f])}var j=c.options.timezone;j=j==null?-e.getTimezoneOffset():j;if(d||!d&&c._until==null&&c._since==null)c._since=c.options.since,c._since!=null&&(c._since=this.UTCDate(j,this._determineTime(c._since,null)),c._since&&f&&c._since.setMilliseconds(c._since.getMilliseconds()+f)),c._until=this.UTCDate(j,this._determineTime(c.options.until,e)),f&&c._until.setMilliseconds(c._until.getMilliseconds()+f);c._show=this._determineShow(c)},_preDestroy:function(a,b){this._removeElem(a[0]),a.empty()},pause:function(a){this._hold(a,"pause")},lap:function(a){this._hold(a,"lap")},resume:function(a){this._hold(a,null)},toggle:function(b){var c=a.data(b,this.name)||{};this[c._hold?"resume":"pause"](b)},toggleLap:function(b){var c=a.data(b,this.name)||{};this[c._hold?"resume":"lap"](b)},_hold:function(b,c){var d=a.data(b,this.name);if(d){if(d._hold=="pause"&&!c){d._periods=d._savePeriods;var e=d._since?"-":"+";d[d._since?"_since":"_until"]=this._determineTime(e+d._periods[0]+"y"+e+d._periods[1]+"o"+e+d._periods[2]+"w"+e+d._periods[3]+"d"+e+d._periods[4]+"h"+e+d._periods[5]+"m"+e+d._periods[6]+"s"),this._addElem(b)}d._hold=c,d._savePeriods=c=="pause"?d._periods:null,a.data(b,this.name,d),this._updateCountdown(b,d)}},getTimes:function(b){var c=a.data(b,this.name);return c?c._hold=="pause"?c._savePeriods:c._hold?this._calculatePeriods(c,c._show,c.options.significant,new Date):c._periods:null},_determineTime:function(a,b){var c=this,d=function(a){var b=new Date;return b.setTime(b.getTime()+a*1e3),b},e=function(a){a=a.toLowerCase();var b=new Date,d=b.getFullYear(),e=b.getMonth(),f=b.getDate(),g=b.getHours(),h=b.getMinutes(),i=b.getSeconds(),j=/([+-]?[0-9]+)\s*(s|m|h|d|w|o|y)?/g,k=j.exec(a);while(k){switch(k[2]||"s"){case"s":i+=parseInt(k[1],10);break;case"m":h+=parseInt(k[1],10);break;case"h":g+=parseInt(k[1],10);break;case"d":f+=parseInt(k[1],10);break;case"w":f+=parseInt(k[1],10)*7;break;case"o":e+=parseInt(k[1],10),f=Math.min(f,c._getDaysInMonth(d,e));break;case"y":d+=parseInt(k[1],10),f=Math.min(f,c._getDaysInMonth(d,e))}k=j.exec(a)}return new Date(d,e,f,g,h,i,0)},f=a==null?b:typeof a=="string"?e(a):typeof a=="number"?d(a):a;return f&&f.setMilliseconds(0),f},_getDaysInMonth:function(a,b){return 32-(new Date(a,b,32)).getDate()},_normalLabels:function(a){return a},_generateHTML:function(b){var j=this;b._periods=b._hold?b._periods:this._calculatePeriods(b,b._show,b.options.significant,new Date);var k=!1,l=0,m=b.options.significant,n=a.extend({},b._show);for(var o=c;o<=i;o++)k|=b._show[o]=="?"&&b._periods[o]>0,n[o]=b._show[o]=="?"&&!k?null:b._show[o],l+=n[o]?1:0,m-=b._periods[o]>0?1:0;var p=[!1,!1,!1,!1,!1,!1,!1];for(var o=i;o>=c;o--)b._show[o]&&(b._periods[o]?p[o]=!0:(p[o]=m>0,m--));var q=b.options.compact?b.options.compactLabels:b.options.labels,r=b.options.whichLabels||this._normalLabels,s=function(a){var c=b.options["compactLabels"+r(b._periods[a])];return n[a]?j._translateDigits(b,b._periods[a])+(c?c[a]:q[a])+" ":""},t=b.options.padZeroes?2:1,u=function(a){var c=b.options["labels"+r(b._periods[a])];return!b.options.significant&&n[a]||b.options.significant&&p[a]?'<span class="'+j._sectionClass+'">'+'<span class="'+j._amountClass+'">'+j._minDigits(b,b._periods[a],t)+"</span>"+'<span class="'+j._periodClass+'">'+(c?c[a]:q[a])+"</span></span>":""};return b.options.layout?this._buildLayout(b,n,b.options.layout,b.options.compact,b.options.significant,p):(b.options.compact?'<span class="'+this._rowClass+" "+this._amountClass+(b._hold?" "+this._holdingClass:"")+'">'+s(c)+s(d)+s(e)+s(f)+(n[g]?this._minDigits(b,b._periods[g],2):"")+(n[h]?(n[g]?b.options.timeSeparator:"")+this._minDigits(b,b._periods[h],2):"")+(n[i]?(n[g]||n[h]?b.options.timeSeparator:"")+this._minDigits(b,b._periods[i],2):""):'<span class="'+this._rowClass+" "+this._showClass+(b.options.significant||l)+(b._hold?" "+this._holdingClass:"")+'">'+u(c)+u(d)+u(e)+u(f)+u(g)+u(h)+u(i))+"</span>"+(b.options.description?'<span class="'+this._rowClass+" "+this._descrClass+'">'+b.options.description+"</span>":"")},_buildLayout:function(b,j,k,l,m,n){var o=b.options[l?"compactLabels":"labels"],p=b.options.whichLabels||this._normalLabels,q=function(a){return(b.options[(l?"compactLabels":"labels")+p(b._periods[a])]||o)[a]},r=function(a,c){return b.options.digits[Math.floor(a/c)%10]},s={desc:b.options.description,sep:b.options.timeSeparator,yl:q(c),yn:this._minDigits(b,b._periods[c],1),ynn:this._minDigits(b,b._periods[c],2),ynnn:this._minDigits(b,b._periods[c],3),y1:r(b._periods[c],1),y10:r(b._periods[c],10),y100:r(b._periods[c],100),y1000:r(b._periods[c],1e3),ol:q(d),on:this._minDigits(b,b._periods[d],1),onn:this._minDigits(b,b._periods[d],2),onnn:this._minDigits(b,b._periods[d],3),o1:r(b._periods[d],1),o10:r(b._periods[d],10),o100:r(b._periods[d],100),o1000:r(b._periods[d],1e3),wl:q(e),wn:this._minDigits(b,b._periods[e],1),wnn:this._minDigits(b,b._periods[e],2),wnnn:this._minDigits(b,b._periods[e],3),w1:r(b._periods[e],1),w10:r(b._periods[e],10),w100:r(b._periods[e],100),w1000:r(b._periods[e],1e3),dl:q(f),dn:this._minDigits(b,b._periods[f],1),dnn:this._minDigits(b,b._periods[f],2),dnnn:this._minDigits(b,b._periods[f],3),d1:r(b._periods[f],1),d10:r(b._periods[f],10),d100:r(b._periods[f],100),d1000:r(b._periods[f],1e3),hl:q(g),hn:this._minDigits(b,b._periods[g],1),hnn:this._minDigits(b,b._periods[g],2),hnnn:this._minDigits(b,b._periods[g],3),h1:r(b._periods[g],1),h10:r(b._periods[g],10),h100:r(b._periods[g],100),h1000:r(b._periods[g],1e3),ml:q(h),mn:this._minDigits(b,b._periods[h],1),mnn:this._minDigits(b,b._periods[h],2),mnnn:this._minDigits(b,b._periods[h],3),m1:r(b._periods[h],1),m10:r(b._periods[h],10),m100:r(b._periods[h],100),m1000:r(b._periods[h],1e3),sl:q(i),sn:this._minDigits(b,b._periods[i],1),snn:this._minDigits(b,b._periods[i],2),snnn:this._minDigits(b,b._periods[i],3),s1:r(b._periods[i],1),s10:r(b._periods[i],10),s100:r(b._periods[i],100),s1000:r(b._periods[i],1e3)},t=k;for(var u=c;u<=i;u++){var v="yowdhms".charAt(u),w=new RegExp("\\{"+v+"<\\}([\\s\\S]*)\\{"+v+">\\}","g");t=t.replace(w,!m&&j[u]||m&&n[u]?"$1":"")}return a.each(s,function(a,b){var c=new RegExp("\\{"+a+"\\}","g");t=t.replace(c,b)}),t},_minDigits:function(a,b,c){return b=""+b,b.length>=c?this._translateDigits(a,b):(b="0000000000"+b,this._translateDigits(a,b.substr(b.length-c)))},_translateDigits:function(a,b){return(""+b).replace(/[0-9]/g,function(b){return a.options.digits[b]})},_determineShow:function(a){var b=a.options.format,j=[];return j[c]=b.match("y")?"?":b.match("Y")?"!":null,j[d]=b.match("o")?"?":b.match("O")?"!":null,j[e]=b.match("w")?"?":b.match("W")?"!":null,j[f]=b.match("d")?"?":b.match("D")?"!":null,j[g]=b.match("h")?"?":b.match("H")?"!":null,j[h]=b.match("m")?"?":b.match("M")?"!":null,j[i]=b.match("s")?"?":b.match("S")?"!":null,j},_calculatePeriods:function(a,b,j,k){a._now=k,a._now.setMilliseconds(0);var l=new Date(a._now.getTime());a._since?k.getTime()<a._since.getTime()?a._now=k=l:k=a._since:(l.setTime(a._until.getTime()),k.getTime()>a._until.getTime()&&(a._now=k=l));var m=[0,0,0,0,0,0,0];if(b[c]||b[d]){var n=this._getDaysInMonth(k.getFullYear(),k.getMonth()),o=this._getDaysInMonth(l.getFullYear(),l.getMonth()),p=l.getDate()==k.getDate()||l.getDate()>=Math.min(n,o)&&k.getDate()>=Math.min(n,o),q=function(a){return(a.getHours()*60+a.getMinutes())*60+a.getSeconds()},r=Math.max(0,(l.getFullYear()-k.getFullYear())*12+l.getMonth()-k.getMonth()+(l.getDate()<k.getDate()&&!p||p&&q(l)<q(k)?-1:0));m[c]=b[c]?Math.floor(r/12):0,m[d]=b[d]?r-m[c]*12:0,k=new Date(k.getTime());var s=k.getDate()==n,t=this._getDaysInMonth(k.getFullYear()+m[c],k.getMonth()+m[d]);k.getDate()>t&&k.setDate(t),k.setFullYear(k.getFullYear()+m[c]),k.setMonth(k.getMonth()+m[d]),s&&k.setDate(t)}var u=Math.floor((l.getTime()-k.getTime())/1e3),v=function(a,c){m[a]=b[a]?Math.floor(u/c):0,u-=m[a]*c};v(e,604800),v(f,86400),v(g,3600),v(h,60),v(i,1);if(u>0&&!a._since){var w=[1,12,4.3482,7,24,60,60],x=i,y=1;for(var z=i;z>=c;z--)b[z]&&(m[x]>=y&&(m[x]=0,u=1),u>0&&(m[z]++,u=0,x=z,y=1)),y*=w[z]}if(j)for(var z=c;z<=i;z++)j&&m[z]?j--:j||(m[z]=0);return m}})})(jQuery)
;(function(a){a.countdown.regionalOptions.vi={labels:["Năm","Tháng","Tuần","Ngày","Giờ","Phút","Giây"],labels1:["Năm","Tháng","Tuần","Ngày","Giờ","Phút","Giây"],compactLabels:["năm","th","tu"," ngày"],whichLabels:null,digits:["0","1","2","3","4","5","6","7","8","9"],timeSeparator:":",isRTL:!1},a.countdown.setDefaults(a.countdown.regionalOptions.vi)})(jQuery)
;(function(a){"use strict",typeof define=="function"&&define.amd?define(["jquery"],a):typeof exports=="object"?a(require("jquery")):a(jQuery)})(function(a){function b(a){return typeof a=="string"?parseInt(a,10):~~a}"use strict";var c={wheelSpeed:1,wheelPropagation:!1,swipePropagation:!0,minScrollbarLength:null,maxScrollbarLength:null,useBothWheelAxes:!1,useKeyboard:!0,suppressScrollX:!1,suppressScrollY:!1,scrollXMarginOffset:0,scrollYMarginOffset:0,includePadding:!1},d=0,e=function(){var a=d++;return function(b){var c=".perfect-scrollbar-"+a;return typeof b=="undefined"?c:b+c}},f="WebkitAppearance"in document.documentElement.style;a.fn.perfectScrollbar=function(d,g){return this.each(function(){function N(a,c){var d=a+c,e=l-F;d<0?G=0:d>e?G=e:G=d;var f=b(G*(n-l)/(l-F));i.scrollTop(f)}function O(a,c){var d=a+c,e=k-u;d<0?v=0:d>e?v=e:v=d;var f=b(v*(m-k)/(k-u));i.scrollLeft(f)}function P(a){return h.minScrollbarLength&&(a=Math.max(a,h.minScrollbarLength)),h.maxScrollbarLength&&(a=Math.min(a,h.maxScrollbarLength)),a}function Q(){var a={width:B};o?a.left=i.scrollLeft()+k-m:a.left=i.scrollLeft(),x?a.bottom=w-i.scrollTop():a.top=y+i.scrollTop(),r.css(a);var b={top:i.scrollTop(),height:M};I?o?b.right=m-i.scrollLeft()-H-D.outerWidth():b.right=H-i.scrollLeft():o?b.left=i.scrollLeft()+k*2-m-J-D.outerWidth():b.left=J+i.scrollLeft(),C.css(b),s.css({left:v,width:u-z}),D.css({top:G,height:F-K})}function R(){i.removeClass("ps-active-x"),i.removeClass("ps-active-y"),k=h.includePadding?i.innerWidth():i.width(),l=h.includePadding?i.innerHeight():i.height(),m=i.prop("scrollWidth"),n=i.prop("scrollHeight"),!h.suppressScrollX&&k+h.scrollXMarginOffset<m?(t=!0,B=k-A,u=P(b(B*k/m)),v=b(i.scrollLeft()*(B-u)/(m-k))):(t=!1,u=0,v=0,i.scrollLeft(0)),!h.suppressScrollY&&l+h.scrollYMarginOffset<n?(E=!0,M=l-L,F=P(b(M*l/n)),G=b(i.scrollTop()*(M-F)/(n-l))):(E=!1,F=0,G=0,i.scrollTop(0)),v>=B-u&&(v=B-u),G>=M-F&&(G=M-F),Q(),t&&i.addClass("ps-active-x"),E&&i.addClass("ps-active-y")}function S(){var b,c,d=function(a){O(b,a.pageX-c),R(),a.stopPropagation(),a.preventDefault()},e=function(b){r.removeClass("in-scrolling"),a(q).unbind(p("mousemove"),d)};s.bind(p("mousedown"),function(f){c=f.pageX,b=s.position().left,r.addClass("in-scrolling"),a(q).bind(p("mousemove"),d),a(q).one(p("mouseup"),e),f.stopPropagation(),f.preventDefault()}),b=c=null}function T(){var b,c,d=function(a){N(b,a.pageY-c),R(),a.stopPropagation(),a.preventDefault()},e=function(b){C.removeClass("in-scrolling"),a(q).unbind(p("mousemove"),d)};D.bind(p("mousedown"),function(f){c=f.pageY,b=D.position().top,C.addClass("in-scrolling"),a(q).bind(p("mousemove"),d),a(q).one(p("mouseup"),e),f.stopPropagation(),f.preventDefault()}),b=c=null}function U(a,b){var c=i.scrollTop();if(a===0){if(!E)return!1;if(c===0&&b>0||c>=n-l&&b<0)return!h.wheelPropagation}var d=i.scrollLeft();if(b===0){if(!t)return!1;if(d===0&&a<0||d>=m-k&&a>0)return!h.wheelPropagation}return!0}function V(a,b){var c=i.scrollTop(),d=i.scrollLeft(),e=Math.abs(a),f=Math.abs(b);if(f>e){if(b<0&&c===n-l||b>0&&c===0)return!h.swipePropagation}else if(e>f)if(a<0&&d===m-k||a>0&&d===0)return!h.swipePropagation;return!0}function W(){function b(a){var b=a.originalEvent.deltaX,c=-1*a.originalEvent.deltaY;if(typeof b=="undefined"||typeof c=="undefined")b=-1*a.originalEvent.wheelDeltaX/6,c=a.originalEvent.wheelDeltaY/6;return a.originalEvent.deltaMode&&a.originalEvent.deltaMode===1&&(b*=10,c*=10),b!==b&&c!==c&&(b=0,c=a.originalEvent.wheelDelta),[b,c]}function c(c){if(!f&&i.find("select:focus").length>0)return;var d=b(c),e=d[0],g=d[1];a=!1,h.useBothWheelAxes?E&&!t?(g?i.scrollTop(i.scrollTop()-g*h.wheelSpeed):i.scrollTop(i.scrollTop()+e*h.wheelSpeed),a=!0):t&&!E&&(e?i.scrollLeft(i.scrollLeft()+e*h.wheelSpeed):i.scrollLeft(i.scrollLeft()-g*h.wheelSpeed),a=!0):(i.scrollTop(i.scrollTop()-g*h.wheelSpeed),i.scrollLeft(i.scrollLeft()+e*h.wheelSpeed)),R(),a=a||U(e,g),a&&(c.stopPropagation(),c.preventDefault())}var a=!1;typeof window.onwheel!="undefined"?i.bind(p("wheel"),c):typeof window.onmousewheel!="undefined"&&i.bind(p("mousewheel"),c)}function X(){var b=!1;i.bind(p("mouseenter"),function(a){b=!0}),i.bind(p("mouseleave"),function(a){b=!1});var c=!1;a(q).bind(p("keydown"),function(d){if(d.isDefaultPrevented&&d.isDefaultPrevented())return;if(!b)return;var e=document.activeElement?document.activeElement:q.activeElement;while(e.shadowRoot)e=e.shadowRoot.activeElement;if(a(e).is(":input,[contenteditable]"))return;var f=0,g=0;switch(d.which){case 37:f=-30;break;case 38:g=30;break;case 39:f=30;break;case 40:g=-30;break;case 33:g=90;break;case 32:case 34:g=-90;break;case 35:d.ctrlKey?g=-n:g=-l;break;case 36:d.ctrlKey?g=i.scrollTop():g=l;break;default:return}i.scrollTop(i.scrollTop()-g),i.scrollLeft(i.scrollLeft()+f),c=U(f,g),c&&d.preventDefault()})}function Y(){function a(a){a.stopPropagation()}D.bind(p("click"),a),C.bind(p("click"),function(a){var c=b(F/2),d=a.pageY-C.offset().top-c,e=l-F,f=d/e;f<0?f=0:f>1&&(f=1),i.scrollTop((n-l)*f)}),s.bind(p("click"),a),r.bind(p("click"),function(a){var c=b(u/2),d=a.pageX-r.offset().left-c,e=k-u,f=d/e;f<0?f=0:f>1&&(f=1),i.scrollLeft((m-k)*f)})}function Z(){function b(){var a=window.getSelection?window.getSelection():document.getSlection?document.getSlection():{rangeCount:0};return a.rangeCount===0?null:a.getRangeAt(0).commonAncestorContainer}function e(){c||(c=setInterval(function(){if(!j()){clearInterval(c);return}i.scrollTop(i.scrollTop()+d.top),i.scrollLeft(i.scrollLeft()+d.left),R()},50))}function f(){c&&(clearInterval(c),c=null),r.removeClass("in-scrolling"),C.removeClass("in-scrolling")}var c=null,d={top:0,left:0},g=!1;a(q).bind(p("selectionchange"),function(c){a.contains(i[0],b())?g=!0:(g=!1,f())}),a(window).bind(p("mouseup"),function(a){g&&(g=!1,f())}),a(window).bind(p("mousemove"),function(a){if(g){var b={x:a.pageX,y:a.pageY},c=i.offset(),h={left:c.left,right:c.left+i.outerWidth(),top:c.top,bottom:c.top+i.outerHeight()};b.x<h.left+3?(d.left=-5,r.addClass("in-scrolling")):b.x>h.right-3?(d.left=5,r.addClass("in-scrolling")):d.left=0,b.y<h.top+3?(h.top+3-b.y<5?d.top=-5:d.top=-20,C.addClass("in-scrolling")):b.y>h.bottom-3?(b.y-h.bottom+3<5?d.top=5:d.top=20,C.addClass("in-scrolling")):d.top=0,d.top===0&&d.left===0?f():e()}})}function _(b,c){function d(a,b){i.scrollTop(i.scrollTop()-b),i.scrollLeft(i.scrollLeft()-a),R()}function m(a){k=!0}function n(a){k=!1}function o(a){return a.originalEvent.targetTouches?a.originalEvent.targetTouches[0]:a.originalEvent}function q(a){var b=a.originalEvent;return b.targetTouches&&b.targetTouches.length===1?!0:b.pointerType&&b.pointerType!=="mouse"&&b.pointerType!==b.MSPOINTER_TYPE_MOUSE?!0:!1}function r(a){if(q(a)){l=!0;var b=o(a);e.pageX=b.pageX,e.pageY=b.pageY,f=(new Date).getTime(),h!==null&&clearInterval(h),a.stopPropagation()}}function s(a){if(!k&&l&&q(a)){var b=o(a),c={pageX:b.pageX,pageY:b.pageY},h=c.pageX-e.pageX,i=c.pageY-e.pageY;d(h,i),e=c;var j=(new Date).getTime(),m=j-f;m>0&&(g.x=h/m,g.y=i/m,f=j),V(h,i)&&(a.stopPropagation(),a.preventDefault())}}function t(a){!k&&l&&(l=!1,clearInterval(h),h=setInterval(function(){if(!j()){clearInterval(h);return}if(Math.abs(g.x)<.01&&Math.abs(g.y)<.01){clearInterval(h);return}d(g.x*30,g.y*30),g.x*=.8,g.y*=.8},10))}var e={},f=0,g={},h=null,k=!1,l=!1;b&&(a(window).bind(p("touchstart"),m),a(window).bind(p("touchend"),n),i.bind(p("touchstart"),r),i.bind(p("touchmove"),s),i.bind(p("touchend"),t)),c&&(window.PointerEvent?(a(window).bind(p("pointerdown"),m),a(window).bind(p("pointerup"),n),i.bind(p("pointerdown"),r),i.bind(p("pointermove"),s),i.bind(p("pointerup"),t)):window.MSPointerEvent&&(a(window).bind(p("MSPointerDown"),m),a(window).bind(p("MSPointerUp"),n),i.bind(p("MSPointerDown"),r),i.bind(p("MSPointerMove"),s),i.bind(p("MSPointerUp"),t)))}function ba(){i.bind(p("scroll"),function(a){R()})}function bb(){i.unbind(p()),a(window).unbind(p()),a(q).unbind(p()),i.data("perfect-scrollbar",null),i.data("perfect-scrollbar-update",null),i.data("perfect-scrollbar-destroy",null),s.remove(),D.remove(),r.remove(),C.remove(),i=r=C=s=D=t=E=k=l=m=n=u=v=w=x=y=F=G=H=I=J=o=p=null}function be(){R(),ba(),S(),T(),Y(),Z(),W(),(bc||bd)&&_(bc,bd),h.useKeyboard&&X(),i.data("perfect-scrollbar",i),i.data("perfect-scrollbar-update",R),i.data("perfect-scrollbar-destroy",bb)}var h=a.extend(!0,{},c),i=a(this),j=function(){return!!i};typeof d=="object"?a.extend(!0,h,d):g=d;if(g==="update")return i.data("perfect-scrollbar-update")&&i.data("perfect-scrollbar-update")(),i;if(g==="destroy")return i.data("perfect-scrollbar-destroy")&&i.data("perfect-scrollbar-destroy")(),i;if(i.data("perfect-scrollbar"))return i.data("perfect-scrollbar");i.addClass("ps-container");var k,l,m,n,o=i.css("direction")==="rtl",p=e(),q=this.ownerDocument||document,r=a("<div class='ps-scrollbar-x-rail'>").appendTo(i),s=a("<div class='ps-scrollbar-x'>").appendTo(r),t,u,v,w=b(r.css("bottom")),x=w===w,y=x?null:b(r.css("top")),z=b(r.css("borderLeftWidth"))+b(r.css("borderRightWidth")),A=b(r.css("marginLeft"))+b(r.css("marginRight")),B,C=a("<div class='ps-scrollbar-y-rail'>").appendTo(i),D=a("<div class='ps-scrollbar-y'>").appendTo(C),E,F,G,H=b(C.css("right")),I=H===H,J=I?null:b(C.css("left")),K=b(C.css("borderTopWidth"))+b(C.css("borderBottomWidth")),L=b(C.css("marginTop"))+b(C.css("marginBottom")),M,bc="ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch,bd=window.navigator.msMaxTouchPoints!==null;return be(),i})}})
;function ListTopUserReviewModel(a,b){var c=this;b==3?c.ListTopView=new ListTopUserModel(a,b,"/Review/GetMoreTopUsersByTotalReviews_ByDate"):c.ListTopView=new ListTopUserModel(a,b,"/Review/GetMoreTopUsersByTotalReviews")}var ListTopUserModel=function(a,b,c){function e(a,b){typeof a=="function"&&a(b)}function f(a){return a}function g(){if(a.Items)for(var b=0;b<a.Items.length;b++){var c=f(a.Items[b]);d.Items.push(c)}d.Total(a.Total),d.LastId(a.LastId),d.Count(a.Count)}a=$.extend({},{Count:20,LastId:null,Total:a.TotalResult},a);var d=this;d.Items=ko.observableArray([]),d.Total=ko.observable(0),d.LastId=ko.observable(a.LastId),d.Type=ko.observable(b),d.Count=ko.observable(0),d.IsLoading=ko.observable(!1),d.TotalRemain=function(){return d.Total()-d.Items().length},d.ChangeTab=function(a,b){d.Items(a.Items),d.Total(a.TotalResult),d.LastId(a.LastId),d.Type(b),d.IsLoading(!1),d.TotalRemain=function(){return d.Total()-d.Items().length}},d.AfterRender=function(a,b){$(a).find("img.lazy").lazyload({effect:"fadeIn"})},d.LoadMore=function(a,b){d.IsLoading(!0),a==1&&d.LastId(null);if(d.TotalRemain()<=0)return;d.Type()==3?c="/Review/GetMoreTopUsersByTotalReviews_ByDate":c="/Review/GetMoreTopUsersByTotalReviews",$.post(c,{Count:d.Count(),LastId:d.LastId(),Type:d.Type()},function(c){if(!c||c.Error)return;a==1&&d.Items([]);for(var g=0;g<c.Items.length;g++){var h=f(c.Items[g]);d.Items.push(h)}d.Total(c.TotalResult),d.LastId(c.LastId),d.IsLoading(!1),e(b,c)})},d.LoadData=function(a){d.Items().length==0?d.LoadMore(!0,a):e(a)},g()}
;$(function(){$(document).on("click","a.foody-embed-video",function(){var a=$(this).data("video-url"),b=$(this).data("mute");b==undefined&&(b="");var c=$(this).find(">img").width(),d=$(this).find(">img").height(),e='<iframe class="video-iframe" src="'+a+"?h="+d+"&w="+c+"&m="+b+'&ap=true" scrolling="no" allowfullscreen frameborder="0" style="height:'+d+"px;width:"+c+'px;"></iframe>';return $(this).parent().prepend($(e)),$(this).parent().find(".foody-embed-video").remove(),!1})})
;function VideoListModel(a,b){function d(a){return a.Items=ko.observableArray(a.Items),a}function e(a,b){if(a)for(var e=0;e<a.length;e++)c.Groups()[b].Items.push(d(a[e]))}function f(a){if(a)for(var b=0;b<a.length;b++)a[b].Index=b,c.Groups.push(d(a[b]))}function g(a){if(a!=undefined)for(var b=0;b<c.Groups().length;b++)if(c.Groups()[b].Id==a)return c.Groups()[b]}function h(){c.IsBinding(!0),f(a.Groups),c.IsBinding(!1)}var c=this;c.Url=ko.observable(b),c.Groups=ko.observableArray([]),c.IsLoading=ko.observable(!1),c.IsBinding=ko.observable(!1),c.TotalRemain=function(a){return c.Groups()[a].Total-c.Groups()[a].Items().length},c.fnLoadMore=function(a){var b=g(a),d=b.Index;c.IsLoading(!0),$.post(c.Url(),{GroupId:a,Count:b.Count,LastId:b.LastId},function(a){if(!a||a.Error)return;c.Groups()[d].Count=a.Count,c.Groups()[d].Index=d,c.Groups()[d].Total=a.Total,c.Groups()[d].LastId=a.LastId,c.IsLoading(!1),e(a.Items,d)})},h()}function VideoListContentModel(a,b){function d(a){return a}function e(a){if(a)for(var b=0;b<a.length;b++)c.Items.push(d(a[b]))}function f(){a&&(c.Count(a.Count),c.Total(a.Total),c.LastId(a.LastId),e(a.Items))}var c=this;c.Url=ko.observable(b),c.Items=ko.observableArray([]),c.Count=ko.observable(10),c.Total=ko.observable(0),c.LastId=ko.observable(null),c.IsLoading=ko.observable(!1),c.TotalRemain=function(){return c.Total()-c.Items().length},c.fnLoadMore=function(){c.IsLoading(!0),$.post(c.Url(),{Count:c.Count(),LastId:c.LastId()},function(a){if(!a||a.Error)return;c.IsLoading(!1),c.Count(a.Count),c.Total(a.Total),c.LastId(a.LastId),e(a.Items)})},f()}function VideoIndexModel(a){var b=this;b.ListFeatured=new VideoListModel(a.ListFeatured,"/video/GetMoreFeatured"),b.ListOther=new VideoListModel(a.ListOther,"/video/GetMoreOther")}
;function linkCardSuccessCallback(){var a=document.getElementsByClassName("deli-container")[0];if(a){var b=angular.element(a).scope();b.$apply(function(){b.linkCardSuccessCallback()})}}
